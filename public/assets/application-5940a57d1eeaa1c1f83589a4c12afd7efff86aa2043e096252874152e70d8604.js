/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,i=re.type(e);return"function"===i||re.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(re.isFunction(t))return re.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return re.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(pe.test(t))return re.filter(t,e,i);t=re.filter(t,e)}return re.grep(e,function(e){return re.inArray(e,t)>=0!==i})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=we[e]={};return re.each(e.match(be)||[],function(e,i){t[i]=!0}),t}function s(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(fe.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(s(),re.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(_e,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:$e.test(i)?re.parseJSON(i):i}catch(r){}re.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,n){if(re.acceptData(e)){var r,o,s=re.expando,a=e.nodeType,l=a?re.cache:e,d=a?e[s]:e[s]&&s;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=a?e[s]=Y.pop()||re.guid++:s),l[d]||(l[d]=a?{}:{toJSON:re.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[d]=re.extend(l[d],t):l[d].data=re.extend(l[d].data,t)),o=l[d],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[re.camelCase(t)]=i),"string"==typeof t?(r=o[t],null==r&&(r=o[re.camelCase(t)])):r=o,r}}function h(e,t,i){if(re.acceptData(e)){var n,r,o=e.nodeType,s=o?re.cache:e,a=o?e[re.expando]:re.expando;if(s[a]){if(t&&(n=i?s[a]:s[a].data)){re.isArray(t)?t=t.concat(re.map(t,re.camelCase)):t in n?t=[t]:(t=re.camelCase(t),t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]];if(i?!d(n):!re.isEmptyObject(n))return}(i||(delete s[a].data,d(s[a])))&&(o?re.cleanData([e],!0):ie.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function p(){return!0}function u(){return!1}function f(){try{return fe.activeElement}catch(e){}}function g(e){var t=Fe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function m(e,t){var i,n,r=0,o=typeof e.getElementsByTagName!==ke?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==ke?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||re.nodeName(n,t)?o.push(n):re.merge(o,m(n,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],o):o}function v(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,n=0;null!=(i=e[n]);n++)re._data(i,"globalEval",!t||re._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&re.hasData(e)){var i,n,r,o=re._data(e),s=re._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)re.event.add(t,i,a[i][n])}s.data&&(s.data=re.extend({},s.data))}}function k(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[re.expando]){r=re._data(t);for(n in r.events)re.removeEvent(t,n,r.handle);t.removeAttribute(re.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function $(t,i){var n,r=re(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(r[0]))?n.display:re.css(r[0],"display");return r.detach(),o}function _(e){var t=fe,i=Ze[e];return i||(i=$(e,t),"none"!==i&&i||(Je=(Je||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Je[0].contentWindow||Je[0].contentDocument).document,t.write(),t.close(),i=$(e,t),Je.detach()),Ze[e]=i),i}function S(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=pt.length;r--;)if(t=pt[r]+i,t in e)return t;return n}function E(e,t){for(var i,n,r,o=[],s=0,a=e.length;a>s;s++)n=e[s],n.style&&(o[s]=re._data(n,"olddisplay"),i=n.style.display,t?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Ee(n)&&(o[s]=re._data(n,"olddisplay",_(n.nodeName)))):(r=Ee(n),(i&&"none"!==i||!r)&&re._data(n,"olddisplay",r?i:re.css(n,"display"))));for(s=0;a>s;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[s]||"":"none"));return e}function I(e,t,i){var n=lt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function D(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=re.css(e,i+Te[o],!0,r)),n?("content"===i&&(s-=re.css(e,"padding"+Te[o],!0,r)),"margin"!==i&&(s-=re.css(e,"border"+Te[o]+"Width",!0,r))):(s+=re.css(e,"padding"+Te[o],!0,r),"padding"!==i&&(s+=re.css(e,"border"+Te[o]+"Width",!0,r)));return s}function A(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),s=ie.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=tt(e,t,o),(0>r||null==r)&&(r=e.style[t]),nt.test(r))return r;n=s&&(ie.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+D(e,t,i||(s?"border":"content"),n,o)+"px"}function L(e,t,i,n,r){return new L.prototype.init(e,t,i,n,r)}function N(){return setTimeout(function(){ut=void 0}),ut=re.now()}function O(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Te[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function M(e,t,i){for(var n,r=(bt[t]||[]).concat(bt["*"]),o=0,s=r.length;s>o;o++)if(n=r[o].call(i,t,e))return n}function F(e,t,i){var n,r,o,s,a,l,d,c,h=this,p={},u=e.style,f=e.nodeType&&Ee(e),g=re._data(e,"fxshow");i.queue||(a=re._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,re.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=re.css(e,"display"),c="none"===d?re._data(e,"olddisplay")||_(e.nodeName):d,"inline"===c&&"none"===re.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==_(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ie.shrinkWrapBlocks()||h.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],gt.exec(r)){if(delete t[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;f=!0}p[n]=g&&g[n]||re.style(e,n)}else d=void 0;if(re.isEmptyObject(p))"inline"===("none"===d?_(e.nodeName):d)&&(u.display=d);else{g?"hidden"in g&&(f=g.hidden):g=re._data(e,"fxshow",{}),o&&(g.hidden=!f),f?re(e).show():h.done(function(){re(e).hide()}),h.done(function(){var t;re._removeData(e,"fxshow");for(t in p)re.style(e,t,p[t])});for(n in p)s=M(f?g[n]:0,n,h),n in g||(g[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function R(e,t){var i,n,r,o,s;for(i in e)if(n=re.camelCase(i),r=t[n],o=e[i],re.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),s=re.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}function z(e,t,i){var n,r,o=0,s=yt.length,a=re.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ut||N(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,o=1-n,s=0,l=d.tweens.length;l>s;s++)d.tweens[s].run(o);return a.notifyWith(e,[d,o,i]),1>o&&l?i:(a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:ut||N(),duration:i.duration,tweens:[],createTween:function(t,i){var n=re.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)d.tweens[i].run(1);return t?a.resolveWith(e,[d,t]):a.rejectWith(e,[d,t]),this}}),c=d.props;for(R(c,d.opts.specialEasing);s>o;o++)if(n=yt[o].call(d,e,c,d.opts))return n;return re.map(c,M,d),re.isFunction(d.opts.start)&&d.opts.start.call(e,d),re.fx.timer(re.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function H(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(be)||[];if(re.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function P(e,t,i,n){function r(a){var l;return o[a]=!0,re.each(e[a]||[],function(e,a){var d=a(t,i,n);return"string"!=typeof d||s||o[d]?s?!(l=d):void 0:(t.dataTypes.unshift(d),r(d),!1)}),l}var o={},s=e===Wt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function j(e,t){var i,n,r=re.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&re.extend(!0,e,i),e}function B(e,t,i){for(var n,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}n||(n=s)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function W(e,t,i,n){var r,o,s,a,l,d={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)d[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=d[l+" "+o]||d["* "+o],!s)for(r in d)if(a=r.split(" "),a[1]===o&&(s=d[l+" "+a[0]]||d["* "+a[0]])){s===!0?s=d[r]:d[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function U(e,t,i,n){var r;if(re.isArray(t))re.each(t,function(t,r){i||Qt.test(e)?n(e,r):U(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==re.type(t))n(e,t);else for(r in t)U(e+"["+r+"]",t[r],i,n)}function q(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Q(e){return re.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y=[],X=Y.slice,K=Y.concat,G=Y.push,J=Y.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},ne="1.11.3",re=function(e,t){return new re.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:ne,constructor:re,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Y.sort,splice:Y.splice},re.extend=re.fn.extend=function(){var e,t,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[a]||{},a++),"object"==typeof s||re.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(n in r)e=s[n],i=r[n],s!==i&&(d&&i&&(re.isPlainObject(i)||(t=re.isArray(i)))?(t?(t=!1,o=e&&re.isArray(e)?e:[]):o=e&&re.isPlainObject(e)?e:{},s[n]=re.extend(d,o,i)):void 0!==i&&(s[n]=i));return s},re.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&re.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,s=e.length,a=i(e);if(n){if(a)for(;s>o&&(r=t.apply(e[o],n),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],n),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?re.merge(n,"string"==typeof e?[e]:e):G.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(J)return J.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;)e[r++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],o=0,s=e.length,a=!i;s>o;o++)n=!t(e[o],o),n!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,s=e.length,a=i(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,n),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,n),null!=r&&l.push(r);return K.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),re.isFunction(e)?(i=X.call(arguments,2),n=function(){return e.apply(t||this,i.concat(X.call(arguments)))},n.guid=e.guid=e.guid||re.guid++,n):void 0},now:function(){return+new Date},support:ie}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var de=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,i,n){var r,o,s,a,l,d,h,u,f,g;if((t?t.ownerDocument||t:P)!==L&&A(t),t=t||L,i=i||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return i;if(!n&&O){if(11!==a&&(r=ye.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&z(t,o)&&o.id===s)return i.push(o),i}else{if(r[2])return J.apply(i,t.getElementsByTagName(e)),i;if((s=r[3])&&x.getElementsByClassName)return J.apply(i,t.getElementsByClassName(s)),i}if(x.qsa&&(!M||!M.test(e))){if(u=h=H,f=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(d=_(e),(h=t.getAttribute("id"))?u=h.replace(we,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=d.length;l--;)d[l]=u+p(d[l]);f=be.test(e)&&c(t.parentNode)||t,g=d.join(",")}if(g)try{return J.apply(i,f.querySelectorAll(g)),i}catch(m){}finally{h||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>C.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function r(e){var t=L.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function s(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return n(function(t){return t=+t,n(function(i,n){for(var r,o=e([],i.length,t),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function u(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=B++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,s){var a,l,d=[j,o];if(s){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,s))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[H]||(t[H]={}),(a=l[n])&&a[0]===j&&a[1]===o)return d[2]=a[2];if(l[n]=d,d[2]=e(t,i,s))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var r=0,o=i.length;o>r;r++)t(e,i[r],n);return n}function m(e,t,i,n,r){for(var o,s=[],a=0,l=e.length,d=null!=t;l>a;a++)(o=e[a])&&(!i||i(o,n,r))&&(s.push(o),d&&t.push(a));return s}function v(e,t,i,r,o,s){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,s)),n(function(n,s,a,l){var d,c,h,p=[],u=[],f=s.length,v=n||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?v:m(v,p,e,a,l),b=i?o||(n?e:f||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(d=m(b,u),r(d,[],a,l),c=d.length;c--;)(h=d[c])&&(b[u[c]]=!(y[u[c]]=h));if(n){if(o||e){if(o){for(d=[],c=b.length;c--;)(h=b[c])&&d.push(y[c]=h);o(null,b=[],d,l)}for(c=b.length;c--;)(h=b[c])&&(d=o?ee(n,h):p[c])>-1&&(n[d]=!(s[d]=h))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function y(e){for(var t,i,n,r=e.length,o=C.relative[e[0].type],s=o||C.relative[" "],a=o?1:0,l=u(function(e){return e===t},s,!0),d=u(function(e){return ee(t,e)>-1},s,!0),c=[function(e,i,n){var r=!o&&(n||i!==E)||((t=i).nodeType?l(e,i,n):d(e,i,n));return t=null,r}];r>a;a++)if(i=C.relative[e[a].type])c=[u(f(c),i)];else{if(i=C.filter[e[a].type].apply(null,e[a].matches),i[H]){for(n=++a;r>n&&!C.relative[e[n].type];n++);return v(a>1&&f(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),i,n>a&&y(e.slice(a,n)),r>n&&y(e=e.slice(n)),r>n&&p(e))}c.push(i)}return f(c)}function b(e,i){var r=i.length>0,o=e.length>0,s=function(n,s,a,l,d){var c,h,p,u=0,f="0",g=n&&[],v=[],y=E,b=n||o&&C.find.TAG("*",d),w=j+=null==y?1:Math.random()||.1,x=b.length;for(d&&(E=s!==L&&s);f!==x&&null!=(c=b[f]);f++){if(o&&c){for(h=0;p=e[h++];)if(p(c,s,a)){l.push(c);break}d&&(j=w)}r&&((c=!p&&c)&&u--,n&&g.push(c))}if(u+=f,r&&f!==u){for(h=0;p=i[h++];)p(g,v,s,a);if(n){if(u>0)for(;f--;)g[f]||v[f]||(v[f]=K.call(l));v=m(v)}J.apply(l,v),d&&!n&&v.length>0&&u+i.length>1&&t.uniqueSort(l)}return d&&(j=w,E=y),g};return r?n(s):s}var w,x,C,k,$,_,S,T,E,I,D,A,L,N,O,M,F,R,z,H="sizzle"+1*new Date,P=e.document,j=0,B=0,W=i(),U=i(),q=i(),V=function(e,t){return e===t&&(D=!0),0},Q=1<<31,Y={}.hasOwnProperty,X=[],K=X.pop,G=X.push,J=X.push,Z=X.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ne.replace("w","w#"),oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),de=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),he=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),pe=new RegExp(se),ue=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ce=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ke=function(){A()};try{J.apply(X=Z.call(P.childNodes),P.childNodes),X[P.childNodes.length].nodeType}catch($e){J={apply:X.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},$=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:P;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,N=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ke,!1):i.attachEvent&&i.attachEvent("onunload",ke)),O=!$(n),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(n.getElementsByClassName),x.getById=r(function(e){return N.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},C.find.CLASS=x.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},F=[],M=[],(x.qsa=ve.test(n.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(x.matchesSelector=ve.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){x.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),F.push("!=",se)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(N.compareDocumentPosition),z=t||ve.test(N.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===P&&z(P,e)?-1:t===n||t.ownerDocument===P&&z(P,t)?1:I?ee(I,e)-ee(I,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,r=0,o=e.parentNode,a=t.parentNode,l=[e],d=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:I?ee(I,e)-ee(I,t):0;if(o===a)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)d.unshift(i);for(;l[r]===d[r];)r++;return r?s(l[r],d[r]):l[r]===P?-1:d[r]===P?1:0},n):L},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==L&&A(e),i=i.replace(he,"='$1']"),x.matchesSelector&&O&&(!F||!F.test(i))&&(!M||!M.test(i)))try{var n=R.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return t(i,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&A(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&A(e);var i=C.attrHandle[t.toLowerCase()],n=i&&Y.call(C.attrHandle,t.toLowerCase())?i(e,t,!O):void 0;return void 0!==n?n:x.attributes||!O?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(D=!x.detectDuplicates,I=!x.sortStable&&e.slice(0),e.sort(V),D){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return I=null,e},k=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},C=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&pe.test(i)&&(t=_(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(ae," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,p,u,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(c=m[H]||(m[H]={}),d=c[e]||[],u=d[0]===j&&d[1],p=d[0]===j&&d[2],h=u&&m.childNodes[u];h=++u&&h&&h[g]||(p=u=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){c[e]=[j,u,p];break}}else if(y&&(d=(t[H]||(t[H]={}))[e])&&d[0]===j)p=d[1];else for(;(h=++u&&h&&h[g]||(p=u=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[H]||(h[H]={}))[e]=[j,p]),h!==t)););return p-=r,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,i){var r,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(i):o.length>1?(r=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=o(e,i),s=r.length;s--;)n=ee(e,r[s]),e[n]=!(t[n]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],i=[],r=S(e.replace(le,"$1"));return r[H]?n(function(e,t,i,n){for(var o,s=r(e,null,n,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(xe,Ce),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,Ce).toLowerCase(),function(t){var i;do if(i=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,_=t.tokenize=function(e,i){var n,r,o,s,a,l,d,c=U[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],d=C.preFilter;a;){(!n||(r=de.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ce.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(le," ")}),a=a.slice(n.length));for(s in C.filter)!(r=fe[s].exec(a))||d[s]&&!(r=d[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):U(e,l).slice(0)},S=t.compile=function(e,t){var i,n=[],r=[],o=q[e+" "];if(!o){for(t||(t=_(e)),i=t.length;i--;)o=y(t[i]),o[H]?n.push(o):r.push(o);o=q(e,b(r,n)),o.selector=e}return o},T=t.select=function(e,t,i,n){var r,o,s,a,l,d="function"==typeof e&&e,h=!n&&_(e=d.selector||e);if(i=i||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===t.nodeType&&O&&C.relative[o[1].type]){if(t=(C.find.ID(s.matches[0].replace(xe,Ce),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(n=l(s.matches[0].replace(xe,Ce),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=n.length&&p(o),!e)return J.apply(i,n),i;break}}return(d||S(e,h))(n,t,!O,i,be.test(e)&&c(t.parentNode)||t),i},x.sortStable=H.split("").sort(V).join("")===H,x.detectDuplicates=!!D,A(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);re.find=de,re.expr=de.selectors,re.expr[":"]=re.expr.pseudos,re.unique=de.uniqueSort,re.text=de.getText,re.isXMLDoc=de.isXML,re.contains=de.contains;var ce=re.expr.match.needsContext,he=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;re.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?re.find.matchesSelector(n,e)?[n]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;r>t;t++)if(re.contains(n[t],this))return!0}));for(t=0;r>t;t++)re.find(e,n[t],i);return i=this.pushStack(r>1?re.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ce.test(e)?re(e):e||[],!1).length}});var ue,fe=e.document,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=re.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ge.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),he.test(i[1])&&re.isPlainObject(t))for(i in t)re.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ue.find(e);this.length=1,this[0]=n}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};me.prototype=re.fn,ue=re(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,i){for(var n=[],r=e[t];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!re(r).is(i));)1===r.nodeType&&n.push(r),r=r[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),re.fn.extend({has:function(e){var t,i=re(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(re.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],s=ce.test(e)||"string"!=typeof e?re(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&re.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,i){return re.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,i){return re.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return re.dir(e,"previousSibling",i)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(i,n){var r=re.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=re.filter(n,r)),this.length>1&&(ye[e]||(r=re.unique(r)),ve.test(e)&&(r=r.reverse())),this.pushStack(r)}});var be=/\S+/g,we={};re.Callbacks=function(e){e="string"==typeof e?we[e]||o(e):re.extend({},e);var t,i,n,r,s,a,l=[],d=!e.once&&[],c=function(o){for(i=e.memory&&o,n=!0,s=a||0,a=0,r=l.length,t=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(d?d.length&&c(d.shift()):i?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function o(t){re.each(t,function(t,i){var n=re.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),t?r=l.length:i&&(a=n,c(i))}return this},remove:function(){return l&&re.each(arguments,function(e,i){for(var n;(n=re.inArray(i,l,n))>-1;)l.splice(n,1),t&&(r>=n&&r--,s>=n&&s--)}),this},has:function(e){return e?re.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=d=i=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,i||h.disable(),this},locked:function(){return!d},fireWith:function(e,i){return!l||n&&!d||(i=i||[],i=[e,i.slice?i.slice():i],t?d.push(i):c(i)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(i){re.each(t,function(t,o){var s=re.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,n):n}},r={};return n.pipe=n.then,re.each(t,function(e,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,o=X.call(arguments),s=o.length,a=1!==s||e&&re.isFunction(e.promise)?s:0,l=1===a?e:re.Deferred(),d=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?X.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&re.isFunction(o[r].promise)?o[r].promise().done(d(r,n,o)).fail(l.reject).progress(d(r,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}});var xe;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){if(e===!0?!--re.readyWait:!re.isReady){if(!fe.body)return setTimeout(re.ready);re.isReady=!0,e!==!0&&--re.readyWait>0||(xe.resolveWith(fe,[re]),re.fn.triggerHandler&&(re(fe).triggerHandler("ready"),re(fe).off("ready")))}}}),re.ready.promise=function(t){if(!xe)if(xe=re.Deferred(),"complete"===fe.readyState)setTimeout(re.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{fe.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!re.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}s(),re.ready()}}()}return xe.promise(t)};var Ce,ke="undefined";for(Ce in re(ie))break;ie.ownLast="0"!==Ce,ie.inlineBlockNeedsLayout=!1,re(function(){var e,t,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==ke&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(t){ie.deleteExpando=!1}}e=null}(),re.acceptData=function(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var $e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?re.cache[e[re.expando]]:e[re.expando],!!e&&!d(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),re.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=re.data(o),1===o.nodeType&&!re._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=re.camelCase(n.slice(5)),l(o,n,r[n])));re._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){re.data(this,e)}):arguments.length>1?this.each(function(){re.data(this,e,t)}):o?l(o,e,re.data(o,e)):void 0},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=re._data(e,t),i&&(!n||re.isArray(i)?n=re._data(e,t,re.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=re.queue(e,t),n=i.length,r=i.shift(),o=re._queueHooks(e,t),s=function(){re.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return re._data(e,i)||re._data(e,i,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,i)})})}}),re.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?re.queue(this[0],e):void 0===t?this:this.each(function(){var i=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=re.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)i=re._data(o[s],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ee=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Ie=re.access=function(e,t,i,n,r,o,s){var a=0,l=e.length,d=null==i;if("object"===re.type(i)){r=!0;for(a in i)re.access(e,t,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,re.isFunction(n)||(s=!0),d&&(s?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(re(e),i)})),t))for(;l>a;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return r?e:d?t.call(e):l?t(e[0],i):o},De=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(n){ie.deleteExpando=!1}}}(),function(){var t,i,n=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ae=/^(?:input|select|textarea)$/i,Le=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,d,c,h,p,u,f,g,m=re._data(e);if(m){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=re.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||(c=m.handle=function(e){return typeof re===ke||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],a=t.length;a--;)o=Me.exec(t[a])||[],u=g=o[1],f=(o[2]||"").split(".").sort(),u&&(d=re.event.special[u]||{},u=(r?d.delegateType:d.bindType)||u,d=re.event.special[u]||{},h=re.extend({type:u,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:f.join(".")},l),(p=s[u])||(p=s[u]=[],p.delegateCount=0,d.setup&&d.setup.call(e,n,f,c)!==!1||(e.addEventListener?e.addEventListener(u,c,!1):e.attachEvent&&e.attachEvent("on"+u,c))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,h):p.push(h),re.event.global[u]=!0);e=null}},remove:function(e,t,i,n,r){var o,s,a,l,d,c,h,p,u,f,g,m=re.hasData(e)&&re._data(e);if(m&&(c=m.events)){for(t=(t||"").match(be)||[""],d=t.length;d--;)if(a=Me.exec(t[d])||[],u=g=a[1],f=(a[2]||"").split(".").sort(),u){for(h=re.event.special[u]||{},u=(n?h.delegateType:h.bindType)||u,p=c[u]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)s=p[o],!r&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(p.splice(o,1),s.selector&&p.delegateCount--,h.remove&&h.remove.call(e,s));l&&!p.length&&(h.teardown&&h.teardown.call(e,f,m.handle)!==!1||re.removeEvent(e,u,m.handle),delete c[u])}else for(u in c)re.event.remove(e,u+t[d],i,n,!0);re.isEmptyObject(c)&&(delete m.handle,re._removeData(e,"events"))}},trigger:function(t,i,n,r){var o,s,a,l,d,c,h,p=[n||fe],u=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!Oe.test(u+re.event.triggered)&&(u.indexOf(".")>=0&&(f=u.split("."),u=f.shift(),f.sort()),s=u.indexOf(":")<0&&"on"+u,t=t[re.expando]?t:new re.Event(u,"object"==typeof t&&t),
t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:re.makeArray(i,[t]),d=re.event.special[u]||{},r||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!r&&!d.noBubble&&!re.isWindow(n)){for(l=d.delegateType||u,Oe.test(l+u)||(a=a.parentNode);a;a=a.parentNode)p.push(a),c=a;c===(n.ownerDocument||fe)&&p.push(c.defaultView||c.parentWindow||e)}for(h=0;(a=p[h++])&&!t.isPropagationStopped();)t.type=h>1?l:d.bindType||u,o=(re._data(a,"events")||{})[t.type]&&re._data(a,"handle"),o&&o.apply(a,i),o=s&&a[s],o&&o.apply&&re.acceptData(a)&&(t.result=o.apply(a,i),t.result===!1&&t.preventDefault());if(t.type=u,!r&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(p.pop(),i)===!1)&&re.acceptData(n)&&s&&n[u]&&!re.isWindow(n)){c=n[s],c&&(n[s]=null),re.event.triggered=u;try{n[u]()}catch(g){}re.event.triggered=void 0,c&&(n[s]=c)}return t.result}},dispatch:function(e){e=re.event.fix(e);var t,i,n,r,o,s=[],a=X.call(arguments),l=(re._data(this,"events")||{})[e.type]||[],d=re.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(s=re.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(n=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((re.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],o=0;a>o;o++)n=t[o],i=n.selector+" ",void 0===r[i]&&(r[i]=n.needsContext?re(i,this).index(l)>=0:re.find(i,this,null,[l]).length),r[i]&&r.push(n);r.length&&s.push({elem:l,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[re.expando])return e;var t,i,n,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ne.test(r)?this.mouseHooks:Le.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new re.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||fe,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return re.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=re.extend(new re.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?re.event.trigger(r,null,t):re.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},re.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===ke&&(e[n]=null),e.detachEvent(n,i))},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:u):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==n&&!re.contains(n,r))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(re.event.special.submit={setup:function(){return re.nodeName(this,"form")?!1:void re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=re.nodeName(t,"input")||re.nodeName(t,"button")?t.form:void 0;i&&!re._data(i,"submitBubbles")&&(re.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),re._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return re.nodeName(this,"form")?!1:void re.event.remove(this,"._submit")}}),ie.changeBubbles||(re.event.special.change={setup:function(){return Ae.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,e,!0)})),!1):void re.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ae.test(t.nodeName)&&!re._data(t,"changeBubbles")&&(re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e,!0)}),re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return re.event.remove(this,"._change"),!Ae.test(this.nodeName)}}),ie.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=re._data(n,t);r||n.addEventListener(e,i,!0),re._data(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=re._data(n,t)-1;r?re._data(n,t,r):(n.removeEventListener(e,i,!0),re._removeData(n,t))}}}),re.fn.extend({on:function(e,t,i,n,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=u;else if(!n)return this;return 1===r&&(s=n,n=function(e){return re().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=re.guid++)),this.each(function(){re.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,re(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=u),this.each(function(){re.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?re.event.trigger(e,t,i,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Re=/ jQuery\d+="(?:null|\d+)"/g,ze=new RegExp("<(?:"+Fe+")[\\s/>]","i"),He=/^\s+/,Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,je=/<([\w:]+)/,Be=/<tbody/i,We=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^$|\/(?:java|ecma)script/i,Qe=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ke=g(fe),Ge=Ke.appendChild(fe.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,re.extend({clone:function(e,t,i){var n,r,o,s,a,l=re.contains(e.ownerDocument,e);if(ie.html5Clone||re.isXMLDoc(e)||!ze.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(n=m(o),a=m(e),s=0;null!=(r=a[s]);++s)n[s]&&k(r,n[s]);if(t)if(i)for(a=a||m(e),n=n||m(o),s=0;null!=(r=a[s]);s++)C(r,n[s]);else C(e,o);return n=m(o,"script"),n.length>0&&x(n,!l&&m(e,"script")),n=a=r=null,o},buildFragment:function(e,t,i,n){for(var r,o,s,a,l,d,c,h=e.length,p=g(t),u=[],f=0;h>f;f++)if(o=e[f],o||0===o)if("object"===re.type(o))re.merge(u,o.nodeType?[o]:o);else if(We.test(o)){for(a=a||p.appendChild(t.createElement("div")),l=(je.exec(o)||["",""])[1].toLowerCase(),c=Xe[l]||Xe._default,a.innerHTML=c[1]+o.replace(Pe,"<$1></$2>")+c[2],r=c[0];r--;)a=a.lastChild;if(!ie.leadingWhitespace&&He.test(o)&&u.push(t.createTextNode(He.exec(o)[0])),!ie.tbody)for(o="table"!==l||Be.test(o)?"<table>"!==c[1]||Be.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)re.nodeName(d=o.childNodes[r],"tbody")&&!d.childNodes.length&&o.removeChild(d);for(re.merge(u,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else u.push(t.createTextNode(o));for(a&&p.removeChild(a),ie.appendChecked||re.grep(m(u,"input"),v),f=0;o=u[f++];)if((!n||-1===re.inArray(o,n))&&(s=re.contains(o.ownerDocument,o),a=m(p.appendChild(o),"script"),s&&x(a),i))for(r=0;o=a[r++];)Ve.test(o.type||"")&&i.push(o);return a=null,p},cleanData:function(e,t){for(var i,n,r,o,s=0,a=re.expando,l=re.cache,d=ie.deleteExpando,c=re.event.special;null!=(i=e[s]);s++)if((t||re.acceptData(i))&&(r=i[a],o=r&&l[r])){if(o.events)for(n in o.events)c[n]?re.event.remove(i,n):re.removeEvent(i,n,o.handle);l[r]&&(delete l[r],d?delete i[a]:typeof i.removeAttribute!==ke?i.removeAttribute(a):i[a]=null,Y.push(r))}}}),re.fn.extend({text:function(e){return Ie(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?re.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||re.cleanData(m(i)),i.parentNode&&(t&&re.contains(i.ownerDocument,i)&&x(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Re,""):void 0;if("string"==typeof e&&!Ue.test(e)&&(ie.htmlSerialize||!ze.test(e))&&(ie.leadingWhitespace||!He.test(e))&&!Xe[(je.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(re.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var i,n,r,o,s,a,l=0,d=this.length,c=this,h=d-1,p=e[0],u=re.isFunction(p);if(u||d>1&&"string"==typeof p&&!ie.checkClone&&qe.test(p))return this.each(function(i){var n=c.eq(i);u&&(e[0]=p.call(this,i,n.html())),n.domManip(e,t)});if(d&&(a=re.buildFragment(e,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(o=re.map(m(a,"script"),b),r=o.length;d>l;l++)n=a,l!==h&&(n=re.clone(n,!0,!0),r&&re.merge(o,m(n,"script"))),t.call(this[l],n,l);if(r)for(s=o[o.length-1].ownerDocument,re.map(o,w),l=0;r>l;l++)n=o[l],Ve.test(n.type||"")&&!re._data(n,"globalEval")&&re.contains(s,n)&&(n.src?re._evalUrl&&re._evalUrl(n.src):re.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ye,"")));a=i=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var i,n=0,r=[],o=re(e),s=o.length-1;s>=n;n++)i=n===s?this:this.clone(!0),re(o[n])[t](i),G.apply(r,i.get());return this.pushStack(r)}});var Je,Ze={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==ke&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var et,tt,it=/^margin/,nt=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),rt=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,i){var n,r,o,s,a=e.style;return i=i||et(e),s=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==s||re.contains(e.ownerDocument,e)||(s=re.style(e,t)),nt.test(s)&&it.test(t)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,i){var n,r,o,s,a=e.style;return i=i||et(e),s=i?i[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),nt.test(s)&&!rt.test(t)&&(n=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,i,n,r;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(fe.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),i.removeChild(n))}var i,n,r,o,s,a,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=i.getElementsByTagName("a")[0],n=r&&r.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,re.extend(ie,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),re.swap=function(e,t,i,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=s[o];return r};var ot=/alpha\([^)]*\)/i,st=/opacity\s*=\s*([^)]*)/,at=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Se+")(.*)$","i"),dt=new RegExp("^([+-])=("+Se+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},pt=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=tt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=re.camelCase(t),l=e.style;if(t=re.cssProps[a]||(re.cssProps[a]=T(l,a)),s=re.cssHooks[t]||re.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(e,!1,n))?r:l[t];if(o=typeof i,"string"===o&&(r=dt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(re.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||re.cssNumber[a]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(e,i,n)))))try{l[t]=i}catch(d){}}},css:function(e,t,i,n){var r,o,s,a=re.camelCase(t);return t=re.cssProps[a]||(re.cssProps[a]=T(e.style,a)),s=re.cssHooks[t]||re.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,i)),void 0===o&&(o=tt(e,t,n)),"normal"===o&&t in ht&&(o=ht[t]),""===i||i?(r=parseFloat(o),i===!0||re.isNumeric(r)?r||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,i,n){return i?at.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,ct,function(){return A(e,t,n)}):A(e,t,n):void 0},set:function(e,i,n){var r=n&&et(e);return I(e,i,n?D(e,t,n,ie.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,r),r):0)}}}),ie.opacity||(re.cssHooks.opacity={get:function(e,t){return st.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===re.trim(o.replace(ot,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ot.test(o)?o.replace(ot,r):o+" "+r)}}),re.cssHooks.marginRight=S(ie.reliableMarginRight,function(e,t){return t?re.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Te[n]+t]=o[n]||o[n-2]||o[0];return r}},it.test(e)||(re.cssHooks[e+t].set=I)}),re.fn.extend({css:function(e,t){return Ie(this,function(e,t,i){var n,r,o={},s=0;if(re.isArray(t)){for(n=et(e),r=t.length;r>s;s++)o[t[s]]=re.css(e,t[s],!1,n);return o}return void 0!==i?re.style(e,t,i):re.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ee(this)?re(this).show():re(this).hide()})}}),re.Tween=L,L.prototype={constructor:L,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(re.cssNumber[i]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,i=L.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=L.prototype.init,re.fx.step={};var ut,ft,gt=/^(?:toggle|show|hide)$/,mt=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=mt.exec(t),o=r&&r[3]||(re.cssNumber[e]?"":"px"),s=(re.cssNumber[e]||"px"!==o&&+n)&&mt.exec(re.css(i.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+n||1;do a=a||".5",s/=a,re.style(i.elem,e,s+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(s=i.start=+s||+n||0,i.unit=o,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};re.Animation=re.extend(z,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),re.speed=function(e,t,i){var n=e&&"object"==typeof e?re.extend({},e):{complete:i||!i&&t||re.isFunction(e)&&e,duration:e,easing:i&&t||t&&!re.isFunction(t)&&t};return n.duration=re.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in re.fx.speeds?re.fx.speeds[n.duration]:re.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){re.isFunction(n.old)&&n.old.call(this),n.queue&&re.dequeue(this,n.queue)},n},re.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=re.isEmptyObject(e),o=re.speed(t,i,n),s=function(){var t=z(this,re.extend({},e),o);(r||re._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=re.timers,s=re._data(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&vt.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));(t||!i)&&re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=re._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=re.timers,s=n?n.length:0;for(i.finish=!0,re.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),re.each(["toggle","show","hide"],function(e,t){var i=re.fn[t];re.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(O(t,!0),e,n,r)}}),re.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,i=0;for(ut=re.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||re.fx.stop(),ut=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){ft||(ft=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(ft),ft=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,r;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=fe.createElement("select"),r=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=r.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!r.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var wt=/\r/g;re.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=re.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,re(this).val()):e,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(wt,""):null==i?"":i)}}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:n.length,l=0>r?a:o?r:0;a>l;l++)if(i=n[l],(i.selected||l===r)&&(ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!re.nodeName(i.parentNode,"optgroup"))){if(t=re(i).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,o=re.makeArray(t),s=r.length;s--;)if(n=r[s],re.inArray(re.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>=0:void 0}},ie.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,Ct,kt=re.expr.attrHandle,$t=/^(?:checked|selected)$/i,_t=ie.getSetAttribute,St=ie.input;re.fn.extend({attr:function(e,t){return Ie(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?re.prop(e,t,i):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),n=re.attrHooks[t]||(re.expr.match.bool.test(t)?Ct:xt)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=re.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void re.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;i=o[r++];)n=re.propFix[i]||i,re.expr.match.bool.test(i)?St&&_t||!$t.test(i)?e[n]=!1:e[re.camelCase("default-"+i)]=e[n]=!1:re.attr(e,i,""),e.removeAttribute(_t?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&re.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ct={set:function(e,t,i){return t===!1?re.removeAttr(e,i):St&&_t||!$t.test(i)?e.setAttribute(!_t&&re.propFix[i]||i,i):e[re.camelCase("default-"+i)]=e[i]=!0,i}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var i=kt[t]||re.find.attr;kt[t]=St&&_t||!$t.test(t)?function(e,t,n){var r,o;return n||(o=kt[t],kt[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,kt[t]=o),r}:function(e,t,i){return i?void 0:e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),St&&_t||(re.attrHooks.value={set:function(e,t,i){return re.nodeName(e,"input")?void(e.defaultValue=t):xt&&xt.set(e,t,i)}}),_t||(xt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},kt.id=kt.name=kt.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},re.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xt.set},re.attrHooks.contenteditable={set:function(e,t,i){xt.set(e,""===t?!1:t,i)}},re.each(["width","height"],function(e,t){re.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Tt=/^(?:input|select|textarea|button|object)$/i,Et=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Ie(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),re.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!re.isXMLDoc(e),o&&(t=re.propFix[t]||t,r=re.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),ie.enctype||(re.propFix.enctype="encoding");var It=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,i,n,r,o,s,a=0,l=this.length,d="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(be)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(It," "):" ")){for(o=0;r=t[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=re.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(e){var t,i,n,r,o,s,a=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(be)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(It," "):"")){
for(o=0;r=t[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");s=e?re.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(i){re(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,r=re(this),o=e.match(be)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===ke||"boolean"===i)&&(this.className&&re._data(this,"__className__",this.className),this.className=this.className||e===!1?"":re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(It," ").indexOf(t)>=0)return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Dt=re.now(),At=/\?/,Lt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,r=re.trim(t+"");return r&&!re.trim(r.replace(Lt,function(e,t,r,o){return i&&t&&(n=0),0===n?e:(i=r||t,n+=!o-!r,"")}))?Function("return "+r)():re.error("Invalid JSON: "+t)},re.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),i};var Nt,Ot,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Pt=/^\/\//,jt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},Wt={},Ut="*/".concat("*");try{Ot=location.href}catch(qt){Ot=fe.createElement("a"),Ot.href="",Ot=Ot.href}Nt=jt.exec(Ot.toLowerCase())||[],re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot,type:"GET",isLocal:zt.test(Nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,re.ajaxSettings),t):j(re.ajaxSettings,e)},ajaxPrefilter:H(Bt),ajaxTransport:H(Wt),ajax:function(e,t){function i(e,t,i,n){var r,c,v,y,w,C=t;2!==b&&(b=2,a&&clearTimeout(a),d=void 0,s=n||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(y=B(h,x,i)),y=W(h,y,x,r),r?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(re.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(re.etag[o]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=y.state,c=y.data,v=y.error,r=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",r?f.resolveWith(p,[c,C,x]):f.rejectWith(p,[x,C,v]),x.statusCode(m),m=void 0,l&&u.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?c:v]),g.fireWith(p,[x,C]),l&&(u.trigger("ajaxComplete",[x,h]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,s,a,l,d,c,h=re.ajaxSetup({},t),p=h.context||h,u=h.context&&(p.nodeType||p.jquery)?re(p):re.event,f=re.Deferred(),g=re.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Rt.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),i(0,t),this}};if(f.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Ot)+"").replace(Mt,"").replace(Pt,Nt[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=re.trim(h.dataType||"*").toLowerCase().match(be)||[""],null==h.crossDomain&&(n=jt.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===Nt[1]&&n[2]===Nt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Nt[3]||("http:"===Nt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=re.param(h.data,h.traditional)),P(Bt,h,t,x),2===b)return x;l=re.event&&h.global,l&&0===re.active++&&re.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ht.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(At.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Ft.test(o)?o.replace(Ft,"$1_="+Dt++):o+(At.test(o)?"&":"?")+"_="+Dt++)),h.ifModified&&(re.lastModified[o]&&x.setRequestHeader("If-Modified-Since",re.lastModified[o]),re.etag[o]&&x.setRequestHeader("If-None-Match",re.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ut+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===b))return x.abort();w="abort";for(r in{success:1,error:1,complete:1})x[r](h[r]);if(d=P(Wt,h,t,x)){x.readyState=1,l&&u.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,d.send(v,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return re.get(e,t,i,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,i,n,r){return re.isFunction(i)&&(r=r||n,n=i,i=void 0),re.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},re.fn.extend({wrapAll:function(e){if(re.isFunction(e))return this.each(function(t){re(this).wrapAll(e.call(this,t))});if(this[0]){var t=re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(i){re(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||re.css(e,"display"))},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var Vt=/%20/g,Qt=/\[\]$/,Yt=/\r?\n/g,Xt=/^(?:submit|button|image|reset|file)$/i,Kt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var i,n=[],r=function(e,t){t=re.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){r(this.name,this.value)});else for(i in e)U(i,e[i],t,r);return n.join("&").replace(Vt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Kt.test(this.nodeName)&&!Xt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var i=re(this).val();return null==i?null:re.isArray(i)?re.map(i,function(e){return{name:t.name,value:e.replace(Yt,"\r\n")}}):{name:t.name,value:i.replace(Yt,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||V()}:q;var Gt=0,Jt={},Zt=re.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Jt)Jt[e](void 0,!0)}),ie.cors=!!Zt&&"withCredentials"in Zt,Zt=ie.ajax=!!Zt,Zt&&re.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,n){var r,o=e.xhr(),s=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&o.setRequestHeader(r,i[r]+"");o.send(e.hasContent&&e.data||null),t=function(i,r){var a,l,d;if(t&&(r||4===o.readyState))if(delete Jt[s],t=void 0,o.onreadystatechange=re.noop,r)4!==o.readyState&&o.abort();else{d={},a=o.status,"string"==typeof o.responseText&&(d.text=o.responseText);try{l=o.statusText}catch(c){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=d.text?200:404}d&&n(a,l,d,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Jt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||re("head")[0]||fe.documentElement;return{send:function(n,r){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ei=[],ti=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ei.pop()||re.expando+"_"+Dt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,s,a=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ti,"$1"+r):t.jsonp!==!1&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||re.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},n.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,ei.push(r)),s&&re.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),re.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var n=he.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=re.buildFragment([e],t,r),r&&r.length&&re(r).remove(),re.merge([],n.childNodes))};var ii=re.fn.load;re.fn.load=function(e,t,i){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var n,r,o,s=this,a=e.indexOf(" ");return a>=0&&(n=re.trim(e.slice(a,e.length)),e=e.slice(0,a)),re.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&re.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(n?re("<div>").append(re.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){s.each(i,r||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var ni=e.document.documentElement;re.offset={setOffset:function(e,t,i){var n,r,o,s,a,l,d,c=re.css(e,"position"),h=re(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=re.css(e,"top"),l=re.css(e,"left"),d=("absolute"===c||"fixed"===c)&&re.inArray("auto",[o,l])>-1,d?(n=h.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):h.css(p)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,re.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(n=r.getBoundingClientRect()),i=Q(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===re.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(i=e.offset()),i.top+=re.css(e[0],"borderTopWidth",!0),i.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-re.css(n,"marginTop",!0),left:t.left-i.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ni;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||ni})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);re.fn[e]=function(n){return Ie(this,function(e,n,r){var o=Q(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[n]:e[n]:void(o?o.scrollTo(i?re(o).scrollLeft():r,i?r:re(o).scrollTop()):e[n]=r)},e,n,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=S(ie.pixelPosition,function(e,i){return i?(i=tt(e,t),nt.test(i)?re(e).position()[t]+"px":i):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){re.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||r===!0?"margin":"border");return Ie(this,function(t,i,n){var r;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?re.css(t,i,s):re.style(t,i,n,s)},t,o?n:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var ri=e.jQuery,oi=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=oi),t&&e.jQuery===re&&(e.jQuery=ri),re},typeof t===ke&&(e.jQuery=e.$=re),re}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(t,i,n){var r=e.Event(i);return t.trigger(r,n),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(n){var r,o,s,a,l,d;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),s=n.serializeArray();var c=n.data("ujs:submit-button");c&&(s.push(c),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);return d={type:r||"GET",data:s,dataType:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(o)},a&&(d.xhrFields={withCredentials:a}),o&&(d.url=o),i.ajax(d)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),d=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l===t||a===t||i.isCrossDomain(r)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&d.attr("target",s),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";"undefined"!=typeof e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),r=!1;if(!n)return!0;if(i.fire(e,"confirm")){try{r=i.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}t=i.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,i,n){var r,o,s=e(),a=i||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===n){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(t){var n=e(this),r=n.data("method"),o=n.data("params"),s=t.metaKey||t.ctrlKey;if(!i.allowAction(n))return i.stopEverything(t);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=i.handleRemote(n);return a===!1?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return r?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return r===!1?i.enableFormElement(n):r.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r,o,s=e(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===t&&(r=i.blankInputs(s,i.requiredInputSelector,!1),r&&i.fire(s,"ajax:aborted:required",[r])))return i.stopEverything(n);if(a){if(o=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="ui-effects-",i=e;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=d(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var o,s=r.re.exec(t),a=s&&r.parse(s),l=r.space||"rgba";return a?(o=i[l](a),i[c[l].cache]=o[c[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=d.support={},u=e("<p>")[0],f=e.each;u.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=u.style.backgroundColor.indexOf("rgba")>-1,f(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),d.fn=e.extend(d.prototype,{parse:function(r,s,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var h=this,p=e.type(r),u=this._rgba=[];return s!==t&&(r=[r,s,a,l],p="array"),"string"===p?this.parse(n(r)||o._default):"array"===p?(f(c.rgba.props,function(e,t){u[t.idx]=i(r[t.idx],t)}),this):"object"===p?(r instanceof d?f(c,function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}):f(c,function(t,n){var o=n.cache;f(n.props,function(e,t){if(!h[o]&&n.to){if("alpha"===e||null==r[e])return;h[o]=n.to(h._rgba)}h[o][t.idx]=i(r[e],t,!0)}),h[o]&&e.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,n.from&&(h._rgba=n.from(h[o])))}),this):void 0},is:function(e){var t=d(e),i=!0,n=this;return f(c,function(e,r){var o,s=t[r.cache];return s&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,function(e,t){return null!=s[t.idx]?i=s[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(c,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=d(e),r=n._space(),o=c[r],s=0===this.alpha()?d("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(e,r){var o=r.idx,s=a[o],d=n[o],c=h[r.type]||{};null!==d&&(null===s?l[o]=d:(c.mod&&(d-s>c.mod/2?s+=c.mod:s-d>c.mod/2&&(s-=c.mod)),l[o]=i((d-s)*t+s,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=d(t)._rgba;return d(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(n,r,o),l=Math.min(n,r,o),d=a-l,c=a+l,h=.5*c;return t=l===a?0:n===a?60*(r-o)/d+360:r===a?60*(o-n)/d+120:60*(n-r)/d+240,i=0===d?0:.5>=h?d/c:d/(2-c),[Math.round(t)%360,i,h,null==s?1:s]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},f(c,function(n,r){var o=r.props,s=r.cache,l=r.to,c=r.from;d.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===t)return this[s].slice();var r,a=e.type(n),h="array"===a||"object"===a?n:arguments,p=this[s].slice();return f(o,function(e,t){var n=h["object"===a?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=i(n,t)}),c?(r=d(c(p)),r[s]=p,r):d(p)},f(o,function(t,i){d.fn[t]||(d.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,d=this[l](),c=d[i.idx];return"undefined"===s?c:("function"===s&&(r=r.call(this,c),s=e.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),d[i.idx]=r,this[l](d)))})})}),d.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,s,a="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=d(o||r),!p.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=d(t.elem,i),t.end=d(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},d.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function n(t,i){var n,r,s={};for(n in i)r=i[n],t[n]!==r&&(o[n]||(e.fx.step[n]||!isNaN(parseFloat(r)))&&(s[n]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,o,s,a){var l=e.speed(o,s,a);return this.queue(function(){var o,s=e(this),a=s.attr("class")||"",d=l.children?s.find("*").addBack():s;d=d.map(function(){var i=e(this);return{el:i,start:t(this)}}),o=function(){e.each(r,function(e,t){i[t]&&s[t+"Class"](i[t])})},o(),d=d.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),d=d.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,d.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,o){return n?e.effects.animateClass.call(this,{add:i},n,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,r,o,s){return"boolean"==typeof n||void 0===n?r?e.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,r,o)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,o)}})}(),function(){function i(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,i){for(var n=0;n<i.length;n++)null!==i[n]&&e.data(t+i[n],e[0].style[i[n]])},restore:function(e,i){var n,r;for(r=0;r<i.length;r++)null!==i[r]&&(n=e.data(t+i[r]),void 0===n&&(n=""),e.css(i[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):s.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,o=n.queue,s=e.effects.effect[n.effect];return e.fx.off||!s?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(t):this.queue(o||"fx",t)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects}),/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.blind=function(t,i){var n,r,o,s=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,d=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(s,t.mode||"hide"),h=t.direction||"up",p=a.test(h),u=p?"height":"width",f=p?"top":"left",g=l.test(h),m={},v="show"===c;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),d):e.effects.save(s,d),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r=n[u](),o=parseFloat(n.css(f))||0,m[u]=v?r:0,g||(s.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),m[f]=v?o:r+o),v&&(n.css(u,0),g||n.css(f,o+r)),n.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&s.hide(),e.effects.restore(s,d),e.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.bounce=function(t,i){var n,r,o,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),d="hide"===l,c="show"===l,h=t.direction||"up",p=t.distance,u=t.times||5,f=2*u+(c||d?1:0),g=t.duration/f,m=t.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,b=s.queue(),w=b.length;for((c||d)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),p||(p=s["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-p:2*p).animate(o,g,m)),d&&(p/=Math.pow(2,u-1)),o={},o[v]=0,n=0;u>n;n++)r={},r[v]=(y?"-=":"+=")+p,s.animate(r,g,m).animate(o,g,m),p=d?2*p:p/2;d&&(r={opacity:0},r[v]=(y?"-=":"+=")+p,s.animate(r,g,m)),s.queue(function(){d&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),s.dequeue()}}),/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.clip=function(t,i){var n,r,o,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),d="show"===l,c=t.direction||"vertical",h="vertical"===c,p=h?"height":"width",u=h?"top":"left",f={};e.effects.save(s,a),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?n:s,o=r[p](),d&&(r.css(p,0),r.css(u,o/2)),f[p]=d?o:0,f[u]=d?0:o/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){d||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.drop=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),a="show"===s,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===d?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(d,"pos"===c?-n:n),h[d]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===h*p&&r()}function r(){u.css({visibility:"visible"}),e(b).remove(),g||u.hide(),i()}var o,s,a,l,d,c,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,p=h,u=e(this),f=e.effects.setMode(u,t.mode||"hide"),g="show"===f,m=u.show().css("visibility","hidden").offset(),v=Math.ceil(u.outerWidth()/p),y=Math.ceil(u.outerHeight()/h),b=[];for(o=0;h>o;o++)for(l=m.top+o*y,c=o-(h-1)/2,s=0;p>s;s++)a=m.left+s*v,d=s-(p-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?d*v:0),top:l+(g?c*y:0),opacity:g?0:1}).animate({left:a+(g?0:d*v),top:l+(g?0:c*y),opacity:g?1:0},t.duration||500,t.easing,n)}}),/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}),/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fold=function(t,i){var n,r,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),l="show"===a,d="hide"===a,c=t.size||15,h=/([0-9]+)%/.exec(c),p=!!t.horizFirst,u=l!==p,f=u?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(o,s),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=u?[n.width(),n.height()]:[n.height(),n.width()],h&&(c=parseInt(h[1],10)/100*r[d?0:1]),l&&n.css(p?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?r[0]:c,v[f[1]]=l?r[1]:0,n.animate(m,g,t.easing).animate(v,g,t.easing,function(){d&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()})}}),/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,r),i()}})}}),/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.size=function(t,i){var n,r,o,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],d=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==u,g=t.scale||"both",m=t.origin||["middle","center"],v=s.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===u&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===u?(s.from=t.to||b,s.to=t.from||n):(s.from=t.from||("show"===u?b:n),s.to=t.to||("hide"===u?b:n)),o={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===g||"both"===g)&&(o.from.y!==o.to.y&&(y=y.concat(h),s.from=e.effects.setTransition(s,h,o.from.y,s.from),s.to=e.effects.setTransition(s,h,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(p),s.from=e.effects.setTransition(s,p,o.from.x,s.from),s.to=e.effects.setTransition(s,p,o.to.x,s.to))),("content"===g||"both"===g)&&o.from.y!==o.to.y&&(y=y.concat(c).concat(d),s.from=e.effects.setTransition(s,c,o.from.y,s.from),s.to=e.effects.setTransition(s,c,o.to.y,s.to)),e.effects.save(s,y),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(r=e.effects.getBaseline(m,n),s.from.top=(n.outerHeight-s.outerHeight())*r.y,s.from.left=(n.outerWidth-s.outerWidth())*r.x,s.to.top=(n.outerHeight-s.to.outerHeight)*r.y,s.to.left=(n.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===g||"both"===g)&&(h=h.concat(["marginTop","marginBottom"]).concat(c),p=p.concat(["marginLeft","marginRight"]),d=a.concat(h).concat(p),s.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,d),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,h,o.from.y,i.from),i.to=e.effects.setTransition(i,h,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,p,o.from.x,i.from),i.to=e.effects.setTransition(i,p,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,d)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===u&&s.hide(),e.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,i){var n=parseInt(i,10),r=e?s.to.left:s.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",l=t.origin,d={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:d),r.to={height:d.height*c.y,width:d.width*c.x,outerHeight:d.outerHeight*c.y,outerWidth:d.outerWidth*c.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)}}),/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),o="hide"===r,s=parseInt(t.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)}}),/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.pulsate=function(t,i){var n,r=e(this),o=e.effects.setMode(r,t.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,d=2*(t.times||5)+(l?1:0),c=t.duration/d,h=0,p=r.queue(),u=p.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),h=1),n=1;d>n;n++)r.animate({opacity:h},c,t.easing),h=1-h;r.animate({opacity:h},c,t.easing),r.queue(function(){a&&r.hide(),i()}),u>1&&p.splice.apply(p,[1,0].concat(p.splice(u,d+1))),r.dequeue()}}),/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.shake=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,d=t.times||3,c=2*d+1,h=Math.round(t.duration/c),p="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a,f={},g={},m={},v=r.queue(),y=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),f[p]=(u?"-=":"+=")+l,g[p]=(u?"+=":"-=")+2*l,m[p]=(u?"-=":"+=")+2*l,r.animate(f,h,t.easing),n=1;d>n;n++)r.animate(g,h,t.easing).animate(m,h,t.easing);r.animate(g,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()}}),/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),a="show"===s,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};e.effects.save(r,o),r.show(),n=t.distance||r["top"===d?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(d,c?isNaN(n)?"-"+n:-n:n),h[d]=(a?c?"+=":"-=":c?"-=":"+=")+n,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),o="fixed"===r.css("position"),s=e("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,d=r.offset(),c={top:d.top-a,left:d.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),p=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){p.remove(),i()})}}),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var i=e.scrollTo=function(t,i,n){e(window).scrollTo(t,i,n)};i.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(n,r,o){return"object"==typeof r&&(o=r,r=0),"function"==typeof o&&(o={onAfter:o}),"max"==n&&(n=9e9),o=e.extend({},i.defaults,o),r=r||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(r/=2),o.offset=t(o.offset),o.over=t(o.over),this._scrollable().each(function(){function s(e){d.animate(h,r,o.easing,e&&function(){e.call(this,n,o)})}if(null!=n){var a,l=this,d=e(l),c=n,h={},p=d.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(c)){c=t(c);break}if(c=e(c,this),!c.length)return;case"object":(c.is||c.style)&&(a=(c=e(c)).offset())}e.each(o.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",r=n.toLowerCase(),u="scroll"+n,f=l[u],g=i.max(l,t);if(a)h[u]=a[r]+(p?0:f-d.offset()[r]),o.margin&&(h[u]-=parseInt(c.css("margin"+n))||0,h[u]-=parseInt(c.css("border"+n+"Width"))||0),h[u]+=o.offset[r]||0,o.over[r]&&(h[u]+=c["x"==t?"width":"height"]()*o.over[r]);else{var m=c[r];h[u]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*g:m}o.limit&&/^\d+$/.test(h[u])&&(h[u]=h[u]<=0?0:Math.min(h[u],g)),!e&&o.queue&&(f!=h[u]&&s(o.onAfterFirst),delete h[u])}),s(o.onAfter)}}).end()},i.max=function(t,i){var n="x"==i?"Width":"Height",r="scroll"+n;if(!e(t).is("html,body"))return t[r]-e(t)[n.toLowerCase()]();var o="client"+n,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[r],a[r])-Math.min(s[o],a[o])}}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var o=t(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();i.call(o,a)})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),o=r.data("bs.modal"),s=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new i(this,s)),"string"==typeof t?o[t](n):s.show&&o.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(o,s,this)})}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),o="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),o="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>r?"top":!1;if("bottom"==this.affixed)return null!=i?r+this.unpin<=o.top?!1:"bottom":e-n>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,d=a?s:t;return null!=i&&i>=r?"top":null!=n&&l+d>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,o=n.bottom,s=e(document.body).height();"object"!=typeof n&&(o=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var a=this.getState(s,t,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),d=e.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-o})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=n.find("> .active"),a=r&&e.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.tooltip",r=new i(this,o)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(a);d&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var c=this.getPosition(),h=o[0].offsetWidth,p=o[0].offsetHeight;if(d){var u=a,f=this.options.container?e(this.options.container):this.$element.parent(),g=this.getPosition(f);a="bottom"==a&&c.bottom+p>g.bottom?"top":"top"==a&&c.top-p<g.top?"bottom":"right"==a&&c.right+h>g.width?"left":"left"==a&&c.left-h<g.left?"right":a,o.removeClass(u).addClass(a)}var m=this.getCalculatedOffset(a,c,h,p);this.applyPlacement(m,a);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=o&&(t.top=t.top+o-d);var c=this.getViewportAdjustedDelta(i,t,l,d);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(i),p=h?2*c.left-r+l:2*c.top-o+d,u=h?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][u],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=n?{top:0,left:0}:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,a,o)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,l=t.top+o-s.scroll+n;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var d=t.left-o,c=t.left+o+i;d<s.left?r.left=s.left-d:c>s.width&&(r.left=s.left+s.width-c)}return r},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.popover",r=new i(this,o)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(o).each(function(){var n=e(this),r=i(n),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var o=i(r),s=o.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(o.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),s=r.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&r.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var d=l.index(t.target);38==t.which&&d>0&&d--,40==t.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),/* ========================================================================
 * bootstrap-switch - v3.3.2
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */
function(){var e=[].slice;!function(t,i){"use strict";var n;return n=function(){function e(e,i){null==i&&(i={}),this.$element=t(e),this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.$wrapper=t("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),null!=e.options.size&&t.push(""+e.options.baseClass+"-"+e.options.size),e.options.disabled&&t.push(""+e.options.baseClass+"-disabled"),e.options.readonly&&t.push(""+e.options.baseClass+"-readonly"),e.options.indeterminate&&t.push(""+e.options.baseClass+"-indeterminate"),e.options.inverse&&t.push(""+e.options.baseClass+"-inverse"),e.$element.attr("id")&&t.push(""+e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=t("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=t("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=t("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=t("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(){return t.options.onSwitchChange.apply(e,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return e.prototype._constructor=e,e.prototype.state=function(e,t){return"undefined"==typeof e?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return"undefined"==typeof e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(""+this.options.baseClass+"-"+e),this._width(),this._containerPosition(),this.options.size=e,this.$element)},e.prototype.animate=function(e){return"undefined"==typeof e?this.options.animate:(e=!!e,e===this.options.animate?this.$element:this.toggleAnimate())},e.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},e.prototype.disabled=function(e){return"undefined"==typeof e?this.options.disabled:(e=!!e,e===this.options.disabled?this.$element:this.toggleDisabled())},e.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},e.prototype.readonly=function(e){return"undefined"==typeof e?this.options.readonly:(e=!!e,e===this.options.readonly?this.$element:this.toggleReadonly())},e.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},e.prototype.indeterminate=function(e){return"undefined"==typeof e?this.options.indeterminate:(e=!!e,e===this.options.indeterminate?this.$element:this.toggleIndeterminate())},e.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},e.prototype.inverse=function(e){return"undefined"==typeof e?this.options.inverse:(e=!!e,e===this.options.inverse?this.$element:this.toggleInverse())},e.prototype.toggleInverse=function(){var e,t;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),t=this.$on.clone(!0),e=this.$off.clone(!0),this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,"undefined"==typeof e?t:(null!=t&&this.$on.removeClass(""+this.options.baseClass+"-"+t),this.$on.addClass(""+this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,"undefined"==typeof e?t:(null!=t&&this.$off.removeClass(""+this.options.baseClass+"-"+t),this.$off.addClass(""+this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return"undefined"==typeof e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return"undefined"==typeof e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return"undefined"==typeof e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)},e.prototype.handleWidth=function(e){return"undefined"==typeof e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.labelWidth=function(e){return"undefined"==typeof e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.baseClass=function(e){return this.options.baseClass},e.prototype.wrapperClass=function(e){return"undefined"==typeof e?this.options.wrapperClass:(e||(e=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.radioAllOff=function(e){return"undefined"==typeof e?this.options.radioAllOff:(e=!!e,e===this.options.radioAllOff?this.$element:(this.options.radioAllOff=e,this.$element))},e.prototype.onInit=function(e){return"undefined"==typeof e?this.options.onInit:(e||(e=t.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)},e.prototype.onSwitchChange=function(e){return"undefined"==typeof e?this.options.onSwitchChange:(e||(e=t.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._width=function(){var e,t;return e=this.$on.add(this.$off),e.add(this.$label).css("width",""),t="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,e.width(t),this.$label.width(function(e){return function(i,n){return"auto"!==e.options.labelWidth?e.options.labelWidth:t>n?t:n}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},e.prototype._containerPosition=function(e,t){return null==e&&(e=this.options.state),this.$container.css("margin-left",function(t){return function(){var i;return i=[0,"-"+t._handleWidth+"px"],t.options.indeterminate?"-"+t._handleWidth/2+"px":e?t.options.inverse?i[1]:i[0]:t.options.inverse?i[0]:i[1]}}(this)),t?setTimeout(function(){return t()},50):void 0},e.prototype._init=function(){var e,t;return e=function(e){return function(){return e._width(),e._containerPosition(null,function(){return e.options.animate?e.$wrapper.addClass(""+e.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?e():t=i.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(e(),i.clearInterval(t)):void 0}}(this),50)},e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(i,n){var r;return i.preventDefault(),i.stopImmediatePropagation(),r=e.$element.is(":checked"),e._containerPosition(r),r!==e.options.state?(e.options.state=r,e.$wrapper.toggleClass(""+e.options.baseClass+"-off").toggleClass(""+e.options.baseClass+"-on"),n?void 0:(e.$element.is(":radio")&&t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[r]))):void 0}}(this),"focus.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.addClass(""+e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.removeClass(""+e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(t.which&&!e.options.disabled&&!e.options.readonly)switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(t){return e._dragStart||e.options.disabled||e.options.readonly?void 0:(t.preventDefault(),t.stopPropagation(),e._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(""+e.options.baseClass+"-animate"),e.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(t){var i;if(null!=e._dragStart&&(t.preventDefault(),i=(t.pageX||t.originalEvent.touches[0].pageX)-e._dragStart,!(i<-e._handleWidth||i>0)))return e._dragEnd=i,e.$container.css("margin-left",""+e._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(t){var i;if(e._dragStart)return t.preventDefault(),e.options.animate&&e.$wrapper.addClass(""+e.options.baseClass+"-animate"),e._dragEnd?(i=e._dragEnd>-(e._handleWidth/2),e._dragEnd=!1,e.state(e.options.inverse?!i:i)):e.state(!e.options.state),e._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(e){return function(t){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._externalLabelHandler=function(){var e;return e=this.$element.closest("label"),e.on("click",function(t){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===e[0]?t.toggleState():void 0}}(this))},e.prototype._formHandler=function(){var e;return e=this.$element.closest("form"),e.data("bootstrap-switch")?void 0:e.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var i,n,r,o;if(!t.isArray(e))return[""+this.options.baseClass+"-"+e];for(n=[],r=0,o=e.length;o>r;r++)i=e[r],n.push(""+this.options.baseClass+"-"+i);return n},e}(),t.fn.bootstrapSwitch=function(){var i,r,o;return r=arguments[0],i=2<=arguments.length?e.call(arguments,1):[],o=this,this.each(function(){var e,s;return e=t(this),s=e.data("bootstrap-switch"),s||e.data("bootstrap-switch",s=new n(this,r)),"string"==typeof r?o=s[r].apply(s,i):void 0}),o},t.fn.bootstrapSwitch.Constructor=n,t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(){var e;$.fn.twitter_bootstrap_confirmbox={defaults:{title:null,proceed:"OK",proceed_class:"btn proceed",cancel:"Cancel",cancel_class:"btn cancel",fade:!1}},e=function(e,t,i){var n,r;return r="function"==typeof $().emulateTransitionEnd?3:2,n=2===r?$('<div class="modal hide" id="confirmation_dialog"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h3 class="modal-title">...</h3> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div>'):$('<div class="modal" id="confirmation_dialog" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h4 class="modal-title">...</h4> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div> </div> </div>'),(t.data("confirm-fade")||$.fn.twitter_bootstrap_confirmbox.defaults.fade)&&n.addClass("fade"),n.find(".modal-header").find(".modal-title").html(t.data("confirm-title")||$.fn.twitter_bootstrap_confirmbox.defaults.title||window.top.location.origin).end().end().find(".modal-body").html(e.toString().replace(/\n/g,"<br />")).end().find(".modal-footer").append($("<a />",{href:"#","data-dismiss":"modal"}).html(t.data("confirm-cancel")||$.fn.twitter_bootstrap_confirmbox.defaults.cancel).addClass($.fn.twitter_bootstrap_confirmbox.defaults.cancel_class).addClass(t.data("confirm-cancel-class")||"btn-default").click(function(e){return e.preventDefault(),n.modal("hide")}),$("<a />",{href:"#"}).html(t.data("confirm-proceed")||$.fn.twitter_bootstrap_confirmbox.defaults.proceed).addClass($.fn.twitter_bootstrap_confirmbox.defaults.proceed_class).addClass(t.data("confirm-proceed-class")||"btn-primary").click(function(e){return e.preventDefault(),n.modal("hide"),i()})).end().on("hidden",function(){return $(this).remove()}).modal("show").appendTo(document.body)},"function"==typeof $().modal&&($.rails.allowAction=function(t){var i,n;return n=t.data("confirm"),i=!1,n?($.rails.fire(t,"confirm")&&e(n,t,function(){var e,n;return $.rails.fire(t,"confirm:complete",[i])?(e=$.rails.allowAction,$.rails.allowAction=function(){return!0},t.get(0).click?t.get(0).click():"undefined"!=typeof Event&&null!==Event?(n=new Event("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:document.body.parentNode}),t.get(0).dispatchEvent(n)):$.isFunction(document.createEvent)&&(n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,document.body.parentNode),t.get(0).dispatchEvent(n)),$.rails.allowAction=e):void 0}),!1):!0})}.call(this),"undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(e){"use strict";var t=function(i,n){return this.options=e.extend({},t.DEFAULTS,e(i).data(),"object"==typeof n&&n),this.options.unsupportedAgents.test(navigator.userAgent)?!1:(this.valid_nodes=e.merge([],t.VALID_NODES),this.valid_nodes=e.merge(this.valid_nodes,e.map(Object.keys(this.options.blockTags),function(e){return e.toUpperCase()})),this.browser=t.browser(),this.disabledList=[],this._id=++t.count,this._events={},this.blurred=!0,this.$original_element=e(i),this.document=i.ownerDocument,this.window="defaultView"in this.document?this.document.defaultView:this.document.parentWindow,this.$document=e(this.document),this.$window=e(this.window),this.br=this.browser.msie&&e.Editable.getIEversion()<=10?"":"<br/>",this.init(i),void e(i).on("editable.focus",e.proxy(function(){for(var t=1;t<=e.Editable.count;t++)t!=this._id&&this.$window.trigger("blur."+t)},this)))};t.initializers=[],t.count=0,t.VALID_NODES=["P","DIV","LI","TD","TH"],t.LANGS=[],t.INVISIBLE_SPACE="&#x200b;",t.DEFAULTS={allowComments:!0,allowScript:!1,allowStyle:!1,allowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],allowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,beautifyCode:!0,blockTags:{n:"Normal",blockquote:"Quote",pre:"Code",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,convertMailAddresses:!0,customButtons:{},customDropdowns:{},customText:!1,defaultTag:"P",direction:"ltr",disableRightClick:!1,editInPopup:!1,editorClass:"",formatTags:["p","pre","blockquote","h1","h2","h3","h4","h5","h6","div","ul","ol","li","table","tbody","thead","tfoot","tr","th","td","body","head","html","title","meta","link","base","script","style"],headers:{},height:"auto",icons:{},inlineMode:!0,initOnClick:!1,fullPage:!1,language:"en_us",linkList:[],linkText:!1,linkClasses:{},linkAttributes:{},linkAutoPrefix:"",maxHeight:"auto",minHeight:"auto",multiLine:!0,noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParam:"body",saveParams:{},saveRequestType:"POST",scrollableContainer:"body",simpleAmpersand:!1,shortcuts:!0,shortcutsAvailable:["show","bold","italic","underline","createLink","insertImage","indent","outdent","html","formatBlock n","formatBlock h1","formatBlock h2","formatBlock h3","formatBlock h4","formatBlock h5","formatBlock h6","formatBlock blockquote","formatBlock pre","strikeThrough"],showNextToCursor:!1,spellcheck:!1,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,useClasses:!0,tabSpaces:!0,typingTimer:500,pastedImagesUploadRequestType:"POST",pastedImagesUploadURL:"http://i.froala.com/upload_base64",unsupportedAgents:/Opera Mini/i,useFrTag:!1,width:"auto",withCredentials:!1,zIndex:2e3},t.prototype.destroy=function(){this.sync(),this.options.useFrTag&&this.addFrTag(),this.hide(),this.isHTML&&this.html(),this.$bttn_wrapper&&this.$bttn_wrapper.html("").removeData().remove(),this.$editor&&this.$editor.html("").removeData().remove(),this.raiseEvent("destroy"),this.$popup_editor&&this.$popup_editor.html("").removeData().remove(),this.$placeholder&&this.$placeholder.html("").removeData().remove(),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop","**"),this.$window.off("mouseup."+this._id),this.$window.off("keydown."+this._id),this.$window.off("keyup."+this._id),this.$window.off("blur."+this._id),this.$window.off("hide."+this._id),this.$window.off("scroll."+this._id),this.$window.off("resize."+this._id),this.$window.off("orientationchange."+this._id),this.$document.off("selectionchange."+this._id),this.$original_element.off("editable"),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show());for(var e in this._events)delete this._events[e];this.$placeholder&&this.$placeholder.remove(),this.isLink?this.$element.removeData("fa.editable"):(this.$wrapper?this.$wrapper.replaceWith(this.getHTML(!1,!1)):this.$element.replaceWith(this.getHTML(!1,!1)),this.$box&&!this.editableDisabled&&(this.$box.removeClass("froala-box f-rtl"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),this.$lb&&this.$lb.remove()},t.prototype.triggerEvent=function(t,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),n===!0&&(this.isResizing()||this.editableDisabled||this.imageMode||!r||this.cleanify(),this.sync());var o=!0;return i||(i=[]),o=this.$original_element.triggerHandler("editable."+t,e.merge([this],i)),void 0===o?!0:o},t.prototype.syncStyle=function(){if(this.options.fullPage){var e=this.$element.html().match(/\[style[^\]]*\].*\[\/style\]/gi);if(this.$document.find("head style[data-id]").remove(),e)for(var t=0;t<e.length;t++)this.$document.find("head").append(e[t].replace(/\[/gi,"<").replace(/\]/gi,">"))}},t.prototype.sync=function(){if(!this.isHTML){this.raiseEvent("sync"),this.disableImageResize(),this.isLink||this.isImage||this.checkPlaceholder();var e=this.getHTML();this.trackHTML!==e&&null!=this.trackHTML?(this.refreshImageList(),this.refreshButtons(),this.trackHTML=e,this.$textarea&&this.$textarea.val(e),this.doingRedo||this.saveUndoStep(),this.triggerEvent("contentChanged",[],!1)):null==this.trackHTML&&(this.trackHTML=e),this.syncStyle()}},t.prototype.emptyElement=function(t){if("IMG"==t.tagName||e(t).find("img").length>0)return!1;if(e(t).find("input, iframe, object").length>0)return!1;for(var i=e(t).text(),n=0;n<i.length;n++)if("\n"!==i[n]&&"\r"!==i[n]&&"	"!==i[n]&&8203!=i[n].charCodeAt(0))return!1;return!0},t.prototype.initEvents=function(){this.mobile()?(this.mousedown="touchstart",this.mouseup="touchend",this.move="touchmove"):(this.mousedown="mousedown",this.mouseup="mouseup",this.move="")},t.prototype.initDisable=function(){this.$element.on("keypress keydown keyup",e.proxy(function(e){return this.isDisabled?(e.stopPropagation(),e.preventDefault(),!1):void 0},this))},t.prototype.continueInit=function(){this.initDisable(),this.initEvents(),this.browserFixes(),this.handleEnter(),this.editableDisabled||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initTabs(),this.initEditor();for(var t=0;t<e.Editable.initializers.length;t++)e.Editable.initializers[t].call(this);this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),this.setLanguage(),this.setCustomText(),this.editableDisabled||this.registerPaste(),this.refreshDisabledState(),this.refreshUndo(),this.refreshRedo(),this.initPopupSubmit(),this.initialized=!0,this.triggerEvent("initialized",[],!1,!1)},t.prototype.initPopupSubmit=function(){this.$popup_editor.find(".froala-popup input").keydown(function(t){var i=t.which;13==i&&(t.preventDefault(),t.stopPropagation(),e(this).blur(),e(this).parents(".froala-popup").find("button.f-submit").click())})},t.prototype.lateInit=function(){this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers(),this.$element.focus(),this.hideOtherEditors()},t.prototype.init=function(t){this.options.paragraphy||(this.options.defaultTag="DIV"),this.options.allowStyle&&this.setAllowStyle(),this.options.allowScript&&this.setAllowScript(),this.initElement(t),this.initElementStyle(),(!this.isLink||this.isImage)&&(this.initImageEvents(),this.buildImageMove()),this.options.initOnClick?(this.editableDisabled||(this.$element.attr("contenteditable",!0),this.$element.attr("spellcheck",!1)),this.$element.bind("mousedown.element focus.element",e.proxy(function(e){return this.isLink||e.stopPropagation(),this.isDisabled?!1:(this.$element.unbind("mousedown.element focus.element"),this.browser.webkit&&(this.initMouseUp=!1),void this.lateInit())},this))):this.continueInit()},t.prototype.phone=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},t.prototype.mobile=function(){return this.phone()||this.android()||this.iOS()||this.blackberry()},t.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},t.prototype.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)];if(t&&t[0])return t[0]}return 0},t.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},t.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},t.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},t.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},t.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},t.prototype.initOnTextarea=function(t){this.$textarea=e(t),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=e("<div>").html(this.clean(this.$textarea.val(),!0,!1)),this.$element.find("pre br").replaceWith("\n"),this.$textarea.before(this.$element).hide(),this.$textarea.parents("form").bind("submit",e.proxy(function(){this.isHTML?this.html():this.sync()},this)),this.addListener("destroy",e.proxy(function(){this.$textarea.parents("form").unbind("submit")},this))},t.prototype.initOnLink=function(t){this.isLink=!0,this.options.linkText=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=e(t),this.options.paragraphy=!1,this.options.countCharacters=!1,this.$box=this.$element},t.prototype.initOnImage=function(t){var i=e(t).css("float");"A"==e(t).parent().get(0).tagName&&(t=e(t).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=[],this.options.paragraphy=!1,this.options.imageMargin="auto",e(t).wrap("<div>"),this.$element=e(t).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image"),this.$box=e(t)},t.prototype.initForPopup=function(t){this.$element=e(t),this.$box=this.$element,this.editableDisabled=!0,this.options.countCharacters=!1,this.options.buttons=[],this.$element.on("click",e.proxy(function(e){e.preventDefault()},this))},t.prototype.initOnDefault=function(t){"DIV"!=t.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=e(t)},t.prototype.initElement=function(t){if("TEXTAREA"==t.tagName?this.initOnTextarea(t):"A"==t.tagName?this.initOnLink(t):"IMG"==t.tagName?this.initOnImage(t):this.options.editInPopup?this.initForPopup(t):this.initOnDefault(t),!this.editableDisabled){this.$box=this.$element.addClass("froala-box"),this.$wrapper=e('<div class="froala-wrapper">'),this.$element=e("<div>");var i=this.$box.html();this.$box.html(this.$wrapper.html(this.$element)),this.$element.on("keyup",e.proxy(function(){this.$element.find("ul, ol").length>1&&this.cleanupLists()},this)),this.setHTML(i,!0)}this.$element.on("drop",e.proxy(function(){setTimeout(e.proxy(function(){e("html").click(),this.$element.find(".f-img-wrap").each(function(t,i){0===e(i).find("img").length&&e(i).remove()}),this.$element.find(this.options.defaultTag+":empty").remove()},this),1)},this))},t.prototype.trim=function(e){return e=String(e).replace(/^\s+|\s+$/g,""),e=e.replace(/\u200B/gi,"")},t.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find(this.options.defaultTag).each(e.proxy(function(t,i){if(0===i.attributes.length){var n=e(i).find("br:last");e(i).replaceWith(n.length&&this.isLastSibling(n.get(0))?e(i).html():e(i).html()+"<br/>")}},this))},t.prototype.wrapTextInElement=function(t,i){void 0===i&&(i=!1);var n=[],r=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT","IMG","SUB","SUP","BUTTON","INPUT"],o=this;
this.no_verify=!0;var s=function(){if(0===n.length)return!1;var t=e("<"+o.options.defaultTag+">"),i=e(n[0]);if(1==n.length&&"f-marker"==i.attr("class"))return void(n=[]);for(var r=0;r<n.length;r++){var s=e(n[r]);t.append(s.clone()),r==n.length-1?s.replaceWith(t):s.remove()}n=[]},a=!1,l=!1,d=!1;t.contents().filter(function(){var t=e(this);if(t.hasClass("f-marker")||t.find(".f-marker").length){var c=t;if(1==t.find(".f-marker").length||t.hasClass("f-marker")){c=t.find(".f-marker").length?e(t.find(".f-marker")[0]):t;var h=c.prev();"true"===c.attr("data-type")?h.length&&e(h[0]).hasClass("f-marker")?d=!0:(a=!0,l=!1):l=!0}else d=!0}this.nodeType==Node.TEXT_NODE&&t.text().length>0||r.indexOf(this.tagName)>=0?n.push(this):this.nodeType==Node.TEXT_NODE&&0===t.text().length&&o.options.beautifyCode?t.remove():a||i||d?("BR"===this.tagName&&(n.length>0?t.remove():n.push(this)),s(),l&&(a=!1),d=!1):n=[]}),(a||i||d)&&s(),t.find("> "+this.options.defaultTag).each(function(t,i){0===e(i).text().trim().length&&0===e(i).find("img").length&&0===e(i).find("br").length&&e(i).append(this.br)}),t.find("div:empty:not([class])").remove(),t.is(":empty")&&t.append(o.options.paragraphy===!0?"<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">":this.br),this.no_verify=!1},t.prototype.wrapText=function(t){if(this.isImage||this.isLink)return!1;this.allow_div=!0,this.removeBlankSpans();for(var i=this.getSelectionElements(),n=0;n<i.length;n++){var r=e(i[n]);["LI","TH","TD"].indexOf(r.get(0).tagName)>=0?this.wrapTextInElement(r,!0):this.parents(r,"li").length?this.wrapTextInElement(e(this.parents(r,"li")[0]),t):this.wrapTextInElement(this.$element,t)}this.allow_div=!1},t.prototype.convertNewLines=function(){this.$element.find("pre").each(function(t,i){var n=e(i),r=e(i).html();r.indexOf("\n")>=0&&n.html(r.replace(/\n/g,"<br>"))})},t.prototype.setHTML=function(t,i){this.no_verify=!0,this.allow_div=!0,void 0===i&&(i=!0),t=this.clean(t,!0,!1),t=t.replace(/>\s+</g,"><"),this.$element.html(t),this.cleanAttrs(this.$element.get(0)),this.convertNewLines(),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(!0),this.$element.find("li:empty").append(e.Editable.INVISIBLE_SPACE),this.cleanupLists(),this.cleanify(!1,!0,!1),i&&(this.restoreSelectionByMarkers(),this.sync()),this.$element.find("span").attr("data-fr-verified",!0),this.initialized&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.no_verify=!1,this.allow_div=!1},t.prototype.beforePaste=function(){this.saveSelectionByMarkers(),this.clipboardHTML=null,this.scrollPosition=this.$window.scrollTop(),this.$pasteDiv?this.$pasteDiv.html(""):(this.$pasteDiv=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; z-index: 4000; line-height: 140%;" tabindex="-1"></div>'),this.$box.after(this.$pasteDiv)),this.$pasteDiv.focus(),this.window.setTimeout(e.proxy(this.processPaste,this),1)},t.prototype.processPaste=function(){var i=this.clipboardHTML;null===this.clipboardHTML&&(i=this.$pasteDiv.html(),this.restoreSelectionByMarkers(),this.$window.scrollTop(this.scrollPosition));var n,r=this.triggerEvent("onPaste",[i],!1);"string"==typeof r&&(i=r),i=i.replace(/<img /gi,'<img data-fr-image-pasted="true" '),i.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(n=this.wordClean(i),n=this.clean(e("<div>").append(n).html(),!1,!0),n=this.removeEmptyTags(n)):(n=this.clean(i,!1,!0),n=this.removeEmptyTags(n),t.copiedText&&e("<div>").html(n).text().replace(/\u00A0/gi," ")==t.copiedText.replace(/(\u00A0|\r|\n)/gi," ")&&(n=t.copiedHTML)),this.options.plainPaste&&(n=this.plainPasteClean(n)),r=this.triggerEvent("afterPasteCleanup",[n],!1),"string"==typeof r&&(n=r),""!==n&&(this.insertHTML(n,!0,!0),this.saveSelectionByMarkers(),this.removeBlankSpans(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove(),this.restoreSelectionByMarkers(),this.$element.find("li[data-indent]").each(e.proxy(function(t,i){this.indentLi?(e(i).removeAttr("data-indent"),this.indentLi(e(i))):e(i).removeAttr("data-indent")},this)),this.$element.find("li").each(e.proxy(function(t,i){this.wrapTextInElement(e(i),!0)},this)),this.options.paragraphy&&this.wrapText(!0),this.cleanupLists()),this.afterPaste()},t.prototype.afterPaste=function(){this.uploadPastedImages(),this.checkPlaceholder(),this.pasting=!1,this.triggerEvent("afterPaste",[],!0,!1)},t.prototype.getSelectedHTML=function(){function t(t,n){for(;3==n.nodeType||i.valid_nodes.indexOf(n.tagName)<0;)3!=n.nodeType&&e(t).wrapInner("<"+n.tagName+i.attrs(n)+"></"+n.tagName+">"),n=n.parentNode}var i=this,n="";if("undefined"!=typeof window.getSelection)for(var r=this.getRanges(),o=0;o<r.length;o++){var s=document.createElement("div");s.appendChild(r[o].cloneContents()),t(s,this.getSelectionParent()),n+=s.innerHTML}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(n=document.selection.createRange().htmlText);return n},t.prototype.registerPaste=function(){this.$element.on("copy cut",e.proxy(function(){this.isHTML||(t.copiedHTML=this.getSelectedHTML(),t.copiedText=e("<div>").html(t.copiedHTML).text())},this)),this.$element.on("paste",e.proxy(function(t){if(!this.isHTML){if(t.originalEvent&&(t=t.originalEvent),!this.triggerEvent("beforePaste",[],!1))return!1;if(this.clipboardPaste(t))return!1;this.clipboardHTML="",this.pasting=!0,this.scrollPosition=this.$window.scrollTop();var i=!1;if(t&&t.clipboardData&&t.clipboardData.getData){var n="",r=t.clipboardData.types;if(e.Editable.isArray(r))for(var o=0;o<r.length;o++)n+=r[o]+";";else n=r;if(/text\/html/.test(n)?this.clipboardHTML=t.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&this.browser.safari?this.clipboardHTML=t.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(this.clipboardHTML=this.escapeEntities(t.clipboardData.getData("text/plain")).replace(/\n/g,"<br/>")),""!==this.clipboardHTML?i=!0:this.clipboardHTML=null,i)return this.processPaste(),t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1}this.beforePaste()}},this))},t.prototype.clipboardPaste=function(t){if(t&&t.clipboardData&&t.clipboardData.items&&t.clipboardData.items[0]){var i=t.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=e.proxy(function(e){var t=e.target.result;this.insertHTML('<img data-fr-image-pasted="true" src="'+t+'" />'),this.afterPaste()},this),n.readAsDataURL(i),!0}}return!1},t.prototype.uploadPastedImages=function(){this.options.pasteImage?this.options.imageUpload&&this.$element.find("img[data-fr-image-pasted]").each(e.proxy(function(t,i){if(0===i.src.indexOf("data:")){if(this.options.defaultImageWidth&&e(i).attr("width",this.options.defaultImageWidth),this.options.pastedImagesUploadURL){if(!this.triggerEvent("beforeUploadPastedImage",[i],!1))return!1;setTimeout(e.proxy(function(){this.showImageLoader(),this.$progress_bar.find("span").css("width","100%").text("Please wait!"),this.showByCoordinates(e(i).offset().left+e(i).width()/2,e(i).offset().top+e(i).height()+10),this.isDisabled=!0},this),10),e.ajax({type:this.options.pastedImagesUploadRequestType,url:this.options.pastedImagesUploadURL,data:e.extend({image:decodeURIComponent(i.src)},this.options.imageUploadParams),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers,dataType:"json"}).done(e.proxy(function(t){try{if(t.link){var n=new Image;n.onerror=e.proxy(function(){e(i).remove(),this.hide(),this.throwImageError(1)},this),n.onload=e.proxy(function(){i.src=t.link,this.hideImageLoader(),this.hide(),this.enable(),setTimeout(function(){e(i).trigger("touchend")},50),this.triggerEvent("afterUploadPastedImage",[e(i)])},this),n.src=t.link}else t.error?(e(i).remove(),this.hide(),this.throwImageErrorWithMessage(t.error)):(e(i).remove(),this.hide(),this.throwImageError(2))}catch(r){e(i).remove(),this.hide(),this.throwImageError(4)}},this)).fail(e.proxy(function(){e(i).remove(),this.hide(),this.throwImageError(3)},this))}}else 0!==i.src.indexOf("http")&&e(i).remove();e(i).removeAttr("data-fr-image-pasted")},this)):this.$element.find("img[data-fr-image-pasted]").remove()},t.prototype.disable=function(){this.isDisabled=!0,this.$element.blur(),this.$box.addClass("fr-disabled"),this.$element.attr("contenteditable",!1)},t.prototype.enable=function(){this.isDisabled=!1,this.$box.removeClass("fr-disabled"),this.$element.attr("contenteditable",!0)},t.prototype.wordClean=function(e){e.indexOf("<body")>=0&&(e=e.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),e=e.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),e=e.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),e=e.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),e=e.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),e=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var t=["style","script","applet","embed","noframes","noscript"],i=0;i<t.length;i++){var n=new RegExp("<"+t[i]+".*?"+t[i]+"(.*?)>","gi");e=e.replace(n,"")}e=e.replace(/&nbsp;/gi," ");var r;do r=e,e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(e!=r);return e=e.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),e=e.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),e=this.clean(e),e=e.replace(/<a>(.[^<]+)<\/a>/gi,"$1")},t.prototype.tabs=function(e){for(var t="",i=0;e>i;i++)t+="  ";return t},t.prototype.cleanTags=function(e,t){void 0===t&&(t=!1);var i,n,r,o,s=[],a=[],l=!1,d=!1,c=this.options.formatTags;for(n=0;n<e.length;n++)if(i=e.charAt(n),"<"==i){var h=e.indexOf(">",n+1);if(-1!==h){var p=e.substring(n,h+1),u=this.tagName(p);if(0===u.indexOf("!--")&&(h=e.indexOf("-->",n+1),-1!==h)){p=e.substring(n,h+3),a.push(p),n=h+2;continue}if(0===u.indexOf("!")&&a.length&&a[a.length-1]!=p){a.push(p),n=h;continue}if("head"==u&&this.options.fullPage&&(d=!0),d){a.push(p),n=h,"head"==u&&this.isClosingTag(p)&&(d=!1);continue}if(this.options.allowedTags.indexOf(u)<0&&(!this.options.fullPage||["html","head","body","!doctype"].indexOf(u)<0)){n=h;continue}var f=this.isClosingTag(p);if("pre"===u&&(l=f?!1:!0),this.isSelfClosingTag(p))a.push("br"===u&&l?"\n":p);else if(f)for(r=!1,o=!0;r===!1&&void 0!==o;)o=s.pop(),void 0!==o&&o.tag_name!==u?a.splice(o.i,1):(r=!0,void 0!==o&&a.push(p));else a.push(p),s.push({tag_name:u,i:a.length-1});n=h}}else"\n"===i&&this.options.beautifyCode?t&&l?a.push("<br/>"):l?a.push(i):s.length>0&&a.push(" "):9!=i.charCodeAt(0)&&a.push(i);for(;s.length>0;)o=s.pop(),a.splice(o.i,1);var g="\n";this.options.beautifyCode||(g=""),e="",s=0;var m=!0;for(n=0;n<a.length;n++)1==a[n].length?m&&" "===a[n]||(e+=a[n],m=!1):c.indexOf(this.tagName(a[n]).toLowerCase())<0?(e+=a[n],"br"==this.tagName(a[n])&&(e+=g)):this.isSelfClosingTag(a[n])?c.indexOf(this.tagName(a[n]).toLowerCase())>=0?(e+=this.tabs(s)+a[n]+g,m=!1):e+=a[n]:this.isClosingTag(a[n])?(s-=1,0===s&&(m=!0),e.length>0&&e[e.length-1]==g&&(e+=this.tabs(s)),e+=a[n]+g):(e+=g+this.tabs(s)+a[n],s+=1,m=!1);return e[0]==g&&(e=e.substring(1,e.length)),e[e.length-1]==g&&(e=e.substring(0,e.length-1)),e},t.prototype.cleanupLists=function(){this.$element.find("ul, ol").each(e.proxy(function(t,i){var n=e(i);if(this.parents(e(i),"ul, ol").length>0)return!0;if(n.find(".close-ul, .open-ul, .close-ol, .open-ol, .open-li, .close-li").length>0){var r="<"+i.tagName.toLowerCase()+">"+n.html()+"</"+i.tagName.toLowerCase()+">";r=r.replace(new RegExp('<span class="close-ul" data-fr-verified="true"></span>',"g"),"</ul>"),r=r.replace(new RegExp('<span class="open-ul" data-fr-verified="true"></span>',"g"),"<ul>"),r=r.replace(new RegExp('<span class="close-ol" data-fr-verified="true"></span>',"g"),"</ol>"),r=r.replace(new RegExp('<span class="open-ol" data-fr-verified="true"></span>',"g"),"<ol>"),r=r.replace(new RegExp('<span class="close-li" data-fr-verified="true"></span>',"g"),"</li>"),r=r.replace(new RegExp('<span class="open-li" data-fr-verified="true"></span>',"g"),"<li>"),r=r.replace(new RegExp("<li></li>","g"),""),n.replaceWith(r)}},this)),this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find(" > li").wrap("<ul>"),this.$element.find("ul, ol").each(e.proxy(function(t,i){var n=e(i);0===n.find(this.valid_nodes.join(",")).length&&n.remove()},this)),this.$element.find("li > ul, li > ol").each(e.proxy(function(t,i){var n=e(i).parent().get(0).previousSibling;this.isFirstSibling(i)&&(n&&"LI"==n.tagName?e(n).append(e(i)):e(i).before("<br/>"))},this)),this.$element.find("li:empty").remove();for(var t=this.$element.find("ol + ol, ul + ul"),i=0;i<t.length;i++){var n=e(t[i]);this.attrs(t[i])==this.attrs(n.prev().get(0))&&(n.prev().append(n.html()),n.remove())}this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find("li > "+this.options.defaultTag).each(function(t,i){0===i.attributes.length&&e(i).replaceWith(e(i).html())})},t.prototype.escapeEntities=function(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")},t.prototype.cleanNodeAttrs=function(e,t){var i=e.attributes;if(i)for(var n=new RegExp("^"+t.join("$|^")+"$","i"),r=0;r<i.length;r++){var o=i[r];n.test(o.nodeName)?e.setAttribute(o.nodeName,o.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")):e.removeAttribute(o.nodeName)}},t.prototype.cleanAttrs=function(e){1==e.nodeType&&e.className.indexOf("f-marker")<0&&e!==this.$element.get(0)&&"IFRAME"!=e.tagName&&this.cleanNodeAttrs(e,this.options.allowedAttrs,!0);for(var t=e.childNodes,i=0;i<t.length;i++)this.cleanAttrs(t[i])},t.prototype.clean=function(i,n,r,o,s){this.pasting&&t.copiedText===e("<div>").html(i).text()&&(r=!1,n=!0),s||(s=e.merge([],this.options.allowedAttrs)),o||(o=e.merge([],this.options.allowedTags)),n||s.indexOf("id")>-1&&s.splice(s.indexOf("id"),1),this.options.fullPage&&(i=i.replace(/<!DOCTYPE([^>]*?)>/i,"<!-- DOCTYPE$1 -->"),i=i.replace(/<html([^>]*?)>/i,"<!-- html$1 -->"),i=i.replace(/<\/html([^>]*?)>/i,"<!-- /html$1 -->"),i=i.replace(/<body([^>]*?)>/i,"<!-- body$1 -->"),i=i.replace(/<\/body([^>]*?)>/i,"<!-- /body$1 -->"),i=i.replace(/<head>([\w\W]*)<\/head>/i,function(e,t){var i=1;return t=t.replace(/(<style)/gi,function(e,t){return t+" data-id="+i++}),"<!-- head "+t.replace(/(>)([\s|\t]*)(<)/gi,"$1$3").replace(/</gi,"[").replace(/>/gi,"]")+" -->"})),this.options.allowComments?(this.options.allowedTags.push("!--"),this.options.allowedTags.push("!")):i=i.replace(/(<!--[.\s\w\W]*?-->)/gi,""),this.options.allowScript||(i=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),this.options.allowStyle||(i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(e,t){return"<!--"+t.replace(/</g,"[[").replace(/>/g,"]]")+"-->"});var a=new RegExp("<\\/?((?!(?:"+o.join(" |")+" |"+o.join(">|")+">|"+o.join("/>|")+"/>))\\w+)[^>]*?>","gi");if(i=i.replace(a,""),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(e,t){return"<!--"+t.replace(/\[\[/g,"<").replace(/\]\]/g,">")+"-->"}),r){var l=new RegExp("style=(\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/'%]*\"|'[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/\"%]*')","gi");i=i.replace(l,""),i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")}i=this.cleanTags(i,!0),i=i.replace(/(\r|\n)/gi,"");var d=new RegExp("<([^>]*)( src| href)=('[^']*'|\"[^\"]*\"|[^\\s>]+)([^>]*)>","gi");if(i=i.replace(d,e.proxy(function(e,t,i,n,r){return"<"+t+i+'="'+this.sanitizeURL(n.replace(/^["'](.*)["']\/?$/gi,"$1"))+'"'+r+">"},this)),!n){var c=e("<div>").append(i);c.find('[class]:not([class^="fr-"])').each(function(t,i){e(i).removeAttr("class")}),i=c.html()}return i},t.prototype.removeBlankSpans=function(){this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),this.$element.find("span").each(e.proxy(function(t,i){0===this.attrs(i).length&&e(i).replaceWith(e(i).html())},this)),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1},t.prototype.plainPasteClean=function(t){var i=e("<div>").html(t);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(e.proxy(function(t,i){e(i).replaceWith("<"+this.options.defaultTag+">"+e(i).html()+"</"+this.options.defaultTag+">")},this)),e(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br").get().reverse()).each(function(){e(this).replaceWith(e(this).html())});var n=function(t){for(var i=t.contents(),r=0;r<i.length;r++)3!=i[r].nodeType&&1!=i[r].nodeType?e(i[r]).remove():n(e(i[r]))};return n(i),i.html()},t.prototype.removeEmptyTags=function(t){for(var i,n=e("<div>").html(t),r=n.find("*:empty:not(br, img, td, th)");r.length;){for(i=0;i<r.length;i++)e(r[i]).remove();r=n.find("*:empty:not(br, img, td, th)")}for(var o=n.find("> div, td > div, th > div, li > div");o.length;){var s=e(o[o.length-1]);s.replaceWith(s.html()+"<br/>"),o=n.find("> div, td > div, th > div, li > div")}for(o=n.find("div");o.length;){for(i=0;i<o.length;i++){var a=e(o[i]),l=a.html().replace(/\u0009/gi,"").trim();a.replaceWith(l)}o=n.find("div")}return n.html()},t.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var e="froala-view froala-element "+this.options.editorClass;this.browser.msie&&t.getIEversion()<9&&(e+=" ie8"),this.$element.css("outline",0),this.browser.msie||(e+=" not-msie"),this.$element.addClass(e)},t.prototype.CJKclean=function(e){var t=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return e.replace(t,"")},t.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown","textarea, input",function(e){e.stopPropagation()}),this.$element.on("keydown cut",e.proxy(function(t){if(!this.isHTML){if(!this.options.multiLine&&13==t.which)return t.preventDefault(),t.stopPropagation(),!1;if("keydown"===t.type&&!this.triggerEvent("keydown",[t],!1))return!1;clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.getHTML(!0,!1),this.typingTimer=setTimeout(e.proxy(function(){var e=this.getHTML(!0,!1);this.ime||this.CJKclean(e)===this.CJKclean(this.oldHTML)||this.CJKclean(e)!==e||this.sync()},this),Math.max(this.options.typingTimer,500))}},this))},t.prototype.removeMarkersByRegex=function(e){return e.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>([\S\s][^\/])*<\/span>/gi,"")},t.prototype.getImageHTML=function(){return JSON.stringify({src:this.$element.find("img").attr("src"),style:this.$element.find("img").attr("style"),alt:this.$element.find("img").attr("alt"),width:this.$element.find("img").attr("width"),link:this.$element.find("a").attr("href"),link_title:this.$element.find("a").attr("title"),link_target:this.$element.find("a").attr("target")})},t.prototype.getLinkHTML=function(){return JSON.stringify({body:this.$element.html(),href:this.$element.attr("href"),title:this.$element.attr("title"),popout:this.$element.hasClass("popout"),nofollow:"nofollow"==this.$element.attr("ref"),blank:"_blank"==this.$element.attr("target"),cls:this.$element.attr("class")?this.$element.attr("class").replace(/froala-element ?|not-msie ?|froala-view ?/gi,"").trim():""})},t.prototype.addFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").addClass("fr-tag")},t.prototype.removeFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").removeClass("fr-tag")},t.prototype.getHTML=function(t,i,n){if(void 0===t&&(t=!1),void 0===i&&(i=this.options.useFrTag),void 0===n&&(n=!0),this.$element.hasClass("f-placeholder")&&!t)return"";if(this.isHTML)return this.$html_area.val();if(this.isImage)return this.getImageHTML();if(this.isLink)return this.getLinkHTML();this.$element.find("a").data("fr-link",!0),i&&this.addFrTag(),this.$element.find(".f-img-editor > img").each(e.proxy(function(t,i){e(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(e(i).parent().attr("class")))},this)),this.options.useClasses||this.$element.find("img").each(e.proxy(function(t,i){var n=e(i);n.attr("data-style",this.getImageStyle(n))},this)),this.$element.find("pre").each(e.proxy(function(t,i){var n=e(i),r=n.html(),o=r.replace(/\&nbsp;/gi," ").replace(/\n/gi,"<br>");r!=o&&(this.saveSelectionByMarkers(),n.html(o),this.restoreSelectionByMarkers())},this)),this.$element.find("pre br").addClass("fr-br"),this.$element.find('[class=""]').removeAttr("class"),this.cleanAttrs(this.$element.get(0));var r=this.$element.html();this.removeFrTag(),this.$element.find("pre br").removeAttr("class"),r=r.replace(/<a[^>]*?><\/a>/g,""),t||(r=this.removeMarkersByRegex(r)),r=r.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),r=r.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),r=r.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.options.useClasses||(r=r.replace(/data-style/gi,"style"),r=r.replace(/(<img[^>]*)( class\s*=['"]?[a-zA-Z0-9- ]+['"]?)([^>]*\/?>)/gi,"$1$3")),this.options.simpleAmpersand&&(r=r.replace(/\&amp;/gi,"&")),n&&(r=r.replace(/ data-fr-verified="true"/gi,"")),this.options.beautifyCode&&(r=r.replace(/\n/gi,"")),r=r.replace(/<br class="fr-br">/gi,"\n"),r=r.replace(/\u200B/gi,""),this.options.fullPage&&(r=r.replace(/<!-- DOCTYPE([^>]*?) -->/i,"<!DOCTYPE$1>"),r=r.replace(/<!-- html([^>]*?) -->/i,"<html$1>"),r=r.replace(/<!-- \/html([^>]*?) -->/i,"</html$1>"),r=r.replace(/<!-- body([^>]*?) -->/i,"<body$1>"),r=r.replace(/<!-- \/body([^>]*?) -->/i,"</body$1>"),r=r.replace(/<!-- head ([\w\W]*?) -->/i,function(e,t){return"<head>"+t.replace(/\[/gi,"<").replace(/\]/gi,">")+"</head>"}));var o=this.triggerEvent("getHTML",[r],!1);return"string"==typeof o?o:r},t.prototype.getText=function(){return this.$element.text()},t.prototype.setDirty=function(e){this.dirty=e,e||(clearTimeout(this.ajaxInterval),this.ajaxHTML=this.getHTML(!1,!1))},t.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(!1,!1),this.ajaxSave=!0,this.ajaxInterval=setInterval(e.proxy(function(){var e=this.getHTML(!1,!1);(this.ajaxHTML!=e||this.dirty)&&this.ajaxSave&&(this.options.autosave&&this.save(),this.dirty=!1,this.ajaxHTML=e),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},t.prototype.disableBrowserUndo=function(){this.$element.keydown(e.proxy(function(e){var t=e.which,i=(e.ctrlKey||e.metaKey)&&!e.altKey;if(!this.isHTML&&i){if(90==t&&e.shiftKey)return e.preventDefault(),!1;if(90==t)return e.preventDefault(),!1}},this))},t.prototype.shortcutEnabled=function(e){return this.options.shortcutsAvailable.indexOf(e)>=0},t.prototype.shortcuts_map={69:{cmd:"show",params:[null],id:"show"},66:{cmd:"exec",params:["bold"],id:"bold"},73:{cmd:"exec",params:["italic"],id:"italic"},85:{cmd:"exec",params:["underline"],id:"underline"},83:{cmd:"exec",params:["strikeThrough"],id:"strikeThrough"},75:{cmd:"exec",params:["createLink"],id:"createLink"},80:{cmd:"exec",params:["insertImage"],id:"insertImage"},221:{cmd:"exec",params:["indent"],id:"indent"},219:{cmd:"exec",params:["outdent"],id:"outdent"},72:{cmd:"exec",params:["html"],id:"html"},48:{cmd:"exec",params:["formatBlock","n"],id:"formatBlock n"},49:{cmd:"exec",params:["formatBlock","h1"],id:"formatBlock h1"},50:{cmd:"exec",params:["formatBlock","h2"],id:"formatBlock h2"},51:{cmd:"exec",params:["formatBlock","h3"],id:"formatBlock h3"},52:{cmd:"exec",params:["formatBlock","h4"],id:"formatBlock h4"},53:{cmd:"exec",params:["formatBlock","h5"],id:"formatBlock h5"},54:{cmd:"exec",params:["formatBlock","h6"],id:"formatBlock h6"},222:{cmd:"exec",params:["formatBlock","blockquote"],id:"formatBlock blockquote"},220:{cmd:"exec",params:["formatBlock","pre"],id:"formatBlock pre"}},t.prototype.ctrlKey=function(e){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1},t.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",e.proxy(function(e){var t=e.which,i=this.ctrlKey(e);if(!this.isHTML&&i){if(this.shortcuts_map[t]&&this.shortcutEnabled(this.shortcuts_map[t].id))return this.execDefaultShortcut(this.shortcuts_map[t].cmd,this.shortcuts_map[t].params);if(90==t&&e.shiftKey)return e.preventDefault(),e.stopPropagation(),this.redo(),!1;if(90==t)return e.preventDefault(),e.stopPropagation(),this.undo(),!1}},this))},t.prototype.initTabs=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;if(9!=t||e.shiftKey)9==t&&e.shiftKey&&(this.raiseEvent("shift+tab")?this.options.tabSpaces?e.preventDefault():this.blur():e.preventDefault());else if(this.raiseEvent("tab"))if(this.options.tabSpaces){e.preventDefault();var i="&nbsp;&nbsp;&nbsp;&nbsp;",n=this.getSelectionElements()[0];"PRE"===n.tagName&&(i="    "),this.insertHTML(i,!1)}else this.blur();else e.preventDefault()},this))},t.prototype.textEmpty=function(t){var i=e(t).text().replace(/(\r\n|\n|\r|\t)/gm,"");return(""===i||t===this.$element.get(0))&&0===e(t).find("br").length},t.prototype.inEditor=function(e){for(;e&&"BODY"!==e.tagName;){if(e===this.$element.get(0))return!0;e=e.parentNode}return!1},t.prototype.focus=function(t){if(this.isDisabled)return!1;if(void 0===t&&(t=!0),""!==this.text()&&!this.$element.is(":focus"))return void(this.browser.msie||(this.clearSelection(),this.$element.focus()));if(!this.isHTML){if(t&&!this.pasting&&this.$element.focus(),this.pasting&&!this.$element.is(":focus")&&this.$element.focus(),this.$element.hasClass("f-placeholder"))return void this.setSelection(this.$element.find(this.options.defaultTag).length>0?this.$element.find(this.options.defaultTag)[0]:this.$element.get(0));var i=this.getRange();if(""===this.text()&&i&&(0===i.startOffset||i.startContainer===this.$element.get(0)||!this.inEditor(i.startContainer))){var n,r,o=this.getSelectionElements();if(e.merge(["IMG","BR"],this.valid_nodes).indexOf(this.getSelectionElement().tagName)<0)return!1;if(i.startOffset>0&&this.valid_nodes.indexOf(this.getSelectionElement().tagName)>=0&&"BODY"!=i.startContainer.tagName||i.startContainer&&3===i.startContainer.nodeType)return;if(!this.options.paragraphy&&o.length>=1&&o[0]===this.$element.get(0)){var s=function(t){if(!t)return null;if(3==t.nodeType&&t.textContent.length>0)return t;if(1==t.nodeType&&"BR"==t.tagName)return t;for(var i=e(t).contents(),n=0;n<i.length;n++){var r=s(i[n]);if(null!=r)return r}return null};if(0===i.startOffset&&this.$element.contents().length>0&&3!=this.$element.contents()[0].nodeType){var a=s(this.$element.get(0));null!=a&&("BR"==a.tagName?this.$element.is(":focus")&&(e(a).before(this.markers_html),this.restoreSelectionByMarkers()):this.setSelection(a))}return!1}if(o.length>=1&&o[0]!==this.$element.get(0))for(n=0;n<o.length;n++){if(r=o[n],!this.textEmpty(r)||this.browser.msie)return void this.setSelection(r);if(this.textEmpty(r)&&["LI","TD"].indexOf(r.tagName)>=0)return}if(i.startContainer===this.$element.get(0)&&i.startOffset>0&&!this.options.paragraphy)return void this.setSelection(this.$element.get(0),i.startOffset);for(o=this.$element.find(this.valid_nodes.join(",")),n=0;n<o.length;n++)if(r=o[n],!this.textEmpty(r)&&0===e(r).find(this.valid_nodes.join(",")).length)return void this.setSelection(r);this.setSelection(this.$element.get(0))}}},t.prototype.addMarkersAtEnd=function(t){if(t.find(".fr-marker").length>0)return!1;for(var i=t.get(0),n=e(i).contents();n.length&&this.valid_nodes.indexOf(n[n.length-1].tagName)>=0;)i=n[n.length-1],n=e(n[n.length-1]).contents();e(i).append(this.markers_html)},t.prototype.setFocusAtEnd=function(e){void 0===e&&(e=this.$element),this.addMarkersAtEnd(e),this.restoreSelectionByMarkers()},t.prototype.breakHTML=function(t,i){"undefined"==typeof i&&(i=!0),this.removeMarkers(),0===this.$element.find("break").length&&this.insertSimpleHTML("<break></break>");var n=this.parents(this.$element.find("break"),e.merge(["UL","OL"],this.valid_nodes).join(","))[0];if(this.parents(e(n),"ul, ol").length&&(n=this.parents(e(n),"ul, ol")[0]),void 0===n&&(n=this.$element.get(0)),["UL","OL"].indexOf(n.tagName)>=0){var r=e("<div>").html(t);r.find("> li").wrap("<"+n.tagName+">"),t=r.html()}if(n==this.$element.get(0)){if(this.$element.find("break").next().length){this.insertSimpleHTML('<div id="inserted-div">'+t+"</div>");var o=this.$element.find("div#inserted-div");this.setFocusAtEnd(o),this.saveSelectionByMarkers(),o.replaceWith(o.contents()),this.restoreSelectionByMarkers()}else this.insertSimpleHTML(t),this.setFocusAtEnd();return this.$element.find("break").remove(),this.checkPlaceholder(),!0}if("TD"===n.tagName)return this.$element.find("break").remove(),this.insertSimpleHTML(t),!0;var s=e("<div>").html(t);if(this.addMarkersAtEnd(s),t=s.html(),this.emptyElement(e(n)))return e(n).replaceWith(t),this.restoreSelectionByMarkers(),this.checkPlaceholder(),!0;this.$element.find("li").each(e.proxy(function(t,i){this.emptyElement(i)&&e(i).addClass("empty-li")},this));for(var a,l,d=e("<div></div>").append(e(n).clone()).html(),c=[],h={},p=[],u=0,f=0;f<d.length;f++)if(l=d.charAt(f),"<"==l){var g=d.indexOf(">",f+1);if(-1!==g){a=d.substring(f,g+1);var m=this.tagName(a);if(f=g,"break"==m){if(!this.isClosingTag(a)){for(var v=!0,y=[],b=c.length-1;b>=0;b--){var w=this.tagName(c[b]);if(!i&&"LI"==w.toUpperCase()){v=!1;break}p.push("</"+w+">"),y.push(c[b])}p.push(t),v||p.push("</li><li>");for(var x=0;x<y.length;x++)p.push(y[x])}}else if(p.push(a),!this.isSelfClosingTag(a))if(this.isClosingTag(a)){var C=h[m].pop();c.splice(C,1)}else c.push(a),void 0===h[m]&&(h[m]=[]),h[m].push(c.length-1)}}else u++,p.push(l);e(n).replaceWith(p.join("")),this.$element.find("li").each(e.proxy(function(t,i){var n=e(i);n.hasClass("empty-li")?n.removeClass("empty-li"):this.emptyElement(i)&&n.remove()},this)),this.cleanupLists(),this.restoreSelectionByMarkers()},t.prototype.insertSimpleHTML=function(e){var t,i;if(this.no_verify=!0,this.window.getSelection){if(t=this.window.getSelection(),t.getRangeAt&&t.rangeCount){i=t.getRangeAt(0),this.browser.webkit?i.collapsed||this.document.execCommand("delete"):i.deleteContents(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove();var n=this.document.createElement("div");n.innerHTML=e;for(var r,o,s=this.document.createDocumentFragment();r=n.firstChild;)o=s.appendChild(r);i.insertNode(s),o&&(i=i.cloneRange(),i.setStartAfter(o),i.collapse(!0),t.removeAllRanges(),t.addRange(i))}}else if((t=this.document.selection)&&"Control"!=t.type){var a=t.createRange();a.collapse(!0),t.createRange().pasteHTML(e)}this.no_verify=!1},t.prototype.insertHTML=function(t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!1),!this.isHTML&&i&&this.focus(),this.removeMarkers(),this.insertSimpleHTML("<break></break>"),this.checkPlaceholder(!0),this.$element.hasClass("f-placeholder"))return this.$element.html(t),this.options.paragraphy&&this.wrapText(!0),this.$element.find("p > br").each(function(){var t=this.parentNode;1==e(t).contents().length&&e(t).remove()}),this.$element.find("break").remove(),this.setFocusAtEnd(),this.checkPlaceholder(),this.convertNewLines(),!1;for(var r=e("<div>").append(t).find("*"),o=0;o<r.length;o++)if(this.valid_nodes.indexOf(r[o].tagName)>=0)return this.breakHTML(t),this.$element.find("break").remove(),this.convertNewLines(),!1;this.$element.find("break").remove(),this.insertSimpleHTML(t),this.convertNewLines()},t.prototype.execDefaultShortcut=function(e,t){return this[e].apply(this,t),!1},t.prototype.initEditor=function(){var i="froala-editor";this.mobile()&&(i+=" touch"),this.browser.msie&&t.getIEversion()<9&&(i+=" ie8"),this.$editor=e('<div class="'+i+'" style="display: none;">');var n=this.$document.find(this.options.scrollableContainer);
n.append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},t.prototype.refreshToolbarPosition=function(){this.$window.scrollTop()>this.$box.offset().top&&this.$window.scrollTop()<this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.iOS()&&(this.$element.is(":focus")?this.$editor.css("top",this.$window.scrollTop()):this.$editor.css("top",""))):this.$window.scrollTop()<this.$box.offset().top?this.iOS()&&this.$element.is(":focus")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.$editor.css("top",this.$box.offset().top)):(this.$editor.removeClass("f-scroll f-scroll-abs").css("bottom","").css("top","").width(""),this.$element.css("padding-top",""),this.$placeholder.css("margin-top","")):this.$window.scrollTop()>this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()&&!this.$editor.hasClass("f-scroll-abs")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.removeClass("f-scroll").addClass("f-scroll-abs"),this.$editor.css("bottom",0).css("top","").css("left","")):this.$editor.removeClass("f-scroll").css("bottom","").css("top","").css("left","").width("")},t.prototype.toolbarTop=function(){this.options.toolbarFixed||this.options.inlineMode||(this.$element.data("padding-top",parseInt(this.$element.css("padding-top"),10)),this.$window.on("scroll resize load",e.proxy(function(){this.refreshToolbarPosition()},this)),this.iOS()&&this.$element.on("focus blur",e.proxy(function(){this.refreshToolbarPosition()},this)))},t.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$wrapper.addClass("f-basic"),this.$popup_editor=this.$editor.clone();var e=this.$document.find(this.options.scrollableContainer);this.$popup_editor.appendTo(e).addClass("f-inline"),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$wrapper),this.toolbarTop()},t.prototype.initInlineEditor=function(){this.$editor.addClass("f-inline"),this.$element.addClass("f-inline"),this.$popup_editor=this.$editor},t.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!this.window.FormData,progress:"upload"in new XMLHttpRequest}},t.prototype.initOptions=function(){this.setDimensions(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup(),this.editableDisabled||(this.setPlaceholder(),this.setPlaceholderEvents())},t.prototype.setAllowStyle=function(e){"undefined"==typeof e&&(e=this.options.allowStyle),e?this.options.allowedTags.push("style"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("style"),1)},t.prototype.setAllowScript=function(e){"undefined"==typeof e&&(e=this.options.allowScript),e?this.options.allowedTags.push("script"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("script"),1)},t.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==this.window.Touch},t.prototype.initEditorSelection=function(){this.$element.on("keyup",e.proxy(function(e){return this.triggerEvent("keyup",[e],!1)},this)),this.$element.on("focus",e.proxy(function(){this.blurred&&(this.blurred=!1,this.pasting||""!==this.text()||this.focus(!1),this.triggerEvent("focus",[],!1))},this)),this.$element.on("mousedown touchstart",e.proxy(function(){return this.isDisabled?!1:void(this.isResizing()||(this.closeImageMode(),this.hide()))},this)),this.options.disableRightClick&&this.$element.contextmenu(e.proxy(function(e){return e.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on(this.mouseup,e.proxy(function(t){if(this.isDisabled)return!1;if(!this.isResizing()){var i=this.text();t.stopPropagation(),this.imageMode=!1,!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==t.which||2==t.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||this.refreshButtons():setTimeout(e.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==t.which||2==t.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||(this.show(t),this.options.editInPopup&&this.showEditPopup())},this),0)}this.hideDropdowns(),this.hideOtherEditors()},this)),this.$editor.on(this.mouseup,e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||(e.stopPropagation(),this.options.inlineMode===!1&&this.hide()))},this)),this.$editor.on("mousedown",".fr-dropdown-menu",e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mouseup",e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||e.stopPropagation())},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||e.stopPropagation())},this)),this.setDocumentSelectionChangeEvent(),this.setWindowMouseUpEvent(),this.setWindowKeyDownEvent(),this.setWindowKeyUpEvent(),this.setWindowOrientationChangeEvent(),this.setWindowHideEvent(),this.setWindowBlurEvent(),this.options.trackScroll&&this.setWindowScrollEvent(),this.setWindowResize()},t.prototype.setWindowResize=function(){this.$window.on("resize."+this._id,e.proxy(function(){this.hide(),this.closeImageMode(),this.imageMode=!1},this))},t.prototype.blur=function(t){this.blurred||this.pasting||(this.selectionDisabled=!0,this.triggerEvent("blur",[]),t&&0===e("*:focus").length&&this.clearSelection(),this.isLink||this.isImage||(this.selectionDisabled=!1),this.blurred=!0)},t.prototype.setWindowBlurEvent=function(){this.$window.on("blur."+this._id,e.proxy(function(e,t){this.blur(t)},this))},t.prototype.setWindowHideEvent=function(){this.$window.on("hide."+this._id,e.proxy(function(){this.isResizing()?this.$element.find(".f-img-handle").trigger("moveend"):this.hide(!1)},this))},t.prototype.setWindowOrientationChangeEvent=function(){this.$window.on("orientationchange."+this._id,e.proxy(function(){setTimeout(e.proxy(function(){this.hide()},this),10)},this))},t.prototype.setDocumentSelectionChangeEvent=function(){this.$document.on("selectionchange."+this._id,e.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(e.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var e=this.text();""!==e?(this.iPod()?this.options.alwaysVisible&&this.hide():this.show(null),t.stopPropagation()):this.options.alwaysVisible?this.show(null):(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this),75)))},this))},t.prototype.setWindowMouseUpEvent=function(){this.$window.on(this.mouseup+"."+this._id,e.proxy(function(){return this.browser.webkit&&!this.initMouseUp?(this.initMouseUp=!0,!1):(this.isResizing()||this.isScrolling||this.isDisabled||(this.$bttn_wrapper.find("button.fr-trigger").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.blur(!0)),void e("[data-down]").removeAttr("data-down"))},this))},t.prototype.setWindowKeyDownEvent=function(){this.$window.on("keydown."+this._id,e.proxy(function(t){var i=t.which;if(27==i&&(this.focus(),this.restoreSelection(),this.hide(),this.closeImageMode(),this.imageMode=!1),this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return t.stopPropagation(),t.preventDefault(),setTimeout(e.proxy(function(){this.removeImage(this.$element.find(".f-img-editor img"))},this),0),!1}else if(this.selectionInEditor()){if(this.isDisabled)return!0;var n=(t.ctrlKey||t.metaKey)&&!t.altKey;!n&&this.$popup_editor.is(":visible")&&this.$bttn_wrapper.is(":visible")&&this.options.inlineMode&&(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this))},t.prototype.setWindowKeyUpEvent=function(){this.$window.on("keyup."+this._id,e.proxy(function(){return this.isDisabled?!1:void(this.selectionInEditor()&&""!==this.text()&&!this.$popup_editor.is(":visible")&&this.repositionEditor())},this))},t.prototype.setWindowScrollEvent=function(){e.merge(this.$window,e(this.options.scrollableContainer)).on("scroll."+this._id,e.proxy(function(){return this.isDisabled?!1:(clearTimeout(this.scrollTimer),this.isScrolling=!0,void(this.scrollTimer=setTimeout(e.proxy(function(){this.isScrolling=!1},this),2500)))},this))},t.prototype.setPlaceholder=function(t){t&&(this.options.placeholder=t),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$placeholder||(this.$placeholder=e('<span class="fr-placeholder" unselectable="on"></span>').bind("click",e.proxy(function(){this.focus()},this)),this.$element.after(this.$placeholder)),this.$placeholder.text(this.options.placeholder)},t.prototype.isEmpty=function(){var t=this.$element.text().replace(/(\r\n|\n|\r|\t|\u200B|\u0020)/gm,"");return""===t&&0===this.$element.find("img, table, iframe, input, textarea, hr, li, object").length&&0===this.$element.find(this.options.defaultTag+" > br, br").length&&0===this.$element.find(e.map(this.valid_nodes,e.proxy(function(e){return this.options.defaultTag==e?null:e},this)).join(", ")).length},t.prototype.checkPlaceholder=function(i){if(this.isDisabled&&!i)return!1;if(this.pasting&&!i)return!1;if(this.$element.find("td:empty, th:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").append(this.br),!this.isHTML)if(this.isEmpty()&&!this.fakeEmpty()){var n,r=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(n=e("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"),this.$element.html(n),r&&this.setSelection(n.get(0)),this.$element.addClass("f-placeholder")):(0!==this.$element.find("br").length||this.browser.msie&&t.getIEversion()<=10||(this.$element.append(this.br),r&&this.browser.msie&&this.focus()),this.$element.addClass("f-placeholder"))}else!this.$element.find(this.options.defaultTag+", li, td, th").length&&this.options.paragraphy?(this.wrapText(!0),this.$element.find(this.options.defaultTag).length&&""===this.text()?this.setSelection(this.$element.find(this.options.defaultTag)[0],this.$element.find(this.options.defaultTag).text().length,null,this.$element.find(this.options.defaultTag).text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1&&(!this.options.paragraphy||this.$element.find(this.valid_nodes.join(",")).length>=1)?this.$element.removeClass("f-placeholder"):!this.options.paragraphy&&this.$element.find(this.valid_nodes.join(",")).length>=1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");return!0},t.prototype.fakeEmpty=function(e){void 0===e&&(e=this.$element);var t=!0;this.options.paragraphy&&(t=1==e.find(this.options.defaultTag).length?!0:!1);var i=e.text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return""===i&&t&&1==e.find("br, li").length&&0===e.find("img, table, iframe, input, textarea, hr, li").length},t.prototype.setPlaceholderEvents=function(){this.browser.msie&&t.getIEversion()<9||(this.$element.on("focus click",e.proxy(function(e){return this.isDisabled?!1:void(""!==this.$element.text()||this.pasting||(this.$element.data("focused")||"click"!==e.type?"focus"==e.type&&this.focus(!1):this.$element.focus(),this.$element.data("focused",!0)))},this)),this.$element.on("keyup keydown input focus placeholderCheck",e.proxy(function(){return this.checkPlaceholder()},this)),this.$element.trigger("placeholderCheck"))},t.prototype.setDimensions=function(e,t,i,n){e&&(this.options.height=e),t&&(this.options.width=t),i&&(this.options.minHeight=i),n&&(this.options.maxHeight=n),"auto"!=this.options.height&&(this.$wrapper.css("height",this.options.height),this.$element.css("minHeight",this.options.height-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10))),"auto"!=this.options.minHeight&&(this.$wrapper.css("minHeight",this.options.minHeight),this.$element.css("minHeight",this.options.minHeight)),"auto"!=this.options.maxHeight&&this.$wrapper.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},t.prototype.setDirection=function(e){e&&(this.options.direction=e),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.removeAttr("dir"),this.$box.addClass("f-rtl"),this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.attr("dir","auto"),this.$box.removeClass("f-rtl"),this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))},t.prototype.setZIndex=function(e){e&&(this.options.zIndex=e),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+1002),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+1003)},t.prototype.setTheme=function(e){e&&(this.options.theme=e),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},t.prototype.setSpellcheck=function(e){void 0!==e&&(this.options.spellcheck=e),this.$element.attr("spellcheck",this.options.spellcheck)},t.prototype.customizeText=function(t){if(t){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(e.proxy(function(i,n){for(var r in t)e(n).attr("title").toLowerCase()==r.toLowerCase()&&e(n).attr("title",t[r])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(e.proxy(function(i,n){for(var r in t)e(n).text().toLowerCase()==r.toLowerCase()&&e(n).text(t[r])},this))}},t.prototype.setLanguage=function(t){void 0!==t&&(this.options.language=t),e.Editable.LANGS[this.options.language]&&(this.customizeText(e.Editable.LANGS[this.options.language].translation),e.Editable.LANGS[this.options.language].direction&&e.Editable.LANGS[this.options.language].direction!=e.Editable.DEFAULTS.direction&&this.setDirection(e.Editable.LANGS[this.options.language].direction),e.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(e.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},t.prototype.setCustomText=function(e){e&&(this.options.customText=e),this.options.customText&&this.customizeText(this.options.customText)},t.prototype.execHTML=function(){this.html()},t.prototype.initHTMLArea=function(){this.$html_area=e('<textarea wrap="hard">').keydown(function(t){var i=t.keyCode||t.which;if(9==i){t.preventDefault();var n=e(this).get(0).selectionStart,r=e(this).get(0).selectionEnd;e(this).val(e(this).val().substring(0,n)+"	"+e(this).val().substring(r)),e(this).get(0).selectionStart=e(this).get(0).selectionEnd=n+1}}).focus(e.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this)).mouseup(e.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this))},t.prototype.command_dispatcher={align:function(e){var t=this.buildDropdownAlign(e),i=this.buildDropdownButton(e,t);return i},formatBlock:function(e){var t=this.buildDropdownFormatBlock(e),i=this.buildDropdownButton(e,t);return i},html:function(t){var i=this.buildDefaultButton(t);return this.options.inlineMode&&this.$box.append(e(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(e.proxy(this.execHTML,this))),this.initHTMLArea(),i}},t.prototype.setButtons=function(e){e&&(this.options.buttons=e),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.mobile()&&this.$bttn_wrapper.addClass("touch");for(var i,n,r="",o=0;o<this.options.buttons.length;o++){var s=this.options.buttons[o];if("sep"!=s){var a=t.commands[s];if(void 0!==a){a.cmd=s;var l=this.command_dispatcher[a.cmd];l?r+=l.apply(this,[a]):a.seed?(i=this.buildDefaultDropdown(a),n=this.buildDropdownButton(a,i),r+=n):(n=this.buildDefaultButton(a),r+=n,this.bindRefreshListener(a))}else{if(a=this.options.customButtons[s],void 0===a){if(a=this.options.customDropdowns[s],void 0===a)continue;n=this.buildCustomDropdown(a,s),r+=n,this.bindRefreshListener(a);continue}n=this.buildCustomButton(a,s),r+=n,this.bindRefreshListener(a)}}else r+=this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>'}this.$bttn_wrapper.html(r),this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.bindButtonEvents()},t.prototype.bindRefreshListener=function(t){t.refresh&&this.addListener("refresh",e.proxy(function(){t.refresh.apply(this,[t.cmd])},this))},t.prototype.buildDefaultButton=function(e){var t='<button tabIndex="-1" type="button" class="fr-bttn" title="'+e.title+'" data-cmd="'+e.cmd+'">';return t+=void 0===this.options.icons[e.cmd]?this.addButtonIcon(e):this.prepareIcon(this.options.icons[e.cmd],e.title),t+="</button>"},t.prototype.prepareIcon=function(e,t){switch(e.type){case"font":return this.addButtonIcon({icon:e.value});case"img":return this.addButtonIcon({icon_img:e.value,title:t});case"txt":return this.addButtonIcon({icon_txt:e.value})}},t.prototype.addButtonIcon=function(e){return e.icon?'<i class="'+e.icon+'"></i>':e.icon_alt?'<i class="for-text">'+e.icon_alt+"</i>":e.icon_img?'<img src="'+e.icon_img+'" alt="'+e.title+'"/>':e.icon_txt?"<i>"+e.icon_txt+"</i>":e.title},t.prototype.buildCustomButton=function(e,t){this["call_"+t]=e.callback;var i='<button tabIndex="-1" type="button" class="fr-bttn" data-callback="call_'+t+'" data-cmd="button_name" data-name="'+t+'" title="'+e.title+'">'+this.prepareIcon(e.icon,e.title)+"</button>";return i},t.prototype.callDropdown=function(t,i){this.$bttn_wrapper.on("click touch",'[data-name="'+t+'"]',e.proxy(function(e){e.preventDefault(),e.stopPropagation(),i.apply(this)},this))},t.prototype.buildCustomDropdown=function(e,t){var i='<div class="fr-bttn fr-dropdown">';i+='<button tabIndex="-1" type="button" class="fr-trigger" title="'+e.title+'" data-name="'+t+'">'+this.prepareIcon(e.icon,e.title)+"</button>",i+='<ul class="fr-dropdown-menu">';var n=0;for(var r in e.options){this["call_"+t+n]=e.options[r];var o='<li data-callback="call_'+t+n+'" data-cmd="'+t+n+'" data-name="'+t+n+'"><a href="#">'+r+"</a></li>";i+=o,n++}return i+="</ul></div>"},t.prototype.buildDropdownButton=function(e,t,i){i=i||"";var n='<div class="fr-bttn fr-dropdown '+i+'">',r="";r+=void 0===this.options.icons[e.cmd]?this.addButtonIcon(e):this.prepareIcon(this.options.icons[e.cmd],e.title);var o='<button tabIndex="-1" type="button" data-name="'+e.cmd+'" class="fr-trigger" title="'+e.title+'">'+r+"</button>";return n+=o,n+=t,n+="</div>"},t.prototype.buildDropdownAlign=function(e){this.bindRefreshListener(e);for(var t='<ul class="fr-dropdown-menu f-align">',i=0;i<e.seed.length;i++){var n=e.seed[i];t+='<li data-cmd="align" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return t+="</ul>"},t.prototype.buildDropdownFormatBlock=function(e){var t='<ul class="fr-dropdown-menu">';for(var i in this.options.blockTags){var n='<li data-cmd="'+e.cmd+'" data-val="'+i+'">';n+='<a href="#" data-text="true" class="format-'+i+'" title="'+this.options.blockTags[i]+'">'+this.options.blockTags[i]+"</a></li>",t+=n}return t+="</ul>"},t.prototype.buildDefaultDropdown=function(e){for(var t='<ul class="fr-dropdown-menu">',i=0;i<e.seed.length;i++){var n=e.seed[i],r='<li data-namespace="'+e.namespace+'" data-cmd="'+(n.cmd||e.cmd)+'" data-val="'+n.value+'" data-param="'+(n.param||e.param)+'">';r+='<a href="#" data-text="true" class="'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",t+=r}return t+="</ul>"},t.prototype.createEditPopupHTML=function(){var e='<div class="froala-popup froala-text-popup" style="display:none;">';return e+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',e+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',e+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',e+="</div>",e+="</div>"},t.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=e(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(e){e.stopPropagation()}),this.addListener("hidePopups",e.proxy(function(){this.$edit_popup_wrapper.hide()},this)),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,e.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,e.proxy(function(){this.hide()},this))},t.prototype.createCORSRequest=function(e,t){var i=new XMLHttpRequest;if("withCredentials"in i){i.open(e,t,!0),this.options.withCredentials&&(i.withCredentials=!0);for(var n in this.options.headers)i.setRequestHeader(n,this.options.headers[n])}else"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(e,t)):i=null;return i},t.prototype.isEnabled=function(t){return e.inArray(t,this.options.buttons)>=0},t.prototype.bindButtonEvents=function(){this.bindDropdownEvents(this.$bttn_wrapper),this.bindCommandEvents(this.$bttn_wrapper)},t.prototype.bindDropdownEvents=function(i){var n=this;i.on(this.mousedown,".fr-dropdown .fr-trigger:not([disabled])",function(t){return"mousedown"===t.type&&1!==t.which?!0:("LI"===this.tagName&&"touchstart"===t.type&&n.android()||n.iOS()||t.preventDefault(),void e(this).attr("data-down",!0))}),i.on(this.mouseup,".fr-dropdown .fr-trigger:not([disabled])",function(r){if(n.isDisabled)return!1;if(r.stopPropagation(),r.preventDefault(),!e(this).attr("data-down"))return e("[data-down]").removeAttr("data-down"),!1;e("[data-down]").removeAttr("data-down"),n.options.inlineMode===!1&&0===e(this).parents(".froala-popup").length&&(n.hide(),n.closeImageMode(),n.imageMode=!1),e(this).toggleClass("active").trigger("blur");var o,s=e(this).attr("data-name");return t.commands[s]?o=t.commands[s].refreshOnShow:n.options.customDropdowns[s]?o=n.options.customDropdowns[s].refreshOnShow:t.image_commands[s]&&(o=t.image_commands[s].refreshOnShow),o&&o.call(n),i.find("button.fr-trigger").not(this).removeClass("active"),!1}),i.on(this.mouseup,".fr-dropdown",function(e){e.stopPropagation(),e.preventDefault()}),this.$element.on("mouseup","img, a",e.proxy(function(){return this.isDisabled?!1:void i.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),i.on("click","li[data-cmd] > a",function(e){e.preventDefault()})},t.prototype.bindCommandEvents=function(t){var i=this;t.on(this.mousedown,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",function(t){return"mousedown"===t.type&&1!==t.which?!0:("LI"===this.tagName&&"touchstart"===t.type&&i.android()||i.iOS()||t.preventDefault(),void e(this).attr("data-down",!0))}),t.on(this.mouseup+" "+this.move,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",e.proxy(function(t){if(i.isDisabled)return!1;if("mouseup"===t.type&&1!==t.which)return!0;var n=t.currentTarget;if("touchmove"!=t.type){if(t.stopPropagation(),t.preventDefault(),!e(n).attr("data-down"))return e("[data-down]").removeAttr("data-down"),!1;if(e("[data-down]").removeAttr("data-down"),e(n).data("dragging")||e(n).attr("disabled"))return e(n).removeData("dragging"),!1;var r=e(n).data("timeout");r&&(clearTimeout(r),e(n).removeData("timeout"));var o=e(n).attr("data-callback");if(i.options.inlineMode===!1&&0===e(n).parents(".froala-popup").length&&(i.hide(),i.closeImageMode(),i.imageMode=!1),o)e(n).parents(".fr-dropdown").find(".fr-trigger.active").removeClass("active"),i[o]();else{var s=e(n).attr("data-namespace"),a=e(n).attr("data-cmd"),l=e(n).attr("data-val"),d=e(n).attr("data-param");s?i["exec"+s](a,l,d):(i.exec(a,l,d),i.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"))}return!1}e(n).data("timeout")||e(n).data("timeout",setTimeout(function(){e(n).data("dragging",!0)},200))},this))},t.prototype.save=function(){if(!this.triggerEvent("beforeSave",[],!1))return!1;if(this.options.saveURL){var t={};for(var i in this.options.saveParams){var n=this.options.saveParams[i];t[i]="function"==typeof n?n.call(this):n}var r={};r[this.options.saveParam]=this.getHTML(),e.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:e.extend(r,t),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(e.proxy(function(e){this.triggerEvent("afterSave",[e])},this)).fail(e.proxy(function(){this.triggerEvent("saveError",["Save request failed on the server."])},this))}else this.triggerEvent("saveError",["Missing save URL."])},t.prototype.isURL=function(e){if(!/^(https?:|ftps?:|)\/\//.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/\(?(?:(https?:|ftps?:|)\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|(?:www.)?(?:[^\W\s]|\.|-)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return t.test(e)},t.prototype.sanitizeURL=function(e){if(/^(https?:|ftps?:|)\/\//.test(e)){if(!this.isURL(e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/tel%3A/g,"tel:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return e},t.prototype.parents=function(e,t){return e.get(0)!=this.$element.get(0)?e.parentsUntil(this.$element,t):[]},t.prototype.option=function(t,i){if(void 0===t)return this.options;if(t instanceof Object)this.options=e.extend({},this.options,t),this.initOptions(),this.setCustomText(),this.setLanguage(),this.setAllowScript(),this.setAllowStyle();else{if(void 0===i)return this.options[t];switch(this.options[t]=i,t){case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme();break;case"allowScript":this.setAllowScript();break;case"allowStyle":this.setAllowStyle()}}};var i=e.fn.editable;e.fn.editable=function(i){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);if("string"==typeof i){var o=[];return this.each(function(){var t=e(this),r=t.data("fa.editable");if(!r[i])return e.error("Method "+i+" does not exist in Froala Editor.");var s=r[i].apply(r,n.slice(1));void 0===s?o.push(this):0===o.length&&o.push(s)}),1==o.length?o[0]:o}return"object"!=typeof i&&i?void 0:this.each(function(){var n=this,r=e(n),o=r.data("fa.editable");o||r.data("fa.editable",o=new t(n,i))})},e.fn.editable.Constructor=t,e.Editable=t,e.fn.editable.noConflict=function(){return e.fn.editable=i,this}}(window.jQuery),function(e){e.Editable.prototype.initUndoRedo=function(){this.undoStack=[],this.undoIndex=0,this.saveUndoStep(),this.disableBrowserUndo()},e.Editable.prototype.undo=function(){if(this.no_verify=!0,this.undoIndex>1){clearTimeout(this.typingTimer),this.triggerEvent("beforeUndo",[],!1);var e=this.undoStack[--this.undoIndex-1];this.restoreSnapshot(e),this.doingRedo=!0,this.triggerEvent("afterUndo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},e.Editable.prototype.redo=function(){if(this.no_verify=!0,this.undoIndex<this.undoStack.length){clearTimeout(this.typingTimer),this.triggerEvent("beforeRedo",[],!1);var e=this.undoStack[this.undoIndex++];this.restoreSnapshot(e),this.doingRedo=!0,this.triggerEvent("afterRedo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},e.Editable.prototype.saveUndoStep=function(){if(!this.undoStack)return!1;for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var e=this.getSnapshot();this.undoStack[this.undoIndex-1]&&this.identicSnapshots(this.undoStack[this.undoIndex-1],e)||(this.undoStack.push(e),this.undoIndex++),this.refreshUndo(),this.refreshRedo()},e.Editable.prototype.refreshUndo=function(){if(this.isEnabled("undo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"]').removeAttr("disabled"),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').attr("disabled",!0)}},e.Editable.prototype.refreshRedo=function(){if(this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="redo"]').removeAttr("disabled"),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},e.Editable.prototype.getNodeIndex=function(e){for(var t=e.parentNode.childNodes,i=0,n=null,r=0;r<t.length;r++){if(n){var o=3===t[r].nodeType&&""===t[r].textContent,s=3===n.nodeType&&3===t[r].nodeType;o||s||i++}if(t[r]==e)return i;n=t[r]}},e.Editable.prototype.getNodeLocation=function(e){var t=[];if(!e.parentNode)return[];for(;e!=this.$element.get(0);)t.push(this.getNodeIndex(e)),e=e.parentNode;return t.reverse()},e.Editable.prototype.getNodeByLocation=function(e){for(var t=this.$element.get(0),i=0;i<e.length;i++)t=t.childNodes[e[i]];return t},e.Editable.prototype.getRealNodeOffset=function(e,t){for(;e&&3===e.nodeType;){var i=e.previousSibling;i&&3==i.nodeType&&(t+=i.textContent.length),e=i}return t},e.Editable.prototype.getRangeSnapshot=function(e){return{scLoc:this.getNodeLocation(e.startContainer),scOffset:this.getRealNodeOffset(e.startContainer,e.startOffset),ecLoc:this.getNodeLocation(e.endContainer),ecOffset:this.getRealNodeOffset(e.endContainer,e.endOffset)}},e.Editable.prototype.getSnapshot=function(){var e={};if(e.html=this.$element.html(),e.ranges=[],this.selectionInEditor()&&this.$element.is(":focus"))for(var t=this.getRanges(),i=0;i<t.length;i++)e.ranges.push(this.getRangeSnapshot(t[i]));return e},e.Editable.prototype.identicSnapshots=function(e,t){
return e.html!=t.html?!1:JSON.stringify(e.ranges)!=JSON.stringify(t.ranges)?!1:!0},e.Editable.prototype.restoreRangeSnapshot=function(e,t){try{var i=this.getNodeByLocation(e.scLoc),n=e.scOffset,r=this.getNodeByLocation(e.ecLoc),o=e.ecOffset,s=this.document.createRange();s.setStart(i,n),s.setEnd(r,o),t.addRange(s)}catch(a){}},e.Editable.prototype.restoreSnapshot=function(t){this.$element.html()!=t.html&&this.$element.html(t.html);var i=this.getSelection();this.clearSelection(),this.$element.focus();for(var n=0;n<t.ranges.length;n++)this.restoreRangeSnapshot(t.ranges[n],i);setTimeout(e.proxy(function(){this.$element.find(".f-img-wrap img").click()},this),0)}}(jQuery),function(e){e.Editable.prototype.refreshButtons=function(t){return this.initialized&&(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&e.Editable.getIEversion()<9||t)?(this.$editor.find("button[data-cmd]").removeClass("active"),this.refreshDisabledState(),void this.raiseEvent("refresh")):!1},e.Editable.prototype.refreshDisabledState=function(){if(this.isHTML)return!1;if(this.$editor){for(var t=0;t<this.options.buttons.length;t++){var i=this.options.buttons[t];if(void 0!==e.Editable.commands[i]){var n=!1;e.isFunction(e.Editable.commands[i].disabled)?n=e.Editable.commands[i].disabled.apply(this):void 0!==e.Editable.commands[i].disabled&&(n=!0),n?(this.$editor.find('button[data-cmd="'+i+'"]').prop("disabled",!0),this.$editor.find('button[data-name="'+i+'"]').prop("disabled",!0)):(this.$editor.find('button[data-cmd="'+i+'"]').removeAttr("disabled"),this.$editor.find('button[data-name="'+i+'"]').removeAttr("disabled"))}}this.refreshUndo(),this.refreshRedo()}},e.Editable.prototype.refreshFormatBlocks=function(){var e=this.getSelectionElements()[0],t=e.tagName.toLowerCase();this.options.paragraphy&&t===this.options.defaultTag.toLowerCase()&&(t="n"),this.$editor.find('.fr-bttn > button[data-name="formatBlock"] + ul li').removeClass("active"),this.$bttn_wrapper.find('.fr-bttn > button[data-name="formatBlock"] + ul li[data-val="'+t+'"]').addClass("active")},e.Editable.prototype.refreshDefault=function(e){try{this.document.queryCommandState(e)===!0&&this.$editor.find('[data-cmd="'+e+'"]').addClass("active")}catch(t){}},e.Editable.prototype.refreshAlign=function(){var t=e(this.getSelectionElements()[0]);this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var i,n=t.css("text-align");["left","right","justify","center"].indexOf(n)<0&&(n="left"),"left"==n?i="justifyLeft":"right"==n?i="justifyRight":"justify"==n?i="justifyFull":"center"==n&&(i="justifyCenter"),this.$editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+n),this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+i+'"]').addClass("active")},e.Editable.prototype.refreshHTML=function(){this.isActive("html")?this.$editor.find('[data-cmd="html"]').addClass("active"):this.$editor.find('[data-cmd="html"]').removeClass("active")}}(jQuery),function(e){e.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},subscript:{title:"Subscript",icon:"fa fa-subscript",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},superscript:{title:"Superscript",icon:"fa fa-superscript",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",refreshOnShow:e.Editable.prototype.refreshFormatBlocks,callback:function(e,t){this.formatBlock(t)},undo:!0},align:{title:"Alignment",icon:"fa fa-align-left",refresh:e.Editable.prototype.refreshAlign,refreshOnShow:e.Editable.prototype.refreshAlign,seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}],callback:function(e,t){this.align(t)},undo:!0},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)",callback:function(){this.outdent(!0)},undo:!0},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)",callback:function(){this.indent()},undo:!0},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)",callback:function(e,t){this.$element.focus(),this.execDefault(e,t)},undo:!1},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)",callback:function(){this.insertLink()},undo:!1},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)",callback:function(){this.insertImage()},undo:!1},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",refresh:e.Editable.prototype.refreshUndo,callback:function(){this.undo()},undo:!1},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",refresh:e.Editable.prototype.refreshRedo,callback:function(){this.redo()},undo:!1},html:{title:"Show HTML",icon:"fa fa-code",refresh:e.Editable.prototype.refreshHTML,callback:function(){this.html()},undo:!1},save:{title:"Save",icon:"fa fa-floppy-o",callback:function(){this.save()},undo:!1},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus",callback:function(e){this.insertHR(e)},undo:!0},removeFormat:{title:"Clear formatting",icon:"fa fa-eraser",activeless:!0,callback:function(){this.removeFormat()},undo:!0}},e.Editable.prototype.exec=function(t,i,n){return!this.selectionInEditor()&&e.Editable.commands[t].undo&&this.focus(),this.selectionInEditor()&&""===this.text()&&e.Editable.commands[t].callbackWithoutSelection?(e.Editable.commands[t].callbackWithoutSelection.apply(this,[t,i,n]),!1):void(e.Editable.commands[t].callback?e.Editable.commands[t].callback.apply(this,[t,i,n]):this.execDefault(t,i))},e.Editable.prototype.html=function(){var e;this.isHTML?(this.isHTML=!1,e=this.$html_area.val(),this.$box.removeClass("f-html"),this.$element.attr("contenteditable",!0),this.setHTML(e,!1),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').removeAttr("disabled"),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.$element.blur(),this.focus(),this.refreshButtons(),this.triggerEvent("htmlHide",[e],!0,!1)):(this.$box.removeClass("f-placeholder"),this.clearSelection(),this.cleanify(!1,!0,!1),e=this.cleanTags(this.getHTML(!1,!1)),this.$html_area.val(e).trigger("resize"),this.$html_area.css("height",this.$element.height()-1),this.$element.html("").append(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').attr("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.isHTML=!0,this.hide(),this.imageMode=!1,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.triggerEvent("htmlShow",[e],!0,!1))},e.Editable.prototype.insertHR=function(t){this.$element.find("hr").addClass("fr-tag"),this.$element.hasClass("f-placeholder")?e(this.$element.find("> "+this.valid_nodes.join(", >"))[0]).before("<hr/>"):this.document.execCommand(t),this.hide();var i=this.$element.find("hr:not(.fr-tag)").next(this.valid_nodes.join(","));i.length>0?e(i[0]).prepend(this.markers_html):this.$element.find("hr:not(.fr-tag)").after(this.options.paragraphy?"<p>"+this.markers_html+"<br/></p>":this.markers_html),this.restoreSelectionByMarkers(),this.triggerEvent(t,[],!0,!1)},e.Editable.prototype.formatBlock=function(t){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&e.Editable.getIEversion()<9)return"n"==t&&(t=this.options.defaultTag),this.document.execCommand("formatBlock",!1,"<"+t+">"),this.triggerEvent("formatBlock"),!1;if(this.$element.hasClass("f-placeholder")){if(this.options.paragraphy||"n"!=t){"n"==t&&(t=this.options.defaultTag);var i=e("<"+t+"><br/></"+t+">");this.$element.html(i),this.setSelection(i.get(0),0),this.$element.removeClass("f-placeholder")}}else{this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var n=this.getSelectionElements();n[0]==this.$element.get(0)&&(n=this.$element.find("> "+this.valid_nodes.join(", >"))),this.saveSelectionByMarkers();for(var r,o=function(t){if("PRE"==t.get(0).tagName)for(;t.find("br + br").length>0;){var i=e(t.find("br + br")[0]);i.prev().remove(),i.replaceWith("\n\n")}},s=0;s<n.length;s++){var a=e(n[s]);if(!this.fakeEmpty(a)){if(o(a),!this.options.paragraphy&&this.emptyElement(a.get(0))&&a.append("<br/>"),"n"==t)if(this.options.paragraphy){var l="<"+this.options.defaultTag+this.attrs(a.get(0))+">"+a.html()+"</"+this.options.defaultTag+">";r=e(l)}else r=a.html()+"<br/>";else r=e("<"+t+this.attrs(a.get(0))+">").html(a.html());a.get(0)!=this.$element.get(0)?a.replaceWith(r):a.html(r)}}this.unwrapText(),this.$element.find("pre + pre").each(function(){e(this).prepend(e(this).prev().html()+"<br/><br/>"),e(this).prev().remove()});var d=this;this.$element.find(this.valid_nodes.join(",")).each(function(){"PRE"!=this.tagName&&e(this).replaceWith("<"+this.tagName+d.attrs(this)+">"+e(this).html().replace(/\n\n/gi,"</"+this.tagName+"><"+this.tagName+">")+"</"+this.tagName+">")}),this.$element.find(this.valid_nodes.join(":empty ,")+":empty").append("<br/>"),this.cleanupLists(),this.restoreSelectionByMarkers()}this.triggerEvent("formatBlock"),this.repositionEditor()},e.Editable.prototype.align=function(t){if(this.browser.msie&&e.Editable.getIEversion()<9)return this.document.execCommand(t,!1,!1),this.triggerEvent("align",[t]),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers(),this.saveSelectionByMarkers();var i=this.getSelectionElements();"justifyLeft"==t?t="left":"justifyRight"==t?t="right":"justifyCenter"==t?t="center":"justifyFull"==t&&(t="justify");for(var n=0;n<i.length;n++)this.parents(e(i[n]),"LI").length>0&&(i[n]=e(i[n]).parents("LI").get(0)),e(i[n]).css("text-align",t);this.cleanupLists(),this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),this.triggerEvent("align",[t])},e.Editable.prototype.indent=function(t,i){if(void 0===i&&(i=!0),this.browser.msie&&e.Editable.getIEversion()<9)return t?this.document.execCommand("outdent",!1,!1):this.document.execCommand("indent",!1,!1),!1;var n=20;t&&(n=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var r=this.getSelectionElements();this.saveSelectionByMarkers();for(var o=0;o<r.length;o++)e(r[o]).parentsUntil(this.$element,"li").length>0&&(r[o]=e(r[o]).closest("li").get(0));for(var s=0;s<r.length;s++){var a=e(r[s]);if(this.raiseEvent("indent",[a,t]))if(a.get(0)!=this.$element.get(0)){var l=parseInt(a.css("margin-left"),10),d=Math.max(0,l+n);a.css("marginLeft",d),0===d&&(a.css("marginLeft",""),void 0===a.css("style")&&a.removeAttr("style"))}else{var c=e("<div>").html(a.html());a.html(c),c.css("marginLeft",Math.max(0,n)),0===Math.max(0,n)&&(c.css("marginLeft",""),void 0===c.css("style")&&c.removeAttr("style"))}}this.unwrapText(),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),t||this.triggerEvent("indent")},e.Editable.prototype.outdent=function(e){this.indent(!0,e),this.triggerEvent("outdent")},e.Editable.prototype.execDefault=function(e,t){this.saveUndoStep(),this.document.execCommand(e,!1,t),this.triggerEvent(e,[],!0,!0)},e.Editable.prototype._startInDefault=function(e){this.focus(),this.document.execCommand(e,!1,!1),this.refreshButtons()},e.Editable.prototype._startInFontExec=function(t,i,n){this.focus();try{var r=this.getRange(),o=r.cloneRange();o.collapse(!1);var s=e('<span data-inserted="true" data-fr-verified="true" style="'+t+": "+n+';">'+e.Editable.INVISIBLE_SPACE+"</span>",this.document);o.insertNode(s[0]),s=this.$element.find("[data-inserted]"),s.removeAttr("data-inserted"),this.setSelection(s.get(0),1),null!=i&&this.triggerEvent(i,[n],!0,!0)}catch(a){}},e.Editable.prototype.removeFormat=function(){this.document.execCommand("removeFormat",!1,!1),this.document.execCommand("unlink",!1,!1),this.refreshButtons()},e.Editable.prototype.inlineStyle=function(t,i,n){if(this.browser.webkit){var r=function(e){return e.attr("style").indexOf("font-size")>=0};this.$element.find("[style]").each(function(t,i){var n=e(i);r(n)&&(n.attr("data-font-size",n.css("font-size")),n.css("font-size",""))})}this.document.execCommand("fontSize",!1,4),this.saveSelectionByMarkers(),this.browser.webkit&&this.$element.find("[data-font-size]").each(function(t,i){var n=e(i);n.css("font-size",n.attr("data-font-size")),n.removeAttr("data-font-size")});var o=function(i){var r=e(i);r.css(t)!=n&&r.css(t,""),""===r.attr("style")&&r.replaceWith(r.html())};this.$element.find("font").each(function(i,r){var s=e('<span data-fr-verified="true" style="'+t+": "+n+';">'+e(r).html()+"</span>");e(r).replaceWith(s);for(var a=s.find("span"),l=a.length-1;l>=0;l--)o(a[l])}),this.removeBlankSpans(),this.restoreSelectionByMarkers(),this.repositionEditor(),null!=i&&this.triggerEvent(i,[n],!0,!0)}}(jQuery),function(e){e.Editable.prototype.addListener=function(e,t){var i=this._events,n=i[e]=i[e]||[];n.push(t)},e.Editable.prototype.raiseEvent=function(e,t){void 0===t&&(t=[]);var i=!0,n=this._events[e];if(n)for(var r=0,o=n.length;o>r;r++){var s=n[r].apply(this,t);void 0!==s&&i!==!1&&(i=s)}return void 0===i&&(i=!0),i}}(jQuery),function(e){e.Editable.prototype.start_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',e.Editable.prototype.end_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span>',e.Editable.prototype.markers_html='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span><span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',e.Editable.prototype.text=function(){var e="";return this.window.getSelection?e=this.window.getSelection():this.document.getSelection?e=this.document.getSelection():this.document.selection&&(e=this.document.selection.createRange().text),e.toString()},e.Editable.prototype.selectionInEditor=function(){var t=this.getSelectionParent(),i=!1;return t==this.$element.get(0)&&(i=!0),i===!1&&e(t).parents().each(e.proxy(function(e,t){t==this.$element.get(0)&&(i=!0)},this)),i},e.Editable.prototype.getSelection=function(){var e="";return e=this.window.getSelection?this.window.getSelection():this.document.getSelection?this.document.getSelection():this.document.selection.createRange()},e.Editable.prototype.getRange=function(){var e=this.getRanges();return e.length>0?e[0]:null},e.Editable.prototype.getRanges=function(){var e=this.getSelection();if(e.getRangeAt&&e.rangeCount){for(var t=[],i=0;i<e.rangeCount;i++)t.push(e.getRangeAt(i));return t}return this.document.createRange?[this.document.createRange()]:[]},e.Editable.prototype.clearSelection=function(){var e=this.getSelection();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}},e.Editable.prototype.getSelectionElement=function(){var t=this.getSelection();if(t&&t.rangeCount){var i=this.getRange(),n=i.startContainer;if(1==n.nodeType){var r=!1;n.childNodes.length>0&&n.childNodes[i.startOffset]&&e(n.childNodes[i.startOffset]).text()===this.text()&&(n=n.childNodes[i.startOffset],r=!0),!r&&n.childNodes.length>0&&e(n.childNodes[0]).text()===this.text()&&["BR","IMG","HR"].indexOf(n.childNodes[0].tagName)<0&&(n=n.childNodes[0])}for(;1!=n.nodeType&&n.parentNode;)n=n.parentNode;for(var o=n;o&&"BODY"!=o.tagName;){if(o==this.$element.get(0))return n;o=e(o).parent()[0]}}return this.$element.get(0)},e.Editable.prototype.getSelectionParent=function(){var t,i=null;return this.window.getSelection?(t=this.window.getSelection(),t&&t.rangeCount&&(i=t.getRangeAt(0).commonAncestorContainer,1!=i.nodeType&&(i=i.parentNode))):(t=this.document.selection)&&"Control"!=t.type&&(i=t.createRange().parentElement()),null!=i&&(e.inArray(this.$element.get(0),e(i).parents())>=0||i==this.$element.get(0))?i:null},e.Editable.prototype.nodeInRange=function(e,t){var i;if(e.intersectsNode)return e.intersectsNode(t);i=t.ownerthis.document.createRange();try{i.selectNode(t)}catch(n){i.selectNodeContents(t)}return-1==e.compareBoundaryPoints(Range.END_TO_START,i)&&1==e.compareBoundaryPoints(Range.START_TO_END,i)},e.Editable.prototype.getElementFromNode=function(t){for(1!=t.nodeType&&(t=t.parentNode);null!==t&&this.valid_nodes.indexOf(t.tagName)<0;)t=t.parentNode;return null!=t&&"LI"==t.tagName&&e(t).find(this.valid_nodes.join(",")).not("li").length>0?null:e.makeArray(e(t).parents()).indexOf(this.$element.get(0))>=0?t:null},e.Editable.prototype.nextNode=function(e,t){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling&&e!=t;)e=e.parentNode;return e&&e!=t?e.nextSibling:null},e.Editable.prototype.getRangeSelectedNodes=function(e){var t=[],i=e.startContainer,n=e.endContainer;if(i==n&&"TR"!=i.tagName){if(i.hasChildNodes()&&0!==i.childNodes.length){for(var r=i.childNodes,o=e.startOffset;o<e.endOffset;o++)r[o]&&t.push(r[o]);return 0===t.length&&t.push(i),t}return[i]}if(i==n&&"TR"==i.tagName){var s=i.childNodes,a=e.startOffset;if(s.length>a&&a>=0){var l=s[a];if("TD"==l.tagName||"TH"==l.tagName)return[l]}}for(;i&&i!=n;)i=this.nextNode(i,n),(i!=n||e.endOffset>0)&&t.push(i);for(i=e.startContainer;i&&i!=e.commonAncestorContainer;)t.unshift(i),i=i.parentNode;return t},e.Editable.prototype.getSelectedNodes=function(){if(this.window.getSelection){var t=this.window.getSelection();if(!t.isCollapsed){for(var i=this.getRanges(),n=[],r=0;r<i.length;r++)n=e.merge(n,this.getRangeSelectedNodes(i[r]));return n}if(this.selectionInEditor()){var o=t.getRangeAt(0).startContainer;return 3==o.nodeType?[o.parentNode]:[o]}}return[]},e.Editable.prototype.getSelectionElements=function(){var t=this.getSelectedNodes(),i=[];return e.each(t,e.proxy(function(e,t){if(null!==t){var n=this.getElementFromNode(t);i.indexOf(n)<0&&n!=this.$element.get(0)&&null!==n&&i.push(n)}},this)),0===i.length&&i.push(this.$element.get(0)),i},e.Editable.prototype.getSelectionLink=function(){var t=this.getSelectionLinks();return t.length>0?e(t[0]).attr("href"):null},e.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){this.savedRanges=[];for(var e=this.getRanges(),t=0;t<e.length;t++)this.savedRanges.push(e[t].cloneRange())}},e.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var e,t,i=this.getSelection();if(this.savedRanges&&this.savedRanges.length)for(i.removeAllRanges(),e=0,t=this.savedRanges.length;t>e;e+=1)i.addRange(this.savedRanges[e]);this.savedRanges=null}},e.Editable.prototype.insertMarkersAtPoint=function(e){var t=e.clientX,i=e.clientY;this.removeMarkers();var n,r=null;if("undefined"!=typeof this.document.caretPositionFromPoint?(n=this.document.caretPositionFromPoint(t,i),r=this.document.createRange(),r.setStart(n.offsetNode,n.offset),r.setEnd(n.offsetNode,n.offset)):"undefined"!=typeof this.document.caretRangeFromPoint&&(n=this.document.caretRangeFromPoint(t,i),r=this.document.createRange(),r.setStart(n.startContainer,n.startOffset),r.setEnd(n.startContainer,n.startOffset)),null!==r&&"undefined"!=typeof this.window.getSelection){var o=this.window.getSelection();o.removeAllRanges(),o.addRange(r)}else if("undefined"!=typeof this.document.body.createTextRange)try{r=this.document.body.createTextRange(),r.moveToPoint(t,i);var s=r.duplicate();s.moveToPoint(t,i),r.setEndPoint("EndToEnd",s),r.select()}catch(a){}this.placeMarker(r,!0,0),this.placeMarker(r,!1,0)},e.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){this.selectionInEditor()||this.focus(),this.removeMarkers();for(var e=this.getRanges(),t=0;t<e.length;t++)if(e[t].startContainer!==this.document){var i=e[t];this.placeMarker(i,!0,t),this.placeMarker(i,!1,t)}}},e.Editable.prototype.hasSelectionByMarkers=function(){var e=this.$element.find('.f-marker[data-type="true"]');return e.length>0?!0:!1},e.Editable.prototype.restoreSelectionByMarkers=function(t){if(void 0===t&&(t=!0),!this.selectionDisabled){var i=this.$element.find('.f-marker[data-type="true"]');if(0===i.length)return!1;this.$element.is(":focus")||this.browser.msie||this.$element.focus();var n=this.getSelection();(t||this.getRange()&&!this.getRange().collapsed||!e(i[0]).attr("data-collapsed"))&&(this.browser.msie&&e.Editable.getIEversion()<9||(this.clearSelection(),t=!0));for(var r=0;r<i.length;r++){var o=e(i[r]).data("id"),s=i[r],a=this.$element.find('.f-marker[data-type="false"][data-id="'+o+'"]');if(this.browser.msie&&e.Editable.getIEversion()<9)return this.setSelection(s,0,a,0),this.removeMarkers(),!1;var l;if(l=t?this.document.createRange():this.getRange(),a.length>0){a=a[0];try{l.setStartAfter(s),l.setEndBefore(a)}catch(d){}}t&&n.addRange(l)}this.removeMarkers()}},e.Editable.prototype.setSelection=function(e,t,i,n){var r=this.getSelection();if(r){this.clearSelection();try{i||(i=e),void 0===t&&(t=0),void 0===n&&(n=t);var o=this.getRange();o.setStart(e,t),o.setEnd(i,n),r.addRange(o)}catch(s){}}},e.Editable.prototype.buildMarker=function(t,i,n){return void 0===n&&(n=""),e('<span class="f-marker"'+n+' style="display:none; line-height: 0;" data-fr-verified="true" data-id="'+i+'" data-type="'+t+'">',this.document)[0]},e.Editable.prototype.placeMarker=function(t,i,n){var r="";t.collapsed&&(r=' data-collapsed="true"');try{var o=t.cloneRange();o.collapse(i);var s,a,l;if(o.insertNode(this.buildMarker(i,n,r)),i===!0&&r)for(s=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;3===s.nodeType&&0===s.data.length;)e(s).remove(),s=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;if(i===!0&&""===r&&(l=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0),s=l.nextSibling,s&&s.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(s.tagName)>=0)){a=[s];do s=a[0],a=e(s).contents();while(a[0]&&this.valid_nodes.indexOf(a[0].tagName)>=0);e(s).prepend(e(l))}if(i===!1&&""===r&&(l=this.$element.find('span.f-marker[data-type="false"][data-id="'+n+'"]').get(0),s=l.previousSibling,s&&s.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(s.tagName)>=0)){a=[s];do s=a[a.length-1],a=e(s).contents();while(a[a.length-1]&&this.valid_nodes.indexOf(a[a.length-1].tagName)>=0);e(s).append(e(l))}}catch(d){}},e.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},e.Editable.prototype.getSelectionTextInfo=function(e){var t,i,n=!1,r=!1;if(this.window.getSelection){var o=this.window.getSelection();o&&o.rangeCount&&(t=o.getRangeAt(0),i=t.cloneRange(),i.selectNodeContents(e),i.setEnd(t.startContainer,t.startOffset),n=""===i.toString(),i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),r=""===i.toString())}else this.document.selection&&"Control"!=this.document.selection.type&&(t=this.document.selection.createRange(),i=t.duplicate(),i.moveToElementText(e),i.setEndPoint("EndToStart",t),n=""===i.text,i.moveToElementText(e),i.setEndPoint("StartToEnd",t),r=""===i.text);return{atStart:n,atEnd:r}},e.Editable.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)}}(jQuery),function(e){e.Editable.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.Editable.hexToRGBString=function(e){var t=this.hexToRGB(e);return t?"rgb("+t.r+", "+t.g+", "+t.b+")":""},e.Editable.RGBToHex=function(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(i){return null}},e.Editable.getIEversion=function(){var e,t,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(i=parseFloat(RegExp.$1))),i},e.Editable.browser=function(){var e={};if(this.getIEversion()>0)e.msie=!0;else{var t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n={browser:i[1]||"",version:i[2]||"0"};i[1]&&(e[n.browser]=!0),parseInt(n.version,10)<9&&e.msie&&(e.oldMsie=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e},e.Editable.isArray=function(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length},e.Editable.uniq=function(t){return e.grep(t,function(i,n){return n==e.inArray(i,t)})},e.Editable.cleanWhitespace=function(t){t.contents().filter(function(){return 1==this.nodeType&&e.Editable.cleanWhitespace(e(this)),3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}}(jQuery),function(e){e.Editable.prototype.show=function(t){if(this.hideDropdowns(),void 0!==t){if(this.options.inlineMode||this.options.editInPopup)if(null!==t&&"touchend"!==t.type){if(this.options.showNextToCursor){var i=t.pageX,n=t.pageY;i<this.$element.offset().left&&(i=this.$element.offset().left),i>this.$element.offset().left+this.$element.width()&&(i=this.$element.offset().left+this.$element.width()),n<this.$element.offset.top&&(n=this.$element.offset().top),n>this.$element.offset().top+this.$element.height()&&(n=this.$element.offset().top+this.$element.height()),20>i&&(i=20),0>n&&(n=0),this.showByCoordinates(i,n)}else this.repositionEditor();e(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0!==this.options.buttons.length||this.options.editInPopup||this.$editor.hide()}else e(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},e.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},e.Editable.prototype.hide=function(e){return this.initialized?(void 0===e&&(e=!0),e?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),void(this.link=!1)):!1},e.Editable.prototype.hideOtherEditors=function(){for(var t=1;t<=e.Editable.count;t++)t!=this._id&&this.$window.trigger("hide."+t)},e.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},e.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},e.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout(e.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},e.Editable.prototype.hidePopups=function(e){void 0===e&&(e=!0),e&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},e.Editable.prototype.showEditPopup=function(){this.showEditPopupWrapper()}}(jQuery),function(e){e.Editable.prototype.getBoundingRect=function(){var t;if(this.isLink){t={};var i=this.$element;t.left=i.offset().left-this.$window.scrollLeft(),t.top=i.offset().top-this.$window.scrollTop(),t.width=i.outerWidth(),t.height=parseInt(i.css("padding-top").replace("px",""),10)+i.height(),t.right=1,t.bottom=1,t.ok=!0}else if(this.getRange()&&this.getRange().collapsed){var n=e(this.getSelectionElement());this.saveSelectionByMarkers();var r=this.$element.find(".f-marker:first");r.css("display","inline");var o=r.offset();r.css("display","none"),t={},t.left=o.left-this.$window.scrollLeft(),t.width=0,t.height=(parseInt(n.css("line-height").replace("px",""),10)||10)-10-this.$window.scrollTop(),t.top=o.top,t.right=1,t.bottom=1,t.ok=!0,this.removeMarkers()}else this.getRange()&&(t=this.getRange().getBoundingClientRect());return t},e.Editable.prototype.repositionEditor=function(e){var t,i,n;if(this.options.inlineMode||e){if(t=this.getBoundingRect(),this.showBttnWrapper(),t.ok||t.left>=0&&t.top>=0&&t.right>0&&t.bottom>0)i=t.left+t.width/2,n=t.top+t.height,this.iOS()&&this.iOSVersion()<8||(i+=this.$window.scrollLeft(),n+=this.$window.scrollTop()),this.showByCoordinates(i,n);else if(this.options.alwaysVisible)this.hide();else{var r=this.$element.offset();this.showByCoordinates(r.left,r.top+10)}0===this.options.buttons.length&&this.hide()}},e.Editable.prototype.showByCoordinates=function(e,t){e-=22,t+=8;var i=this.$document.find(this.options.scrollableContainer);"body"!=this.options.scrollableContainer&&(e-=i.offset().left,t-=i.offset().top,this.iPad()||(e+=i.scrollLeft(),t+=i.scrollTop()));var n=Math.max(this.$popup_editor.outerWidth(),250);e+n>=i.outerWidth()-50&&e+44-n>0?(this.$popup_editor.addClass("right-side"),e=i.outerWidth()-(e+44),"static"==i.css("position")&&(e=e+parseFloat(i.css("margin-left"),10)+parseFloat(i.css("margin-right"),10)),this.$popup_editor.css("top",t),this.$popup_editor.css("right",e),this.$popup_editor.css("left","auto")):e+n<i.outerWidth()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",t),this.$popup_editor.css("left",e),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",t),this.$popup_editor.css("left",Math.max(i.outerWidth()-n,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},e.Editable.prototype.positionPopup=function(t){if(e(this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]')).length){var i=this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]'),n=i.width(),r=i.height(),o=i.offset().left+n/2,s=i.offset().top+r;this.showByCoordinates(o,s)}}}(jQuery),function(e){e.Editable.prototype.refreshImageAlign=function(e){this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var t="floatImageNone",i="center";e.hasClass("fr-fil")?(i="left",t="floatImageLeft"):e.hasClass("fr-fir")&&(i="right",t="floatImageRight"),this.$image_editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+i),this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+t+'"]').addClass("active")},e.Editable.prototype.refreshImageDisplay=function(){var e=this.$element.find(".f-img-editor");this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li').removeClass("active"),e.hasClass("fr-dib")?this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dib"]').addClass("active"):this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dii"]').addClass("active")},e.Editable.image_commands={align:{title:"Alignment",icon:"fa fa-align-center",refresh:e.Editable.prototype.refreshImageAlign,refreshOnShow:e.Editable.prototype.refreshImageAlign,seed:[{cmd:"floatImageLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"floatImageNone",title:"Align Center",icon:"fa fa-align-center"},{cmd:"floatImageRight",title:"Align Right",icon:"fa fa-align-right"}],callback:function(e,t,i){this[i](e)},undo:!0},display:{title:"Text Wrap",icon:"fa fa-star",refreshOnShow:e.Editable.prototype.refreshImageDisplay,namespace:"Image",seed:[{title:"Inline",value:"fr-dii"},{title:"Break Text",value:"fr-dib"}],callback:function(e,t,i){this.displayImage(e,i)},undo:!0},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"},callback:function(e){this.linkImage(e)}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"},callback:function(e){this.replaceImage(e)}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"},callback:function(e){this.removeImage(e)}}},e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{allowedImageTypes:["jpeg","jpg","png","gif"],customImageButtons:{},defaultImageTitle:"Image title",
defaultImageWidth:300,defaultImageDisplay:"block",defaultImageAlignment:"center",imageButtons:["display","align","linkImage","replaceImage","removeImage"],imageDeleteConfirmation:!0,imageDeleteURL:null,imageDeleteParams:{},imageMove:!0,imageResize:!0,imageLink:!0,imageTitle:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",maxImageSize:10485760,pasteImage:!0,textNearImage:!0}),e.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},e.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},e.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},e.Editable.prototype.hideImageWrapper=function(e){this.$image_wrapper&&(this.$element.attr("data-resize")||e||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide(),this.$image_wrapper.find("input").blur())},e.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},e.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},e.Editable.prototype.insertImageHTML=function(){var t='<div class="froala-popup froala-image-popup" style="display: none;"><h4><span data-text="true">Insert Image</span><span data-text="true">Uploading image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return t+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(t+='<div class="f-popup-line drop-upload">',t+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&e.Editable.getIEversion()<=9&&(t+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;"></iframe>'),t+="</div>"),this.options.imageLink&&(t+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse fr-p-bttn" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok fr-p-bttn f-submit" id="f-image-ok-'+this._id+'">OK</button></div>'),t+="</div>",t+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',t+="</div>"},e.Editable.prototype.iFrameLoad=function(){var e=this.$image_wrapper.find("iframe#frame-"+this._id);if(!e.attr("data-loaded"))return e.attr("data-loaded",!0),!1;try{var t=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.options.imageUploadToS3){var i=t.attr("action"),n=t.find('input[name="key"]').val(),r=i+n;this.writeImage(r),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,r,n)}else{var o=e.contents().text();this.parseImageResponse(o)}}catch(s){this.throwImageError(7)}},e.Editable.prototype.initImage=function(){this.buildInsertImage(),(!this.isLink||this.isImage)&&this.initImagePopup(),this.addListener("destroy",this.destroyImage)},e.Editable.initializers.push(e.Editable.prototype.initImage),e.Editable.prototype.destroyImage=function(){this.$image_editor&&this.$image_editor.html("").removeData().remove(),this.$image_wrapper&&this.$image_wrapper.html("").removeData().remove()},e.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=e(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var t=this;if(this.$image_wrapper.on("mouseup touchend",e.proxy(function(e){this.isResizing()||e.stopPropagation()},this)),this.addListener("hidePopups",e.proxy(function(){this.hideImageWrapper(!0)},this)),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&e.Editable.getIEversion()<=9){var i=this.$image_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){t.iFrameLoad()}):i.onload=function(){t.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)t.uploadImage(this.files);else{if(!t.triggerEvent("beforeImageUpload",[],!1))return!1;var i=e(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in t.options.imageUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+t.options.imageUploadParams[n]+'" />');if(t.options.imageUploadToS3!==!1){for(n in t.options.imageUploadToS3.params)i.prepend('<input type="hidden" name="'+n+'" value="'+t.options.imageUploadToS3.params[n]+'" />');i.prepend('<input type="hidden" name="success_action_status" value="201" />'),i.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),i.prepend('<input type="hidden" name="Content-Type" value="" />'),i.prepend('<input type="hidden" name="key" value="'+t.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+e(this).val().match(/[^\/\\]+$/)+'" />')}else i.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+t.window.location.href+'" />');t.showInsertImage(),t.showImageLoader(!0),t.disable(),i.submit()}e(this).val("")})}this.buildDragUpload(),this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,e.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on(this.mouseup,"#f-image-close-"+this._id,e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0===this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||(this.restoreSelection(),this.focus()),void(this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()))},this)),this.$image_wrapper.on("click",function(e){e.stopPropagation()}),this.$image_wrapper.on("click","*",function(e){e.stopPropagation()})},e.Editable.prototype.deleteImage=function(t){if(this.options.imageDeleteURL){var i=this.options.imageDeleteParams;i.info=t.data("info"),i.src=t.attr("src"),e.ajax({type:"POST",url:this.options.imageDeleteURL,data:i,crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(e.proxy(function(e){t.parent().parent().hasClass("f-image-list")?t.parent().remove():t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteSuccess",[e],!1)},this)).fail(e.proxy(function(){t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Error during image delete."],!1)},this))}else t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Missing imageDeleteURL option."],!1)},e.Editable.prototype.imageHandle=function(){var t=this,i=e('<span data-fr-verified="true">').addClass("f-img-handle").on({movestart:function(i){t.hide(),t.$element.addClass("f-non-selectable").attr("contenteditable",!1),t.$element.attr("data-resize",!0),e(this).attr("data-start-x",i.startX),e(this).attr("data-start-y",i.startY)},move:function(i){var n=e(this),r=i.pageX-parseInt(n.attr("data-start-x"),10);n.attr("data-start-x",i.pageX),n.attr("data-start-y",i.pageY);var o=n.prevAll("img"),s=o.width();n.hasClass("f-h-ne")||n.hasClass("f-h-se")?o.attr("width",s+r):o.attr("width",s-r),t.triggerEvent("imageResize",[o],!1)},moveend:function(){e(this).removeAttr("data-start-x"),e(this).removeAttr("data-start-y");var i=e(this),n=i.prevAll("img");t.$element.removeClass("f-non-selectable"),t.isImage||t.$element.attr("contenteditable",!0),t.triggerEvent("imageResizeEnd",[n]),e(this).trigger("mouseup")},touchend:function(){e(this).trigger("moveend")}});return i},e.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}},e.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},e.Editable.prototype.getImageStyle=function(e){var t="z-index: 1; position: relative; overflow: auto;",i=e,n="padding";return e.parent().hasClass("f-img-editor")&&(i=e.parent(),n="margin"),t+=" padding-left:"+i.css(n+"-left")+";",t+=" padding-right:"+i.css(n+"-right")+";",t+=" padding-bottom:"+i.css(n+"-bottom")+";",t+=" padding-top:"+i.css(n+"-top")+";",e.hasClass("fr-dib")?(t+=" vertical-align: top; display: block;",t+=e.hasClass("fr-fir")?" float: none; margin-right: 0; margin-left: auto;":e.hasClass("fr-fil")?" float: none; margin-left: 0; margin-right: auto;":" float: none; margin: auto;"):(t+=" display: inline-block;",t+=e.hasClass("fr-fir")?" float: right;":e.hasClass("fr-fil")?" float: left;":" float: none;"),t},e.Editable.prototype.getImageClass=function(e){var t=e.split(" ");return e="fr-fin",t.indexOf("fr-fir")>=0&&(e="fr-fir"),t.indexOf("fr-fil")>=0&&(e="fr-fil"),t.indexOf("fr-dib")>=0&&(e+=" fr-dib"),t.indexOf("fr-dii")>=0&&(e+=" fr-dii"),e},e.Editable.prototype.refreshImageButtons=function(e){this.$image_editor.find("button").removeClass("active");var t=e.css("float");t=e.hasClass("fr-fil")?"Left":e.hasClass("fr-fir")?"Right":"None",this.$image_editor.find('button[data-cmd="floatImage'+t+'"]').addClass("active"),this.raiseEvent("refreshImage",[e])},e.Editable.prototype.initImageEvents=function(){document.addEventListener&&!document.dropAssigned&&(document.dropAssigned=!0,document.addEventListener("drop",e.proxy(function(t){return e(".froala-element img.fr-image-move").length?(t.preventDefault(),t.stopPropagation(),e(".froala-element img.fr-image-move").removeClass("fr-image-move"),!1):void 0},this))),this.disableImageResize();var t=this;this.$element.on("mousedown",'img:not([contenteditable="false"])',function(i){return t.isDisabled?!1:void(t.isResizing()||(t.initialized&&i.stopPropagation(),t.$element.attr("contenteditable",!1),e(this).addClass("fr-image-move")))}),this.$element.on("mouseup",'img:not([contenteditable="false"])',function(){return t.isDisabled?!1:void(t.isResizing()||(t.options.imageMove||t.isImage||t.isHTML||t.$element.attr("contenteditable",!0),e(this).removeClass("fr-image-move")))}),this.$element.on("click touchend",'img:not([contenteditable="false"])',function(i){if(t.isDisabled)return!1;if(!t.isResizing()&&t.initialized){if(i.preventDefault(),i.stopPropagation(),t.closeImageMode(),t.$element.blur(),t.refreshImageButtons(e(this)),t.$image_editor.find('.f-image-alt input[type="text"]').val(e(this).attr("alt")||e(this).attr("title")),t.showImageEditor(),!e(this).parent().hasClass("f-img-editor")||"SPAN"!=e(this).parent().get(0).tagName){var n=t.getImageClass(e(this).attr("class"));e(this).wrap('<span data-fr-verified="true" class="f-img-editor '+n+'"></span>'),0!==e(this).parents(".f-img-wrap").length||t.isImage?e(this).parents(".f-img-wrap").attr("class",n+" f-img-wrap"):e(this).parents("a").length>0?e(this).parents("a:first").wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>'):e(this).parent().wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>')}if(e(this).parent().find(".f-img-handle").remove(),t.options.imageResize){var r=t.imageHandle();e(this).parent().append(r.clone(!0).addClass("f-h-ne")),e(this).parent().append(r.clone(!0).addClass("f-h-se")),e(this).parent().append(r.clone(!0).addClass("f-h-sw")),e(this).parent().append(r.clone(!0).addClass("f-h-nw"))}t.showByCoordinates(e(this).offset().left+e(this).width()/2,e(this).offset().top+e(this).height()),t.imageMode=!0,t.$bttn_wrapper.find(".fr-bttn").removeClass("active"),t.clearSelection()}}),this.$element.on("mousedown touchstart",".f-img-handle",e.proxy(function(){return t.isDisabled?!1:void this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",e.proxy(function(i){if(t.isDisabled)return!1;var n=e(i.target).prevAll("img");setTimeout(e.proxy(function(){this.$element.removeAttr("data-resize"),n.click()},this),0)},this))},e.Editable.prototype.execImage=function(t,i,n){var r=this.$element.find("span.f-img-editor"),o=r.find("img"),s=e.Editable.image_commands[t]||this.options.customImageButtons[t];s&&s.callback&&s.callback.apply(this,[o,t,i,n])},e.Editable.prototype.bindImageRefreshListener=function(t){t.refresh&&this.addListener("refreshImage",e.proxy(function(e){t.refresh.apply(this,[e])},this))},e.Editable.prototype.buildImageButton=function(e,t){var i='<button class="fr-bttn" data-namespace="Image" data-cmd="'+t+'" title="'+e.title+'">';return i+=void 0!==this.options.icons[t]?this.prepareIcon(this.options.icons[t],e.title):this.prepareIcon(e.icon,e.title),i+="</button>",this.bindImageRefreshListener(e),i},e.Editable.prototype.buildImageAlignDropdown=function(e){this.bindImageRefreshListener(e);for(var t='<ul class="fr-dropdown-menu f-align">',i=0;i<e.seed.length;i++){var n=e.seed[i];t+='<li data-cmd="align" data-namespace="Image" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return t+="</ul>"},e.Editable.prototype.buildImageDropdown=function(e){return dropdown=this.buildDefaultDropdown(e),btn=this.buildDropdownButton(e,dropdown),btn},e.Editable.prototype.image_command_dispatcher={align:function(e){var t=this.buildImageAlignDropdown(e),i=this.buildDropdownButton(e,t);return i}},e.Editable.prototype.buildImageButtons=function(){for(var t="",i=0;i<this.options.imageButtons.length;i++){var n=this.options.imageButtons[i];if(void 0!==e.Editable.image_commands[n]||void 0!==this.options.customImageButtons[n]){var r=e.Editable.image_commands[n]||this.options.customImageButtons[n];r.cmd=n;var o=this.image_command_dispatcher[n];t+=o?o.apply(this,[r]):r.seed?this.buildImageDropdown(r,n):this.buildImageButton(r,n)}}return t},e.Editable.prototype.initImagePopup=function(){this.$image_editor=e('<div class="froala-popup froala-image-editor-popup" style="display: none">');var t=e('<div class="f-popup-line f-popup-toolbar">').appendTo(this.$image_editor);t.append(this.buildImageButtons()),this.addListener("hidePopups",this.hideImageEditorPopup),this.options.imageTitle&&e('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append(e('<input type="text">').on("mouseup keydown touchend",function(e){var t=e.which;t&&27===t||e.stopPropagation()})).append('<button class="fr-p-bttn f-ok" data-text="true" data-callback="setImageAlt" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this.$popup_editor.append(this.$image_editor),this.bindCommandEvents(this.$image_editor),this.bindDropdownEvents(this.$image_editor)},e.Editable.prototype.displayImage=function(e,t){var i=e.parents("span.f-img-editor");i.removeClass("fr-dii fr-dib").addClass(t),this.triggerEvent("imageDisplayed",[e,t]),e.click()},e.Editable.prototype.floatImageLeft=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fil"),this.isImage&&this.$element.css("float","left"),this.triggerEvent("imageFloatedLeft",[e]),e.click()},e.Editable.prototype.floatImageNone=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fin"),this.isImage||(t.parent().get(0)==this.$element.get(0)?t.wrap('<div style="text-align: center;"></div>'):t.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.triggerEvent("imageFloatedNone",[e]),e.click()},e.Editable.prototype.floatImageRight=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fir"),this.isImage&&this.$element.css("float","right"),this.triggerEvent("imageFloatedRight",[e]),e.click()},e.Editable.prototype.linkImage=function(e){this.imageMode=!0,this.showInsertLink();var t=e.parents("span.f-img-editor");"A"==t.parent().get(0).tagName?this.updateLinkValues(t.parent()):this.resetLinkValues()},e.Editable.prototype.replaceImage=function(e){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(e.attr("src")),this.showByCoordinates(e.offset().left+e.width()/2,e.offset().top+e.height())},e.Editable.prototype.removeImage=function(t){var i=t.parents("span.f-img-editor");if(0===i.length)return!1;var n=t.get(0),r="Are you sure? Image will be deleted.";if(e.Editable.LANGS[this.options.language]&&(r=e.Editable.LANGS[this.options.language].translation[r]),!this.options.imageDeleteConfirmation||confirm(r)){if(this.triggerEvent("beforeRemoveImage",[e(n)],!1)){var o=i.parents(this.valid_nodes.join(","));i.parents(".f-img-wrap").length?i.parents(".f-img-wrap").remove():i.remove(),this.refreshImageList(!0),this.hide(),o.length&&o[0]!=this.$element.get(0)&&""===e(o[0]).text()&&1==o[0].childNodes.length&&e(o[0]).remove(),this.wrapText(),this.triggerEvent("afterRemoveImage",[t]),this.focus(),this.imageMode=!1}}else t.click()},e.Editable.prototype.setImageAlt=function(){var e=this.$element.find("span.f-img-editor"),t=e.find("img");t.attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),t.attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.hide(),this.closeImageMode(),this.triggerEvent("imageAltSet",[t])},e.Editable.prototype.buildImageMove=function(){var t=this;this.isLink||this.initDrag(),t.$element.on("dragover dragenter dragend",function(e){e.preventDefault()}),t.$element.on("drop",function(i){if(t.isDisabled)return!1;if(t.closeImageMode(),t.hide(),t.imageMode=!1,t.initialized||(t.$element.unbind("mousedown.element"),t.lateInit()),!t.options.imageUpload||0!==e(".froala-element img.fr-image-move").length){if(e(".froala-element .fr-image-move").length>0&&t.options.imageMove){i.preventDefault(),i.stopPropagation(),t.insertMarkersAtPoint(i.originalEvent),t.restoreSelectionByMarkers();var n=e("<div>").append(e(".froala-element img.fr-image-move").clone().removeClass("fr-image-move").addClass("fr-image-dropped")).html();t.insertHTML(n);var r=e(".froala-element img.fr-image-move").parent();e(".froala-element img.fr-image-move").remove(),r.get(0)!=t.$element.get(0)&&r.is(":empty")&&r.remove(),t.clearSelection(),t.initialized?setTimeout(function(){t.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped").click()},0):t.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped"),t.sync(),t.hideOtherEditors()}else i.preventDefault(),i.stopPropagation(),e(".froala-element img.fr-image-move").removeClass("fr-image-move");return!1}if(i.originalEvent.dataTransfer&&i.originalEvent.dataTransfer.files&&i.originalEvent.dataTransfer.files.length){if(t.isDisabled)return!1;var o=i.originalEvent.dataTransfer.files;t.options.allowedImageTypes.indexOf(o[0].type.replace(/image\//g,""))>=0&&(t.insertMarkersAtPoint(i.originalEvent),t.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),t.uploadImage(o),i.preventDefault(),i.stopPropagation())}})},e.Editable.prototype.buildDragUpload=function(){var t=this;t.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return e(this).addClass("f-hover"),!1}),t.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return e(this).removeClass("f-hover"),!1}),t.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(i){return i.preventDefault(),i.stopPropagation(),t.options.imageUpload?(e(this).removeClass("f-hover"),void t.uploadImage(i.originalEvent.dataTransfer.files)):!1})},e.Editable.prototype.showImageLoader=function(t){if(void 0===t&&(t=!1),t){var i="Please wait!";e.Editable.LANGS[this.options.language]&&(i=e.Editable.LANGS[this.options.language].translation[i]),this.$progress_bar.find("span").css("width","100%").text(i)}else this.$image_wrapper.find("h4").addClass("uploading");this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()},e.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show(),this.$image_wrapper.find("h4").removeClass("uploading")},e.Editable.prototype.writeImage=function(t,i,n){if(i&&(t=this.sanitizeURL(t),""===t))return!1;var r=new Image;r.onerror=e.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),r.onload=this.imageMode?e.proxy(function(){var e=this.$element.find(".f-img-editor > img");e.attr("src",t),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.enable(),this.triggerEvent("imageReplaced",[e,n]),setTimeout(function(){e.trigger("click")},0)},this):e.proxy(function(){this.insertLoadedImage(t,n)},this),this.showImageLoader(!0),r.src=t},e.Editable.prototype.processInsertImage=function(t,i){void 0===i&&(i=!0),this.enable(),this.focus(),this.restoreSelection();var n="";parseInt(this.options.defaultImageWidth,10)&&(n=' width="'+this.options.defaultImageWidth+'"');var r="fr-fin";"left"==this.options.defaultImageAlignment&&(r="fr-fil"),"right"==this.options.defaultImageAlignment&&(r="fr-fir"),r+=" fr-di"+this.options.defaultImageDisplay[0];var o='<img class="'+r+' fr-just-inserted" alt="'+this.options.defaultImageTitle+'" src="'+t+'"'+n+">",s=this.getSelectionElements()[0],a=this.getRange(),l=!this.browser.msie&&e.Editable.getIEversion()>8?e(a.startContainer):null;l&&l.hasClass("f-img-wrap")?(1===a.startOffset?(l.after("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0===a.startOffset&&(l.before("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(o)):this.getSelectionTextInfo(s).atStart&&s!=this.$element.get(0)&&"TD"!=s.tagName&&"TH"!=s.tagName&&"LI"!=s.tagName?e(s).before("<"+this.options.defaultTag+">"+o+"</"+this.options.defaultTag+">"):this.insertHTML(o),this.disable()},e.Editable.prototype.insertLoadedImage=function(t,i){this.triggerEvent("imageLoaded",[t],!1),this.processInsertImage(t,!1),this.browser.msie&&this.$element.find("img").each(function(e,t){t.oncontrolselect=function(){return!1}}),this.enable(),this.hide(),this.hideImageLoader(),this.wrapText(),this.cleanupLists();var n,r=this.$element.find("img.fr-just-inserted").get(0);r&&(n=r.previousSibling),n&&3==n.nodeType&&/\u200B/gi.test(n.textContent)&&e(n).remove(),this.triggerEvent("imageInserted",[this.$element.find("img.fr-just-inserted"),i]),setTimeout(e.proxy(function(){this.$element.find("img.fr-just-inserted").removeClass("fr-just-inserted").trigger("touchend")},this),50)},e.Editable.prototype.throwImageErrorWithMessage=function(e){this.enable(),this.triggerEvent("imageError",[{message:e,code:0}],!1),this.hideImageLoader()},e.Editable.prototype.throwImageError=function(e){this.enable();var t="Unknown image upload error.";1==e?t="Bad link.":2==e?t="No link in upload response.":3==e?t="Error during file upload.":4==e?t="Parsing response failed.":5==e?t="Image too large.":6==e?t="Invalid image type.":7==e&&(t="Image can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("imageError",[{code:e,message:t}],!1),this.hideImageLoader()},e.Editable.prototype.uploadImage=function(t){if(!this.triggerEvent("beforeImageUpload",[t],!1))return!1;if(void 0!==t&&t.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.imageUploadParams)i.append(n,this.options.imageUploadParams[n]);if(this.options.imageUploadToS3!==!1){for(n in this.options.imageUploadToS3.params)i.append(n,this.options.imageUploadToS3.params[n]);i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",t[0].type),i.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t[0].name)}if(i.append(this.options.imageUploadParam,t[0]),t[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(t[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(i){var r;if(this.options.crossDomain)r=this.createCORSRequest("POST",this.options.imageUploadURL);else{r=new XMLHttpRequest,r.open("POST",this.options.imageUploadURL);for(var o in this.options.headers)r.setRequestHeader(o,this.options.headers[o])}r.onload=e.proxy(function(){var t="Please wait!";e.Editable.LANGS[this.options.language]&&(t=e.Editable.LANGS[this.options.language].translation[t]),this.$progress_bar.find("span").css("width","100%").text(t);try{if(this.options.imageUploadToS3)201==r.status?this.parseImageResponseXML(r.responseXML):this.throwImageError(3);else if(r.status>=200&&r.status<300)this.parseImageResponse(r.responseText);else try{var i=e.parseJSON(r.responseText);i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(3)}catch(n){this.throwImageError(3)}}catch(n){this.throwImageError(4)}},this),r.onerror=e.proxy(function(){this.throwImageError(3)},this),r.upload.onprogress=e.proxy(function(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;this.$progress_bar.find("span").css("width",t+"%")}},this),this.disable(),r.send(i),this.showImageLoader()}}},e.Editable.prototype.parseImageResponse=function(t){try{if(!this.triggerEvent("afterImageUpload",[t],!1))return!1;var i=e.parseJSON(t);i.link?this.writeImage(i.link,!1,t):i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(2)}catch(n){this.throwImageError(4)}},e.Editable.prototype.parseImageResponseXML=function(t){try{var i=e(t).find("Location").text(),n=e(t).find("Key").text();this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,i,n),i?this.writeImage(i):this.throwImageError(2)}catch(r){this.throwImageError(4)}},e.Editable.prototype.setImageUploadURL=function(e){e&&(this.options.imageUploadURL=e),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},e.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(e.proxy(function(t,i){e(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(e(i).parent().attr("class"))),e(i).parents(".f-img-wrap").length>0?"A"==e(i).parent().parent().get(0).tagName?e(i).siblings("span.f-img-handle").remove().end().unwrap().parent().unwrap():e(i).siblings("span.f-img-handle").remove().end().unwrap().unwrap():e(i).siblings("span.f-img-handle").remove().end().unwrap()},this)),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide(),this.$link_wrapper&&this.options.linkText&&this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden")},e.Editable.prototype.refreshImageList=function(t){if(!this.isLink&&!this.options.editInPopup){var i=[],n=[],r=this;if(this.$element.find("img").each(function(t,o){var s=e(o);if(i.push(s.attr("src")),n.push(s),"false"==s.attr("contenteditable"))return!0;if(0!==s.parents(".f-img-editor").length||s.hasClass("fr-dii")||s.hasClass("fr-dib")||(r.options.textNearImage?s.addClass(s.hasClass("fr-fin")?"fr-dib":s.hasClass("fr-fil")||s.hasClass("fr-fir")?"fr-dii":"block"==s.css("display")&&"none"==s.css("float")?"fr-dib":"fr-dii"):(s.addClass("fr-dib"),r.options.imageButtons.splice(r.options.imageButtons.indexOf("display"),1))),r.options.textNearImage||s.removeClass("fr-dii").addClass("fr-dib"),0===s.parents(".f-img-editor").length&&!s.hasClass("fr-fil")&&!s.hasClass("fr-fir")&&!s.hasClass("fr-fin"))if(s.hasClass("fr-dii"))s.addClass("right"==s.css("float")?"fr-fir":"left"==s.css("float")?"fr-fil":"fr-fin");else{var a=s.attr("style");s.hide(),s.addClass(0===parseInt(s.css("margin-right"),10)&&a?"fr-fir":0===parseInt(s.css("margin-left"),10)&&a?"fr-fil":"fr-fin"),s.show()}s.css("margin",""),s.css("float",""),s.css("display",""),s.removeAttr("data-style")}),void 0===t)for(var o=0;o<this.imageList.length;o++)i.indexOf(this.imageList[o].attr("src"))<0&&this.triggerEvent("afterRemoveImage",[this.imageList[o]],!1);this.imageList=n}},e.Editable.prototype.insertImage=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertImage")),this.selectionInEditor()&&this.saveSelection(),this.showInsertImage(),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")}}(jQuery),function(e){e.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList"),this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode||!this.options.linkText?this.$link_wrapper.find('input[type="text"].f-lt').parent().addClass("fr-hidden"):this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden"),this.imageMode&&this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.phone()?this.$document.scrollTop(this.$link_wrapper.offset().top+30):setTimeout(e.proxy(function(){this.imageMode&&this.iPad()||this.$link_wrapper.find('input[type="text"].f-lu').focus().select()},this),0),this.link=!0),this.refreshDisabledState()},e.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.hide(),this.$link_wrapper.find("input").blur()),this.refreshDisabledState()},e.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},e.Editable.prototype.updateLinkValues=function(t){var i=t.attr("href")||"http://";this.$link_wrapper.find("input.f-lt").val(t.text()),this.isLink?("#"==i&&(i=""),this.$link_wrapper.find("input#f-lu-"+this._id).val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(this.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i)),this.$link_wrapper.find("input.f-target").prop("checked","_blank"==t.attr("target")),this.$link_wrapper.find("li.f-choose-link-class").each(e.proxy(function(i,n){t.hasClass(e(n).data("class"))&&e(n).click()},this));for(var n in this.options.linkAttributes){var r=t.attr(n);this.$link_wrapper.find("input.fl-"+n).val(r?r:"")}this.$link_wrapper.find("a.f-external-link, button.f-unlink").show()},e.Editable.prototype.initLinkEvents=function(){var t=this,i=function(e){e.stopPropagation(),e.preventDefault()},n=function(i){return i.stopPropagation(),i.preventDefault(),t.isDisabled?!1:""!==t.text()?(t.hide(),!1):(t.link=!0,t.clearSelection(),t.removeMarkers(),t.selectionDisabled||(e(this).before('<span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),e(this).after('<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span>'),t.restoreSelectionByMarkers()),t.exec("createLink"),t.updateLinkValues(e(this)),t.showByCoordinates(e(this).offset().left+e(this).outerWidth()/2,e(this).offset().top+(parseInt(e(this).css("padding-top"),10)||0)+e(this).height()),t.showInsertLink(),e(this).hasClass("fr-file")?t.$link_wrapper.find("input.f-lu").attr("disabled","disabled"):t.$link_wrapper.find("input.f-lu").removeAttr("disabled"),void t.closeImageMode())};this.$element.on("mousedown","a",e.proxy(function(e){this.isResizing()||e.stopPropagation()},this)),this.isLink?this.iOS()?(this.$element.on("touchstart",i),this.$element.on("touchend",n)):this.$element.on("click",n):this.iOS()?(this.$element.on("touchstart",'a:not([contenteditable="false"])',i),this.$element.on("touchend",'a:not([contenteditable="false"])',n),this.$element.on("touchstart",'a[contenteditable="false"]',i),this.$element.on("touchend",'a[contenteditable="false"]',i)):(this.$element.on("click",'a:not([contenteditable="false"])',n),this.$element.on("click",'a[contenteditable="false"]',i))},e.Editable.prototype.destroyLink=function(){this.$link_wrapper.html("").removeData().remove()},e.Editable.prototype.initLink=function(){
this.buildCreateLink(),this.initLinkEvents(),this.addListener("destroy",this.destroyLink)},e.Editable.initializers.push(e.Editable.prototype.initLink),e.Editable.prototype.removeLink=function(){this.imageMode?("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&e(this.$element.find(".f-img-editor").get(0)).unwrap(),this.triggerEvent("imageLinkRemoved"),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1):(this.restoreSelection(),this.document.execCommand("unlink",!1,null),this.isLink||this.$element.find("a:empty").remove(),this.triggerEvent("linkRemoved"),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1)},e.Editable.prototype.writeLink=function(t,i,n,r,o){var s,a=this.options.noFollow;this.options.alwaysBlank&&(r=!0);var l,d="",c="",h="";a===!0&&/^https?:\/\//.test(t)&&(d='rel="nofollow"'),r===!0&&(c='target="_blank"');for(l in o)h+=" "+l+'="'+o[l]+'"';var p=t;if(t=this.sanitizeURL(t),this.options.convertMailAddresses){var u=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/i;u.test(t)&&0!==t.indexOf("mailto:")&&(t="mailto:"+t)}if(0===t.indexOf("mailto:")||""===this.options.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(t)||(t=this.options.linkAutoPrefix+t),""===t)return this.$link_wrapper.find("input.f-lu").addClass("fr-error").focus(),this.triggerEvent("badLink",[p],!1),!1;if(this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode){if("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName)this.$element.find(".f-img-editor").wrap('<a data-fr-link="true" href="'+t+'" '+c+" "+d+h+"></a>");else{var f=this.$element.find(".f-img-editor").parent();r===!0?f.attr("target","_blank"):f.removeAttr("target"),a===!0?f.attr("rel","nofollow"):f.removeAttr("rel");for(l in o)o[l]?f.attr(l,o[l]):f.removeAttr(l);f.removeClass(Object.keys(this.options.linkClasses).join(" ")),f.attr("href",t).addClass(n)}this.triggerEvent("imageLinkInserted",[t]),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1}else{var g=null;this.isLink?""===i&&(i=this.$element.text()):(this.restoreSelection(),s=this.getSelectionLinks(),s.length>0&&(g=s[0].attributes,is_file=e(s[0]).hasClass("fr-file")),this.saveSelectionByMarkers(),this.document.execCommand("unlink",!1,t),this.$element.find('span[data-fr-link="true"]').each(function(t,i){e(i).replaceWith(e(i).html())}),this.restoreSelectionByMarkers()),this.isLink?(this.$element.text(i),s=[this.$element.attr("href",t).get(0)]):(this.removeMarkers(),(this.options.linkText||""===this.text())&&(this.insertHTML('<span class="f-marker" data-fr-verified="true" data-id="0" data-type="true"></span>'+(i||this.clean(p))+'<span class="f-marker" data-fr-verified="true" data-id="0" data-type="false"></span>'),this.restoreSelectionByMarkers()),this.document.execCommand("createLink",!1,t),s=this.getSelectionLinks());for(var m=0;m<s.length;m++){if(g)for(var v=0;v<g.length;v++)"href"!=g[v].nodeName&&e(s[m]).attr(g[v].nodeName,g[v].value);r===!0?e(s[m]).attr("target","_blank"):e(s[m]).removeAttr("target"),a===!0&&/^https?:\/\//.test(t)?e(s[m]).attr("rel","nofollow"):e(s[m]).removeAttr("rel"),e(s[m]).data("fr-link",!0),e(s[m]).removeClass(Object.keys(this.options.linkClasses).join(" ")),e(s[m]).addClass(n);for(l in o)o[l]?e(s[m]).attr(l,o[l]):e(s[m]).removeAttr(l)}this.$element.find("a:empty").remove(),this.triggerEvent("linkInserted",[t]),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},e.Editable.prototype.createLinkHTML=function(){var e='<div class="froala-popup froala-link-popup" style="display: none;">';e+='<h4><span data-text="true">Insert Link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',e+='<div class="f-popup-line fr-hidden"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>';var t="";if(this.options.linkList.length&&(t="f-bi"),e+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+t+'" id="f-lu-'+this._id+'"/>',this.options.linkList.length){e+='<button class="fr-p-bttn f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',e+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var n=this.options.linkList[i],r="";for(var o in n)r+=" data-"+o+'="'+n[o]+'"';e+='<li class="f-choose-link"'+r+">"+n.body+"</li>"}e+="</ul>"}if(e+="</div>",Object.keys(this.options.linkClasses).length){e+='<div class="f-popup-line"><input type="text" placeholder="Choose link type" class="f-bi" id="f-luc-'+this._id+'" disabled="disabled"/>',e+='<button class="fr-p-bttn f-browse-links" id="f-links-class-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',e+='<ul id="f-link-class-list-'+this._id+'">';for(var s in this.options.linkClasses){var a=this.options.linkClasses[s];e+='<li class="f-choose-link-class" data-class="'+s+'">'+a+"</li>"}e+="</ul>",e+="</div>"}for(var l in this.options.linkAttributes){var d=this.options.linkAttributes[l];e+='<div class="f-popup-line"><input class="fl-'+l+'" type="text" placeholder="'+d+'" id="fl-'+l+"-"+this._id+'"/></div>'}return e+='<div class="f-popup-line"><input type="checkbox" class="f-target" id="f-target-'+this._id+'"> <label data-text="true" for="f-target-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="fr-p-bttn f-ok f-submit" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(e+='<button type="button" data-text="true" class="fr-p-bttn f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),e+="</div></div>"},e.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=e(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var t=this;this.addListener("hidePopups",this.hideLinkWrapper),this.$link_wrapper.on("mouseup touchend",e.proxy(function(e){this.isResizing()||(e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$link_wrapper.on("click",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","*",function(e){e.stopPropagation()}),this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("mouseup keydown touchend touchstart","input#f-lu-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click keydown","input#f-target-"+this._id,function(e){var t=e.which;t&&27===t||e.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(e){e.stopPropagation()}).on("click","button#f-ok-"+this._id,e.proxy(function(){var e,t=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),n=this.$link_wrapper.find("input#f-luc-"+this._id),r=this.$link_wrapper.find("input#f-target-"+this._id);e=t?t.val():"";var o=i.val();this.isLink&&""===o&&(o="#");var s="";n&&(s=n.data("class"));var a={};for(var l in this.options.linkAttributes)a[l]=this.$link_wrapper.find("input#fl-"+l+"-"+this._id).val();this.writeLink(o,e,s,r.prop("checked"),a)},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,e.proxy(function(){this.link=!0,this.removeLink()},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){t.resetLinkValues();var i=t.$link_wrapper.find("button#f-browse-links-"+t._id),n=t.$link_wrapper.find("input#f-lt-"+t._id),r=t.$link_wrapper.find("input#f-lu-"+t._id),o=t.$link_wrapper.find("input#f-target-"+t._id);n&&n.val(e(this).data("body")),r.val(e(this).data("href")),o.prop("checked",e(this).data("blank"));for(var s in t.options.linkAttributes)e(this).data(s)&&t.$link_wrapper.find("input#fl-"+s+"-"+t._id).val(e(this).data(s));i.click()}).on("mouseup","li.f-choose-link",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(i){i.stopPropagation();var n=t.$link_wrapper.find("ul#f-link-list-"+t._id);t.$link_wrapper.trigger("hideLinkClassList"),e(this).find("i").toggleClass("fa-chevron-down"),e(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(e){e.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var e=t.$link_wrapper.find("ul#f-link-list-"+t._id),i=t.$link_wrapper.find("button#f-browse-links-"+t._id);e&&e.is(":visible")&&i.click()})),Object.keys(this.options.linkClasses).length&&(this.$link_wrapper.on("mouseup keydown","input#f-luc-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click touch","li.f-choose-link-class",function(){var i=t.$link_wrapper.find("input#f-luc-"+t._id);i.val(e(this).text()),i.data("class",e(this).data("class")),t.$link_wrapper.trigger("hideLinkClassList")}).on("mouseup","li.f-choose-link-class",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","button#f-links-class-"+this._id,function(i){i.stopPropagation(),t.$link_wrapper.trigger("hideLinkList");var n=t.$link_wrapper.find("ul#f-link-class-list-"+t._id);e(this).find("i").toggleClass("fa-chevron-down"),e(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-links-class-"+this._id,function(e){e.stopPropagation()}),this.$link_wrapper.bind("hideLinkClassList",function(){var e=t.$link_wrapper.find("ul#f-link-class-list-"+t._id),i=t.$link_wrapper.find("button#f-links-class-"+t._id);e&&e.is(":visible")&&i.click()})),this.$link_wrapper.on(this.mouseup,"i#f-link-close-"+this._id,e.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),(!this.options.inlineMode&&!this.imageMode||this.isLink||0===this.options.buttons.length)&&this.hide(),this.imageMode?this.showImageEditor():(this.restoreSelection(),this.focus())},this))},e.Editable.prototype.getSelectionLinks=function(){var e,t,i,n,r=[];if(this.window.getSelection){var o=this.window.getSelection();if(o.getRangeAt&&o.rangeCount){n=this.document.createRange();for(var s=0;s<o.rangeCount;++s)if(e=o.getRangeAt(s),t=e.commonAncestorContainer,t&&1!=t.nodeType&&(t=t.parentNode),t&&"a"==t.nodeName.toLowerCase())r.push(t);else{i=t.getElementsByTagName("a");for(var a=0;a<i.length;++a)n.selectNodeContents(i[a]),n.compareBoundaryPoints(e.END_TO_START,e)<1&&n.compareBoundaryPoints(e.START_TO_END,e)>-1&&r.push(i[a])}}}else if(this.document.selection&&"Control"!=this.document.selection.type)if(e=this.document.selection.createRange(),t=e.parentElement(),"a"==t.nodeName.toLowerCase())r.push(t);else{i=t.getElementsByTagName("a"),n=this.document.body.createTextRange();for(var l=0;l<i.length;++l)n.moveToElementText(i[l]),n.compareEndPoints("StartToEnd",e)>-1&&n.compareEndPoints("EndToStart",e)<1&&r.push(i[l])}return r},e.Editable.prototype.resetLinkValues=function(){this.$link_wrapper.find("input").val(""),this.$link_wrapper.find('input[type="checkbox"].f-target').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find('input[type="text"].f-lt').val(this.text()),this.$link_wrapper.find('input[type="text"].f-lu').val("http://"),this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.$link_wrapper.find("a.f-external-link, button.f-unlink").hide();for(var e in this.options.linkAttributes)this.$link_wrapper.find('input[type="text"].fl-'+e).val("")},e.Editable.prototype.insertLink=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("createLink")),this.selectionInEditor()&&this.saveSelection(),this.showInsertLink();var t=this.getSelectionLinks();t.length>0?this.updateLinkValues(e(t[0])):this.resetLinkValues()}}(jQuery),function(e){e.Editable.prototype.browserFixes=function(){this.backspaceEmpty(),this.backspaceInEmptyBlock(),this.fixHR(),this.domInsert(),this.fixIME(),this.cleanInvisibleSpace(),this.cleanBR(),this.insertSpace()},e.Editable.prototype.backspaceInEmptyBlock=function(){this.$element.on("keyup",e.proxy(function(t){var i=t.which;if(this.browser.mozilla&&!this.isHTML&&8==i){var n=e(this.getSelectionElement());this.valid_nodes.indexOf(n.get(0).tagName)>=0&&1==n.find("*").length&&""===n.text()&&1==n.find("br").length&&this.setSelection(n.get(0))}},this))},e.Editable.prototype.insertSpace=function(){this.browser.mozilla&&this.$element.on("keypress",e.proxy(function(e){var t=e.which,i=this.getSelectionElements()[0];this.isHTML||32!=t||"PRE"==i.tagName||(e.preventDefault(),this.insertSimpleHTML("&nbsp;"))},this))},e.Editable.prototype.cleanBR=function(){this.$element.on("keyup",e.proxy(function(){this.$element.find(this.valid_nodes.join(",")).each(e.proxy(function(t,i){if(["TH","TD","LI"].indexOf(i.tagName)>=0)return!0;var n=i.childNodes,r=null;if(!n.length||"BR"!=n[n.length-1].tagName)return!0;r=n[n.length-1];var o=r.previousSibling;o&&"BR"!=o.tagName&&e(r).parent().text().length>0&&this.valid_nodes.indexOf(o.tagName)<0&&e(r).remove()},this))},this))},e.Editable.prototype.replaceU200B=function(t){for(var i=0;i<t.length;i++)3==t[i].nodeType&&/\u200B/gi.test(t[i].textContent)?t[i].textContent=t[i].textContent.replace(/\u200B/gi,""):1==t[i].nodeType&&this.replaceU200B(e(t[i]).contents())},e.Editable.prototype.cleanInvisibleSpace=function(){var t=function(t){var i=e(t).text();return t&&/\u200B/.test(e(t).text())&&i.replace(/\u200B/gi,"").length>0?!0:!1};this.$element.on("keyup",e.proxy(function(){var i=this.getSelectionElement();t(i)&&0===e(i).find("li").length&&(this.saveSelectionByMarkers(),this.replaceU200B(e(i).contents()),this.restoreSelectionByMarkers())},this))},e.Editable.prototype.fixHR=function(){this.$element.on("keypress",e.proxy(function(t){var i=e(this.getSelectionElement());if(i.is("hr")||i.parents("hr").length)return!1;var n=t.which;if(8==n){var r=e(this.getSelectionElements()[0]);r.prev().is("hr")&&this.getSelectionTextInfo(r.get(0)).atStart&&(this.saveSelectionByMarkers(),r.prev().remove(),this.restoreSelectionByMarkers(),t.preventDefault())}},this))},e.Editable.prototype.backspaceEmpty=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;!this.isHTML&&8==t&&this.$element.hasClass("f-placeholder")&&e.preventDefault()},this))},e.Editable.prototype.domInsert=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;13===t&&(this.add_br=!0)},this)),this.$element.on("DOMNodeInserted",e.proxy(function(t){if("SPAN"!==t.target.tagName||e(t.target).attr("data-fr-verified")||this.no_verify||this.textEmpty(t.target)||e(t.target).replaceWith(e(t.target).contents()),"BR"===t.target.tagName&&setTimeout(function(){e(t.target).removeAttr("type")},0),"A"===t.target.tagName&&setTimeout(function(){e(t.target).removeAttr("_moz_dirty")},0),this.options.paragraphy&&this.add_br&&"BR"===t.target.tagName&&(e(t.target).prev().length&&"TABLE"===e(t.target).prev().get(0).tagName||e(t.target).next().length&&"TABLE"===e(t.target).next().get(0).tagName)){e(t.target).wrap('<p class="fr-p-wrap">');var i=this.$element.find("p.fr-p-wrap").removeAttr("class");this.setSelection(i.get(0))}"BR"===t.target.tagName&&this.isLastSibling(t.target)&&"LI"==t.target.parentNode.tagName&&this.textEmpty(t.target.parentNode)&&e(t.target).remove()},this)),this.$element.on("keyup",e.proxy(function(e){var t=e.which;8===t&&this.$element.find("span:not([data-fr-verified])").attr("data-fr-verified",!0),13===t&&(this.add_br=!1)},this))},e.Editable.prototype.fixIME=function(){try{this.$element.get(0).msGetInputContext&&(this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",e.proxy(function(){this.ime=!0},this)),this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",e.proxy(function(){this.ime=!1,this.$element.trigger("keydown"),this.oldHTML=""},this)))}catch(t){}}}(jQuery),function(e){e.Editable.prototype.handleEnter=function(){var t=e.proxy(function(){var t=this.getSelectionElement();return"LI"==t.tagName||this.parents(e(t),"li").length>0?!0:!1},this);this.$element.on("keypress",e.proxy(function(e){if(!this.isHTML&&!t()){var i=e.which;if(13==i&&!e.shiftKey){e.preventDefault(),this.saveUndoStep(),this.insertSimpleHTML("<break></break>");var n=this.getSelectionElements();if(n[0]==this.$element.get(0)?this.enterInMainElement(n[0]):this.enterInElement(n[0]),this.getSelectionTextInfo(this.$element.get(0)).atEnd)this.$wrapper.scrollTop(this.$element.height());else{var r=this.getBoundingRect();this.$wrapper.offset().top+this.$wrapper.height()<r.top+r.height&&this.$wrapper.scrollTop(r.top+this.$wrapper.scrollTop()-(this.$wrapper.height()+this.$wrapper.offset().top)+r.height+10)}}}},this))},e.Editable.prototype.enterInMainElement=function(t){var i=e(t).find("break").get(0);if(e(i).parent().get(0)==t)this.isLastSibling(i)?this.insertSimpleHTML("</br>"+this.markers_html+this.br):e(t).hasClass("f-placeholder")?e(t).html("</br>"+this.markers_html+this.br):this.insertSimpleHTML("</br>"+this.markers_html),e(t).find("break").remove(),this.restoreSelectionByMarkers();else if(e(i).parents(this.$element).length){for(t=this.getSelectionElement();"BREAK"==t.tagName||0===e(t).text().length&&t.parentNode!=this.$element.get(0);)t=t.parentNode;if(this.getSelectionTextInfo(t).atEnd)e(t).after(this.breakEnd(this.getDeepParent(t),!0)),this.$element.find("break").remove(),this.restoreSelectionByMarkers();else if(this.getSelectionTextInfo(t).atStart){for(;i.parentNode!=this.$element.get(0);)i=i.parentNode;e(i).before("<br/>"),this.$element.find("break").remove(),this.$element.find("a:empty").replaceWith(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()}else this.breakMiddle(this.getDeepParent(t),!0),this.restoreSelectionByMarkers()}else e(i).remove()},e.Editable.prototype.enterInElement=function(t){if(["TD","TH"].indexOf(t.tagName)<0){var i=!1;if(this.emptyElement(t)&&t.parentNode&&"BLOCKQUOTE"==t.parentNode.tagName){e(t).before(this.$element.find("break"));var n=t;t=t.parentNode,e(n).remove(),i=!0}this.getSelectionTextInfo(t).atEnd?(e(t).after(this.breakEnd(t),!1),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):this.getSelectionTextInfo(t).atStart?(this.options.paragraphy?i?(e(t).before("<"+this.options.defaultTag+">"+this.markers_html+this.br+"</"+this.options.defaultTag+">"),this.restoreSelectionByMarkers()):e(t).before("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"):i?(e(t).before(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()):e(t).before("<br/>"),this.$element.find("break").remove()):"PRE"==t.tagName?(this.$element.find("break").after("<br/>"+this.markers_html),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):(this.breakMiddle(t,!1,i),this.restoreSelectionByMarkers())}else this.enterInMainElement(t)},e.Editable.prototype.breakEnd=function(t,i){if(void 0===i&&(i=!1),"BLOCKQUOTE"==t.tagName){var n=e(t).contents();n.length&&"BR"==n[n.length-1].tagName&&e(n[n.length-1]).remove()}var r=e(t).find("break").get(0),o=this.br;this.options.paragraphy||(o="<br/>");var s=this.markers_html+o;for(i&&(s=this.markers_html+e.Editable.INVISIBLE_SPACE);r!=t;)"A"!=r.tagName&&"BREAK"!=r.tagName&&(s="<"+r.tagName+this.attrs(r)+">"+s+"</"+r.tagName+">"),r=r.parentNode;return i&&"A"!=r.tagName&&"BREAK"!=r.tagName&&(s="<"+r.tagName+this.attrs(r)+">"+s+"</"+r.tagName+">"),this.options.paragraphy&&(s="<"+this.options.defaultTag+">"+s+"</"+this.options.defaultTag+">"),i&&(s=o+s),s},e.Editable.prototype.breakMiddle=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=e(t).find("break").get(0),o=this.markers_html;n&&(o="");for(var s="";r!=t;)r=r.parentNode,s=s+"</"+r.tagName+">",o="<"+r.tagName+this.attrs(r)+">"+o;var a="";n&&(a=this.options.paragraphy?"<"+this.options.defaultTag+">"+this.markers_html+"<br/></"+this.options.defaultTag+">":this.markers_html+"<br/>");var l="<"+t.tagName+this.attrs(t)+">"+e(t).html()+"</"+t.tagName+">";l=l.replace(/<break><\/break>/,s+(i?this.br:"")+a+o),e(t).replaceWith(l)}}(jQuery),function(e){e.Editable.prototype.isFirstSibling=function(e){var t=e.previousSibling;return t?3==t.nodeType&&""===t.textContent?this.isFirstSibling(t):!1:!0},e.Editable.prototype.isLastSibling=function(e){var t=e.nextSibling;return t?3==t.nodeType&&""===t.textContent?this.isLastSibling(t):!1:!0},e.Editable.prototype.getDeepParent=function(e){return e.parentNode==this.$element.get(0)?e:this.getDeepParent(e.parentNode)},e.Editable.prototype.attrs=function(e){for(var t="",i=e.attributes,n=0;n<i.length;n++){var r=i[n];t+=" "+r.nodeName+'="'+r.value+'"'}return t}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){function i(e){function t(){n?(i(),z(t),r=!0,n=!1):r=!1}var i=e,n=!1,r=!1;this.kick=function(){n=!0,r||t()},this.end=function(e){var t=i;e&&(r?(i=n?function(){t(),e()}:e,n=!0):e())}}function n(){return!0}function r(){return!1}function o(e){e.preventDefault()}function s(e){H[e.target.tagName.toLowerCase()]||e.preventDefault()}function a(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}function l(e,t){var i,n;if(e.identifiedTouch)return e.identifiedTouch(t);for(i=-1,n=e.length;++i<n;)if(e[i].identifier===t)return e[i]}function d(e,t){var i=l(e.changedTouches,t.identifier);return!i||i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function c(e){var t;a(e)&&(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},M(document,P.move,h,t),M(document,P.cancel,p,t))}function h(e){var t=e.data;y(e,t,e,u)}function p(){u()}function u(){F(document,P.move,h),F(document,P.cancel,p)}function f(e){var t,i;H[e.target.tagName.toLowerCase()]||(t=e.changedTouches[0],i={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},M(document,j.move+"."+t.identifier,g,i),M(document,j.cancel+"."+t.identifier,m,i))}function g(e){var t=e.data,i=d(e,t);i&&y(e,t,i,v)}function m(e){var t=e.data,i=l(e.changedTouches,t.identifier);i&&v(t.identifier)}function v(e){F(document,"."+e,g),F(document,"."+e,m)}function y(e,t,i,n){var r=i.pageX-t.startX,o=i.pageY-t.startY;O*O>r*r+o*o||x(e,t,i,r,o,n)}function b(){return this._handled=n,!1}function w(e){try{e._handled()}catch(t){return!1}}function x(e,t,i,n,r,o){var s,a;t.target,s=e.targetTouches,a=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=n,t.distY=r,t.deltaX=n,t.deltaY=r,t.pageX=i.pageX,t.pageY=i.pageY,t.velocityX=n/a,t.velocityY=r/a,t.targetTouches=s,t.finger=s?s.length:1,t._handled=b,t._preventTouchmoveDefault=function(){e.preventDefault()},R(t.target,t),o(t.identifier)}function C(e){var t=e.data.timer;e.data.touch=e,e.data.timeStamp=e.timeStamp,t.kick()}function k(e){var t=e.data.event,i=e.data.timer;$(),I(t,i,function(){setTimeout(function(){F(t.target,"click",r)},0)})}function $(){F(document,P.move,C),F(document,P.end,k)}function _(e){var t=e.data.event,i=e.data.timer,n=d(e,t);n&&(e.preventDefault(),t.targetTouches=e.targetTouches,e.data.touch=n,e.data.timeStamp=e.timeStamp,i.kick())}function S(e){var t=e.data.event,i=e.data.timer,n=l(e.changedTouches,t.identifier);n&&(T(t),I(t,i))}function T(e){F(document,"."+e.identifier,_),F(document,"."+e.identifier,S)}function E(e,t,i){var n=i-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/n,e.velocityY=.3*e.velocityY+.7*e.deltaY/n,e.pageX=t.pageX,e.pageY=t.pageY}function I(e,t,i){t.end(function(){return e.type="moveend",R(e.target,e),i&&i()})}function D(){return M(this,"movestart.move",w),!0}function A(){return F(this,"dragstart drag",o),F(this,"mousedown touchstart",s),F(this,"movestart",w),!0}function L(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(M(this,"dragstart."+e.guid+" drag."+e.guid,o,t,e.selector),M(this,"mousedown."+e.guid,s,t,e.selector))}function N(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(F(this,"dragstart."+e.guid+" drag."+e.guid),F(this,"mousedown."+e.guid))}var O=6,M=e.event.add,F=e.event.remove,R=function(t,i,n){e.event.trigger(i,n,t)},z=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(function(){e()},25)}}(),H={textarea:!0,input:!0,select:!0,button:!0},P={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},j={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:D,teardown:A,add:L,remove:N,_default:function(e){function n(){E(o,s.touch,s.timeStamp),R(e.target,o)}var o,s;e._handled()&&(o={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},s={event:o,timer:new i(n),touch:t,timeStamp:t},e.identifier===t?(M(e.target,"click",r),M(document,P.move,C,s),M(document,P.end,k,s)):(e._preventTouchmoveDefault(),M(document,j.move+"."+e.identifier,_,s),M(document,j.end+"."+e.identifier,S,s)))}},e.event.special.move={setup:function(){M(this,"movestart.move",e.noop)},teardown:function(){F(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){M(this,"movestart.moveend",e.noop)},teardown:function(){F(this,"movestart.moveend",e.noop)}},M(document,"mousedown.move",c),M(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(e){for(var t=["changedTouches","targetTouches"],i=t.length;i--;)-1===e.event.props.indexOf(t[i])&&e.event.props.push(t[i])}(e)}),window.WYSIWYGModernizr=function(e,t,i){function n(e){u.cssText=e}function r(e,t){return typeof e===t}var o,s,a,l="2.7.1",d={},c=t.documentElement,h="modernizr",p=t.createElement(h),u=p.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),g={},m=[],v=m.slice,y=function(e,i,n,r){var o,s,a,l,d=t.createElement("div"),p=t.body,u=p||t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=r?r[n]:h+(n+1),d.appendChild(a);return o=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),d.id=h,(p?d:u).innerHTML+=o,u.appendChild(d),p||(u.style.background="",u.style.overflow="hidden",l=c.style.overflow,c.style.overflow="hidden",c.appendChild(u)),s=i(d,e),p?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),c.style.overflow=l),!!s},b=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return y("@media "+t+" { #"+h+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},w={}.hasOwnProperty;a=r(w,"undefined")||r(w.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,i.concat(v.call(arguments)));return Object(s)===s?s:o}return t.apply(e,i.concat(v.call(arguments)))};return n}),g.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:y(["@media (",f.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i};for(var x in g)a(g,x)&&(s=x.toLowerCase(),d[s]=g[x](),m.push((d[s]?"":"no-")+s));return d.addTest=function(e,t){if("object"==typeof e)for(var n in e)a(e,n)&&d.addTest(n,e[n]);else{if(e=e.toLowerCase(),d[e]!==i)return d;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(c.className+=" "+(t?"":"no-")+e),d[e]=t}return d},n(""),p=o=null,d._version=l,d._prefixes=f,d.mq=b,d.testStyles=y,d}(this,document),!function(e){e.Editable.prototype.coreInit=function(){var e=this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=function(e){for(var t=e.toString(),i=0,n=0;n<t.length;n++)i+=parseInt(t.charAt(n),10);return i>10?i%9+1:i};if(e.options.key!==!1){var n=function(e,t,i){for(var n=Math.abs(i);n-->0;)e-=t;return 0>i&&(e+=123),e},r=function(e){return e},o=function(e){if(!e)return e;for(var o="",s=r("charCodeAt"),a=r("fromCharCode"),l=t.indexOf(e[0]),d=1;d<e.length-2;d++){for(var c=i(++l),h=e[s](d),p="";/[0-9-]/.test(e[d+1]);)p+=e[++d];p=parseInt(p,10)||0,h=n(h,c,p),h^=l-1&31,o+=String[a](h)}return o},s=r(o),a=function(e){return"none"==e.css("display")?(e.attr("style",e.attr("style")+s("zD4D2qJ-7dhuB-11bB4E1wqlhlfE4gjhkbB6C5eg1C-8h1besB-16e1==")),!0):!1},l=function(){for(var e=0,t=document.domain,i=t.split("."),n="_gd"+(new Date).getTime();e<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)t=i.slice(-1-++e).join("."),document.cookie=n+"="+n+";domain="+t+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}(),d=function(){var t=s(e.options.key)||"";return t!==s("eQZMe1NJGC1HTMVANU==")&&t.indexOf(l,t.length-l.length)<0&&[s("9qqG-7amjlwq=="),s("KA3B3C2A6D1D5H5H1A3==")].indexOf(l)<0?(e.$box.append(s("uA5kygD3g1h1lzrA7E2jtotjvooB2A5eguhdC-22C-16nC2B3lh1deA-21C-16B4A2B4gi1F4D1wyA-13jA4H5C2rA-65A1C10dhzmoyJ2A10A-21d1B-13xvC2I4enC4C2B5B4G4G4H1H4A10aA8jqacD1C3c1B-16D-13A-13B2E5A4jtxfB-13fA1pewxvzA3E-11qrB4E4qwB-16icA1B3ykohde1hF4A2E4clA4C7E6haA4D1xtmolf1F-10A1H4lhkagoD5naalB-22B8B4quvB-8pjvouxB3A-9plnpA2B6D6BD2D1C2H1C3C3A4mf1G-10C-8i1G3C5B3pqB-9E5B1oyejA3ddalvdrnggE3C3bbj1jC6B3D3gugqrlD8B2DB-9qC-7qkA10D2VjiodmgynhA4HA-9D-8pI-7rD4PrE-11lvhE3B5A-16C7A6A3ekuD1==")),e.$lb=e.$box.find("> div:last"),e.$ab=e.$lb.find("> a"),a(e.$lb)||a(e.$ab)):void 0};d()}},e.Editable.initializers.push(e.Editable.prototype.coreInit)}(jQuery),function(e){e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{allowedBlankTags:["TEXTAREA"],selfClosingTags:["br","input","img","hr","param","!--","source","embed","!","meta","link","base"],doNotJoinTags:["a"],iconClasses:["fa-"]}),e.Editable.prototype.isClosingTag=function(e){return e?null!==e.match(/^<\/([a-zA-Z0-9]+)([^<]+)*>$/gi):!1},e.Editable.prototype.tagName=function(e){return e.replace(/^<\/?([a-zA-Z0-9-!]+)([^>]+)*>$/gi,"$1").toLowerCase()},e.Editable.SELF_CLOSING_AFTER=["source"],e.Editable.prototype.isSelfClosingTag=function(e){var t=this.tagName(e);return this.options.selfClosingTags.indexOf(t.toLowerCase())>=0},e.Editable.prototype.tagKey=function(e){return e.type+(e.attrs||[]).sort().join("|")},e.Editable.prototype.extendedKey=function(e){return this.tagKey(e)+JSON.stringify(e.style)},e.Editable.prototype.mapDOM=function(t){var i=[],n={},r={},o=0,s=this;e(t).find(".f-marker").html(e.Editable.INVISIBLE_SPACE);var a=function(t,i){if(3===t.nodeType)return[];if(8===t.nodeType)return[{comment:!0,attrs:{},styles:{},idx:o++,sp:i,ep:i,text:t.textContent}];var n=t.tagName;"B"==n&&(n="STRONG"),"I"!=n||t.className&&null!=t.className.match(new RegExp(s.options.iconClasses.join("|"),"gi"))||(n="EM");var r={},a={},l=null;if(t.attributes)for(var d=0;d<t.attributes.length;d++){var c=t.attributes[d];"style"==c.nodeName?l=c.value:r[c.nodeName]=c.value}if(l){var h=l.match(/([^:]*):([^:;]*(;|$))/gi);if(h)for(var p=0;p<h.length;p++){var u=h[p].split(":"),f=u.slice(1).join(":").trim();";"==f[f.length-1]&&(f=f.substr(0,f.length-1)),a[u[0].trim()]=f}}var g=[];if(e.isEmptyObject(r)&&"SPAN"==t.tagName&&!e.isEmptyObject(a)){for(var m in a){var v={};v[m]=a[m],g.push({selfClosing:!1,attrs:r,styles:v,idx:o++,sp:i,ep:i+t.textContent.length,tagName:n,noJoin:t.nextSibling&&"BR"===t.nextSibling.tagName})}return g}return[{selfClosing:s.options.selfClosingTags.indexOf(n.toLowerCase())>=0,attrs:r,styles:a,idx:o++,sp:i,ep:i+t.textContent.length,tagName:n,noJoin:t.nextSibling&&"BR"===t.nextSibling.tagName}]},l=function(e,s){var d,c,h;if(e!=t)for(c=a(e,s),d=0;d<c.length;d++)h=c[d],i.push(h),n[h.sp]||(n[h.sp]={}),r[h.ep]||(r[h.ep]={}),n[h.sp][h.tagName]||(n[h.sp][h.tagName]=[]),r[h.ep][h.tagName]||(r[h.ep][h.tagName]=[]),n[h.sp][h.tagName].push(h),r[h.ep][h.tagName].push(h);var p=e.childNodes;if(p){for(d=0;d<p.length;d++)d>0&&8!=p[d-1].nodeType&&(s+=p[d-1].textContent.length),l(p[d],s);if(c)for(d=0;d<c.length;d++)h=c[d],h.ci=o++,n[h.ep]||(n[h.ep]={}),n[h.ep][h.tagName]||(n[h.ep][h.tagName]=[]),n[h.ep][h.tagName].push({shadow:!0,ci:o-1})}},d=function(){var t,r,o,a;for(t in n)for(var l in n[t])for(o=0;o<n[t][l].length;o++)if(r=n[t][l][o],
!r.selfClosing&&!(r.dirty||r.shadow||r.comment||r.noJoin))for(var d=o+1;d<n[t][l].length;d++)if(a=n[t][l][d],!a.selfClosing&&!(a.dirty||a.shadow||a.comment||a.noJoin||1!=Object.keys(r.styles).length||1!=Object.keys(a.styles).length||a.sp==a.ep)){var c=Object.keys(r.styles)[0];if(a.styles[c]){r.sp=a.ep;for(var h=0;h<n[r.sp][r.tagName].length;h++){var p=n[r.sp][r.tagName][h];if(p.shadow&&p.ci==a.ci){n[r.sp][r.tagName].splice(h,0,r);break}}n[t][l].splice(o,1),o--;break}}for(t=0;t<i.length;t++)if(r=i[t],!(r.dirty||r.selfClosing||r.comment||r.noJoin||r.shadow||s.options.doNotJoinTags.indexOf(r.tagName.toLowerCase())>=0||!e.isEmptyObject(r.attrs)))if(r.sp==r.ep&&e.isEmptyObject(r.attrs)&&e.isEmptyObject(r.styles)&&s.options.allowedBlankTags.indexOf(r.tagName)<0)r.dirty=!0;else if(n[r.ep]&&n[r.ep][r.tagName])for(o=0;o<n[r.ep][r.tagName].length;o++)if(a=n[r.ep][r.tagName][o],r!=a&&!(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||!e.isEmptyObject(a.attrs)||JSON.stringify(a.styles)!=JSON.stringify(r.styles))){r.ep<a.ep&&(r.ep=a.ep),r.sp>a.sp&&(r.sp=a.sp),a.dirty=!0,t--;break}for(t=0;t<i.length;t++)if(r=i[t],!(r.dirty||r.selfClosing||r.comment||r.noJoin||r.shadow||!e.isEmptyObject(r.attrs)))if(r.sp==r.ep&&e.isEmptyObject(r.attrs)&&e.isEmptyObject(r.style)&&s.options.allowedBlankTags.indexOf(r.tagName)<0)r.dirty=!0;else if(n[r.sp]&&n[r.sp][r.tagName])for(o=n[r.sp][r.tagName].length-1;o>=0;o--)a=n[r.sp][r.tagName][o],r!=a&&(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||r.ep==a.ep&&e.isEmptyObject(a.attrs)&&(r.styles=e.extend(r.styles,a.styles),a.dirty=!0))};l(t,0),d();for(var c=i.length-1;c>=0;c--)i.dirty&&i.splice(c,1);return i},e.Editable.prototype.sortNodes=function(e,t){if(e.comment)return 1;if(e.selfClosing||t.selfClosing)return e.idx-t.idx;var i=e.ep-e.sp,n=t.ep-t.sp;return 0===i&&0===n?e.idx-t.idx:i===n?t.ci-e.ci:n-i},e.Editable.prototype.openTag=function(e){var t,i="<"+e.tagName.toLowerCase(),n=Object.keys(e.attrs).sort();for(t=0;t<n.length;t++){var r=n[t];i+=" "+r+'="'+e.attrs[r]+'"'}var o="",s=Object.keys(e.styles).sort();for(t=0;t<s.length;t++){var a=s[t];null!=e.styles[a]&&(o+=a.replace("_","-")+": "+e.styles[a]+"; ")}return""!==o&&(i+=' style="'+o.trim()+'"'),i+=">"},e.Editable.prototype.commentTag=function(e){var t="";if(e.selfClosing){var i;t="<"+e.tagName.toLowerCase();var n=Object.keys(e.attrs).sort();for(i=0;i<n.length;i++){var r=n[i];t+=" "+r+'="'+e.attrs[r]+'"'}var o="",s=Object.keys(e.styles).sort();for(i=0;i<s.length;i++){var a=s[i];null!=e.styles[a]&&(o+=a.replace("_","-")+": "+e.styles[a]+"; ")}""!==o&&(t+=' style="'+o.trim()+'"'),t+="/>"}else e.comment&&(t="<!--"+e.text+"-->");return t},e.Editable.prototype.closeTag=function(e){return"</"+e.tagName.toLowerCase()+">"},e.Editable.prototype.nodesOpenedAt=function(e,t){for(var i=[],n=e.length-1;n>=0&&e[n].sp==t;)i.push(e.pop()),n--;return i},e.Editable.prototype.entity=function(e){return ch_map={">":"&gt;","<":"&lt;","&":"&amp;"},ch_map[e]?ch_map[e]:e},e.Editable.prototype.removeInvisibleWhitespace=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];i.childNodes.length?this.removeInvisibleWhitespace(i):i.textContent=i.textContent.replace(/\u200B/gi,"")}},e.Editable.prototype.cleanOutput=function(t,i){var n,r,o,s;i&&this.removeInvisibleWhitespace(t);var a=this.mapDOM(t,i).sort(function(e,t){return t.sp-e.sp}),l=t.textContent;html="";var d=[],c=-1,h=e.proxy(function(){var t="";for(simple_nodes_to_close=[],d=d.sort(function(e,t){return e.idx-t.idx}).reverse();d.length;){for(var i=d.pop();simple_nodes_to_close.length&&simple_nodes_to_close[simple_nodes_to_close.length-1].ci<i.ci;)t+=this.closeTag(simple_nodes_to_close.pop());i.selfClosing||i.comment?t+=this.commentTag(i):(!e.isEmptyObject(i.attrs)||this.options.allowedBlankTags.indexOf(i.tagName)>=0)&&(t+=this.openTag(i),simple_nodes_to_close.push(i))}for(;simple_nodes_to_close.length;)t+=this.closeTag(simple_nodes_to_close.pop());html+=t},this),p={},u=[];for(n=0;n<=l.length;n++){if(p[n])for(r=p[n].length-1;r>=0;r--)if(u.length&&u[u.length-1].tagName==p[n][r].tagName&&JSON.stringify(u[u.length-1].styles)==JSON.stringify(p[n][r].styles))html+=this.closeTag(p[n][r]),u.pop();else{for(var f=[];u.length&&(u[u.length-1].tagName!==p[n][r].tagName||JSON.stringify(u[u.length-1].styles)!==JSON.stringify(p[n][r].styles));)s=u.pop(),html+=this.closeTag(s),f.push(s);for(html+=this.closeTag(p[n][r]),u.pop();f.length;){var g=f.pop();html+=this.openTag(g),u.push(g)}}for(var m=this.nodesOpenedAt(a,n).sort(this.sortNodes).reverse();m.length;){var v=m.pop();if(!v.dirty)if(v.selfClosing||v.comment)v.ci>c||"BR"==v.tagName?(h(),html+=this.commentTag(v),c=v.ci):d.length?(d.push(v),c<v.ci&&(c=v.ci)):(html+=this.commentTag(v),c<v.ci&&(c=v.ci));else if(v.ep>v.sp){v.ci>c&&h();var y=[];if("A"==v.tagName)for(var b=v.sp+1;b<v.ep;b++)if(p[b]&&p[b].length)for(o=0;o<p[b].length;o++)y.push(p[b][o]),html+=this.closeTag(p[b][o]),u.pop();var w=[];if("SPAN"==v.tagName&&("#123456"==v.styles["background-color"]||"#123456"===e.Editable.RGBToHex(v.styles["background-color"])||"#123456"==v.styles.color||"#123456"===e.Editable.RGBToHex(v.styles.color)))for(;u.length;){var x=u.pop();html+=this.closeTag(x),w.push(x)}for(html+=this.openTag(v),c<v.ci&&(c=v.ci),u.push(v),p[v.ep]||(p[v.ep]=[]),p[v.ep].push(v);y.length;)v=y.pop(),html+=this.openTag(v),u.push(v);for(;w.length;)v=w.pop(),html+=this.openTag(v),u.push(v)}else v.sp==v.ep&&(d.push(v),c<v.ci&&(c=v.ci))}h(),n!=l.length&&(html+=this.entity(l[n]))}return html=html.replace(/(<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>)\u200B(<\/span>)/gi,"$1$2"),html},e.Editable.prototype.wrapDirectContent=function(){var t=e.merge(["UL","OL","TABLE"],this.valid_nodes);if(!this.options.paragraphy)for(var i=null,n=this.$element.contents(),r=0;r<n.length;r++)1!=n[r].nodeType||t.indexOf(n[r].tagName)<0?(i||(i=e('<div class="fr-wrap">'),e(n[r]).before(i)),i.append(n[r])):i=null},e.Editable.prototype.cleanify=function(t,i,n){if(this.browser.msie&&e.Editable.getIEversion()<9)return!1;var r;if(this.isHTML)return!1;void 0===t&&(t=!0),void 0===n&&(n=!0),this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),n&&this.saveSelectionByMarkers(),t?r=this.getSelectionElements():(this.wrapDirectContent(),r=this.$element.find(this.valid_nodes.join(",")),0===r.length&&(r=[this.$element.get(0)]));var o,s;if(r[0]!=this.$element.get(0))for(var a=0;a<r.length;a++){var l=e(r[a]);0===l.find(this.valid_nodes.join(",")).length&&(o=l.html(),s=this.cleanOutput(l.get(0),i),s!==o&&l.html(s))}else 0===this.$element.find(this.valid_nodes.join(",")).length&&(o=this.$element.html(),s=this.cleanOutput(this.$element.get(0),i),s!==o&&this.$element.html(s));this.$element.find("[data-fr-idx]").removeAttr("data-fr-idx"),this.$element.find(".fr-wrap").each(function(){e(this).replaceWith(e(this).html())}),this.$element.find(".f-marker").html(""),n&&this.restoreSelectionByMarkers(),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.commands=e.extend(e.Editable.commands,{insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol",refresh:function(){},callback:function(e){this.formatList(e)},undo:!0},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul",refresh:function(){},callback:function(e){this.formatList(e)},undo:!0}}),e.Editable.prototype.refreshLists=function(){var t=e(this.getSelectionElement()),i=this.parents(t,"ul, ol");if(i.length>0){var n="insertUnorderedList";"OL"==i[0].tagName&&(n="insertOrderedList"),this.$editor.find('button[data-cmd="'+n+'"]').addClass("active")}},e.Editable.prototype.processBackspace=function(t){var i=t.prev();if(i.length){for(this.removeMarkers(),("UL"==i.get(0).tagName||"OL"==i.get(0).tagName)&&(i=i.find("li:last"));i.find("> ul, > ol").length;)i=i.find("> ul li:last, > ol li:last");var n=i.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote");if(0===i.text().length&&0===i.find("img, table, input, iframe, video").length)i.remove();else{if(this.emptyElement(i.get(0))||(this.keep_enter=!0,t.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote").each(function(t,i){e(i).replaceWith(e(i).html())}),this.keep_enter=!1),n.length)if(e(n[n.length-1]).append(this.markers_html),0===t.find("ul, ol").length)e(n[n.length-1]).append(t.html());else{for(var r=!1,o=t.contents(),s=0;s<o.length;s++){var a=o[s];["OL","UL"].indexOf(o[s].tagName)>=0&&(r=!0),r?e(n[n.length-1]).after(a):e(n[n.length-1]).append(a)}this.$element.find("breakli").remove();var l=n[n.length-1].nextSibling;l&&"BR"==l.tagName&&e(l).remove()}else this.emptyElement(i.get(0))?(this.$element.find("breakli").replaceWith(this.markers_html),i.html(t.html())):(i.append(this.markers_html),i.append(t.html()));t.remove(),this.cleanupLists(),this.restoreSelectionByMarkers()}this.$element.find("breakli").remove()}else this.$element.find("breakli").remove(),this.parents(t,"ul").length?this.formatList("insertUnorderedList",!1):this.formatList("insertOrderedList",!1);this.sync()},e.Editable.prototype.liBackspace=function(){if(""!==this.text())return!0;var t,i=this.getSelectionElement(),n=this.parents(e(i),"table, li");if(n.length>0&&"TABLE"===n[0].tagName)return!0;if(t="LI"==i.tagName?e(i):this.parents(e(i),"li:first"),this.removeMarkers(),this.emptyElement(t.get(0))?(t.prepend("<breakli></breakli>"),1==t.find("br").length&&t.find("br").remove()):this.insertHTML("<breakli></breakli>"),t.find("breakli").prev().length&&"TABLE"===t.find("breakli").prev().get(0).tagName&&t.find("breakli").next().length&&"BR"===t.find("breakli").next().get(0).tagName)return this.setSelection(t.find("breakli").prev().find("td:first").get(0)),t.find("breakli").next().remove(),this.$element.find("breakli").remove(),!1;for(var r,o=t.html(),s=[],a=0;a<o.length;a++){if(chr=o.charAt(a),"<"!=chr)return this.$element.find("breakli").remove(),!0;var l=o.indexOf(">",a+1);if(-1!==l){r=o.substring(a,l+1);var d=this.tagName(r);if(a=l,"breakli"==d){if(!this.isClosingTag(r)&&!this.isClosingTag(s[s.length-1]))return this.processBackspace(t),!1}else s.push(r)}}return this.$element.find("breakli").remove(),!0},e.Editable.prototype.textLiEnter=function(t){this.removeMarkers(),this.insertSimpleHTML("<breakli></breakli>",!1);var i,n,r=t.html(),o=[],s={},a=[],l=0,d=t.prop("attributes"),c="";for(n=0;n<d.length;n++)c+=" "+d[n].name+'="'+d[n].value+'"';var h=!1;for(n=0;n<r.length;n++)if(chr=r.charAt(n),"<"==chr){var p=r.indexOf(">",n+1);if(-1!==p){i=r.substring(n,p+1);var u=this.tagName(i);if(n=p,"breakli"==u){if(!this.isClosingTag(i)){for(var f=o.length-1;f>=0;f--){var g=this.tagName(o[f]);a.push("</"+g+">")}a.push("</li>"),a.push("<li"+c+">");for(var m=0;m<o.length;m++)a.push(o[m]);a.push('<span class="f-marker" data-type="false" data-collapsed="true" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-collapsed="true" data-id="0" data-fr-verified="true"></span>'),h=!1}}else if(a.push(i),h=!1,!this.isSelfClosingTag(i))if(this.isClosingTag(i)){var v=s[u].pop();o.splice(v,1)}else o.push(i),void 0===s[u]&&(s[u]=[]),s[u].push(o.length-1)}}else l++,32!=chr.charCodeAt(0)||h?(a.push(chr),h=!0):a.push("&nbsp;");var y=e(t.parents("ul, ol")[0]);t.replaceWith("<li"+c+">"+a.join("")+"</li>"),y.find("p:empty + table").prev().remove(),y.find("p + table").each(function(t,i){var n=e(i);n.prev().append(n.clone()),n.remove()}),y.find("table + p").each(function(t,i){var n=e(i);n.append(n.prev().clone()),n.prev().remove()}),this.keep_enter=!0,y.find(this.valid_nodes.join(",")).each(e.proxy(function(t,i){""===e(i).text().trim()&&0===e(i).find(this.valid_nodes.join(",")).length&&e(i).prepend(e.Editable.INVISIBLE_SPACE)},this)),this.keep_enter=!1},e.Editable.prototype.liEnter=function(){var t,i=this.getSelectionElement(),n=this.parents(e(i),"table, li");if(n.length>0&&"TABLE"==n[0].tagName)return!0;if(t="LI"==i.tagName?e(i):this.parents(e(i),"li:first"),this.getSelectionTextInfo(t.get(0)).atStart&&""===this.text())t.before("<li>"+e.Editable.INVISIBLE_SPACE+"</li>");else{if(0===this.trim(t.text()).length&&0===t.find("img, table, iframe, input, object").length)return this.outdent(!1),!1;this.textLiEnter(t),this.$element.find("breakli").remove(),this.restoreSelectionByMarkers()}return this.sync(),!1},e.Editable.prototype.listTab=function(){var t=e(this.getSelectionElement());return this.parents(t,"ul, ol").length>0&&0===this.parents(t,"table").length?(this.indent(),!1):void 0},e.Editable.prototype.listShiftTab=function(){var t=e(this.getSelectionElement());return this.parents(t,"ul, ol").length>0&&0===this.parents(t,"table").length?(this.outdent(),!1):void 0},e.Editable.prototype.indentList=function(e,t){return"LI"===e.get(0).tagName?(t?this.outdentLi(e):this.indentLi(e),this.cleanupLists(),!1):!0},e.Editable.prototype.initList=function(){this.addListener("tab",this.listTab),this.addListener("shift+tab",this.listShiftTab),this.addListener("refresh",this.refreshLists),this.addListener("indent",this.indentList),this.isImage||this.isLink||this.options.editInPopup||this.$element.on("keypress",e.proxy(function(t){if(["TEXTAREA","INPUT"].indexOf(t.target.tagName)<0&&!this.isHTML){var i=t.which,n=this.getSelectionElement();if("LI"==n.tagName||this.parents(e(n),"li").length>0){if(13==i&&!t.shiftKey&&this.options.multiLine)return this.liEnter();if(8==i)return this.liBackspace()}}},this))},e.Editable.initializers.push(e.Editable.prototype.initList),e.Editable.prototype.formatList=function(t,i){if(this.browser.msie&&e.Editable.getIEversion()<9)return document.execCommand(t,!1,!1),!1;void 0===i&&(i=!0);var n,r,o=!1,s=!0,a=!1,l=this.getSelectionElements(),d=this.parents(e(l[0]),"ul, ol");if(d.length&&("UL"===d[0].tagName?"insertUnorderedList"!=t&&(o=!0):"insertOrderedList"!=t&&(o=!0)),this.saveSelectionByMarkers(),o){n="ol","insertUnorderedList"===t&&(n="ul");var c=e(d[0]);c.replaceWith("<"+n+">"+c.html()+"</"+n+">")}else{for(var h=0;h<l.length;h++)if(r=e(l[h]),("TD"==r.get(0).tagName||"TH"==r.get(0).tagName)&&this.wrapTextInElement(r),this.parents(r,"li").length>0||"LI"==r.get(0).tagName){var p;p="LI"==r.get(0).tagName?r:e(r.parents("li")[0]);var u=this.parents(r,"ul, ol");if(u.length>0&&(n=u[0].tagName.toLowerCase(),p.before('<span class="close-'+n+'" data-fr-verified="true"></span>'),p.after('<span class="open-'+n+'" data-fr-verified="true"></span>')),0===this.parents(e(u[0]),"ol, ul").length||o)if(0===p.find(this.valid_nodes.join(",")).length){var f=p.html().replace(/\u200B/gi,"");this.options.paragraphy?(0===p.text().replace(/\u200B/gi,"").length&&(f+=p.find("br").length>0?"":this.br),f="<"+this.options.defaultTag+this.attrs(p.get(0))+">"+f,f=f+"</"+this.options.defaultTag+">"):f+=p.find("br").length>0?"":this.br,p.replaceWith(f)}else p.replaceWith(p.html().replace(/\u200B/gi,""));else this.parents(e(u[0]),"ol, ul").length>0&&(p.append('<span class="open-li" data-fr-verified="true"></span>'),p.before('<span class="close-li" data-fr-verified="true"></span>'));a=!0}else s=!1;a&&this.cleanupLists(),(s===!1||o===!0)&&(this.wrapText(),this.restoreSelectionByMarkers(),l=this.getSelectionElements(),this.saveSelectionByMarkers(),this.elementsToList(l,t),this.unwrapText(),this.cleanupLists())}this.options.paragraphy&&!o&&this.wrapText(!0),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),t="insertUnorderedList"==t?"unorderedListInserted":"orderedListInserted",this.triggerEvent(t)},e.Editable.prototype.elementsToList=function(t,i){var n="<ol>";"insertUnorderedList"==i&&(n="<ul>"),t[0]==this.$element.get(0)&&(t=this.$element.find("> "+this.valid_nodes.join(", >")));for(var r=0;r<t.length;r++){var o=e(n);$element=e(t[r]),$element.get(0)!=this.$element.get(0)&&("TD"===$element.get(0).tagName||"TH"===$element.get(0).tagName?(this.wrapTextInElement($element,!0),this.elementsToList($element.find("> "+this.valid_nodes.join(", >")),i)):(""===$element.attr("class")&&$element.removeAttr("class"),o.append($element.get(0).tagName==this.options.defaultTag&&0===$element.get(0).attributes.length?e("<li>").html($element.clone().html()):e("<li>").html($element.clone())),$element.replaceWith(o)))}},e.Editable.prototype.indentLi=function(t){var i=t.parents("ul, ol"),n=i.get(0).tagName.toLowerCase();t.find("> ul, > ol").length>0&&t.prev("li").length>0?(this.wrapTextInElement(t),t.find("> "+this.valid_nodes.join(" , > ")).each(function(t,i){e(i).wrap("<"+n+"></"+n+">").wrap("<li></li>")}),t.prev("li").append(t.find("> ul, > ol")),t.remove()):0===t.find("> ul, > ol").length&&t.prev("li").length>0&&(t.prev().append(e("<"+n+">").append(t.clone())),t.remove(),e(i.find("li").get().reverse()).each(function(t,i){var n=e(i);n.find(" > ul, > ol").length>0&&n.prev()&&n.prev().find(" > ul, > ol").length>0&&1===n.contents().length&&(n.prev().append(n.html()),n.remove())}))},e.Editable.prototype.outdentLi=function(t){var i=e(t.parents("ul, ol")[0]),n=this.parents(i,"ul, ol"),r=i.get(0).tagName.toLowerCase();0===t.prev("li").length&&this.parents(t,"li").length>0?(t.before('<span class="close-'+r+'" data-fr-verified="true"></span>'),t.before('<span class="close-li" data-fr-verified="true"></span>'),t.before('<span class="open-li" data-fr-verified="true"></span>'),t.after('<span class="open-'+r+'" data-fr-verified="true"></span>'),t.replaceWith(t.html())):(t.before('<span class="close-'+r+'" data-fr-verified="true"></span>'),t.after('<span class="open-'+r+'" data-fr-verified="true"></span>'),this.parents(t,"li").length>0&&(t.before('<span class="close-li" data-fr-verified="true"></span>'),t.after('<span class="open-li" data-fr-verified="true"></span>'))),n.length||(0===t.find(this.valid_nodes.join(",")).length?t.replaceWith(t.html().replace(/\u200b/gi,"")+this.br):(t.find(this.valid_nodes.join(", ")).each(e.proxy(function(t,i){this.emptyElement(i)&&e(i).append(this.br)},this)),t.replaceWith(t.html().replace(/\u200b/gi,""))))},e.Editable.prototype.listTextEmpty=function(t){var i=e(t).text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return(""===i||t===this.$element.get(0))&&1===e(t).find("br").length}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.commands=e.extend(e.Editable.commands,{table:{title:"Table",icon:"fa fa-table",callback:function(e,t,i){this.table_commands[t]?this.table_commands[t].apply(this,[t,i]):this.table_commands.insertTable.apply(this,[t,i]),this.cleanupTables()}}}),e.Editable.DEFAULTS.buttons[e.Editable.DEFAULTS.buttons.indexOf("insertHorizontalRule")]="table",e.Editable.prototype.table_commands={insertTable:function(e,t){this.insertTable(e,t)},insertRowAbove:function(){this.insertRow("above")},insertRowBelow:function(){this.insertRow("below")},insertColumnBefore:function(){this.insertColumn("before")},insertColumnAfter:function(){this.insertColumn("after")},deleteColumn:function(){this.deleteColumn()},deleteRow:function(){this.deleteRow()},insertCellBefore:function(){this.insertCell("before")},insertCellAfter:function(){this.insertCell("after")},mergeCells:function(){this.mergeCells()},deleteCell:function(){this.deleteCell()},splitVertical:function(){this.splitVertical()},splitHorizontal:function(){this.splitHorizontal()},insertHeader:function(){this.insertHeader()},deleteHeader:function(){this.deleteHeader()},deleteTable:function(){this.deleteTable()}},e.Editable.prototype.command_dispatcher=e.extend(e.Editable.prototype.command_dispatcher,{table:function(e){var t=this.buildDropdownTable(),i=this.buildDropdownButton(e,t,"fr-table");return this.bindTableDropdownEvents(),i}}),e.Editable.prototype.tableTab=function(){var t;this.currentCell&&(t=this.currentCell());var i=e(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:t&&this.nextCell()?(this.setSelection(this.nextCell()),!1):void 0},e.Editable.prototype.tableShiftTab=function(){var t;this.currentCell&&(t=this.currentCell());var i=e(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:t&&this.prevCell()?(this.setSelection(this.prevCell()),!1):void 0},e.Editable.prototype.initTable=function(){var t=this;this.$editor.on("click mouseup touch touchend",".fr-table a",function(i){i.preventDefault(),i.stopPropagation(),t.android()&&(e(this).parent().siblings().removeClass("hover"),e(this).parent().addClass("hover"))}),this.addListener("tab",this.tableTab),this.addListener("shift+tab",this.tableShiftTab)},e.Editable.initializers.push(e.Editable.prototype.initTable),e.Editable.prototype.buildDropdownTable=function(){var e='<ul class="fr-dropdown-menu fr-table">';e+='<li> <a href="#"><span data-text="true">Insert table</span> <i class="fa fa-chevron-right"></i></a><div class="select-table"> ',e+='<div class="fr-t-info">1 x 1</div>';for(var t=1;10>=t;t++){for(var i=1;10>=i;i++){var n="inline-block";(t>5||i>5)&&(n="none");var r="fr-bttn ";1==t&&1==i&&(r+=" hover"),e+='<span class="'+r+'" data-cmd="table" data-val="'+t+'" data-param="'+i+'" style="display: '+n+';"><span></span></span>'}e+='<div class="new-line"></div>'}return e+="</div> </li>",e+='<li><a href="#"><span data-text="true">Cell</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertCellBefore"><a href="#" data-text="true">Insert cell before</a></li><li data-cmd="table" data-val="insertCellAfter"><a href="#" data-text="true">Insert cell after</a></li><li data-cmd="table" data-val="deleteCell"><a href="#" data-text="true">Delete cell</a></li><li data-cmd="table" data-val="mergeCells"><a href="#" data-text="true">Merge cells</a></li><li data-cmd="table" data-val="splitHorizontal"><a href="#" data-text="true">Horizontal split</a></li><li data-cmd="table" data-val="splitVertical"><a href="#" data-text="true">Vertical split</a></li></ul></li>',e+='<li><a href="#"><span data-text="true">Row</span> <i class="fa fa-chevron-right"></i></a> <ul><li data-cmd="table" data-val="insertRowAbove"><a href="#" data-text="true">Insert row above</a></li><li data-cmd="table" data-val="insertRowBelow"><a href="#" data-text="true">Insert row below</a></li><li data-cmd="table" data-val="deleteRow"><a href="#" data-text="true">Delete row</a></li></ul></li>',e+='<li><a href="#"><span data-text="true">Column</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertColumnBefore"><a href="#" data-text="true">Insert column before</a></li> <li data-cmd="table" data-val="insertColumnAfter"><a href="#" data-text="true">Insert column after</a></li> <li data-cmd="table" data-val="deleteColumn"><a href="#" data-text="true">Delete column</a></li> </ul></li>',e+='<li data-cmd="table" data-val="deleteTable"><a href="#" data-text="true">Delete table</a></li>',e+="</ul>"},e.Editable.prototype.bindTableDropdownEvents=function(){var t=this;this.$bttn_wrapper.on("mouseenter",".fr-table .select-table > span",function(){var i=e(this).data("val"),n=e(this).data("param");t.$bttn_wrapper.find(".fr-table .select-table .fr-t-info").text(i+" x "+n),t.$bttn_wrapper.find(".fr-table .select-table > span").removeClass("hover");for(var r=1;10>=r;r++)for(var o=0;10>=o;o++){var s=t.$bttn_wrapper.find('.fr-table .select-table > span[data-val="'+r+'"][data-param="'+o+'"]');i>=r&&n>=o?s.addClass("hover"):(i+1>=r||5>=r)&&(n+1>=o||5>=o)?s.css("display","inline-block"):(r>5||o>5)&&s.css("display","none")}}),this.$bttn_wrapper.on("mouseleave",".fr-table .select-table",function(){t.$bttn_wrapper.find('.fr-table .select-table > span[data-val="1"][data-param="1"]').trigger("mouseenter")}),this.android()&&this.$bttn_wrapper.on("touchend",".fr-table .fr-trigger",function(){e(this).parents(".fr-table").find(".hover").removeClass("hover")})},e.Editable.prototype.tableMap=function(){var t=this.currentTable(),i=[];return t&&t.find("tr:not(:empty)").each(function(t,n){var r=e(n),o=0;r.find("th, td").each(function(n,r){for(var s=e(r),a=parseInt(s.attr("colspan"),10)||1,l=parseInt(s.attr("rowspan"),10)||1,d=t;t+l>d;d++)for(var c=o;o+a>c;c++)i[d]||(i[d]=[]),i[d][c]?o++:i[d][c]=r;o+=a})}),i},e.Editable.prototype.cellOrigin=function(e,t){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)if(t[i][n]==e)return{row:i,col:n}},e.Editable.prototype.canMergeCells=function(){var t=this.getSelectionCells();if(t.length<2)return!1;for(var i=this.tableMap(),n=0,r=32e3,o=0,s=32e3,a=0,l=0;l<t.length;l++){var d=e(t[l]),c=parseInt(d.attr("colspan"),10)||1,h=parseInt(d.attr("rowspan"),10)||1,p=this.cellOrigin(t[l],i);n+=c*h,r=Math.min(r,p.col),o=Math.max(o,p.col+c),s=Math.min(s,p.row),a=Math.max(a,p.row+h)}return n==(o-r)*(a-s)?{row:s,col:r,colspan:o-r,rowspan:a-s,map:i,cells:t}:null},e.Editable.prototype.getSelectionCells=function(){var t,i=[];if(this.browser.webkit||this.browser.msie){var n=this.getSelectionElements();for(t=0;t<n.length;t++)("TD"==n[t].tagName||"TH"==n[t].tagName)&&i.push(n[t])}else{var r=this.getRanges();for(t=0;t<r.length;t++){var o=r[t],s=!1;if("TD"==o.startContainer.tagName||"TH"==o.startContainer.tagName)i.push(o.startContainer),s=!0;else{var a=o.startContainer.childNodes,l=o.startOffset;if(a.length>l&&l>=0){var d=a[l];("TD"==d.tagName||"TH"==d.tagName)&&(i.push(d),s=!0)}}if(s===!1){var c=e(o.startContainer).parents("td:first, th:first");c.length>0&&i.push(c.get(0))}}}return i},e.Editable.prototype.currentCell=function(){var e=this.getSelectionCells();return e.length>0?e[0]:null},e.Editable.prototype.prevCell=function(){var t=this.currentCell();if(t){if(e(t).prev("td").length)return e(t).prev("td").get(0);if(e(t).parent().prev("tr").find("td").length)return e(t).parent().prev("tr").find("td:last").get(0)}return null},e.Editable.prototype.nextCell=function(){var t=this.currentCell();if(t){if(e(t).next("td").length)return e(t).next("td").get(0);if(e(t).parent().next("tr").find("td").length)return e(t).parent().next("tr").find("td").get(0)}return null},e.Editable.prototype.currentTable=function(){for(var t=e(this.getSelectionElement());t.get(0)!=this.$element.get(0)&&t.get(0)!=this.$document.find("body").get(0)&&"TABLE"!=t.get(0).tagName;)t=t.parent();return t.get(0)!=this.$element.get(0)?t:null},e.Editable.prototype.focusOnTable=function(){var e=this.currentTable();if(e){var t=e.find("td:first");this.setSelection(t.get(0))}},e.Editable.prototype.insertCell=function(t){for(var i=this.getSelectionCells(),n=0;n<i.length;n++){var r=e(i[n]);"before"==t?r.before(r.clone().removeAttr("colspan").removeAttr("rowspan").html(e.Editable.INVISIBLE_SPACE)):"after"==t&&r.after(r.clone().removeAttr("colspan").removeAttr("rowspan").html(e.Editable.INVISIBLE_SPACE))}"before"==t?this.triggerEvent("cellInsertedBefore"):"after"==t&&this.triggerEvent("cellInsertedAfter")},e.Editable.prototype.mergeCells=function(){var t=this.canMergeCells();if(t){var i=e(t.map[t.row][t.col]);i.attr("colspan",t.colspan),i.attr("rowspan",t.rowspan);for(var n=0;n<t.cells.length;n++){var r=t.cells[n];if(i.get(0)!=r){var o=e(r);i.append(o.html()),o.remove()}}this.setSelection(i.get(0))}this.hide(),this.triggerEvent("cellsMerged")},e.Editable.prototype.deleteCell=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]);n.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("cellDeleted")},e.Editable.prototype.insertHeader=function(){var e=this.currentTable();e&&e.find(" > thead").length>0&&this.triggerEvent("headerInserted")},e.Editable.prototype.deleteHeader=function(){},e.Editable.prototype.insertColumn=function(t){var i=this.currentCell();if(i)for(var n=e(i),r=this.tableMap(),o=this.cellOrigin(n.get(0),r),s=0;s<r.length;s++){var a=r[s][o.col],l=parseInt(e(a).attr("colspan"),10)||1,d=parseInt(e(a).attr("rowspan"),10)||1;if("before"==t){var c=r[s][o.col-1];c?c==a?e(c).attr("colspan",l+1):d>1?e(c).after("<"+c.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+c.tagName+">"):e(a).before("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):e(a).before("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}else if("after"==t){var h=r[s][o.col+1];h?h==a?e(h).attr("colspan",l+1):d>1?e(h).before("<"+h.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+h.tagName+">"):e(a).after("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):e(a).after("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}}this.hide(),"before"==t?this.triggerEvent("columnInsertedBefore"):"after"==t&&this.triggerEvent("columnInsertedAfter")},e.Editable.prototype.deleteColumn=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++)for(var n=e(t[i]),r=this.tableMap(),o=this.cellOrigin(n.get(0),r),s=0;s<r.length;s++){var a=r[s][o.col],l=parseInt(e(a).attr("colspan"),10)||1;1==l?e(a).remove():e(a).attr("colspan",l-1)}this.focusOnTable(),this.hide(),this.triggerEvent("columnDeleted")},e.Editable.prototype.insertRow=function(t){var i,n=this.currentCell();if(n){var r=e(n),o=this.tableMap(),s=this.cellOrigin(r.get(0),o),a=0,l=null;for(i=0;i<o[s.row].length;i++){var d=o[s.row][i],c=parseInt(e(d).attr("rowspan"),10)||1;if("above"==t)if(0===s.row)a++;else{var h=o[s.row-1][i];h==d&&l!=d?e(d).attr("rowspan",c+1):a++}else if("below"==t)if(s.row==o.length-1)a++;else{var p=o[s.row+1][i];p==d&&l!=d?e(d).attr("rowspan",c+1):a++}l=o[s.row][i]}var u="<tr>";for(i=0;a>i;i++)u+="<td>"+e.Editable.INVISIBLE_SPACE+"</td>";u+="</tr>","below"==t?r.closest("tr").after(u):"above"==t&&r.closest("tr").before(u)}this.hide(),"below"==t?this.triggerEvent("rowInsertedBelow"):"above"==t&&this.triggerEvent("rowInsertedAbove")},e.Editable.prototype.deleteRow=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),r=this.tableMap(),o=this.cellOrigin(n.get(0),r),s=n.parents("tr:first");if(o)for(var a=0;a<r[o.row].length;a++){var l=r[o.row][a],d=parseInt(e(l).attr("rowspan"),10)||1;if(1==d)e(l).remove();else{var c=this.cellOrigin(l,r);if(e(l).attr("rowspan",d-1),c.row==o.row){var h=r[o.row+1];h&&h[a-1]&&(e(h[a-1]).after(e(l).clone()),e(l).remove())}}}s.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("rowDeleted")},e.Editable.prototype.splitVertical=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),r=this.tableMap(),o=this.cellOrigin(n.get(0),r),s=parseInt(n.attr("colspan"),10)||1,a=parseInt(n.attr("rowspan"),10)||1;if(a>1){var l=Math.floor(a/2),d=o.row+(a-l),c=r[d][o.col-1];c||(c=r[d][o.col+s]),c?e(c).before(n.clone().attr("rowspan",l).html(e.Editable.INVISIBLE_SPACE)):n.parents("tr:first").after(e("<tr>").append(n.clone().attr("rowspan",l).html(e.Editable.INVISIBLE_SPACE))),n.attr("rowspan",a-l)}else{for(var h=e("<tr>").append(n.clone().html(e.Editable.INVISIBLE_SPACE)),p=null,u=0;u<r[o.row].length;u++){var f=r[o.row][u],g=parseInt(e(f).attr("rowspan"),10)||1;p!=f&&f!=n.get(0)&&e(f).attr("rowspan",g+1),p=f}n.parents("tr:first").after(h)}}this.hide(),this.triggerEvent("cellVerticalSplit")},e.Editable.prototype.splitHorizontal=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),r=this.tableMap(),o=this.cellOrigin(n.get(0),r),s=parseInt(n.attr("colspan"),10)||1;if(s>1){var a=Math.floor(s/2);n.after(n.clone().attr("colspan",a).html(e.Editable.INVISIBLE_SPACE)),n.attr("colspan",s-a)}else{for(var l=null,d=0;d<r.length;d++){var c=r[d][o.col],h=parseInt(e(c).attr("colspan"),10)||1;l!=c&&c!=n.get(0)&&e(c).attr("colspan",h+1),l=c}n.after(n.clone().html(e.Editable.INVISIBLE_SPACE))}}this.hide(),this.triggerEvent("cellHorizontalSplit")},e.Editable.prototype.insertTable=function(t,i){for(var n='<table data-last-table="true" width="100%">',r=0;t>r;r++){n+="<tr>";for(var o=0;i>o;o++)n+="<td>"+e.Editable.INVISIBLE_SPACE+"</td>";n+="</tr>"}n+="</table>",this.focus();var s=this.getSelectionElement();this.breakHTML(n,this.parents(e(s),"li").length<0);var a=this.$element.find('table[data-last-table="true"]');a.removeAttr("data-last-table"),this.setSelection(a.find("td:first").get(0)),this.hide(),this.triggerEvent("tableInserted")},e.Editable.prototype.deleteTable=function(){var e=this.currentTable();e&&(e.remove(),this.focus(),this.hide(),this.triggerEvent("tableDeleted"))},e.Editable.prototype.cleanupTables=function(){this.$element.find('td[colspan="1"], th[colspan="1"]').each(function(){e(this).removeAttr("colspan")}),this.$element.find('td[rowspan="1"], th[rowspan="1"]').each(function(){e(this).removeAttr("rowspan")})}}(jQuery),/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var e,t,i,n,r,o,s,a,l=[].slice,d={}.hasOwnProperty,c=function(e,t){function i(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};s=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,r,o;if(n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(r=0,o=i.length;o>r;r++)t=i[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,r,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(r=o=0,s=n.length;s>o;r=++o)if(i=n[r],i===t){n.splice(r,1);break}return this},e}(),e=function(e){function i(e,t){var r,o,s;if(this.element=e,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,r=null!=(s=i.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=i.getElements(this.options.clickable,"clickable")),this.init()}var n,r;return c(i,e),i.prototype.Emitter=t,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return s},forceFallback:!1,fallback:function(){var e,t,n,r,o,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),r=0,o=s.length;o>r;r++)e=s[r],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,r,o,s,a,l,d,c,h,p,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=i.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),h=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=h.length;l>o;o++)t=h[o],t.textContent=e.name;for(p=e.previewElement.querySelectorAll("[data-dz-size]"),s=0,d=p.length;d>s;s++)t=p[s],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),u=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,c=u.length;c>a;a++)r=u[a],f.push(r.addEventListener("click",n));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,r,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=o.length;r>n;n++)i=o[n],i.alt=e.name,i.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,r,o,s;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],n=0,r=o.length;r>n;n++)i=o[n],s.push(i.textContent=t);return s}},errormultiple:s,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(e,t,i){var n,r,o,s,a;if(e.previewElement){for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],r=0,o=s.length;o>r;r++)n=s[r],"PROGRESS"===n.nodeName?a.push(n.value=t):a.push(n.style.width=""+t+"%");return a}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:s,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:s,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,i,n,r,o,s;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],o=0,s=i.length;s>o;o++){t=i[o];for(e in t)r=t[e],n[e]=r}return n},i.prototype.getAcceptedFiles=function(){var e,t,i,n,r;for(n=this.files,r=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&r.push(e);return r},i.prototype.getRejectedFiles=function(){var e,t,i,n,r;for(n=this.files,r=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||r.push(e);return r},i.prototype.getFilesWithStatus=function(e){var t,i,n,r,o;for(r=this.files,o=[],i=0,n=r.length;n>i;i++)t=r[i],t.status===e&&o.push(t);return o},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getAddedFiles=function(){return this.getFilesWithStatus(i.ADDED)},i.prototype.getActiveFiles=function(){var e,t,n,r,o;for(r=this.files,o=[],t=0,n=r.length;n>t;t++)e=r[t],(e.status===i.UPLOADING||e.status===i.QUEUED)&&o.push(e);return o},i.prototype.init=function(){var e,t,n,r,o,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,r,o;if(i=e.hiddenFileInput.files,i.length)for(r=0,o=i.length;o>r;r++)t=i[r],e.addFile(t);return e.emit("addedfiles",i),n()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,r=0,o=a.length;o>r;r++)e=a[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(r){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||i.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,t,i,n,r,o,s,a;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),o=0,s=a.length;s>o;o++)t=a[o],n+=t.upload.bytesSent,i+=t.upload.total;r=100*n/i}else r=100;return this.emit("totaluploadprogress",r,i,n)},i.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},i.prototype.getFallbackForm=function(){var e,t,n,r;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=i.createElement(n),"FORM"!==this.element.tagName?(r=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:t)},i.prototype.getExistingFallback=function(){var e,t,i,n,r,o;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],n=0,r=o.length;r>n;n++)if(i=o[n],e=t(this.element.getElementsByTagName(i)))return e},i.prototype.setupEventListeners=function(){var e,t,i,n,r,o,s;for(o=this.listeners,s=[],n=0,r=o.length;r>n;n++)e=o[n],s.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.addEventListener(t,i,!1));return r}());return s},i.prototype.removeEventListeners=function(){var e,t,i,n,r,o,s;for(o=this.listeners,s=[],n=0,r=o.length;r>n;n++)e=o[n],s.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.removeEventListener(t,i,!1));return r}());return s},i.prototype.disable=function(){var e,t,i,n,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(this.cancelUpload(e));return r},i.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(e){var t,i,n,r,o,s,a,l;if(n=0,r="b",e>0){for(s=["TB","GB","MB","KB","b"],i=a=0,l=s.length;l>a;i=++a)if(o=s[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),r=o;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+r},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},i.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(e){var t,i,n,r;for(r=[],i=0,n=e.length;n>i;i++)t=e[i],r.push(this.addFile(t));return r},i.prototype._addFilesFromItems=function(e){var t,i,n,r,o;for(o=[],n=0,r=e.length;r>n;n++)i=e[n],null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?o.push(this.addFile(i.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?o.push(this.addFile(i.getAsFile())):o.push(void 0);return o},i.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,r,o;for(r=0,o=i.length;o>r;r++)n=i[r],n.isFile?n.file(function(i){return e.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+t+"/"+i.name,e.addFile(i))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name)}}(this),i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},i.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},i.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=i.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)t=e[i],this.enqueueFile(t);return null},i.prototype.enqueueFile=function(e){if(e.status!==i.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(e){return e.status===i.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(e){var t,n,r,o;for(null==e&&(e=!1),o=this.files.slice(),n=0,r=o.length;r>n;n++)t=o[n],(t.status!==i.UPLOADING||e)&&this.removeFile(t);return null},i.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}}(this),i.readAsDataURL(e)},i.prototype.createThumbnailFromUrl=function(e,t,i,n){var r;return r=document.createElement("img"),n&&(r.crossOrigin=n),r.onload=function(t){return function(){var n,s,a,l,d,c,h,p;return e.width=r.width,e.height=r.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),n=document.createElement("canvas"),s=n.getContext("2d"),n.width=a.trgWidth,n.height=a.trgHeight,o(s,r,null!=(d=a.srcX)?d:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(p=a.trgY)?p:0,a.trgWidth,a.trgHeight),l=n.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=i?i():void 0}}(this),null!=i&&(r.onerror=i),r.src=t},i.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},i.prototype.processFile=function(e){return this.processFiles([e])},i.prototype.processFiles=function(e){var t,n,r;for(n=0,r=e.length;r>n;n++)t=e[n],t.processing=!0,t.status=i.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},i.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,r,o;for(r=this.files,o=[],i=0,n=r.length;n>i;i++)t=r[i],t.xhr===e&&o.push(t);return o}.call(this)},i.prototype.cancelUpload=function(e){var t,n,r,o,s,a,l;if(e.status===i.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),r=0,s=n.length;s>r;r++)t=n[r],t.status=i.CANCELED;for(e.xhr.abort(),o=0,a=n.length;a>o;o++)t=n[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===i.ADDED||l===i.QUEUED)&&(e.status=i.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},i.prototype.uploadFile=function(e){return this.uploadFiles([e])},i.prototype.uploadFiles=function(e){var t,o,s,a,l,d,c,h,p,u,f,g,m,v,y,b,w,x,C,k,$,_,S,T,E,I,D,A,L,N,O,M,F,R;for(C=new XMLHttpRequest,k=0,T=e.length;T>k;k++)t=e[k],t.xhr=C;g=r(this.options.method,e),w=r(this.options.url,e),C.open(g,w,!0),C.withCredentials=!!this.options.withCredentials,y=null,s=function(i){return function(){var n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],o.push(i._errorProcessing(e,y||i.options.dictResponseError.replace("{{statusCode}}",C.status),C));return o}}(this),b=function(i){return function(n){var r,o,s,a,l,d,c,h,p;if(null!=n)for(o=100*n.loaded/n.total,s=0,d=e.length;d>s;s++)t=e[s],t.upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(r=!0,o=100,a=0,c=e.length;c>a;a++)t=e[a],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(r=!1),t.upload.progress=o,t.upload.bytesSent=t.upload.total;if(r)return}for(p=[],l=0,h=e.length;h>l;l++)t=e[l],p.push(i.emit("uploadprogress",t,o,t.upload.bytesSent));return p}}(this),C.onload=function(t){return function(n){var r;if(e[0].status!==i.CANCELED&&4===C.readyState){if(y=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(o){n=o,y="Invalid JSON response from server."}return b(),200<=(r=C.status)&&300>r?t._finished(e,y,n):s()}}}(this),C.onerror=function(t){return function(){return e[0].status!==i.CANCELED?s():void 0}}(this),v=null!=(L=C.upload)?L:C,v.onprogress=b,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(d,this.options.headers);for(a in d)l=d[a],l&&C.setRequestHeader(a,l);if(o=new FormData,this.options.params){N=this.options.params;for(f in N)x=N[f],o.append(f,x)}for($=0,E=e.length;E>$;$++)t=e[$],this.emit("sending",t,C,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,o),"FORM"===this.element.tagName)for(O=this.element.querySelectorAll("input, textarea, select, button"),_=0,I=O.length;I>_;_++)if(h=O[_],p=h.getAttribute("name"),u=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(M=h.options,S=0,D=M.length;D>S;S++)m=M[S],m.selected&&o.append(p,m.value);else(!u||"checkbox"!==(F=u.toLowerCase())&&"radio"!==F||h.checked)&&o.append(p,h.value);for(c=A=0,R=e.length-1;R>=0?R>=A:A>=R;c=R>=0?++A:--A)o.append(this._getParamName(c),e[c],e[c].name);return this.submitRequest(C,o,e)},i.prototype.submitRequest=function(e,t,i){return e.send(t)},i.prototype._finished=function(e,t,n){var r,o,s;for(o=0,s=e.length;s>o;o++)r=e[o],r.status=i.SUCCESS,this.emit("success",r,t,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(e,t,n){var r,o,s;for(o=0,s=e.length;s>o;o++)r=e[o],r.status=i.ERROR,this.emit("error",r,t,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i}(t),e.version="4.2.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,r,o,s;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(e){var t,i,r,o;for(o=[],i=0,r=e.length;r>i;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?o.push(n.push(t)):o.push(void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],r=0,o=n.length;o>r;r++)i=n[r],e.optionsForElement(i)!==!1?s.push(new e(i)):s.push(void 0);return s},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,r,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,n=0,r=o.length;r>n;n++)i=o[n],i.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var i,n,r,o;for(o=[],n=0,r=e.length;r>n;n++)i=e[n],i!==t&&o.push(i);return o},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,r,o,s,a,l,d;if(e instanceof Array){r=[];try{for(o=0,a=e.length;a>o;o++)n=e[o],r.push(this.getElement(n,t))}catch(c){i=c,r=null}}else if("string"==typeof e)for(r=[],d=document.querySelectorAll(e),s=0,l=d.length;l>s;s++)n=d[s],r.push(n);else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,r,o,s;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),o=0,s=t.length;s>o;o++)if(r=t[o],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,i,n,r,o,s,a,l,d,c;for(a=e.naturalWidth,s=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=s,n=i.getContext("2d"),n.drawImage(e,0,0),r=n.getImageData(0,0,1,s).data,c=0,o=s,l=s;l>c;)t=r[4*(l-1)+3],0===t?o=l:c=l,l=o+c>>1;return d=l/s,0===d?1:d},o=function(e,t,i,n,o,s,a,l,d,c){var h;return h=r(t),e.drawImage(t,i,n,o,s,a,l,d,c/h)},n=function(e,t){var i,n,r,o,s,a,l,d,c;if(r=!1,c=!0,n=e.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",
l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",o=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](a+i.type,o,!1),!r&&(r=!0)?t.call(e,i.type||i):void 0):void 0},s=function(){var e;try{d.doScroll("left")}catch(t){return e=t,void setTimeout(s,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{c=!e.frameElement}catch(h){}c&&s()}return n[i](a+"DOMContentLoaded",o,!1),n[i](a+"readystatechange",o,!1),e[i](a+"load",o,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},n(window,e._autoDiscoverFunction)}.call(this),function(e){var t,i,n,r,o,s,a,l="Close",d="BeforeClose",c="AfterClose",h="BeforeAppend",p="MarkupParse",u="Open",f="Change",g="mfp",m="."+g,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",w=function(){},x=!!window.jQuery,C=e(window),k=function(e,i){t.ev.on(g+e+m,i)},$=function(t,i,n,r){var o=document.createElement("div");return o.className="mfp-"+t,n&&(o.innerHTML=n),r?i&&i.appendChild(o):(o=e(o),i&&o.appendTo(i)),o},_=function(i,n){t.ev.triggerHandler(g+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},S=function(i){return i===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=i),t.currTemplate.closeBtn},T=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},E=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var i=navigator.appVersion;t.isIE7=-1!==i.indexOf("MSIE 7."),t.isIE8=-1!==i.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=E(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document),t.popupsCache={}},open:function(i){n=e(document.body);var o;if(i.isObj===!1){t.items=i.items.toArray(),t.index=0;var a,l=i.items;for(o=0;o<l.length;o++)if(a=l[o],a.parsed&&(a=a.el[0]),a===i.el[0]){t.index=o;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],s="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=r,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=$("bg").on("click"+m,function(){t.close()}),t.wrap=$("wrap").attr("tabindex",-1).on("click"+m,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=$("container",t.wrap)),t.contentContainer=$("content"),t.st.preloader&&(t.preloader=$("preloader",t.container,t.st.tLoading));var d=e.magnificPopup.modules;for(o=0;o<d.length;o++){var c=d[o];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}_("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(k(p,function(e,t,i,n){i.close_replaceWith=S(n.type)}),s+=" mfp-close-btn-in"):t.wrap.append(S())),t.st.alignTop&&(s+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:r.height(),position:"absolute"}),t.st.enableEscapeKey&&r.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),C.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(s+=" mfp-auto-cursor"),s&&t.wrap.addClass(s);var h=t.wH=C.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(h)){var g=t._getScrollbarSize();g&&(f.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),_("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||n),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),r.on("focusin"+m,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(h),_(u),i},close:function(){t.isOpen&&(_(d),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(y),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){_(l);var i=y+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}r.off("keyup"+m+" focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,_(c)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),_("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(_("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var r=t.st[n]?t.st[n].markup:!1;_("FirstMarkupParse",r),r?t.currTemplate[n]=e(r):t.currTemplate[n]=!0}o&&o!==i.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(s,n),i.preloaded=!0,_(f,i),o=i.type,t.container.prepend(t.contentContainer),_("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[i]===!0?t.content.find(".mfp-close").length||t.content.append(S()):t.content=e:t.content="",_(h),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n=t.items[i],r=n.type;if(n=n.tagName?{el:e(n)}:{data:n,src:n.src},n.el){for(var o=t.types,s=0;s<o.length;s++)if(n.el.hasClass("mfp-"+o[s])){r=o[s];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=r||t.st.type||"inline",n.index=i,n.parsed=!0,t.items[i]=n,_("ElementParse",n),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var r="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(r).on(r,n)):(i.isObj=!1,i.delegate?e.off(r).on(r,i.delegate,n):(i.items=e,e.off(r).on(r,n)))},_openClick:function(i,n,r){var o=void 0!==r.midClick?r.midClick:e.magnificPopup.defaults.midClick;if(o||2!==i.which&&!i.ctrlKey&&!i.metaKey){var s=void 0!==r.disableOn?r.disableOn:e.magnificPopup.defaults.disableOn;if(s)if(e.isFunction(s)){if(!s.call(t))return!0}else if(C.width()<s)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),r.el=e(i.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),t.open(r)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var r={status:e,text:n};_("UpdateStatus",r),e=r.status,n=r.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(b)){var n=t.st.closeOnContentClick,r=t.st.closeOnBgClick;if(n&&r)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(r&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?r.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var r;n.data&&(i=e.extend(n.data,i)),_(p,[t,i,n]),e.each(i,function(e,i){if(void 0===i||i===!1)return!0;if(r=e.split("_"),r.length>1){var n=t.find(m+"-"+r[0]);if(n.length>0){var o=r[1];"replaceWith"===o?n[0]!==i[0]&&n.replaceWith(i):"img"===o?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(r[1],i)}}else t.find(m+"-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,i){return T(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(i){T();var n=e(this);if("string"==typeof i)if("open"===i){var r,o=x?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;o.items?r=o.items[s]:(r=n,o.delegate&&(r=r.find(o.delegate)),r=r.eq(s)),t._openClick({mfpEl:r},n,o)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var I,D,A,L="inline",N=function(){A&&(D.after(A.addClass(I)).detach(),A=null)};e.magnificPopup.registerModule(L,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(L),k(l+"."+L,function(){N()})},getInline:function(i,n){if(N(),i.src){var r=t.st.inline,o=e(i.src);if(o.length){var s=o[0].parentNode;s&&s.tagName&&(D||(I=r.hiddenClass,D=$(I),I="mfp-"+I),A=o.after(D).detach().removeClass(I)),t.updateStatus("ready")}else t.updateStatus("error",r.tNotFound),o=e("<div>");return i.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var O,M="ajax",F=function(){O&&n.removeClass(O)},R=function(){F(),t.req&&t.req.abort()};e.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(M),O=t.st.ajax.cursor,k(l+"."+M,R),k("BeforeChange."+M,R)},getAjax:function(i){O&&n.addClass(O),t.updateStatus("loading");var r=e.extend({url:i.src,success:function(n,r,o){var s={data:n,xhr:o};_("ParseAjax",s),t.appendContent(e(s.data),M),i.finished=!0,F(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),_("AjaxContentAdded")},error:function(){F(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(r),""}}});var z,H=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,i=".image";t.types.push("image"),k(u+i,function(){"image"===t.currItem.type&&e.cursor&&n.addClass(e.cursor)}),k(l+i,function(){e.cursor&&n.removeClass(e.cursor),C.off("resize"+m)}),k("Resize"+i,t.resizeImage),t.isLowIE&&k("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,z&&clearInterval(z),e.isCheckingImgSize=!1,_("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],r=function(o){z&&clearInterval(z),z=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(z),i++,void(3===i?r(10):40===i?r(50):100===i&&r(500)))},o)};r(1)},getImage:function(i,n){var r=0,o=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,_("ImageLoadComplete")):(r++,200>r?setTimeout(o,100):s()))},s=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=t.st.image,l=n.find(".mfp-img");if(l.length){var d=document.createElement("img");d.className="mfp-img",i.img=e(d).on("load.mfploader",o).on("error.mfploader",s),d.src=i.src,l.is("img")&&(i.img=i.img.clone()),d=i.img[0],d.naturalWidth>0?i.hasSize=!0:d.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:H(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(z&&clearInterval(z),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var P,j=function(){return void 0===P&&(P=void 0!==document.createElement("p").style.MozTransform),P};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var r,o,s=i.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=n,t.css(r),t},c=function(){t.content.css("visibility","visible")};k("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(r),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void c();o=a(e),o.css(t._getOffset()),t.wrap.append(o),r=setTimeout(function(){o.css(t._getOffset(!0)),r=setTimeout(function(){c(),setTimeout(function(){o.remove(),e=o=null,_("ZoomAnimationEnded")},16)},s)},16)}}),k(d+n,function(){if(t._allowZoom()){if(clearTimeout(r),t.st.removalDelay=s,!e){if(e=t._getItemToZoom(),!e)return;o=a(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),k(l+n,function(){t._allowZoom()&&(c(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var r=n.offset(),o=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);r.top-=e(window).scrollTop()-o;var a={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-s-o};return j()?a["-moz-transform"]=a.transform="translate("+r.left+"px,"+r.top+"px)":(a.left=r.left,a.top=r.top),a}}});var B="iframe",W="//about:blank",U=function(e){if(t.currTemplate[B]){var i=t.currTemplate[B].find("iframe");i.length&&(e||(i[0].src=W),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(B,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(B),k("BeforeChange",function(e,t,i){t!==i&&(t===B?U():i===B&&U(!0))}),k(l+"."+B,function(){U()})},getIframe:function(i,n){var r=i.src,o=t.st.iframe;e.each(o.patterns,function(){return r.indexOf(this.index)>-1?(this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1):void 0});var s={};return o.srcAction&&(s[o.srcAction]=r),t._parseMarkup(n,s,i),t.updateStatus("ready"),n}}});var q=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},V=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,n=".mfp-gallery",o=Boolean(e.fn.mfpFastClick);return t.direction=!0,i&&i.enabled?(s+=" mfp-gallery",k(u+n,function(){i.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),r.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),k("UpdateStatus"+n,function(e,i){i.text&&(i.text=V(i.text,t.currItem.index,t.items.length))}),k(p+n,function(e,n,r,o){var s=t.items.length;r.counter=s>1?V(i.tCounter,o.index,s):""}),k("BuildControls"+n,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,r=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(b),s=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(b),a=o?"mfpFastClick":"click";r[a](function(){t.prev()}),s[a](function(){t.next()}),t.isIE7&&($("b",r[0],!1,!0),$("a",r[0],!1,!0),$("b",s[0],!1,!0),$("a",s[0],!1,!0)),t.container.append(r.add(s))}}),k(f+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void k(l+n,function(){r.off(n),t.wrap.off("click"+n),t.arrowLeft&&o&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=q(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=q(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),r=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?r:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:r);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=q(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),_("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,_("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Q="retina";e.magnificPopup.registerModule(Q,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(k("ImageHasSize."+Q,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),k("ElementParse."+Q,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),function(){var t=1e3,i="ontouchstart"in window,n=function(){C.off("touchmove"+o+" touchend"+o)},r="mfpFastClick",o="."+r;e.fn.mfpFastClick=function(r){return e(this).each(function(){var s,a=e(this);if(i){var l,d,c,h,p,u;a.on("touchstart"+o,function(e){h=!1,u=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],d=p.clientX,c=p.clientY,C.on("touchmove"+o,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,u=p.length,p=p[0],(Math.abs(p.clientX-d)>10||Math.abs(p.clientY-c)>10)&&(h=!0,n())}).on("touchend"+o,function(e){n(),h||u>1||(s=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){s=!1},t),r())})})}a.on("click"+o,function(){s||r()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),i&&C.off("touchmove"+o+" touchend"+o)}}(),T()}(window.jQuery||window.Zepto),/**
 * jQuery Masonry v2.1.08
 * A dynamic layout plugin for jQuery
 * The flip-side of CSS Floats
 * http://masonry.desandro.com
 *
 * Licensed under the MIT license.
 * Copyright 2012 David DeSandro
 */
function(e,t,i){"use strict";/*
   * smartresize: debounced resize event for jQuery
   *
   * latest version and complete README available on Github:
   * https://github.com/louisremi/jquery.smartresize.js
   *
   * Copyright 2011 @louis_remi
   * Licensed under the MIT license.
   */
var n,r=t.event;r.special.smartresize={setup:function(){t(this).bind("resize",r.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",r.special.smartresize.handler)},handler:function(e,t){var i=this,o=arguments;e.type="smartresize",n&&clearTimeout(n),n=setTimeout(function(){r.dispatch.apply(i,o)},"execAsap"===t?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Mason=function(e,i){this.element=t(i),this._create(e),this._init()},t.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},t.Mason.prototype={_filterFindBricks:function(e){var t=this.options.itemSelector;return t?e.filter(t).add(e.find(t)):e},_getBricks:function(e){var t=this._filterFindBricks(e).css({position:"absolute"}).addClass("masonry-brick");return t},_create:function(i){this.options=t.extend(!0,{},t.Mason.settings,i),this.styleQueue=[];var n=this.element[0].style;this.originalStyle={height:n.height||""};var r=this.options.containerStyle;for(var o in r)this.originalStyle[o]=n[o]||"";this.element.css(r),this.horizontalDirection=this.options.isRTL?"right":"left";var s=this.element.css("padding-"+this.horizontalDirection),a=this.element.css("padding-top");this.offset={x:s?parseInt(s,10):0,y:a?parseInt(a,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var l=this;setTimeout(function(){l.element.addClass("masonry")},0),this.options.isResizable&&t(e).bind("smartresize.masonry",function(){l.resize()}),this.reloadItems()},_init:function(e){this._getColumns(),this._reLayout(e)},option:function(e,i){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))},layout:function(e,t){for(var i=0,n=e.length;n>i;i++)this._placeBrick(e[i]);var r={};if(r.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var o=0;for(i=this.cols;--i&&0===this.colYs[i];)o++;r.width=(this.cols-o)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:r});var s,a=this.isLaidOut&&this.options.isAnimated?"animate":"css",l=this.options.animationOptions;for(i=0,n=this.styleQueue.length;n>i;i++)s=this.styleQueue[i],s.$el[a](s.style,l);this.styleQueue=[],t&&t.call(e),this.isLaidOut=!0},_getColumns:function(){var e=this.options.isFitWidth?this.element.parent():this.element,t=e.width();this.columnWidth=this.isFluid?this.options.columnWidth(t):this.options.columnWidth||this.$bricks.outerWidth(!0)||t,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((t+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(e){var i,n,r,o,s,a=t(e);if(i=Math.ceil(a.outerWidth(!0)/this.columnWidth),i=Math.min(i,this.cols),1===i)r=this.colYs;else for(n=this.cols+1-i,r=[],s=0;n>s;s++)o=this.colYs.slice(s,s+i),r[s]=Math.max.apply(Math,o);for(var l=Math.min.apply(Math,r),d=0,c=0,h=r.length;h>c;c++)if(r[c]===l){d=c;break}var p={top:l+this.offset.y};p[this.horizontalDirection]=this.columnWidth*d+this.offset.x,this.styleQueue.push({$el:a,style:p});var u=l+a.outerHeight(!0),f=this.cols+1-h;for(c=0;f>c;c++)this.colYs[d+c]=u},resize:function(){var e=this.cols;this._getColumns(),(this.isFluid||this.cols!==e)&&this._reLayout()},_reLayout:function(e){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.layout(this.$bricks,e)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(e){this.reloadItems(),this._init(e)},appended:function(e,t,i){if(t){this._filterFindBricks(e).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(e,i)},1)}else this._appended(e,i)},_appended:function(e,t){var i=this._getBricks(e);this.$bricks=this.$bricks.add(i),this.layout(i,t)},remove:function(e){this.$bricks=this.$bricks.not(e),e.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var i=this.element[0].style;for(var n in this.originalStyle)i[n]=this.originalStyle[n];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),t(e).unbind(".masonry")}},/*!
   * jQuery imagesLoaded plugin v1.1.0
   * http://github.com/desandro/imagesloaded
   *
   * MIT License. by Paul Irish et al.
   */
t.fn.imagesLoaded=function(e){function i(){e.call(r,o)}function n(e){var r=e.target;r.src!==a&&-1===t.inArray(r,l)&&(l.push(r),--s<=0&&(setTimeout(i),o.unbind(".imagesLoaded",n)))}var r=this,o=r.find("img").add(r.filter("img")),s=o.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return s||i(),o.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var e=this.src;this.src=a,this.src=e}),r};var o=function(t){e.console&&e.console.error(t)};t.fn.masonry=function(e){if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"masonry");return n?t.isFunction(n[e])&&"_"!==e.charAt(0)?void n[e].apply(n,i):void o("no such method '"+e+"' for masonry instance"):void o("cannot call methods on masonry prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var i=t.data(this,"masonry");i?(i.option(e||{}),i._init()):t.data(this,"masonry",new t.Mason(e,this))});return this}}(window,jQuery),function(e,t){var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(n){function r(){var t=e(h),i=e(p);a&&(p.length?a.reject(d,t,i):a.resolve(d)),e.isFunction(n)&&n.call(s,d,t,i)}function o(t,n){t.src===i||-1!==e.inArray(t,c)||(c.push(t),n?p.push(t):h.push(t),e.data(t,"imagesLoaded",{isBroken:n,src:t.src}),l&&a.notifyWith(e(t),[n,d,e(h),e(p)]),d.length===c.length&&(setTimeout(r),d.unbind(".imagesLoaded")))}var s=this,a=e.isFunction(e.Deferred)?e.Deferred():0,l=e.isFunction(a.notify),d=s.find("img").add(s.filter("img")),c=[],h=[],p=[];return d.length?d.bind("load.imagesLoaded error.imagesLoaded",function(e){o(e.target,"error"===e.type)}).each(function(n,r){var s=r.src,a=e.data(r,"imagesLoaded");a&&a.src===s?o(r,a.isBroken):r.complete&&r.naturalWidth!==t?o(r,0===r.naturalWidth||0===r.naturalHeight):(r.readyState||r.complete)&&(r.src=i,r.src=s)}):r(),a?a.promise(s):s}}(jQuery),/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=n(String(e||"").toLowerCase()),!e||!e.length)return[];var t,i,o,a,l=[],d=e.split(/ +/);for(t=0,i=d.length;i>t;t++){if(o=r(d[t]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(o=o.replace(new RegExp(a,"g"),s[a]));l.push({string:d[t],regex:new RegExp(o,"i")})}return l},e.prototype.iterator=function(e,t){var i;i=o(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;i>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},i.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,n,r,o;i=this,e=i.prepareSearch(e,t),r=e.tokens,n=e.options.fields,o=r.length;var s=function(e,t){var i,n;return e?(e=String(e||""),n=e.search(t.regex),-1===n?0:(i=t.string.length/e.length,0===n&&(i+=.5),i)):0},a=function(){var e=n.length;return e?1===e?function(e,t){return s(t[n[0]],e)}:function(t,i){for(var r=0,o=0;e>r;r++)o+=s(i[n[r]],t);return o/e}:function(){return 0}}();return o?1===o?function(e){return a(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,n=0;o>i;i++){if(t=a(r[i],e),0>=t)return 0;n+=t}return n/o}:function(e){for(var t=0,i=0;o>t;t++)i+=a(r[t],e);return i/o}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var n,r,o,s,a,l,d,c,h,p,u;if(o=this,e=o.prepareSearch(e,i),u=!e.query&&i.sort_empty||i.sort,h=function(e,t){return"$score"===e?t.score:o.items[t.id][e]},a=[],u)for(n=0,r=u.length;r>n;n++)(e.query||"$score"!==u[n].field)&&a.push(u[n]);if(e.query){for(p=!0,n=0,r=a.length;r>n;n++)if("$score"===a[n].field){p=!1;break}p&&a.unshift({field:"$score",direction:"desc"})}else for(n=0,r=a.length;r>n;n++)if("$score"===a[n].field){a.splice(n,1);break}for(c=[],n=0,r=a.length;r>n;n++)c.push("desc"===a[n].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,d=c[0],function(e,i){return d*t(h(s,e),h(s,i))}):function(e,i){var n,r,o;for(n=0;l>n;n++)if(o=a[n].field,r=c[n]*t(h(o,e),h(o,i)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=i({},t);var n=t.fields,r=t.sort,s=t.sort_empty;return n&&!o(n)&&(t.fields=[n]),r&&!o(r)&&(t.sort=[r]),s&&!o(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var i,n,r,o,s=this;return n=this.prepareSearch(e,t),t=n.options,e=n.query,o=t.score||s.getScoreFunction(n),e.length?s.iterator(s.items,function(e,r){i=o(e),(t.filter===!1||i>0)&&n.items.push({score:i,id:r})}):s.iterator(s.items,function(e,t){n.items.push({score:1,id:t})}),r=s.getSortFunction(n,t),r&&n.items.sort(r),n.total=n.items.length,"number"==typeof t.limit&&(n.items=n.items.slice(0,t.limit)),n};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=a(String(e||"")),t=a(String(t||"")),e>t?1:t>e?-1:0)},i=function(e,t){var i,n,r,o;for(i=1,n=arguments.length;n>i;i++)if(o=arguments[i])for(r in o)o.hasOwnProperty(r)&&(e[r]=o[r]);return e},n=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},r=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\u0100\u0101\u0105\u0104]",c:"[c\xc7\xe7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\xd1\xf1\u0148\u0147\u0144\u0143]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc\u016f\u016e\u016a\u016b]",y:"[y\u0178\xff\xfd\xdd]",z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},a=function(){var e,t,i,n,r="",o={};for(i in s)if(s.hasOwnProperty(i))for(n=s[i].substring(2,s[i].length-1),r+=n,e=0,t=n.length;t>e;e++)o[n.charAt(e)]=i;var a=new RegExp("["+r+"]","g");return function(e){return e.replace(a,function(e){return o[e]}).toLowerCase()}}();return e}),/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var i,n,r,o=this,s=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(i=0,n=e.length;n>i;i++)"string"==typeof e[i]?s.push(e[i]):(o.plugins.settings[e[i].name]=e[i].options,s.push(e[i].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(o.plugins.settings[r]=e[r],s.push(r));for(;s.length;)o.require(s.shift())},e.prototype.loadPlugin=function(t){var i=this,n=i.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=r.fn.apply(i,[i.plugins.settings[t]||{}]),n.names.push(t)},e.prototype.require=function(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]},e.define=function(t,i){e.plugins[t]={name:t,fn:i}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),/**
 * selectize.js (v0.12.1)
 * Copyright (c) 20132015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,i){"use strict";var n=function(e,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,n=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(i);if(r>=0&&e.data.length>0){var o=e.data.match(i),s=document.createElement("span");s.className="highlight";var a=e.splitText(r),l=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var d=0;d<e.childNodes.length;++d)d+=n(e.childNodes[d]);return t};return e.each(function(){n(this)})}},r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=r.prototype[t[i]]};var o=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,d=37,c=38,h=80,p=39,u=40,f=78,g=8,m=46,v=16,y=o?91:17,b=o?18:17,w=9,x=1,C=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,$=function(e){return"undefined"!=typeof e},_=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},S=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},T=function(e){return(e+"").replace(/\$/g,"$$$$")},E={};E.before=function(e,t,i){var n=e[t];e[t]=function(){return i.apply(e,arguments),n.apply(e,arguments)}},E.after=function(e,t,i){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return i.apply(e,arguments),t}};var I=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},D=function(e,t){var i;return function(){var n=this,r=arguments;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,r)},t)}},A=function(e,t,i){var n,r=e.trigger,o={};e.trigger=function(){var i=arguments[0];return-1===t.indexOf(i)?r.apply(e,arguments):void(o[i]=arguments)},i.apply(e,[]),e.trigger=r;for(n in o)o.hasOwnProperty(n)&&r.apply(e,o[n])},L=function(e,t,i,n){e.on(t,i,function(t){for(var i=t.target;i&&i.parentNode!==e[0];)i=i.parentNode;return t.currentTarget=i,n.apply(this,[t])})},N=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-n,t.length=n}return t},O=function(e,t,i){var n,r,o={};if(i)for(n=0,r=i.length;r>n;n++)o[i[n]]=e.css(i[n]);else o=e.css();t.css(o)},M=function(t,i){if(!t)return 0;var n=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");O(i,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=n.width();return n.remove(),r},F=function(e){var t=null,i=function(i,n){var r,o,s,a,l,d,c,h;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||e.data("grow")!==!1)&&(r=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(o=i.keyCode,s=o>=97&&122>=o||o>=65&&90>=o||o>=48&&57>=o||32===o,o===m||o===g?(h=N(e[0]),h.length?r=r.substring(0,h.start)+r.substring(h.start+h.length):o===g&&h.start?r=r.substring(0,h.start-1)+r.substring(h.start+1):o===m&&"undefined"!=typeof h.start&&(r=r.substring(0,h.start)+r.substring(h.start+1))):s&&(d=i.shiftKey,c=String.fromCharCode(i.keyCode),c=d?c.toUpperCase():c.toLowerCase(),r+=c)),a=e.attr("placeholder"),!r&&a&&(r=a),l=M(r,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()},R=function(i,n){var r,o,s,a,l=this;a=i[0],a.selectize=l;var d=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=d?d.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||i.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?x:C,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++R.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:D(l.onSearchChange,n.loadThrottle)}),l.sifter=new t(this.options,{diacritics:n.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;o>r;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;o>r;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(R),i.mixin(R),e.extend(R.prototype,{setup:function(){var t,i,n,r,s,a,l,d,c,h=this,p=h.settings,u=h.eventNS,f=e(window),g=e(document),m=h.$input;if(l=h.settings.mode,d=m.attr("class")||"",t=e("<div>").addClass(p.wrapperClass).addClass(d).addClass(l),i=e("<div>").addClass(p.inputClass).addClass("items").appendTo(t),n=e('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",m.is(":disabled")?"-1":h.tabIndex),a=e(p.dropdownParent||t),r=e("<div>").addClass(p.dropdownClass).addClass(l).hide().appendTo(a),s=e("<div>").addClass(p.dropdownContentClass).appendTo(r),h.settings.copyClassesToDropdown&&r.addClass(d),t.css({width:m[0].style.width}),h.plugins.names.length&&(c="plugin-"+h.plugins.names.join(" plugin-"),t.addClass(c),r.addClass(c)),(null===p.maxItems||p.maxItems>1)&&h.tagType===x&&m.attr("multiple","multiple"),h.settings.placeholder&&n.attr("placeholder",p.placeholder),!h.settings.splitOn&&h.settings.delimiter){var w=h.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");h.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}m.attr("autocorrect")&&n.attr("autocorrect",m.attr("autocorrect")),m.attr("autocapitalize")&&n.attr("autocapitalize",m.attr("autocapitalize")),h.$wrapper=t,h.$control=i,h.$control_input=n,h.$dropdown=r,h.$dropdown_content=s,r.on("mouseenter","[data-selectable]",function(){return h.onOptionHover.apply(h,arguments)}),r.on("mousedown click","[data-selectable]",function(){return h.onOptionSelect.apply(h,arguments)}),L(i,"mousedown","*:not(input)",function(){return h.onItemSelect.apply(h,arguments)}),F(n),i.on({mousedown:function(){return h.onMouseDown.apply(h,arguments)},click:function(){return h.onClick.apply(h,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return h.onKeyDown.apply(h,arguments)},keyup:function(){return h.onKeyUp.apply(h,arguments)},keypress:function(){return h.onKeyPress.apply(h,arguments)},resize:function(){h.positionDropdown.apply(h,[])},blur:function(){return h.onBlur.apply(h,arguments)},focus:function(){return h.ignoreBlur=!1,h.onFocus.apply(h,arguments)},paste:function(){return h.onPaste.apply(h,arguments)}}),g.on("keydown"+u,function(e){h.isCmdDown=e[o?"metaKey":"ctrlKey"],h.isCtrlDown=e[o?"altKey":"ctrlKey"],h.isShiftDown=e.shiftKey}),g.on("keyup"+u,function(e){e.keyCode===b&&(h.isCtrlDown=!1),e.keyCode===v&&(h.isShiftDown=!1),e.keyCode===y&&(h.isCmdDown=!1)}),g.on("mousedown"+u,function(e){if(h.isFocused){if(e.target===h.$dropdown[0]||e.target.parentNode===h.$dropdown[0])return!1;h.$control.has(e.target).length||e.target===h.$control[0]||h.blur(e.target)}}),f.on(["scroll"+u,"resize"+u].join(" "),function(){h.isOpen&&h.positionDropdown.apply(h,arguments)}),f.on("mousemove"+u,function(){h.ignoreHover=!1}),this.revertSettings={$children:m.children().detach(),tabindex:m.attr("tabindex")},m.attr("tabindex",-1).hide().after(h.$wrapper),e.isArray(p.items)&&(h.setValue(p.items),delete p.items),k&&m.on("invalid"+u,function(e){e.preventDefault(),h.isInvalid=!0,h.refreshState()}),h.updateOriginalInput(),h.refreshItems(),h.refreshState(),h.updatePlaceholder(),h.isSetup=!0,m.is(":disabled")&&h.disable(),h.on("change",this.onChange),m.data("selectize",h),m.addClass("selectized"),h.trigger("initialize"),p.preload===!0&&h.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,n=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var i=this,n=t.isDefaultPrevented();e(t.target);if(i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;i.isFull()||i.isInputHidden||i.isLocked?t.preventDefault():i.settings.splitOn&&setTimeout(function(){for(var t=e.trim(i.$control_input.val()||"").split(i.settings.splitOn),n=0,r=t.length;r>n;n++)i.createItem(t[n])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==w&&e.preventDefault());switch(e.keyCode){case s:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case f:if(!e.ctrlKey||e.altKey)break;case u:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case h:if(!e.ctrlKey||e.altKey)break;case c:if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,-1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case a:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case d:return void t.advanceSelection(-1,e);case p:return void t.advanceSelection(1,e);case w:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case g:case m:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(o?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var i=t.$control_input.val()||"";t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),t.refreshOptions(),t.trigger("type",i))},onSearchChange:function(e){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(n){i.apply(t,[e,n])})))},onFocus:function(e){var t=this,i=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),(t||document.body).focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var i,n,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),n=e(t.currentTarget),n.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(i=n.attr("data-value"),"undefined"!=typeof i&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(i),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(i))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,i=t.val()!==e;i&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===x&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var i=t?[]:["change"];A(this,i,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,i){var n,r,o,s,a,l,d,c,h=this;if("single"!==h.settings.mode){if(t=e(t),!t.length)return e(h.$activeItems).removeClass("active"),h.$activeItems=[],void(h.isFocused&&h.showInput());if(n=i&&i.type.toLowerCase(),"mousedown"===n&&h.isShiftDown&&h.$activeItems.length){for(c=h.$control.children(".active:last"),s=Array.prototype.indexOf.apply(h.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(h.$control[0].childNodes,[t[0]]),s>a&&(d=s,s=a,a=d),r=s;a>=r;r++)l=h.$control[0].childNodes[r],-1===h.$activeItems.indexOf(l)&&(e(l).addClass("active"),h.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&h.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(o=h.$activeItems.indexOf(t[0]),h.$activeItems.splice(o,1),t.removeClass("active")):h.$activeItems.push(t.addClass("active")[0]):(e(h.$activeItems).removeClass("active"),h.$activeItems=[t.addClass("active")[0]]);h.hideInput(),this.isFocused||h.focus()}},setActiveOption:function(t,i,n){var r,o,s,a,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,t=e(t),t.length&&(d.$activeOption=t.addClass("active"),(i||!$(i))&&(r=d.$dropdown_content.height(),o=d.$activeOption.outerHeight(!0),i=d.$dropdown_content.scrollTop()||0,s=d.$activeOption.offset().top-d.$dropdown_content.offset().top+i,a=s,l=s-r+o,s+o>r+i?d.$dropdown_content.stop().animate({scrollTop:l},n?d.settings.scrollDuration:0):i>s&&d.$dropdown_content.stop().animate({scrollTop:a},n?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var i,n,r,o=this,s=o.settings,a=this.getSearchOptions();if(s.score&&(r=o.settings.score.apply(this,[t]),"function"!=typeof r))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(o.lastQuery=t,n=o.sifter.search(t,e.extend(a,{score:r})),o.currentResults=n):n=e.extend(!0,{},o.currentResults),s.hideSelected)for(i=n.items.length-1;i>=0;i--)-1!==o.items.indexOf(_(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(t){var i,r,o,s,a,l,d,c,h,p,u,f,g,m,v,y;"undefined"==typeof t&&(t=!0);var b=this,w=e.trim(b.$control_input.val()),x=b.search(w),C=b.$dropdown_content,k=b.$activeOption&&_(b.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],i=0;s>i;i++)for(d=b.options[x.items[i].id],c=b.render("option",d),h=d[b.settings.optgroupField]||"",p=e.isArray(h)?h:[h],r=0,o=p&&p.length;o>r;r++)h=p[r],b.optgroups.hasOwnProperty(h)||(h=""),a.hasOwnProperty(h)||(a[h]=[],l.push(h)),a[h].push(c);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var i=b.optgroups[e].$order||0,n=b.optgroups[t].$order||0;return i-n}),u=[],i=0,s=l.length;s>i;i++)h=l[i],b.optgroups.hasOwnProperty(h)&&a[h].length?(f=b.render("optgroup_header",b.optgroups[h])||"",f+=a[h].join(""),u.push(b.render("optgroup",e.extend({},b.optgroups[h],{html:f})))):u.push(a[h].join(""));if(C.html(u.join("")),b.settings.highlight&&x.query.length&&x.tokens.length)for(i=0,s=x.tokens.length;s>i;i++)n(C,x.tokens[i].regex);if(!b.settings.hideSelected)for(i=0,s=b.items.length;s>i;i++)b.getOption(b.items[i]).addClass("selected");g=b.canCreate(w),g&&(C.prepend(b.render("option_create",{input:w})),y=e(C[0].childNodes[0])),b.hasOptions=x.items.length>0||g,b.hasOptions?(x.items.length>0?(v=k&&b.getOption(k),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var i,n,r,o=this;if(e.isArray(t))for(i=0,n=t.length;n>i;i++)o.addOption(t[i]);else(r=o.registerOption(t))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,t))},registerOption:function(e){var t=_(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=_(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var n,r,o,s,a,l,d,c=this;if(t=_(t),o=_(i[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");d=c.options[t].$order,o!==t&&(delete c.options[t],s=c.items.indexOf(t),-1!==s&&c.items.splice(s,1,o)),i.$order=i.$order||d,c.options[o]=i,a=c.renderCache.item,l=c.renderCache.option,a&&(delete a[t],delete a[o]),l&&(delete l[t],delete l[o]),-1!==c.items.indexOf(o)&&(n=c.getItem(t),r=e(c.render("item",i)),n.hasClass("active")&&r.addClass("active"),n.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=_(e);var n=i.renderCache.item,r=i.renderCache.option;n&&delete n[e],r&&delete r[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var n=this.$dropdown.find("[data-selectable]"),r=n.index(t)+i;return r>=0&&r<n.length?n.eq(r):e()},getElementWithValue:function(t,i){if(t=_(t),"undefined"!=typeof t&&null!==t)for(var n=0,r=i.length;r>n;n++)if(i[n].getAttribute("data-value")===t)return e(i[n]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,i){for(var n=e.isArray(t)?t:[t],r=0,o=n.length;o>r;r++)this.isPending=o-1>r,this.addItem(n[r],i)},addItem:function(t,i){var n=i?[]:["change"];A(this,n,function(){var n,r,o,s,a,l=this,d=l.settings.mode;return t=_(t),-1!==l.items.indexOf(t)?void("single"===d&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===d&&l.clear(i),"multi"===d&&l.isFull()||(n=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(n),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(t),s=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==d),s&&l.setActiveOption(l.getOption(s))),!o.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,n),l.updateOriginalInput({silent:i})))))})},removeItem:function(e,t){var i,n,r,o=this;i="object"==typeof e?e:o.getItem(e),e=_(i.attr("data-value")),n=o.items.indexOf(e),-1!==n&&(i.remove(),i.hasClass("active")&&(r=o.$activeItems.indexOf(i[0]),o.$activeItems.splice(r,1)),o.items.splice(n,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,t),n<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:t}),o.positionDropdown(),o.trigger("item_remove",e,i))},createItem:function(t,i){var n=this,r=n.caretPos;t=t||e.trim(n.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return o(),!1;n.lock();var s="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},a=I(function(e){if(n.unlock(),!e||"object"!=typeof e)return o();var t=_(e[n.settings.valueField]);return"string"!=typeof t?o():(n.setTextboxValue(""),n.addOption(e),n.setCaret(r),n.addItem(t),n.refreshOptions(i&&"single"!==n.settings.mode),void o(e))}),l=s.apply(this,[t,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,i=t.isFull(),n=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",n).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!i&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,n,r,o=this;if(e=e||{},o.tagType===x){for(n=[],t=0,i=o.items.length;i>t;t++)r=o.options[o.items[t]][o.settings.labelField]||"",n.push('<option value="'+S(o.items[t])+'" selected="selected">'+S(r)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),o.$input.html(n.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(t):e(this.$control[0].childNodes[i]).before(t),this.setCaret(i+1)},deleteSelection:function(t){var i,n,r,o,s,a,l,d,c,h=this;if(r=t&&t.keyCode===g?-1:1,o=N(h.$control_input[0]),h.$activeOption&&!h.settings.hideSelected&&(l=h.getAdjacentOption(h.$activeOption,-1).attr("data-value")),s=[],h.$activeItems.length){for(c=h.$control.children(".active:"+(r>0?"last":"first")),a=h.$control.children(":not(input)").index(c),r>0&&a++,i=0,n=h.$activeItems.length;n>i;i++)s.push(e(h.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(h.isFocused||"single"===h.settings.mode)&&h.items.length&&(0>r&&0===o.start&&0===o.length?s.push(h.items[h.caretPos-1]):r>0&&o.start===h.$control_input.val().length&&s.push(h.items[h.caretPos]));if(!s.length||"function"==typeof h.settings.onDelete&&h.settings.onDelete.apply(h,[s])===!1)return!1;for("undefined"!=typeof a&&h.setCaret(a);s.length;)h.removeItem(s.pop());return h.showInput(),h.positionDropdown(),h.refreshOptions(!0),l&&(d=h.getOption(l),d.length&&h.setActiveOption(d)),!0},advanceSelection:function(e,t){var i,n,r,o,s,a,l=this;0!==e&&(l.rtl&&(e*=-1),i=e>0?"last":"first",n=N(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(o=l.$control_input.val().length,s=0>e?0===n.start&&0===n.length:n.start===o,s&&!o&&l.advanceCaret(e,t)):(a=l.$control.children(".active:"+i),a.length&&(r=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(e>0?r+1:r))))},advanceCaret:function(e,t){var i,n,r=this;0!==e&&(i=e>0?"next":"prev",r.isShiftDown?(n=r.$control_input[i](),n.length&&(r.hideInput(),r.setActiveItem(n),t&&t.preventDefault())):r.setCaret(r.caretPos+e))},setCaret:function(t){var i=this;if(t="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,t)),!i.isPending){var n,r,o,s;for(o=i.$control.children(":not(input)"),n=0,r=o.length;r>n;n++)s=e(o[n]).detach(),t>n?i.$control_input.before(s):i.$control.append(s)}i.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,i=t.eventNS,n=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(i),e(document).off(i),e(document.body).off(i),delete t.$input[0].selectize},render:function(e,t){var i,n,r="",o=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(i=_(t[s.settings.valueField]),o=!!i),o&&($(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(i))?s.renderCache[e][i]:(r=s.settings.render[e].apply(this,[t,S]),("option"===e||"option_create"===e)&&(r=r.replace(a,"<$1 data-selectable")),"optgroup"===e&&(n=t[s.settings.optgroupValueField]||"",r=r.replace(a,'<$1 data-group="'+T(S(n))+'"')),("option"===e||"item"===e)&&(r=r.replace(a,'<$1 data-value="'+T(S(i||""))+'"')),o&&(s.renderCache[e][i]=r),r)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var i=t.settings.createFilter;return e.length&&("function"!=typeof i||i.apply(t,[e]))&&("string"!=typeof i||new RegExp(i).test(e))&&(!(i instanceof RegExp)||i.test(e))}}),R.count=0,R.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var i=e.fn.selectize.defaults,n=e.extend({},i,t),r=n.dataAttr,o=n.labelField,s=n.valueField,a=n.optgroupField,l=n.optgroupLabelField,d=n.optgroupValueField,c=function(t,i){var a,l,d,c,h=t.attr(r);if(h)for(i.options=JSON.parse(h),a=0,l=i.options.length;l>a;a++)i.items.push(i.options[a][s]);else{var p=e.trim(t.val()||"");if(!n.allowEmptyOption&&!p.length)return;for(d=p.split(n.delimiter),a=0,l=d.length;l>a;a++)c={},c[o]=d[a],c[s]=d[a],i.options.push(c);i.items=d}},h=function(t,i){var c,h,p,u,f=i.options,g={},m=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,r){t=e(t);var l=_(t.attr("value"));if(l||n.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var d=g[l][a];d?e.isArray(d)?d.push(r):g[l][a]=[d,r]:g[l][a]=r}}else{var c=m(t)||{};c[o]=c[o]||t.text(),c[s]=c[s]||l,c[a]=c[a]||r,g[l]=c,f.push(c),t.is(":selected")&&i.items.push(l)}},y=function(t){var n,r,o,s,a;for(t=e(t),o=t.attr("label"),o&&(s=m(t)||{},s[l]=o,s[d]=o,i.optgroups.push(s)),a=e("option",t),n=0,r=a.length;r>n;n++)v(a[n],o)};for(i.maxItems=t.attr("multiple")?null:1,u=t.children(),c=0,h=u.length;h>c;c++)p=u[c].tagName.toLowerCase(),"optgroup"===p?y(u[c]):"option"===p&&v(u[c])};return this.each(function(){if(!this.selectize){var r,o=e(this),s=this.tagName.toLowerCase(),a=o.attr("placeholder")||o.attr("data-placeholder");a||n.allowEmptyOption||(a=o.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?h(o,l):c(o,l),r=new R(o,e.extend(!0,{},i,l,t))}})},e.fn.selectize.defaults=R.defaults,e.fn.selectize.support={validity:k},R.define("drag_drop",function(t){
if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var e=i.lock;return function(){var t=i.$control.data("sortable");return t&&t.disable(),e.apply(i,arguments)}}(),i.unlock=function(){var e=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var t=i.$activeItems?i.$activeItems.slice():null,r=[];n.children("[data-value]").each(function(){r.push(e(this).attr("data-value"))}),i.setValue(r),i.setActiveItem(t)}})}}()}}),R.define("dropdown_header",function(t){var i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),i.setup=function(){var n=i.setup;return function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)}}()}),R.define("optgroup_columns",function(t){var i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,i){var n=t.closest("[data-group]").find("[data-selectable]"),r=n.index(t)+i;return r>=0&&r<n.length?n.eq(r):e()},this.onKeyDown=function(){var e=i.onKeyDown;return function(t){var n,r,o,s;return!this.isOpen||t.keyCode!==d&&t.keyCode!==p?e.apply(this,arguments):(i.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),n=s.find("[data-selectable]").index(this.$activeOption),s=t.keyCode===d?s.prev("[data-group]"):s.next("[data-group]"),o=s.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,n)),void(r.length&&this.setActiveOption(r)))}}();var n=function(){var e,t=n.width,i=document;return"undefined"==typeof t&&(e=i.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=n.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t},r=function(){var r,o,s,a,l,d,c;if(c=e("[data-group]",i.$dropdown_content),o=c.length,o&&i.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,r=0;o>r;r++)s=Math.max(s,c.eq(r).height());c.css({height:s})}t.equalizeWidth&&(d=i.$dropdown_content.innerWidth()-n(),a=Math.round(d/o),c.css({width:a}),o>1&&(l=d-a*(o-1),c.eq(o-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(E.after(this,"positionDropdown",r),E.after(this,"refreshOptions",r))}),R.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i=this,n='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+S(t.title)+'">'+t.label+"</a>",r=function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)};this.setup=function(){var o=i.setup;return function(){if(t.append){var s=i.settings.render.item;i.settings.render.item=function(e){return r(s.apply(this,arguments),n)}}o.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}}),R.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var i=t.onKeyDown;return function(t){var n,r;return t.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1,n>=0&&n<this.items.length)?(r=this.options[this.items[n]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void t.preventDefault()):i.apply(this,arguments)}}()}),R}),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(e){return function(){return this[e].apply(this,arguments)}}function s(t,i){function n(e,t){return t.toLowerCase()}var r,o=e(t).data(),s={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in o)i.test(l)&&(r=l.replace(a,n),s[r]=o[l]);return s}function a(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var n=g[t];return e.each(f,function(e,t){t in n&&(i[t]=n[t])}),i}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),d=function(t,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(r){this._o=e.extend({},this._o,r);var o=this.o=e.extend({},this._o),s=o.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=u.language)),o.language=s,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var a=m.parseFormat(o.format);if(o.startDate!==-(1/0)&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=m.parseDate(o.startDate,a,o.language):o.startDate=-(1/0)),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=m.parseDate(o.endDate,a,o.language):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],e.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=e.map(o.daysOfWeekDisabled,function(e){return parseInt(e,10)}),o.datesDisabled=o.datesDisabled||[],!e.isArray(o.datesDisabled)){var l=[];l.push(m.parseDate(o.datesDisabled,a,o.language)),o.datesDisabled=l}o.datesDisabled=e.map(o.datesDisabled,function(e){return m.parseDate(e,a,o.language)});var d=String(o.orientation).toLowerCase().split(/\s+/g),c=o.orientation.toLowerCase();if(d=e.grep(d,function(e){return/^auto|left|right|top|bottom$/.test(e)}),o.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===d.length)switch(d[0]){case"top":case"bottom":o.orientation.y=d[0];break;case"left":case"right":o.orientation.x=d[0]}else c=e.grep(d,function(e){return/^left|right$/.test(e)}),o.orientation.x=c[0]||"auto",c=e.grep(d,function(e){return/^top|bottom$/.test(e)}),o.orientation.y=c[0]||"auto";else;if(o.defaultViewDate){var h=o.defaultViewDate.year||(new Date).getFullYear(),p=o.defaultViewDate.month||0,f=o.defaultViewDate.day||1;o.defaultViewDate=i(h,p,f)}else o.defaultViewDate=n();o.showOnFocus=o.showOnFocus!==t?o.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,n,r,o=0;o<e.length;o++)i=e[o][0],2===e[o].length?(n=t,r=e[o][1]):3===e[o].length&&(n=e[o][1],r=e[o][2]),i.on(r,n)},_unapplyEvents:function(e){for(var i,n,r,o=0;o<e.length;o++)i=e[o][0],2===e[o].length?(r=t,n=e[o][1]):3===e[o].length&&(r=e[o][1],n=e[o][2]),i.off(n,r)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),r=this._utc_to_local(n);this.element.trigger({type:t,date:r,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return m.formatDate(i,t,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var n=this.o.language;return e.map(this.dates,function(e){return m.formatDate(e,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,r=e(this.o.container).width(),o=e(this.o.container).height(),s=e(this.o.container).scrollTop(),a=e(this.o.container).offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var d=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=c.left-a.left,f=c.top-a.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=t-p)):c.left<0?(this.picker.addClass("datepicker-orient-left"),u-=c.left-n):u+t>r?(this.picker.addClass("datepicker-orient-right"),u=c.left+p-t):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-s+f-i,m=s+o-(f+h+i),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=h:f-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=r-(u+p);this.picker.css({top:f,right:y,zIndex:d})}else this.picker.css({top:f,left:u,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language)},this)),i=e.grep(i,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var i='<th class="cw">&#160;</th>';t+=i}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+g[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<o?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>o)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return r(t,e)}).length>0&&i.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,r=new Date(this.viewDate),o=r.getUTCFullYear(),s=r.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"";if(!isNaN(o)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[s]+" "+o),this.picker.find("tfoot .today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=i(o,s-1,28),f=m.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(f),u.setUTCDate(f-(u.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(u);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];u.valueOf()<v;){if(u.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),C=new Date(Number(C=i(x.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),k=(x-C)/864e5/7+1;b.push('<td class="cw">'+k+"</td>")}if(y=this.getClassNames(u),y.push("day"),this.o.beforeShowDay!==e.noop){var $=this.o.beforeShowDay(this._utc_to_local(u));$===t?$={}:"boolean"==typeof $?$={enabled:$}:"string"==typeof $&&($={classes:$}),$.enabled===!1&&y.push("disabled"),$.classes&&(y=y.concat($.classes.split(/\s+/))),$.tooltip&&(n=$.tooltip)}y=e.unique(y),b.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+u.getUTCDate()+"</td>"),n=null,u.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var _=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&_.eq(t.getUTCMonth()).addClass("active")}),(a>o||o>d)&&_.addClass("disabled"),o===a&&_.slice(0,l).addClass("disabled"),o===d&&_.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var S=this;e.each(_,function(t,i){if(!e(i).hasClass("disabled")){var n=new Date(o,t,1),r=S.o.beforeShowMonth(n);r===!1&&e(i).addClass("disabled")}})}b="",o=10*parseInt(o/10,10);var T=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var E,I=e.map(this.dates,function(e){return e.getUTCFullYear()}),D=-1;11>D;D++)E=["year"],-1===D?E.push("old"):10===D&&E.push("new"),-1!==e.inArray(o,I)&&E.push("active"),(a>o||o>d)&&E.push("disabled"),b+='<span class="'+E.join(" ")+'">'+o+"</span>",o+=1;T.html(b)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var n,r,o,s=e(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=m.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(o=1,r=s.parent().find("span").index(s),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,r,o))):(o=1,r=0,n=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,r,o))),this.showMode(-1),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(o=parseInt(s.text(),10)||1,n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s.hasClass("old")?0===r?(r=11,n-=1):r-=1:s.hasClass("new")&&(11===r?(r=0,n+=1):r+=1),this._setDate(i(n,r,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,i){if(!e)return t;if(!i)return e;var n,r,o=new Date(e.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)r=-1===i?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==n},n=a+i,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var d=0;l>d;d++)o=this.moveMonth(o,i);n=o.getUTCMonth(),o.setUTCDate(s),r=function(){return n!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--s),o.setUTCMonth(n);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,i,r,o=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),t),r=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),t),r=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+t),r=new Date(s),r.setUTCDate(s.getUTCDate()+t)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),t),r=this.moveYear(s,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),t),r=this.moveMonth(s,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*t),r=new Date(s),r.setUTCDate(s.getUTCDate()+7*t)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker"),n=i.getUTCDate(),r=e.inArray(t.target,this.inputs),o=r-1,s=r+1,a=this.inputs.length;if(-1!==r){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(n)}),n<this.dates[o])for(;o>=0&&n<this.dates[o];)this.pickers[o--].setUTCDate(n);else if(n>this.dates[s])for(;a>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var h=e.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var r;return this.each(function(){var o=e(this),l=o.data("datepicker"),h="object"==typeof i&&i;if(!l){var p=s(this,"date"),f=e.extend({},u,p,h),g=a(f.language),m=e.extend({},u,g,p,h);if(o.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||o.find("input").toArray()};o.data("datepicker",l=new c(this,e.extend(m,v)))}else o.data("datepicker",l=new d(this,m))}return"string"==typeof i&&"function"==typeof l[i]&&(r=l[i].apply(l,n),r!==t)?!1:void 0}),r!==t?r:this};e.fn.datepicker=p;var u=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=d;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(n,r,o){function s(){var e=this.slice(0,p[c].length),t=p[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;"string"==typeof r&&(r=m.parseFormat(r));var a,l,c,h=/([\-+]\d+)([dmwy])/,p=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,c=0;c<p.length;c++)switch(a=h.exec(p[c]),l=parseInt(a[1]),a[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=d.prototype.moveMonth.call(d.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=d.prototype.moveYear.call(d.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}p=n&&n.match(this.nonpunctuation)||[],n=new Date;var u,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var w=r.parts.slice();if(p.length!==w.length&&(w=e(w).filter(function(t,i){return-1!==e.inArray(i,y)}).toArray()),p.length===w.length){var x;for(c=0,x=w.length;x>c;c++){if(u=parseInt(p[c],10),a=w[c],isNaN(u))switch(a){case"MM":f=e(g[o].months).filter(s),u=e.inArray(f[0],g[o].months)+1;break;case"M":f=e(g[o].monthsShort).filter(s),u=e.inArray(f[0],g[o].monthsShort)+1}v[a]=u}var C,k;for(c=0;c<y.length;c++)k=y[c],k in v&&!isNaN(v[k])&&(C=new Date(n),b[k](C,v[k]),isNaN(C)||(n=C))}return n},formatDate:function(t,i,n){if(!t)return"";"string"==typeof i&&(i=m.parseFormat(i));var r={d:t.getUTCDate(),D:g[n].daysShort[t.getUTCDay()],DD:g[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[n].monthsShort[t.getUTCMonth()],MM:g[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var o=e.extend([],i.separators),s=0,a=i.parts.length;a>=s;s++)o.length&&t.push(o.shift()),t.push(r[i.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.4.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){e.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai","sunnuntai"],daysShort:["sun","maa","tii","kes","tor","per","lau","sun"],daysMin:["su","ma","ti","ke","to","pe","la","su"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"t\xe4n\xe4\xe4n",weekStart:1,format:"d.m.yyyy"}}(jQuery),/*
 * Metadata - jQuery plugin for parsing metadata from elements
 *
 * Copyright (c) 2006 John Resig, Yehuda Katz, Jrn Zaefferer, Paul McLanahan
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/(\{.*\})/,single:"metadata"},setType:function(e,t){this.defaults.type=e,this.defaults.name=t},get:function(elem,opts){var data,m,e,attr,settings=$.extend({},this.defaults,opts);if(settings.single.length||(settings.single="metadata"),data=$.data(elem,settings.single))return data;if(data="{}","class"===settings.type)m=settings.cre.exec(elem.className),m&&(data=m[1]);else if("elem"===settings.type){if(!elem.getElementsByTagName)return void 0;e=elem.getElementsByTagName(settings.name),e.length&&(data=$.trim(e[0].innerHTML))}else void 0!==elem.getAttribute&&(attr=elem.getAttribute(settings.name),attr&&(data=attr));return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(e){return $.metadata.get(this[0],e)}}(jQuery),function(e){"use strict";e.extend({tablesorter:new function(){function t(t,i,n,r){for(var o,s,a=m.parsers.length,l=!1,d="",c=!0;""===d&&c;)n++,i[n]?(l=i[n].cells[r],d=m.getElementText(t,l,r),s=e(l),t.debug&&console.log("Checking if value was empty on row "+n+", column: "+r+': "'+d+'"')):c=!1;for(;--a>=0;)if(o=m.parsers[a],o&&"text"!==o.id&&o.is&&o.is(d,t.table,l,s))return o;return m.getParserById("text")}function i(e,i){var n,r,o,s,a,l,d,c,h,p,u,f,g=e.table,v=0,y={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),u="undefined"==typeof i?e.$tbodies:i,f=u.length,0===f)return e.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(e.debug&&(p=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),r={extractors:[],parsers:[]};f>v;){if(n=u[v].rows,n.length)for(o=e.columns,s=0;o>s;s++)a=e.$headerIndexed[s],l=m.getColumnData(g,e.headers,s),h=m.getParserById(m.getData(a,l,"extractor")),c=m.getParserById(m.getData(a,l,"sorter")),d="false"===m.getData(a,l,"parser"),e.empties[s]=(m.getData(a,l,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[s]=(m.getData(a,l,"string")||e.stringTo||"max").toLowerCase(),d&&(c=m.getParserById("no-parser")),h||(h=!1),c||(c=t(e,n,-1,s)),e.debug&&(y["("+s+") "+a.text()]={parser:c.id,extractor:h?h.id:"none",string:e.strings[s],empty:e.empties[s]}),r.parsers[s]=c,r.extractors[s]=h;v+=r.parsers.length?f:1}e.debug&&(m.isEmptyObject(y)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](y),console.log("Completed detecting parsers"+m.benchmark(p)),console.groupEnd&&console.groupEnd()),e.parsers=r.parsers,e.extractors=r.extractors}function n(t,i,n){var r,o,s,a,l,d,c,h,p,u,f,g,v,y,b=t.config,w=b.parsers;if(b.$tbodies=b.$table.children("tbody:not(."+b.cssInfoBlock+")"),c="undefined"==typeof n?b.$tbodies:n,b.cache={},b.totalRows=0,!w)return b.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(b.debug&&(u=new Date),b.showProcessing&&m.isProcessing(t,!0),d=0;d<c.length;d++){for(y=[],r=b.cache[d]={normalized:[]},f=c[d]&&c[d].rows.length||0,a=0;f>a;++a)if(g={child:[],raw:[]},h=e(c[d].rows[a]),p=[],h.hasClass(b.cssChildRow)&&0!==a)for(o=r.normalized.length-1,v=r.normalized[o][b.columns],v.$row=v.$row.add(h),h.prev().hasClass(b.cssChildRow)||h.prev().addClass(m.css.cssHasChild),s=h.children("th, td"),o=v.child.length,v.child[o]=[],l=0;l<b.columns;l++)v.child[o][l]=m.getParsedText(b,s[l],l);else{for(g.$row=h,g.order=a,l=0;l<b.columns;++l)"undefined"!=typeof w[l]?(o=m.getElementText(b,h[0].cells[l],l),g.raw.push(o),s=m.getParsedText(b,h[0].cells[l],l,o),p.push(s),"numeric"===(w[l].type||"").toLowerCase()&&(y[l]=Math.max(Math.abs(s)||0,y[l]||0))):b.debug&&console.warn("No parser found for cell:",h[0].cells[l],"does it have a header?");p[b.columns]=g,r.normalized.push(p)}r.colMax=y,b.totalRows+=r.normalized.length}b.showProcessing&&m.isProcessing(t),b.debug&&console.log("Building cache for "+f+" rows"+m.benchmark(u)),e.isFunction(i)&&i(t)}function r(e){return/^d/i.test(e)||1===e}function o(t){var i,n,o,s,l,d,c,h;for(t.headerList=[],t.headerContent=[],t.debug&&(c=new Date),t.columns=m.computeColumnIndex(t.$table.children("thead, tfoot").children("tr")),s=t.cssIcon?'<i class="'+(t.cssIcon===m.css.icon?m.css.icon:t.cssIcon+" "+m.css.icon)+'"></i>':"",t.$headers=e(e.map(t.$table.find(t.selectorHeaders),function(a,c){return n=e(a),n.parent().hasClass(t.cssIgnoreRow)?void 0:(i=m.getColumnData(t.table,t.headers,c,!0),t.headerContent[c]=n.html(),""===t.headerTemplate||n.find("."+m.css.headerIn).length||(l=t.headerTemplate.replace(m.regex.templateContent,n.html()).replace(m.regex.templateIcon,n.find("."+m.css.icon).length?"":s),t.onRenderTemplate&&(o=t.onRenderTemplate.apply(n,[c,l]),o&&"string"==typeof o&&(l=o)),n.html('<div class="'+m.css.headerIn+'">'+l+"</div>")),t.onRenderHeader&&t.onRenderHeader.apply(n,[c,t,t.$table]),a.column=parseInt(n.attr("data-column"),10),a.order=r(m.getData(n,i,"sortInitialOrder")||t.sortInitialOrder)?[1,0,2]:[0,1,2],a.count=-1,a.lockedOrder=!1,d=m.getData(n,i,"lockedOrder")||!1,"undefined"!=typeof d&&d!==!1&&(a.order=a.lockedOrder=r(d)?[1,1,1]:[0,0,0]),n.addClass(m.css.header+" "+t.cssHeader),t.headerList[c]=a,n.parent().addClass(m.css.headerRow+" "+t.cssHeaderRow).attr("role","row"),t.tabIndex&&n.attr("tabindex",0),a)})),t.$headerIndexed=[],h=0;h<t.columns;h++)n=t.$headers.filter('[data-column="'+h+'"]'),t.$headerIndexed[h]=n.not(".sorter-false").length?n.not(".sorter-false").filter(":last"):n.filter(":last");t.$table.find(t.selectorHeaders).attr({scope:"col",role:"columnheader"}),a(t.table),t.debug&&(console.log("Built headers:"+m.benchmark(c)),console.log(t.$headers))}function s(e,t,r){var o=e.config;o.$table.find(o.selectorRemove).remove(),i(o),n(e),f(o,t,r)}function a(e){var t,i,n,r,o=e.config,s=o.$headers.length;for(t=0;s>t;t++)n=o.$headers.eq(t),r=m.getColumnData(e,o.headers,t,!0),i="false"===m.getData(n,r,"sorter")||"false"===m.getData(n,r,"parser"),n[0].sortDisabled=i,n[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),o.tabIndex&&(i?n.removeAttr("tabindex"):n.attr("tabindex","0")),e.id&&(i?n.removeAttr("aria-controls"):n.attr("aria-controls",e.id))}function l(t){var i,n,r,o,s,a,l,d,c=t.config,h=c.sortList,p=h.length,u=m.css.sortNone+" "+c.cssNone,f=[m.css.sortAsc+" "+c.cssAsc,m.css.sortDesc+" "+c.cssDesc],g=[c.cssIconAsc,c.cssIconDesc,c.cssIconNone],v=["ascending","descending"],y=e(t).find("tfoot tr").children().add(e(c.namespace+"_extra_headers")).removeClass(f.join(" "));for(c.$headers.removeClass(f.join(" ")).addClass(u).attr("aria-sort","none").find("."+m.css.icon).removeClass(g.join(" ")).addClass(g[2]),r=0;p>r;r++)if(2!==h[r][1]&&(i=c.lastClickedIndex>0?c.$headers.filter(":gt("+(c.lastClickedIndex-1)+")"):c.$headers,i=i.not(".sorter-false").filter('[data-column="'+h[r][0]+'"]'+(1===p?":last":"")),i.length)){for(o=0;o<i.length;o++)i[o].sortDisabled||i.eq(o).removeClass(u).addClass(f[h[r][1]]).attr("aria-sort",v[h[r][1]]).find("."+m.css.icon).removeClass(g[2]).addClass(g[h[r][1]]);y.length&&y.filter('[data-column="'+h[r][0]+'"]').removeClass(u).addClass(f[h[r][1]])}for(p=c.$headers.length,s=c.$headers.not(".sorter-false"),r=0;p>r;r++)a=s.eq(r),a.length&&(n=s[r],l=n.order[(n.count+1)%(c.sortReset?3:2)],d=e.trim(a.text())+": "+m.language[a.hasClass(m.css.sortAsc)?"sortAsc":a.hasClass(m.css.sortDesc)?"sortDesc":"sortNone"]+m.language[0===l?"nextAsc":1===l?"nextDesc":"nextNone"],a.attr("aria-label",d))}function d(t,i){var n,r,o,s,a,l,d,c,h=t.config,p=i||h.sortList,u=p.length;for(h.sortList=[],a=0;u>a;a++)if(c=p[a],n=parseInt(c[0],10),n<h.columns&&h.$headerIndexed[n]){switch(s=h.$headerIndexed[n][0],r=(""+c[1]).match(/^(1|d|s|o|n)/),r=r?r[0]:""){case"1":case"d":r=1;break;case"s":r=l||0;break;case"o":d=s.order[(l||0)%(h.sortReset?3:2)],r=0===d?1:1===d?0:2;break;case"n":s.count=s.count+1,r=s.order[s.count%(h.sortReset?3:2)];break;default:r=0}l=0===a?r:l,o=[n,parseInt(r,10)||0],h.sortList.push(o),r=e.inArray(o[1],s.order),s.count=r>=0?r:o[1]%(h.sortReset?3:2)}}function c(e,t){return e&&e[t]?e[t].type||"":""}function h(t,i,n){if(t.isUpdating)return setTimeout(function(){h(t,i,n)},50);var r,o,s,a,d,c,u,f=t.config,g=!n[f.sortMultiSortKey],v=f.$table,y=f.$headers.length;if(v.trigger("sortStart",t),i.count=n[f.sortResetKey]?2:(i.count+1)%(f.sortReset?3:2),f.sortRestart)for(o=i,s=0;y>s;s++)u=f.$headers.eq(s),u[0]===o||!g&&u.is("."+m.css.sortDesc+",."+m.css.sortAsc)||(u[0].count=-1);if(o=parseInt(e(i).attr("data-column"),10),g){if(f.sortList=[],null!==f.sortForce)for(r=f.sortForce,a=0;a<r.length;a++)r[a][0]!==o&&f.sortList.push(r[a]);if(d=i.order[i.count],2>d&&(f.sortList.push([o,d]),i.colSpan>1))for(a=1;a<i.colSpan;a++)f.sortList.push([o+a,d])}else{if(f.sortAppend&&f.sortList.length>1)for(a=0;a<f.sortAppend.length;a++)c=m.isValueInArray(f.sortAppend[a][0],f.sortList),c>=0&&f.sortList.splice(c,1);if(m.isValueInArray(o,f.sortList)>=0)for(a=0;a<f.sortList.length;a++)c=f.sortList[a],d=f.$headerIndexed[c[0]][0],c[0]===o&&(c[1]=d.order[i.count],2===c[1]&&(f.sortList.splice(a,1),d.count=-1));else if(d=i.order[i.count],2>d&&(f.sortList.push([o,d]),i.colSpan>1))for(a=1;a<i.colSpan;a++)f.sortList.push([o+a,d])}if(null!==f.sortAppend)for(r=f.sortAppend,a=0;a<r.length;a++)r[a][0]!==o&&f.sortList.push(r[a]);v.trigger("sortBegin",t),setTimeout(function(){l(t),p(t),m.appendCache(f),v.trigger("sortEnd",t)},1)}function p(e){var t,i,n,r,o,s,a,l,d,h,p,u=0,f=e.config,g=f.textSorter||"",v=f.sortList,y=v.length,b=f.$tbodies.length;if(!f.serverSideSorting&&!m.isEmptyObject(f.cache)){for(f.debug&&(o=new Date),i=0;b>i;i++)s=f.cache[i].colMax,a=f.cache[i].normalized,a.sort(function(i,o){for(t=0;y>t;t++){if(r=v[t][0],l=v[t][1],u=0===l,f.sortStable&&i[r]===o[r]&&1===y)return i[f.columns].order-o[f.columns].order;if(n=/n/i.test(c(f.parsers,r)),n&&f.strings[r]?(n="boolean"==typeof f.string[f.strings[r]]?(u?1:-1)*(f.string[f.strings[r]]?-1:1):f.strings[r]?f.string[f.strings[r]]||0:0,d=f.numberSorter?f.numberSorter(i[r],o[r],u,s[r],e):m["sortNumeric"+(u?"Asc":"Desc")](i[r],o[r],n,s[r],r,e)):(h=u?i:o,p=u?o:i,d="function"==typeof g?g(h[r],p[r],u,r,e):"object"==typeof g&&g.hasOwnProperty(r)?g[r](h[r],p[r],u,r,e):m["sortNatural"+(u?"Asc":"Desc")](i[r],o[r],r,e,f)),d)return d}return i[f.columns].order-o[f.columns].order});f.debug&&console.log("Sorting on "+v.toString()+" and dir "+l+" time"+m.benchmark(o))}}function u(t,i){t.table.isUpdating&&t.$table.trigger("updateComplete",t.table),e.isFunction(i)&&i(t.table)}function f(t,i,n){var r=e.isArray(i)?i:t.sortList,o="undefined"==typeof i?t.resort:i;o===!1||t.serverSideSorting||t.table.isProcessing?(u(t,n),m.applyWidget(t.table,!1)):r.length?t.$table.trigger("sorton",[r,function(){u(t,n)},!0]):t.$table.trigger("sortReset",[function(){u(t,n),m.applyWidget(t.table,!1)}])}function g(t){var i=t.config,n=i.$table,r="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(i.namespace+" ");n.unbind(r.replace(m.regex.spaces," ")).bind("sortReset"+i.namespace,function(e,t){e.stopPropagation(),m.sortReset(this.config,t)}).bind("updateAll"+i.namespace,function(e,t,i){e.stopPropagation(),m.updateAll(this.config,t,i)}).bind("update"+i.namespace+" updateRows"+i.namespace,function(e,t,i){e.stopPropagation(),m.update(this.config,t,i)}).bind("updateHeaders"+i.namespace,function(e,t){e.stopPropagation(),m.updateHeaders(this.config,t)}).bind("updateCell"+i.namespace,function(e,t,i,n){e.stopPropagation(),m.updateCell(this.config,t,i,n)}).bind("addRows"+i.namespace,function(e,t,i,n){e.stopPropagation(),m.addRows(this.config,t,i,n)}).bind("updateComplete"+i.namespace,function(){t.isUpdating=!1}).bind("sorton"+i.namespace,function(e,t,i,n){e.stopPropagation(),m.sortOn(this.config,t,i,n)}).bind("appendCache"+i.namespace,function(i,n,r){i.stopPropagation(),m.appendCache(this.config,r),e.isFunction(n)&&n(t)}).bind("updateCache"+i.namespace,function(e,t,i){e.stopPropagation(),m.updateCache(this.config,t,i)}).bind("applyWidgetId"+i.namespace,function(e,i){e.stopPropagation(),m.getWidgetById(i).format(t,this.config,this.config.widgetOptions)}).bind("applyWidgets"+i.namespace,function(e,i){e.stopPropagation(),m.applyWidget(t,i)}).bind("refreshWidgets"+i.namespace,function(e,i,n){e.stopPropagation(),m.refreshWidgets(t,i,n)}).bind("destroy"+i.namespace,function(e,i,n){e.stopPropagation(),m.destroy(t,i,n)}).bind("resetToLoadState"+i.namespace,function(n){n.stopPropagation(),m.removeWidget(t,!0,!1),i=e.extend(!0,m.defaults,i.originalSettings),t.hasInitialized=!1,m.setup(t,i)})}var m=this;m.version="2.23.5",m.parsers=[],m.widgets=[],m.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},m.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},m.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},m.regex={templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i},m.instanceMethods={},m.isEmptyObject=function(e){for(var t in e)return!1;return!0},m.getElementText=function(t,i,n){if(!i)return"";var r,o=t.textExtraction||"",s=i.jquery?i:e(i);return"string"==typeof o?"basic"===o&&"undefined"!=typeof(r=s.attr(t.textAttribute))?e.trim(r):e.trim(i.textContent||s.text()):"function"==typeof o?e.trim(o(s[0],t.table,n)):"function"==typeof(r=m.getColumnData(t.table,o,n))?e.trim(r(s[0],t.table,n)):e.trim(s[0].textContent||s.text())},m.getParsedText=function(e,t,i,n){"undefined"==typeof n&&(n=m.getElementText(e,t,i));var r=""+n,o=e.parsers[i],s=e.extractors[i];return o&&(s&&"function"==typeof s.format&&(n=s.format(n,e.table,t,i)),r="no-parser"===o.id?"":o.format(""+n,e.table,t,i),e.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r},m.construct=function(t){return this.each(function(){var i=this,n=e.extend(!0,{},m.defaults,t,m.instanceMethods);n.originalSettings=t,!i.hasInitialized&&m.buildTable&&"TABLE"!==this.nodeName?m.buildTable(i,n):m.setup(i,n)})},m.setup=function(t,r){if(!t||!t.tHead||0===t.tBodies.length||t.hasInitialized===!0)return void(r.debug&&(t.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody")));var s="",a=e(t),d=e.metadata;t.hasInitialized=!1,t.isProcessing=!0,t.config=r,e.data(t,"tablesorter",r),r.debug&&(console[console.group?"group":"log"]("Initializing tablesorter"),e.data(t,"startoveralltimer",new Date)),r.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||1===e[0]&&parseInt(e[1],10)>=4}(e.fn.jquery.split(".")),r.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),/tablesorter\-/.test(a.attr("class"))||(s=""!==r.theme?" tablesorter-"+r.theme:""),r.table=t,r.$table=a.addClass(m.css.table+" "+r.tableClass+s).attr("role","grid"),r.$headers=a.find(r.selectorHeaders),r.namespace?r.namespace="."+r.namespace.replace(m.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.$table.children().children("tr").attr("role","row"),r.$tbodies=a.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&(s=r.$table.children("caption")[0],s.id||(s.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",s.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",o(r),m.fixColumnWidth(t),m.applyWidgetOptions(t,r),i(r),r.totalRows=0,r.delayInit||n(t),m.bindEvents(t,r.$headers,!0),g(t),r.supportsDataObject&&"undefined"!=typeof a.data().sortlist?r.sortList=a.data().sortlist:d&&a.metadata()&&a.metadata().sortlist&&(r.sortList=a.metadata().sortlist),m.applyWidget(t,!0),r.sortList.length>0?a.trigger("sorton",[r.sortList,{},!r.initWidgets,!0]):(l(t),r.initWidgets&&m.applyWidget(t,!1)),r.showProcessing&&a.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(e){clearTimeout(r.processTimer),m.isProcessing(t),"sortBegin"===e.type&&(r.processTimer=setTimeout(function(){m.isProcessing(t,!0)},500))}),t.hasInitialized=!0,t.isProcessing=!1,r.debug&&(console.log("Overall initialization time: "+m.benchmark(e.data(t,"startoveralltimer"))),r.debug&&console.groupEnd&&console.groupEnd()),a.trigger("tablesorter-initialized",t),"function"==typeof r.initialized&&r.initialized(t)},m.fixColumnWidth=function(t){t=e(t)[0];var i,n,r,o,s,a=t.config,l=a.$table.children("colgroup");if(l.length&&l.hasClass(m.css.colgroup)&&l.remove(),a.widthFixed&&0===a.$table.children("colgroup").length){for(l=e('<colgroup class="'+m.css.colgroup+'">'),i=a.$table.width(),r=a.$tbodies.find("tr:first").children(":visible"),o=r.length,s=0;o>s;s++)n=parseInt(r.eq(s).width()/i*1e3,10)/10+"%",l.append(e("<col>").css("width",n));a.$table.prepend(l)}},m.getColumnData=function(t,i,n,r,o){if("undefined"!=typeof i&&null!==i){t=e(t)[0];var s,a,l=t.config,d=o||l.$headers,c=l.$headerIndexed&&l.$headerIndexed[n]||d.filter('[data-column="'+n+'"]:last');if(i[n])return r?i[n]:i[d.index(c)];for(a in i)if("string"==typeof a&&(s=c.filter(a).add(c.find(a)),s.length))return i[a]}},m.computeColumnIndex=function(t){var i,n,r,o,s,a,l,d,c,h,p,u,f=[],g=[],m={};for(i=0;i<t.length;i++)for(l=t[i].cells,n=0;n<l.length;n++){for(a=l[n],s=e(a),d=a.parentNode.rowIndex,c=d+"-"+s.index(),h=a.rowSpan||1,p=a.colSpan||1,"undefined"==typeof f[d]&&(f[d]=[]),r=0;r<f[d].length+1;r++)if("undefined"==typeof f[d][r]){u=r;break}for(m[c]=u,s.attr({"data-column":u}),r=d;d+h>r;r++)for("undefined"==typeof f[r]&&(f[r]=[]),g=f[r],o=u;u+p>o;o++)g[o]="x"}return g.length},m.isProcessing=function(t,i,n){t=e(t);var r=t[0].config,o=n||t.find("."+m.css.header);i?("undefined"!=typeof n&&r.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:m.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)>=0})),t.add(o).addClass(m.css.processing+" "+r.cssProcessing)):t.add(o).removeClass(m.css.processing+" "+r.cssProcessing)},m.processTbody=function(t,i,n){t=e(t)[0];var r;return n?(t.isProcessing=!0,i.before('<colgroup class="tablesorter-savemyplace"/>'),r=e.fn.detach?i.detach():i.remove()):(r=e(t).find("colgroup.tablesorter-savemyplace"),i.insertAfter(r),r.remove(),void(t.isProcessing=!1))},m.clearTableBody=function(t){e(t)[0].config.$tbodies.children().detach()},m.bindEvents=function(t,i,r){t=e(t)[0];var o,s=null,a=t.config;r!==!0&&(i.addClass(a.namespace.slice(1)+"_extra_headers"),o=e.fn.closest?i.closest("table")[0]:i.parents("table")[0],o&&"TABLE"===o.nodeName&&o!==t&&e(o).addClass(a.namespace.slice(1)+"_extra_table")),o=(a.pointerDown+" "+a.pointerUp+" "+a.pointerClick+" sort keyup ").replace(m.regex.spaces," ").split(" ").join(a.namespace+" "),i.find(a.selectorSort).add(i.filter(a.selectorSort)).unbind(o).bind(o,function(r,o){var l,d,c,p=e(r.target),u=" "+r.type+" ";if(!(1!==(r.which||r.button)&&!u.match(" "+a.pointerClick+" | sort | keyup ")||" keyup "===u&&13!==r.which||u.match(" "+a.pointerClick+" ")&&"undefined"!=typeof r.which||u.match(" "+a.pointerUp+" ")&&s!==r.target&&o!==!0)){if(u.match(" "+a.pointerDown+" "))return s=r.target,c=p.jquery.split("."),void("1"===c[0]&&c[1]<4&&r.preventDefault());if(s=null,m.regex.formElements.test(r.target.nodeName)||p.hasClass(a.cssNoSort)||p.parents("."+a.cssNoSort).length>0||p.parents("button").length>0)return!a.cancelSelection;a.delayInit&&m.isEmptyObject(a.cache)&&n(t),l=e.fn.closest?e(this).closest("th, td"):/TH|TD/.test(this.nodeName)?e(this):e(this).parents("th, td"),c=i.index(l),a.lastClickedIndex=0>c?l.attr("data-column"):c,d=a.$headers[a.lastClickedIndex],d&&!d.sortDisabled&&h(t,d,r)}}),a.cancelSelection&&i.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},m.sortReset=function(t,i){var n=t.table;t.sortList=[],l(n),p(n),m.appendCache(t),e.isFunction(i)&&i(n)},m.updateAll=function(e,t,i){var n=e.table;n.isUpdating=!0,m.refreshWidgets(n,!0,!0),o(e),m.bindEvents(n,e.$headers,!0),g(n),s(n,t,i)},m.update=function(e,t,i){var n=e.table;n.isUpdating=!0,a(n),s(n,t,i)},m.updateHeaders=function(e,t){e.table.isUpdating=!0,o(e),m.bindEvents(e.table,e.$headers,!0),u(e,t)},m.updateCell=function(t,i,n,r){t.table.isUpdating=!0,t.$table.find(t.selectorRemove).remove();var o,s,a,l,d=(t.table,t.$tbodies),c=e(i),h=d.index(e.fn.closest?c.closest("tbody"):c.parents("tbody").filter(":first")),p=t.cache[h],g=e.fn.closest?c.closest("tr"):c.parents("tr").filter(":first");i=c[0],d.length&&h>=0&&(s=d.eq(h).find("tr").index(g),l=p.normalized[s],a=c.index(),o=m.getParsedText(t,i,a),l[a]=o,l[t.columns].$row=g,"numeric"===(t.parsers[a].type||"").toLowerCase()&&(p.colMax[a]=Math.max(Math.abs(o)||0,p.colMax[a]||0)),o="undefined"!==n?n:t.resort,o!==!1?f(t,o,r):u(t,r))},m.addRows=function(t,n,r,o){var l,d,c,h,p,u,g,v="string"==typeof n&&1===t.$tbodies.length&&/<tr/.test(n||""),y=t.table;if(v)n=e(n),t.$tbodies.append(n);else if(!(n&&n instanceof jQuery&&(e.fn.closest?n.closest("table")[0]:n.parents("table")[0])===t.table))return t.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(y.isUpdating=!0,m.isEmptyObject(t.cache))a(y),s(y,r,o);else{for(u=n.filter("tr").attr("role","row").length,g=t.$tbodies.index(n.parents("tbody").filter(":first")),t.parsers&&t.parsers.length||i(t),l=0;u>l;l++){for(c=n[l].cells.length,p=[],h={child:[],$row:n.eq(l),order:t.cache[g].normalized.length},d=0;c>d;d++)p[d]=m.getParsedText(t,n[l].cells[d],d),"numeric"===(t.parsers[d].type||"").toLowerCase()&&(t.cache[g].colMax[d]=Math.max(Math.abs(p[d])||0,t.cache[g].colMax[d]||0));p.push(h),t.cache[g].normalized.push(p)}f(t,r,o)}},m.updateCache=function(e,t,r){e.parsers&&e.parsers.length||i(e,r),n(e.table,t,r)},m.appendCache=function(e,t){var i,n,r,o,s,a,l,d=e.table,c=e.widgetOptions,h=e.$tbodies,p=[],u=e.cache;if(m.isEmptyObject(u))return e.appender?e.appender(d,p):d.isUpdating?e.$table.trigger("updateComplete",d):"";for(e.debug&&(l=new Date),a=0;a<h.length;a++)if(r=h.eq(a),r.length){for(o=m.processTbody(d,r,!0),i=u[a].normalized,n=i.length,s=0;n>s;s++)p.push(i[s][e.columns].$row),e.appender&&(!e.pager||e.pager.removeRows&&c.pager_removeRows||e.pager.ajax)||o.append(i[s][e.columns].$row);m.processTbody(d,o,!1)}e.appender&&e.appender(d,p),e.debug&&console.log("Rebuilt table"+m.benchmark(l)),t||e.appender||m.applyWidget(d),d.isUpdating&&e.$table.trigger("updateComplete",d)},m.sortOn=function(t,i,r,o){var s=t.table;t.$table.trigger("sortStart",s),d(s,i),l(s),t.delayInit&&m.isEmptyObject(t.cache)&&n(s),t.$table.trigger("sortBegin",s),p(s),m.appendCache(t,o),t.$table.trigger("sortEnd",s),m.applyWidget(s),e.isFunction(r)&&r(s)},m.restoreHeaders=function(t){var i,n,r=e(t)[0].config,o=r.$table.find(r.selectorHeaders),s=o.length;for(i=0;s>i;i++)n=o.eq(i),n.find("."+m.css.headerIn).length&&n.html(r.headerContent[i])},m.destroy=function(t,i,n){if(t=e(t)[0],t.hasInitialized){m.removeWidget(t,!0,!1);var r,o=e(t),s=t.config,a=s.debug,l=o.find("thead:first"),d=l.find("tr."+m.css.headerRow).removeClass(m.css.headerRow+" "+s.cssHeaderRow),c=o.find("tfoot:first > tr").children("th, td");i===!1&&e.inArray("uitheme",s.widgets)>=0&&(o.trigger("applyWidgetId",["uitheme"]),o.trigger("applyWidgetId",["zebra"])),l.find("tr").not(d).remove(),r="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress "+"sortBegin sortEnd resetToLoadState ".split(" ").join(s.namespace+" "),o.removeData("tablesorter").unbind(r.replace(m.regex.spaces," ")),s.$headers.add(c).removeClass([m.css.header,s.cssHeader,s.cssAsc,s.cssDesc,m.css.sortAsc,m.css.sortDesc,m.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),d.find(s.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(s.namespace+" ").replace(m.regex.spaces," ")),m.restoreHeaders(t),o.toggleClass(m.css.table+" "+s.tableClass+" tablesorter-"+s.theme,i===!1),t.hasInitialized=!1,delete t.config.cache,"function"==typeof n&&n(t),a&&console.log("tablesorter has been removed")}},m.regex.chunk=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,m.regex.chunks=/(^\\0|\\0$)/,m.regex.hex=/^0x[0-9a-f]+$/i,m.sortNatural=function(e,t){if(e===t)return 0;var i,n,r,o,s,a,l,d,c=m.regex;if(c.hex.test(t)){if(n=parseInt(e.match(c.hex),16),o=parseInt(t.match(c.hex),16),o>n)return-1;if(n>o)return 1}for(i=e.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),r=t.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),d=Math.max(i.length,r.length),l=0;d>l;l++){if(s=isNaN(i[l])?i[l]||0:parseFloat(i[l])||0,a=isNaN(r[l])?r[l]||0:parseFloat(r[l])||0,isNaN(s)!==isNaN(a))return isNaN(s)?1:-1;if(typeof s!=typeof a&&(s+="",a+=""),a>s)return-1;if(s>a)return 1}return 0},m.sortNaturalAsc=function(e,t,i,n,r){if(e===t)return 0;var o=r.string[r.empties[i]||r.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:o||1:m.sortNatural(e,t)},m.sortNaturalDesc=function(e,t,i,n,r){if(e===t)return 0;var o=r.string[r.empties[i]||r.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:m.sortNatural(t,e)},m.sortText=function(e,t){return e>t?1:t>e?-1:0},m.getTextValue=function(e,t,i){if(i){var n,r=e?e.length:0,o=i+t;for(n=0;r>n;n++)o+=e.charCodeAt(n);return t*o}return 0},m.sortNumericAsc=function(e,t,i,n,r,o){if(e===t)return 0;var s=o.config,a=s.string[s.empties[r]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=m.getTextValue(e,i,n)),isNaN(t)&&(t=m.getTextValue(t,i,n)),e-t)},m.sortNumericDesc=function(e,t,i,n,r,o){if(e===t)return 0;var s=o.config,a=s.string[s.empties[r]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=m.getTextValue(e,i,n)),isNaN(t)&&(t=m.getTextValue(t,i,n)),t-e)},m.sortNumeric=function(e,t){return e-t},m.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},m.replaceAccents=function(e){var t,i="[",n=m.characterEquivalents;if(!m.characterRegex){m.characterRegexArray={};for(t in n)"string"==typeof t&&(i+=n[t],m.characterRegexArray[t]=new RegExp("["+n[t]+"]","g"));m.characterRegex=new RegExp(i+"]")}if(m.characterRegex.test(e))for(t in n)"string"==typeof t&&(e=e.replace(m.characterRegexArray[t],t));return e},m.isValueInArray=function(e,t){var i,n=t&&t.length||0;for(i=0;n>i;i++)if(t[i][0]===e)return i;return-1},m.addParser=function(e){var t,i=m.parsers.length,n=!0;for(t=0;i>t;t++)m.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(n=!1);n&&m.parsers.push(e)},m.addInstanceMethods=function(t){e.extend(m.instanceMethods,t)},m.getParserById=function(e){if("false"==e)return!1;var t,i=m.parsers.length;for(t=0;i>t;t++)if(m.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return m.parsers[t];return!1},m.addWidget=function(e){m.widgets.push(e)},m.hasWidget=function(t,i){return t=e(t),t.length&&t[0].config&&t[0].config.widgetInit[i]||!1},m.getWidgetById=function(e){var t,i,n=m.widgets.length;for(t=0;n>t;t++)if(i=m.widgets[t],i&&i.hasOwnProperty("id")&&i.id.toLowerCase()===e.toLowerCase())return i},m.applyWidgetOptions=function(t,i){var n,r,o=i.widgets.length;if(o)for(n=0;o>n;n++)r=m.getWidgetById(i.widgets[n]),r&&"options"in r&&(i.widgetOptions=e.extend(!0,{},r.options,i.widgetOptions))},m.applyWidget=function(t,i,n){t=e(t)[0];var r,o,s,a,l,d,c,h,p,u,f=t.config,g=" "+f.table.className+" ",v=[];if(i===!1||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(f.debug&&(c=new Date),u=new RegExp("\\s"+f.widgetClass.replace(m.regex.templateName,"([\\w-]+)")+"\\s","g"),g.match(u)&&(p=g.match(u)))for(o=p.length,r=0;o>r;r++)f.widgets.push(p[r].replace(u,"$1"));if(f.widgets.length){for(t.isApplyingWidgets=!0,f.widgets=e.grep(f.widgets,function(t,i){return e.inArray(t,f.widgets)===i}),s=f.widgets||[],o=s.length,r=0;o>r;r++)u=m.getWidgetById(s[r]),u&&u.id&&(u.priority||(u.priority=10),v[r]=u);for(v.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),o=v.length,f.debug&&console[console.group?"group":"log"]("Start "+(i?"initializing":"applying")+" widgets"),r=0;o>r;r++)a=v[r],a&&(l=a.id,d=!1,f.debug&&(h=new Date),(i||!f.widgetInit[l])&&(f.widgetInit[l]=!0,t.hasInitialized&&m.applyWidgetOptions(t,t.config),"init"in a&&(d=!0,f.debug&&console[console.group?"group":"log"]("Initializing "+l+" widget"),a.init(t,a,t.config,t.config.widgetOptions))),!i&&"format"in a&&(d=!0,f.debug&&console[console.group?"group":"log"]("Updating "+l+" widget"),a.format(t,t.config,t.config.widgetOptions,!1)),f.debug&&d&&(console.log("Completed "+(i?"initializing ":"applying ")+l+" widget"+m.benchmark(h)),console.groupEnd&&console.groupEnd()));f.debug&&console.groupEnd&&console.groupEnd(),i||"function"!=typeof n||n(t)}setTimeout(function(){t.isApplyingWidgets=!1,e.data(t,"lastWidgetApplication",new Date)},0),f.debug&&(p=f.widgets.length,console.log("Completed "+(i===!0?"initializing ":"applying ")+p+" widget"+(1!==p?"s":"")+m.benchmark(c)))}},m.removeWidget=function(t,i,n){t=e(t)[0];var r,o,s,a,l=t.config;if(i===!0)for(i=[],a=m.widgets.length,s=0;a>s;s++)o=m.widgets[s],o&&o.id&&i.push(o.id);else i=(e.isArray(i)?i.join(","):i||"").toLowerCase().split(/[\s,]+/);for(a=i.length,r=0;a>r;r++)o=m.getWidgetById(i[r]),s=e.inArray(i[r],l.widgets),o&&"remove"in o&&(l.debug&&s>=0&&console.log('Removing "'+i[r]+'" widget'),l.debug&&console.log((n?"Refreshing":"Removing")+' "'+i[r]+'" widget'),o.remove(t,l,l.widgetOptions,n),l.widgetInit[i[r]]=!1),s>=0&&n!==!0&&l.widgets.splice(s,1)},m.refreshWidgets=function(t,i,n){t=e(t)[0];var r,o=t.config,s=o.widgets,a=m.widgets,l=a.length,d=[],c=function(t){e(t).trigger("refreshComplete")};for(r=0;l>r;r++)a[r]&&a[r].id&&(i||e.inArray(a[r].id,s)<0)&&d.push(a[r].id);m.removeWidget(t,d.join(","),!0),n!==!0?(m.applyWidget(t,i||!1,c),i&&m.applyWidget(t,!1,c)):c(t)},m.getColumnText=function(t,i,n){t=e(t)[0];var r,o,s,a,l,d,c,h,p,u,f="function"==typeof n,g="all"===i,v={raw:[],parsed:[],$cell:[]},y=t.config;if(!m.isEmptyObject(y)){for(l=y.$tbodies.length,r=0;l>r;r++)for(s=y.cache[r].normalized,d=s.length,o=0;d>o;o++)u=!0,a=s[o],h=g?a.slice(0,y.columns):a[i],a=a[y.columns],c=g?a.raw:a.raw[i],p=g?a.$row.children():a.$row.children().eq(i),f&&(u=n({tbodyIndex:r,rowIndex:o,parsed:h,raw:c,$row:a.$row,$cell:p})),u!==!1&&(v.parsed.push(h),v.raw.push(c),v.$cell.push(p));return v}y.debug&&console.warn("No cache found - aborting getColumnText function!");
},m.getData=function(t,i,n){var r,o,s="",a=e(t);return a.length?(r=e.metadata?a.metadata():!1,o=" "+(a.attr("class")||""),"undefined"!=typeof a.data(n)||"undefined"!=typeof a.data(n.toLowerCase())?s+=a.data(n)||a.data(n.toLowerCase()):r&&"undefined"!=typeof r[n]?s+=r[n]:i&&"undefined"!=typeof i[n]?s+=i[n]:" "!==o&&o.match(" "+n+"-")&&(s=o.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),e.trim(s)):""},m.regex.comma=/,/g,m.regex.digitNonUS=/[\s|\.]/g,m.regex.digitNegativeTest=/^\s*\([.\d]+\)/,m.regex.digitNegativeReplace=/^\s*\(([.\d]+)\)/,m.formatFloat=function(t,i){if("string"!=typeof t||""===t)return t;var n,r=i&&i.config?i.config.usNumberFormat!==!1:"undefined"!=typeof i?i:!0;return t=r?t.replace(m.regex.comma,""):t.replace(m.regex.digitNonUS,"").replace(m.regex.comma,"."),m.regex.digitNegativeTest.test(t)&&(t=t.replace(m.regex.digitNegativeReplace,"-$1")),n=parseFloat(t),isNaN(n)?e.trim(t):n},m.regex.digitTest=/^[\-+(]?\d+[)]?$/,m.regex.digitReplace=/[,.'"\s]/g,m.isDigit=function(e){return isNaN(e)?m.regex.digitTest.test(e.toString().replace(m.regex.digitReplace,"")):""!==e}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),window.console&&window.console.log||(t.logs=[],console={},console.log=console.warn=console.error=console.table=function(){t.logs.push([Date.now(),arguments])}),t.log=function(){console.log(arguments)},t.benchmark=function(e){return" ("+((new Date).getTime()-e.getTime())+"ms)"},t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(i,n){var r=n.config;return i&&(i=e.trim(r.ignoreCase?i.toLocaleLowerCase():i),i=r.sortLocaleCompare?t.replaceAccents(i):i),i},type:"text"}),t.regex.nondigit=/[^\w,. \-()]/g,t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(i,n){var r=t.formatFloat((i||"").replace(t.regex.nondigit,""),n);return i&&"number"==typeof r?r:i?e.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.regex.currencyReplace=/[+\-,. ]/g,t.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,t.addParser({id:"currency",is:function(e){return e=(e||"").replace(t.regex.currencyReplace,""),t.regex.currencyTest.test(e)},format:function(i,n){var r=t.formatFloat((i||"").replace(t.regex.nondigit,""),n);return i&&"number"==typeof r?r:i?e.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,t.regex.urlProtocolReplace=/(https?|ftp|file):\/\//,t.addParser({id:"url",is:function(e){return t.regex.urlProtocolTest.test(e)},format:function(i){return i?e.trim(i.replace(t.regex.urlProtocolReplace,"")):i},parsed:!0,type:"text"}),t.regex.dash=/-/g,t.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,t.addParser({id:"isoDate",is:function(e){return t.regex.isoDate.test(e)},format:function(e,i){var n=e?new Date(e.replace(t.regex.dash,"/")):e;return n instanceof Date&&isFinite(n)?n.getTime():e},type:"numeric"}),t.regex.percent=/%/g,t.regex.percentTest=/(\d\s*?%|%\s*?\d)/,t.addParser({id:"percent",is:function(e){return t.regex.percentTest.test(e)&&e.length<15},format:function(e,i){return e?t.formatFloat(e.replace(t.regex.percent,""),i):e},type:"numeric"}),t.addParser({id:"image",is:function(e,t,i,n){return n.find("img").length>0},format:function(t,i,n){return e(n).find("img").attr(i.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),t.regex.dateReplace=/(\S)([AP]M)$/i,t.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,t.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,t.addParser({id:"usLongDate",is:function(e){return t.regex.usLongDateTest1.test(e)||t.regex.usLongDateTest2.test(e)},format:function(e,i){var n=e?new Date(e.replace(t.regex.dateReplace,"$1 $2")):e;return n instanceof Date&&isFinite(n)?n.getTime():e},type:"numeric"}),t.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,t.regex.shortDateReplace=/[\-.,]/g,t.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,t.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,t.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),t.regex.shortDateTest.test(e)},format:function(e,i,n,r){if(e){var o,s,a=i.config,l=a.$headerIndexed[r],d=l.length&&l[0].dateFormat||t.getData(l,t.getColumnData(i,a.headers,r),"dateFormat")||a.dateFormat;return s=e.replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),"mmddyyyy"===d?s=s.replace(t.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===d?s=s.replace(t.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===d&&(s=s.replace(t.regex.shortDateYMD,"$1/$2/$3")),o=new Date(s),o instanceof Date&&isFinite(o)?o.getTime():e}return e},type:"numeric"}),t.regex.timeTest=/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i,t.addParser({id:"time",is:function(e){return t.regex.timeTest.test(e)},format:function(e,i){var n=e?new Date("2000/01/01 "+e.replace(t.regex.dateReplace,"$1 $2")):e;return n instanceof Date&&isFinite(n)?n.getTime():e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,i,n){var r=i.config,o=r.parserMetadataName?r.parserMetadataName:"sortValue";return e(n).metadata()[o]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(t,i,n){var r,o,s,a,l,d,c,h,p=new RegExp(i.cssChildRow,"i"),u=i.$tbodies.add(e(i.namespace+"_extra_table").children("tbody:not(."+i.cssInfoBlock+")"));for(i.debug&&(l=new Date),d=0;d<u.length;d++)for(s=0,r=u.eq(d).children("tr:visible").not(i.selectorRemove),h=r.length,c=0;h>c;c++)o=r.eq(c),p.test(o[0].className)||s++,a=s%2===0,o.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(e,i,n,r){if(!r){var o,s,a=i.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(o=0;o<a.length;o++)s=t.processTbody(e,a.eq(o),!0),s.children().removeClass(l),t.processTbody(e,s,!1)}}})}(jQuery),/*! tablesorter (FORK) - updated 10-04-2015 (v2.23.5)*/
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(e,t,i){"use strict";var n=e.tablesorter||{};n.storage=function(n,r,o,s){n=e(n)[0];var a,l,d,c=!1,h={},p=n.config,u=p&&p.widgetOptions,f=s&&s.useSessionStorage||u&&u.storage_useSessionStorage?"sessionStorage":"localStorage",g=e(n),m=s&&s.id||g.attr(s&&s.group||u&&u.storage_group||"data-table-group")||u&&u.storage_tableId||n.id||e(".tablesorter").index(g),v=s&&s.url||g.attr(s&&s.page||u&&u.storage_page||"data-table-page")||u&&u.storage_fixedUrl||p&&p.fixedUrl||t.location.pathname;if(f in t)try{t[f].setItem("_tmptest","temp"),c=!0,t[f].removeItem("_tmptest")}catch(y){p&&p.debug&&console.warn(f+" is not supported in this browser")}return e.parseJSON&&(c?h=e.parseJSON(t[f][r]||"null")||{}:(l=i.cookie.split(/[;\s|=]/),a=e.inArray(r,l)+1,h=0!==a?e.parseJSON(l[a]||"null")||{}:{})),(o||""===o)&&t.JSON&&JSON.hasOwnProperty("stringify")?(h[v]||(h[v]={}),h[v][m]=o,c?t[f][r]=JSON.stringify(h):(d=new Date,d.setTime(d.getTime()+31536e6),i.cookie=r+"="+JSON.stringify(h).replace(/\"/g,'"')+"; expires="+d.toGMTString()+"; path=/"),void 0):h&&h[v]?h[v][m]:""}}(jQuery,window,document),function(e){"use strict";var t=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{wrapper:"tablesorter-wrapper"}),t.addWidget({id:"uitheme",priority:10,format:function(i,n,r){var o,s,a,l,d,c,h,p,u,f,g,m,v=t.themes,y=n.$table.add(e(n.namespace+"_extra_table")),b=n.$headers.add(e(n.namespace+"_extra_headers")),w=n.theme||"jui",x=v[w]||{},C=e.trim([x.sortNone,x.sortDesc,x.sortAsc,x.active].join(" ")),k=e.trim([x.iconSortNone,x.iconSortDesc,x.iconSortAsc].join(" "));for(n.debug&&(l=new Date),y.hasClass("tablesorter-"+w)&&n.theme===n.appliedTheme&&r.uitheme_applied||(r.uitheme_applied=!0,u=v[n.appliedTheme]||{},m=!e.isEmptyObject(u),f=m?[u.sortNone,u.sortDesc,u.sortAsc,u.active].join(" "):"",g=m?[u.iconSortNone,u.iconSortDesc,u.iconSortAsc].join(" "):"",m&&(r.zebra[0]=e.trim(" "+r.zebra[0].replace(" "+u.even,"")),r.zebra[1]=e.trim(" "+r.zebra[1].replace(" "+u.odd,"")),n.$tbodies.children().removeClass([u.even,u.odd].join(" "))),x.even&&(r.zebra[0]+=" "+x.even),x.odd&&(r.zebra[1]+=" "+x.odd),y.children("caption").removeClass(u.caption||"").addClass(x.caption),h=y.removeClass((n.appliedTheme?"tablesorter-"+(n.appliedTheme||""):"")+" "+(u.table||"")).addClass("tablesorter-"+w+" "+(x.table||"")).children("tfoot"),n.appliedTheme=n.theme,h.length&&h.children("tr").removeClass(u.footerRow||"").addClass(x.footerRow).children("th, td").removeClass(u.footerCells||"").addClass(x.footerCells),b.removeClass((m?[u.header,u.hover,f].join(" "):"")||"").addClass(x.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](x.hover||"")}),b.each(function(){var i=e(this);i.find("."+t.css.wrapper).length||i.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),n.cssIcon&&b.find("."+t.css.icon).removeClass(m?[u.icons,g].join(" "):"").addClass(x.icons||""),y.hasClass("hasFilters")&&y.children("thead").children("."+t.css.filterRow).removeClass(m?u.filterRow||"":"").addClass(x.filterRow||"")),o=0;o<n.columns;o++)d=n.$headers.add(e(n.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+o+'"]'),c=t.css.icon?d.find("."+t.css.icon):e(),p=b.not(".sorter-false").filter('[data-column="'+o+'"]:last'),p.length&&(d.removeClass(C),c.removeClass(k),p[0].sortDisabled?c.removeClass(x.icons||""):(s=x.sortNone,a=x.iconSortNone,p.hasClass(t.css.sortAsc)?(s=[x.sortAsc,x.active].join(" "),a=x.iconSortAsc):p.hasClass(t.css.sortDesc)&&(s=[x.sortDesc,x.active].join(" "),a=x.iconSortDesc),d.addClass(s),c.addClass(a||"")));n.debug&&console.log("Applying "+w+" theme"+t.benchmark(l))},remove:function(e,i,n,r){if(n.uitheme_applied){var o=i.$table,s=i.appliedTheme||"jui",a=t.themes[s]||t.themes.jui,l=o.children("thead").children(),d=a.sortNone+" "+a.sortDesc+" "+a.sortAsc,c=a.iconSortNone+" "+a.iconSortDesc+" "+a.iconSortAsc;o.removeClass("tablesorter-"+s+" "+a.table),n.uitheme_applied=!1,r||(o.find(t.css.header).removeClass(a.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(a.hover+" "+d+" "+a.active).filter("."+t.css.filterRow).removeClass(a.filterRow),l.find("."+t.css.icon).removeClass(a.icons+" "+c))}}})}(jQuery),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,n,r){var o,s,a,l,d,c,h,p,u=n.$table,f=n.$tbodies,g=n.sortList,m=g.length,v=r&&r.columns||["primary","secondary","tertiary"],y=v.length-1;for(h=v.join(" "),s=0;s<f.length;s++)o=t.processTbody(i,f.eq(s),!0),a=o.children("tr"),a.each(function(){if(d=e(this),"none"!==this.style.display&&(c=d.children().removeClass(h),g&&g[0]&&(c.eq(g[0][0]).addClass(v[0]),m>1)))for(p=1;m>p;p++)c.eq(g[p][0]).addClass(v[p]||v[y])}),t.processTbody(i,o,!1);if(l=r.columns_thead!==!1?["thead tr"]:[],r.columns_tfoot!==!1&&l.push("tfoot tr"),l.length&&(a=u.find(l.join(",")).children().removeClass(h),m))for(p=0;m>p;p++)a.filter('[data-column="'+g[p][0]+'"]').addClass(v[p]||v[y])},remove:function(i,n,r){var o,s,a=n.$tbodies,l=(r.columns||["primary","secondary","tertiary"]).join(" ");for(n.$headers.removeClass(l),n.$table.children("tfoot").children("tr").children("th, td").removeClass(l),o=0;o<a.length;o++)s=t.processTbody(i,a.eq(o),!0),s.children("tr").each(function(){e(this).children().removeClass(l)}),t.processTbody(i,s,!1)}})}(jQuery),function(e){"use strict";var t,i=e.tablesorter||{},n=i.css;e.extend(n,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),i.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,i,n){i.$table.hasClass("hasFilters")||t.init(e,i,n)},remove:function(t,r,o,s){var a,l,d=r.$table,c=r.$tbodies,h="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter ");if(d.removeClass("hasFilters").unbind(h.replace(i.regex.spaces," ")).find("."+n.filterRow).remove(),!s){for(a=0;a<c.length;a++)l=i.processTbody(t,c.eq(a),!0),l.children().removeClass(o.filter_filteredRow).show(),i.processTbody(t,l,!1);o.filter_reset&&e(document).undelegate(o.filter_reset,"click"+r.namespace+"filter")}}}),t=i.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(i,n,r){if(t.regex.orTest.test(n.iFilter)||t.regex.orSplit.test(n.filter)){var o,s,a,l,d=e.extend({},n),c=n.index,h=n.parsed[c],p=n.filter.split(t.regex.orSplit),u=n.iFilter.split(t.regex.orSplit),f=p.length;for(o=0;f>o;o++){d.nestedFilters=!0,d.filter=""+(t.parseFilter(i,p[o],c,h)||""),d.iFilter=""+(t.parseFilter(i,u[o],c,h)||""),a="("+(t.parseFilter(i,d.filter,c,h)||"")+")";try{if(l=new RegExp(n.isMatch?a:"^"+a+"$",i.widgetOptions.filter_ignoreCase?"i":""),s=l.test(d.exact)||t.processTypes(i,d,r))return s}catch(g){return null}}return s||!1}return null},and:function(i,n,r){if(t.regex.andTest.test(n.filter)){var o,s,a,l,d,c=e.extend({},n),h=n.index,p=n.parsed[h],u=n.filter.split(t.regex.andSplit),f=n.iFilter.split(t.regex.andSplit),g=u.length;for(o=0;g>o;o++){c.nestedFilters=!0,c.filter=""+(t.parseFilter(i,u[o],h,p)||""),c.iFilter=""+(t.parseFilter(i,f[o],h,p)||""),l=("("+(t.parseFilter(i,c.filter,h,p)||"")+")").replace(t.regex.wild01,"\\S{1}").replace(t.regex.wild0More,"\\S*");try{d=new RegExp(n.isMatch?l:"^"+l+"$",i.widgetOptions.filter_ignoreCase?"i":""),a=d.test(c.exact)||t.processTypes(i,c,r),s=0===o?a:s&&a}catch(m){return null}}return s||!1}return null},regex:function(e,i){if(t.regex.regex.test(i.filter)){var n,r=i.filter_regexCache[i.index]||t.regex.regex.exec(i.filter),o=r instanceof RegExp;try{o||(i.filter_regexCache[i.index]=r=new RegExp(r[1],r[2])),n=r.test(i.exact)}catch(s){n=!1}return n}return null},operators:function(n,r){if(t.regex.operTest.test(r.iFilter)&&""!==r.iExact){var o,s,a,l=n.table,d=r.index,c=r.parsed[d],h=i.formatFloat(r.iFilter.replace(t.regex.operators,""),l),p=n.parsers[d],u=h;return(c||"numeric"===p.type)&&(a=e.trim(""+r.iFilter.replace(t.regex.operators,"")),s=t.parseFilter(n,a,d,!0),h="number"!=typeof s||""===s||isNaN(s)?h:s),!c&&"numeric"!==p.type||isNaN(h)||"undefined"==typeof r.cache?(a=isNaN(r.iExact)?r.iExact.replace(i.regex.nondigit,""):r.iExact,o=i.formatFloat(a,l)):o=r.cache,t.regex.gtTest.test(r.iFilter)?s=t.regex.gteTest.test(r.iFilter)?o>=h:o>h:t.regex.ltTest.test(r.iFilter)&&(s=t.regex.lteTest.test(r.iFilter)?h>=o:h>o),s||""!==u||(s=!0),s}return null},notMatch:function(i,n){if(t.regex.notTest.test(n.iFilter)){var r,o=n.iFilter.replace("!",""),s=t.parseFilter(i,o,n.index,n.parsed[n.index])||"";return t.regex.exact.test(s)?(s=s.replace(t.regex.exact,""),""===s?!0:e.trim(s)!==n.iExact):(r=n.iExact.search(e.trim(s)),""===s?!0:!(i.widgetOptions.filter_startsWith?0===r:r>=0))}return null},exact:function(i,n){if(t.regex.exact.test(n.iFilter)){var r=n.iFilter.replace(t.regex.exact,""),o=t.parseFilter(i,r,n.index,n.parsed[n.index])||"";return n.anyMatch?e.inArray(o,n.rowArray)>=0:o==n.iExact}return null},range:function(e,n){if(t.regex.toTest.test(n.iFilter)){var r,o,s,a,l=e.table,d=n.index,c=n.parsed[d],h=n.iFilter.split(t.regex.toSplit);return o=h[0].replace(i.regex.nondigit,"")||"",s=i.formatFloat(t.parseFilter(e,o,d,c),l),o=h[1].replace(i.regex.nondigit,"")||"",a=i.formatFloat(t.parseFilter(e,o,d,c),l),(c||"numeric"===e.parsers[d].type)&&(r=e.parsers[d].format(""+h[0],l,e.$headers.eq(d),d),s=""===r||isNaN(r)?s:r,r=e.parsers[d].format(""+h[1],l,e.$headers.eq(d),d),a=""===r||isNaN(r)?a:r),!c&&"numeric"!==e.parsers[d].type||isNaN(s)||isNaN(a)?(o=isNaN(n.iExact)?n.iExact.replace(i.regex.nondigit,""):n.iExact,r=i.formatFloat(o,l)):r=n.cache,s>a&&(o=s,s=a,a=o),r>=s&&a>=r||""===s||""===a}return null},wild:function(e,i){if(t.regex.wildOrTest.test(i.iFilter)){var n=i.index,r=i.parsed[n],o=""+(t.parseFilter(e,i.iFilter,n,r)||"");!t.regex.wildTest.test(o)&&i.nestedFilters&&(o=i.isMatch?o:"^("+o+")$");try{return new RegExp(o.replace(t.regex.wild01,"\\S{1}").replace(t.regex.wild0More,"\\S*"),e.widgetOptions.filter_ignoreCase?"i":"").test(i.exact)}catch(s){return null}}return null},fuzzy:function(e,i){if(t.regex.fuzzyTest.test(i.iFilter)){var n,r=0,o=i.iExact.length,s=i.iFilter.slice(1),a=t.parseFilter(e,s,i.index,i.parsed[i.index])||"";for(n=0;o>n;n++)i.iExact[n]===a[r]&&(r+=1);return r===a.length?!0:!1}return null}},init:function(r,o,s){i.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},i.language);var a,l,d,c,h,p,u,f,g,m=t.regex;if(o.$table.addClass("hasFilters"),s.filter_searchTimer=null,s.filter_initTimer=null,s.filter_formatterCount=0,s.filter_formatterInit=[],s.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',s.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',u="\\{"+t.regex.query+"\\}",e.extend(m,{child:new RegExp(o.cssChildRow),filtered:new RegExp(s.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+i.language.or+"|-|"+i.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+i.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+i.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+i.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+i.language.and+"|&&)\\s+)","gi"),orTest:/\|/,orSplit:new RegExp("(?:\\s+(?:"+i.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(u,"i"),igQuery:new RegExp(u,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),u=o.$headers.filter(".filter-false, .parser-false").length,s.filter_columnFilters!==!1&&u!==o.$headers.length&&t.buildRow(r,o,s),d="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(o.namespace+"filter "),o.$table.bind(d,function(i,a){return u=s.filter_hideEmpty&&e.isEmptyObject(o.cache)&&!(o.delayInit&&"appendCache"===i.type),o.$table.find("."+n.filterRow).toggleClass(s.filter_filteredRow,u),/(search|filter)/.test(i.type)||(i.stopPropagation(),t.buildDefault(r,!0)),"filterReset"===i.type?(o.$table.find("."+n.filter).add(s.filter_$externalFilters).val(""),t.searching(r,[])):"filterEnd"===i.type?t.buildDefault(r,!0):(a="search"===i.type?a:"updateComplete"===i.type?o.$table.data("lastSearch"):"",/(update|add)/.test(i.type)&&"updateComplete"!==i.type&&(o.lastCombinedFilter=null,o.lastSearch=[]),t.searching(r,a,!0)),!1}),s.filter_reset&&(s.filter_reset instanceof e?s.filter_reset.click(function(){o.$table.trigger("filterReset")}):e(s.filter_reset).length&&e(document).undelegate(s.filter_reset,"click"+o.namespace+"filter").delegate(s.filter_reset,"click"+o.namespace+"filter",function(){o.$table.trigger("filterReset")})),s.filter_functions)for(h=0;h<o.columns;h++)if(f=i.getColumnData(r,s.filter_functions,h))if(c=o.$headerIndexed[h].removeClass("filter-select"),g=!(c.hasClass("filter-false")||c.hasClass("parser-false")),a="",f===!0&&g)t.buildSelect(r,h);else if("object"==typeof f&&g){for(l in f)"string"==typeof l&&(a+=""===a?'<option value="">'+(c.data("placeholder")||c.attr("data-placeholder")||s.filter_placeholder.select||"")+"</option>":"",u=l,d=l,l.indexOf(s.filter_selectSourceSeparator)>=0&&(u=l.split(s.filter_selectSourceSeparator),d=u[1],u=u[0]),a+="<option "+(d===u?"":'data-function-name="'+l+'" ')+'value="'+u+'">'+d+"</option>");o.$table.find("thead").find("select."+n.filter+'[data-column="'+h+'"]').append(a),d=s.filter_selectSource,f="function"==typeof d?!0:i.getColumnData(r,d,h),f&&t.buildSelect(o.table,h,"",!0,c.hasClass(s.filter_onlyAvail))}t.buildDefault(r,!0),t.bindSearch(r,o.$table.find("."+n.filter),!0),s.filter_external&&t.bindSearch(r,s.filter_external),s.filter_hideFilters&&t.hideFilters(o),o.showProcessing&&(d="filterStart filterEnd ".split(" ").join(o.namespace+"filter "),o.$table.unbind(d.replace(i.regex.spaces," ")).bind(d,function(t,s){c=s?o.$table.find("."+n.header).filter("[data-column]").filter(function(){return""!==s[e(this).data("column")]}):"",i.isProcessing(r,"filterStart"===t.type,s?c:"")})),o.filteredRows=o.totalRows,d="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(o.namespace+"filter "),o.$table.unbind(d.replace(i.regex.spaces," ")).bind(d,function(){var e=this.config.widgetOptions;p=t.setDefaults(r,o,e)||[],p.length&&(o.delayInit&&""===p.join("")||i.setFilters(r,p,!0)),o.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter_initialized||t.filterInitComplete(o)},100)}),o.pager&&o.pager.initialized&&!s.filter_initialized&&(o.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filterInitComplete(o)},100))},formatterUpdated:function(e,t){var i=e.closest("table")[0].config.widgetOptions;i.filter_initialized||(i.filter_formatterInit[t]=1)},filterInitComplete:function(i){var n,r,o=i.widgetOptions,s=0,a=function(){o.filter_initialized=!0,i.$table.trigger("filterInit",i),t.findRows(i.table,i.$table.data("lastSearch")||[])};if(e.isEmptyObject(o.filter_formatter))a();else{for(r=o.filter_formatterInit.length,n=0;r>n;n++)1===o.filter_formatterInit[n]&&s++;clearTimeout(o.filter_initTimer),o.filter_initialized||s!==o.filter_formatterCount?o.filter_initialized||(o.filter_initTimer=setTimeout(function(){a()},500)):a()}},setDefaults:function(t,n,r){var o,s,a,l,d,c=i.getFilters(t)||[];if(r.filter_saveFilters&&i.storage&&(s=i.storage(t,"tablesorter-filters")||[],o=e.isArray(s),o&&""===s.join("")||!o||(c=s)),""===c.join(""))for(d=n.$headers.add(r.filter_$externalFilters).filter("["+r.filter_defaultAttrib+"]"),a=0;a<=n.columns;a++)l=a===n.columns?"all":a,c[a]=d.filter('[data-column="'+l+'"]').attr(r.filter_defaultAttrib)||c[a]||"";return n.$table.data("lastSearch",c),c},parseFilter:function(e,t,i,n){return n?e.parsers[i].format(t,e.table,[],i):t},buildRow:function(t,r,o){var s,a,l,d,c,h,p,u,f=o.filter_cellFilter,g=r.columns,m=e.isArray(f),v='<tr role="row" class="'+n.filterRow+" "+r.cssIgnoreRow+'">';for(a=0;g>a;a++)v+="<td",v+=m?f[a]?' class="'+f[a]+'"':"":""!==f?' class="'+f+'"':"",v+="></td>";for(r.$filters=e(v+="</tr>").appendTo(r.$table.children("thead").eq(0)).find("td"),a=0;g>a;a++)c=!1,l=r.$headerIndexed[a],p=i.getColumnData(t,o.filter_functions,a),d=o.filter_functions&&p&&"function"!=typeof p||l.hasClass("filter-select"),s=i.getColumnData(t,r.headers,a),c="false"===i.getData(l[0],s,"filter")||"false"===i.getData(l[0],s,"parser"),d?v=e("<select>").appendTo(r.$filters.eq(a)):(p=i.getColumnData(t,o.filter_formatter,a),p?(o.filter_formatterCount++,v=p(r.$filters.eq(a),a),v&&0===v.length&&(v=r.$filters.eq(a).children("input")),v&&(0===v.parent().length||v.parent().length&&v.parent()[0]!==r.$filters[a])&&r.$filters.eq(a).append(v)):v=e('<input type="search">').appendTo(r.$filters.eq(a)),v&&(u=l.data("placeholder")||l.attr("data-placeholder")||o.filter_placeholder.search||"",v.attr("placeholder",u))),v&&(h=(e.isArray(o.filter_cssFilter)?"undefined"!=typeof o.filter_cssFilter[a]?o.filter_cssFilter[a]||"":"":o.filter_cssFilter)||"",v.addClass(n.filter+" "+h).attr("data-column",a),c&&(v.attr("placeholder","").addClass(n.filterDisabled)[0].disabled=!0))},bindSearch:function(n,r,o){if(n=e(n)[0],r=e(r),r.length){var s,a=n.config,l=a.widgetOptions,d=a.namespace+"filter",c=l.filter_$externalFilters;o!==!0&&(s=l.filter_anyColumnSelector+","+l.filter_multipleColumnSelector,l.filter_$anyMatch=r.filter(s),c&&c.length?l.filter_$externalFilters=l.filter_$externalFilters.add(r):l.filter_$externalFilters=r,i.setFilters(n,a.$table.data("lastSearch")||[],o===!1)),s="keypress keyup search change ".split(" ").join(d+" "),r.attr("data-lastSearchTime",(new Date).getTime()).unbind(s.replace(i.regex.spaces," ")).bind("keyup"+d,function(i){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===i.which)this.value="";else{if(l.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof l.filter_liveSearch&&this.value.length<l.filter_liveSearch||13!==i.which&&8!==i.which&&(i.which<32||i.which>=37&&i.which<=40)))return}t.searching(n,!0,!0)}).bind("search change keypress ".split(" ").join(d+" "),function(i){var r=parseInt(e(this).attr("data-column"),10);l.filter_initialized&&(13===i.which||"search"===i.type||"change"===i.type&&this.value!==a.lastSearch[r])&&(i.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.searching(n,!1,!0))})}},searching:function(e,i,n){var r=e.config.widgetOptions;clearTimeout(r.filter_searchTimer),"undefined"==typeof i||i===!0?r.filter_searchTimer=setTimeout(function(){t.checkFilters(e,i,n)},r.filter_liveSearch?r.filter_searchDelay:10):t.checkFilters(e,i,n)},checkFilters:function(r,o,s){var a=r.config,l=a.widgetOptions,d=e.isArray(o),c=d?o:i.getFilters(r,!0),h=(c||[]).join("");return e.isEmptyObject(a.cache)?void(a.delayInit&&a.pager&&a.pager.initialized&&a.$table.trigger("updateCache",[function(){t.checkFilters(r,!1,s)}])):(d&&(i.setFilters(r,c,!1,s!==!0),l.filter_initialized||(a.lastCombinedFilter="")),l.filter_hideFilters&&a.$table.find("."+n.filterRow).trigger(""===h?"mouseleave":"mouseenter"),a.lastCombinedFilter!==h||o===!1?(o===!1&&(a.lastCombinedFilter=null,a.lastSearch=[]),l.filter_initialized&&a.$table.trigger("filterStart",[c]),a.showProcessing?void setTimeout(function(){return t.findRows(r,c,h),!1},30):(t.findRows(r,c,h),!1)):void 0)},hideFilters:function(t){var r;t.$table.find("."+n.filterRow).bind("mouseenter mouseleave",function(i){var o=i,s=e(this);clearTimeout(r),r=setTimeout(function(){/enter|over/.test(o.type)?s.removeClass(n.filterRowHide):e(document.activeElement).closest("tr")[0]!==s[0]&&""===t.lastCombinedFilter&&s.addClass(n.filterRowHide)},200)}).find("input, select").bind("focus blur",function(o){var s=o,a=e(this).closest("tr");clearTimeout(r),r=setTimeout(function(){clearTimeout(r),""===i.getFilters(t.$table).join("")&&a.toggleClass(n.filterRowHide,"focus"!==s.type)},200)})},defaultFilter:function(i,n){if(""===i)return i;var r=t.regex.iQuery,o=n.match(t.regex.igQuery).length,s=o>1?e.trim(i).split(/\s/):[e.trim(i)],a=s.length-1,l=0,d=n;for(1>a&&o>1&&(s[1]=s[0]);r.test(d);)d=d.replace(r,s[l++]||""),r.test(d)&&a>l&&""!==(s[l]||"")&&(d=n.replace(r,d));return d},getLatestSearch:function(t){return t?t.sort(function(t,i){return e(i).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}):t||e()},multipleColumns:function(i,n){var r,o,s,a,l,d,c,h,p,u=i.widgetOptions,f=u.filter_initialized||!n.filter(u.filter_anyColumnSelector).length,g=[],m=e.trim(t.getLatestSearch(n).attr("data-column")||"");if(/^[0-9]+$/.test(m))return parseInt(m,10);if(f&&/-/.test(m))for(o=m.match(/(\d+)\s*-\s*(\d+)/g),p=o.length,h=0;p>h;h++){for(s=o[h].split(/\s*-\s*/),a=parseInt(s[0],10)||0,l=parseInt(s[1],10)||i.columns-1,a>l&&(r=a,a=l,l=r),l>=i.columns&&(l=i.columns-1);l>=a;a++)g.push(a);m=m.replace(o[h],"")}if(f&&/,/.test(m))for(d=m.split(/\s*,\s*/),p=d.length,c=0;p>c;c++)""!==d[c]&&(h=parseInt(d[c],10),h<i.columns&&g.push(h));if(!g.length)for(h=0;h<i.columns;h++)g.push(h);return g},processTypes:function(i,n,r){var o,s=null,a=null;for(o in t.types)e.inArray(o,r.excludeMatch)<0&&null===a&&(a=t.types[o](i,n,r),null!==a&&(s=a));return s},processRow:function(n,r,o){var s,a,l,d,c,h,p,u=t.regex,f=n.widgetOptions,g=!0,m=f.filter_$anyMatch&&f.filter_$anyMatch.length?t.multipleColumns(n,f.filter_$anyMatch):[];if(r.$cells=r.$row.children(),r.anyMatchFlag&&m.length>1){if(r.anyMatch=!0,r.isMatch=!0,r.rowArray=r.$cells.map(function(t){return e.inArray(t,m)>-1?(r.parsed[t]?p=r.cacheArray[t]:(p=r.rawArray[t],p=e.trim(f.filter_ignoreCase?p.toLowerCase():p),n.sortLocaleCompare&&(p=i.replaceAccents(p))),p):void 0}).get(),r.filter=r.anyMatchFilter,r.iFilter=r.iAnyMatchFilter,r.exact=r.rowArray.join(" "),r.iExact=f.filter_ignoreCase?r.exact.toLowerCase():r.exact,r.cache=r.cacheArray.slice(0,-1).join(" "),o.excludeMatch=o.noAnyMatch,d=t.processTypes(n,r,o),null!==d)g=d;else if(f.filter_startsWith)for(g=!1,m=Math.min(n.columns,r.rowArray.length);!g&&m>0;)m--,g=g||0===r.rowArray[m].indexOf(r.iFilter);else g=(r.iExact+r.childRowText).indexOf(r.iFilter)>=0;if(r.anyMatch=!1,r.filters.join("")===r.filter)return g}for(m=0;m<n.columns;m++)r.filter=r.filters[m],r.index=m,o.excludeMatch=o.excludeFilter[m],r.filter&&(r.cache=r.cacheArray[m],f.filter_useParsedData||r.parsed[m]?r.exact=r.cache:(a=r.rawArray[m]||"",r.exact=n.sortLocaleCompare?i.replaceAccents(a):a),r.iExact=!u.type.test(typeof r.exact)&&f.filter_ignoreCase?r.exact.toLowerCase():r.exact,r.isMatch=n.$headerIndexed[r.index].hasClass("filter-match"),a=g,h=f.filter_columnFilters?n.$filters.add(n.$externalFilters).filter('[data-column="'+m+'"]').find("select option:selected").attr("data-function-name")||"":"",n.sortLocaleCompare&&(r.filter=i.replaceAccents(r.filter)),l=!0,f.filter_defaultFilter&&u.iQuery.test(o.defaultColFilter[m])&&(r.filter=t.defaultFilter(r.filter,o.defaultColFilter[m]),l=!1),r.iFilter=f.filter_ignoreCase?(r.filter||"").toLowerCase():r.filter,c=o.functions[m],s=n.$headerIndexed[m].hasClass("filter-select"),d=null,(c||s&&l)&&(c===!0||s?d=r.isMatch?(""+r.iExact).search(r.iFilter)>=0:r.filter===r.exact:"function"==typeof c?d=c(r.exact,r.cache,r.filter,m,r.$row,n,r):"function"==typeof c[h||r.filter]&&(p=h||r.filter,d=c[p](r.exact,r.cache,r.filter,m,r.$row,n,r))),null===d?(d=t.processTypes(n,r,o),null!==d?a=d:(p=(r.iExact+r.childRowText).indexOf(t.parseFilter(n,r.iFilter,m,r.parsed[m])),a=!f.filter_startsWith&&p>=0||f.filter_startsWith&&0===p)):a=d,g=a?g:!1);return g},findRows:function(n,r,o){if(n.config.lastCombinedFilter!==o&&n.config.widgetOptions.filter_initialized){var s,a,l,d,c,h,p,u,f,g,m,v,y,b,w,x,C,k,$,_,S,T,E,I,D=e.extend([],r),A=t.regex,L=n.config,N=L.widgetOptions,O={anyMatch:!1,filters:r,filter_regexCache:[]},M={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:i.getColumnData(n,N.filter_defaultFilter,L.columns,!0)||""};for(O.parsed=L.$headers.map(function(t){return L.parsers&&L.parsers[t]&&L.parsers[t].parsed||i.getData&&"parsed"===i.getData(L.$headerIndexed[t],i.getColumnData(n,L.headers,t),"filter")||e(this).hasClass("filter-parsed")}).get(),f=0;f<L.columns;f++)M.functions[f]=i.getColumnData(n,N.filter_functions,f),M.defaultColFilter[f]=i.getColumnData(n,N.filter_defaultFilter,f)||"",M.excludeFilter[f]=(i.getColumnData(n,N.filter_excludeFilter,f,!0)||"").split(/\s+/);for(L.debug&&(console.log("Filter: Starting filter widget search",r),w=new Date),L.filteredRows=0,L.totalRows=0,o=(D||[]).join(""),p=0;p<L.$tbodies.length;p++){if(u=i.processTbody(n,L.$tbodies.eq(p),!0),f=L.columns,a=L.cache[p].normalized,d=e(e.map(a,function(e){return e[f].$row.get()})),""===o||N.filter_serversideFiltering)d.removeClass(N.filter_filteredRow).not("."+L.cssChildRow).css("display","");else{if(d=d.not("."+L.cssChildRow),s=d.length,(N.filter_$anyMatch&&N.filter_$anyMatch.length||"undefined"!=typeof r[L.columns])&&(O.anyMatchFlag=!0,O.anyMatchFilter=""+(r[L.columns]||N.filter_$anyMatch&&t.getLatestSearch(N.filter_$anyMatch).val()||""),N.filter_columnAnyMatch)){for(_=O.anyMatchFilter.split(A.andSplit),S=!1,C=0;C<_.length;C++)T=_[C].split(":"),T.length>1&&(E=parseInt(T[0],10)-1,E>=0&&E<L.columns&&(r[E]=T[1],_.splice(C,1),C--,S=!0));S&&(O.anyMatchFilter=_.join(" && "))}if($=N.filter_searchFiltered,v=L.lastSearch||L.$table.data("lastSearch")||[],$)for(C=0;f+1>C;C++)x=r[C]||"",$||(C=f),$=$&&v.length&&0===x.indexOf(v[C]||"")&&!A.alreadyFiltered.test(x)&&!A.exactTest.test(x)&&!(A.isNeg1.test(x)||A.isNeg2.test(x))&&!(""!==x&&L.$filters&&L.$filters.eq(C).find("select").length&&!L.$headerIndexed[C].hasClass("filter-match"));for(k=d.not("."+N.filter_filteredRow).length,$&&0===k&&($=!1),L.debug&&console.log("Filter: Searching through "+($&&s>k?k:"all")+" rows"),O.anyMatchFlag&&(L.sortLocaleCompare&&(O.anyMatchFilter=i.replaceAccents(O.anyMatchFilter)),N.filter_defaultFilter&&A.iQuery.test(M.defaultAnyFilter)&&(O.anyMatchFilter=t.defaultFilter(O.anyMatchFilter,M.defaultAnyFilter),$=!1),O.iAnyMatchFilter=N.filter_ignoreCase&&L.ignoreCase?O.anyMatchFilter.toLowerCase():O.anyMatchFilter),h=0;s>h;h++)if(I=d[h].className,g=h&&A.child.test(I),!(g||$&&A.filtered.test(I))){if(O.$row=d.eq(h),O.cacheArray=a[h],l=O.cacheArray[L.columns],O.rawArray=l.raw,O.childRowText="",!N.filter_childByColumn){for(I="",m=l.child,C=0;C<m.length;C++)I+=" "+m[C].join(" ")||"";O.childRowText=N.filter_childRows?N.filter_ignoreCase?I.toLowerCase():I:""}if(y=!1,b=t.processRow(L,O,M),c=l.$row,x=b?!0:!1,m=l.$row.filter(":gt( 0 )"),N.filter_childRows&&m.length){if(N.filter_childByColumn)for(N.filter_childWithSibs||(m.addClass(N.filter_filteredRow),c=c.eq(0)),C=0;C<m.length;C++)O.$row=m.eq(C),O.cacheArray=l.child[C],O.rawArray=O.cacheArray,x=t.processRow(L,O,M),y=y||x,!N.filter_childWithSibs&&x&&m.eq(C).removeClass(N.filter_filteredRow);y=y||b}else y=x;c.toggleClass(N.filter_filteredRow,!y)[0].display=y?"":"none"}}L.filteredRows+=d.not("."+N.filter_filteredRow).length,L.totalRows+=d.length,i.processTbody(n,u,!1)}L.lastCombinedFilter=o,L.lastSearch=D,L.$table.data("lastSearch",D),N.filter_saveFilters&&i.storage&&i.storage(n,"tablesorter-filters",D),L.debug&&console.log("Completed filter widget search"+i.benchmark(w)),N.filter_initialized&&L.$table.trigger("filterEnd",L),setTimeout(function(){L.$table.trigger("applyWidgets")},0)}},getOptionSource:function(n,r,o){n=e(n)[0];var s=n.config,a=s.widgetOptions,l=!1,d=a.filter_selectSource,c=s.$table.data("lastSearch")||[],h="function"==typeof d?!0:i.getColumnData(n,d,r);if(o&&""!==c[r]&&(o=!1),h===!0)l=d(n,r,o);else{if(h instanceof e||"string"===e.type(h)&&h.indexOf("</option>")>=0)return h;e.isArray(h)?l=h:"object"===e.type(d)&&h&&(l=h(n,r,o))}return l===!1&&(l=t.getOptions(n,r,o)),t.processOptions(n,r,l)},processOptions:function(t,n,r){if(!e.isArray(r))return!1;t=e(t)[0];var o,s,a,l,d=t.config,c="undefined"!=typeof n&&null!==n&&n>=0&&n<d.columns,h=[];if(r=e.grep(r,function(t,i){return e.inArray(t,r)===i}),c&&d.$headerIndexed[n].hasClass("filter-select-nosort"))return r;for(l=r.length,a=0;l>a;a++)s=r[a],h.push({t:s,p:c&&d.parsers&&d.parsers.length&&d.parsers[n].format(s,t,[],n)||s});for(o=d.textSorter||"",h.sort(function(e,r){var s=e.p.toString(),a=r.p.toString();return c&&"function"==typeof o?o(s,a,!0,n,t):c&&"object"==typeof o&&o.hasOwnProperty(n)?o[n](s,a,!0,n,t):i.sortNatural?i.sortNatural(s,a):!0}),r=[],l=h.length,a=0;l>a;a++)r.push(h[a].t);return r},getOptions:function(t,n,r){t=e(t)[0];var o,s,a,l,d,c,h,p,u=t.config,f=u.widgetOptions,g=[];for(s=0;s<u.$tbodies.length;s++)for(d=u.cache[s],a=u.cache[s].normalized.length,o=0;a>o;o++)if(l=d.row?d.row[o]:d.normalized[o][u.columns].$row[0],!r||!l.className.match(f.filter_filteredRow))if(f.filter_useParsedData||u.parsers[n].parsed||u.$headerIndexed[n].hasClass("filter-parsed")){if(g.push(""+d.normalized[o][n]),f.filter_childRows&&f.filter_childByColumn)for(p=d.normalized[o][u.columns].$row.length-1,c=0;p>c;c++)g.push(""+d.normalized[o][u.columns].child[c][n])}else if(g.push(d.normalized[o][u.columns].raw[n]),f.filter_childRows&&f.filter_childByColumn)for(p=d.normalized[o][u.columns].$row.length,c=1;p>c;c++)h=d.normalized[o][u.columns].$row.eq(c).children().eq(n),g.push(""+i.getElementText(u,h,n));return g},buildSelect:function(i,r,o,s,a){if(i=e(i)[0],r=parseInt(r,10),i.config.cache&&!e.isEmptyObject(i.config.cache)){var l,d,c,h,p,u,f=i.config,g=f.widgetOptions,m=f.$headerIndexed[r],v='<option value="">'+(m.data("placeholder")||m.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>",y=f.$table.find("thead").find("select."+n.filter+'[data-column="'+r+'"]').val();if(("undefined"==typeof o||""===o)&&(o=t.getOptionSource(i,r,a)),e.isArray(o)){for(l=0;l<o.length;l++)c=o[l]=(""+o[l]).replace(t.regex.quote,"&quot;"),d=c,c.indexOf(g.filter_selectSourceSeparator)>=0&&(h=c.split(g.filter_selectSourceSeparator),d=h[0],c=h[1]),v+=""!==o[l]?"<option "+(d===c?"":'data-function-name="'+o[l]+'" ')+'value="'+d+'">'+c+"</option>":"";o=[]}p=(f.$filters?f.$filters:f.$table.children("thead")).find("."+n.filter),g.filter_$externalFilters&&(p=p&&p.length?p.add(g.filter_$externalFilters):g.filter_$externalFilters),u=p.filter('select[data-column="'+r+'"]'),u.length&&(u[s?"html":"append"](v),e.isArray(o)||u.append(o).val(y),u.val(y))}},buildDefault:function(e,n){var r,o,s,a=e.config,l=a.widgetOptions,d=a.columns;for(r=0;d>r;r++)o=a.$headerIndexed[r],s=!(o.hasClass("filter-false")||o.hasClass("parser-false")),(o.hasClass("filter-select")||i.getColumnData(e,l.filter_functions,r)===!0)&&s&&t.buildSelect(e,r,"",n,o.hasClass(l.filter_onlyAvail))}},i.getFilters=function(i,r,o,s){var a,l,d,c,h=!1,p=i?e(i)[0].config:"",u=p?p.widgetOptions:"";if(r!==!0&&u&&!u.filter_columnFilters||e.isArray(o)&&o.join("")===p.lastCombinedFilter)return e(i).data("lastSearch");if(p&&(p.$filters&&(l=p.$filters.find("."+n.filter)),u.filter_$externalFilters&&(l=l&&l.length?l.add(u.filter_$externalFilters):u.filter_$externalFilters),
l&&l.length))for(h=o||[],a=0;a<p.columns+1;a++)c=a===p.columns?u.filter_anyColumnSelector+","+u.filter_multipleColumnSelector:'[data-column="'+a+'"]',d=l.filter(c),d.length&&(d=t.getLatestSearch(d),e.isArray(o)?(s&&d.length>1&&(d=d.slice(1)),a===p.columns&&(c=d.filter(u.filter_anyColumnSelector),d=c.length?c:d),d.val(o[a]).trigger("change"+p.namespace)):(h[a]=d.val()||"",a===p.columns?d.slice(1).filter('[data-column*="'+d.attr("data-column")+'"]').val(h[a]):d.slice(1).val(h[a])),a===p.columns&&d.length&&(u.filter_$anyMatch=d));return 0===h.length&&(h=!1),h},i.setFilters=function(n,r,o,s){var a=n?e(n)[0].config:"",l=i.getFilters(n,!0,r,s);return a&&o&&(a.lastCombinedFilter=null,a.lastSearch=[],t.searching(a.table,r,s),a.$table.trigger("filterFomatterUpdate")),!!l}}(jQuery),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),i.addHeaderResizeEvent=function(t,i,n){if(t=e(t)[0],t.config){var r={timer:250},o=e.extend({},r,n),s=t.config,a=s.widgetOptions,l=function(e){var t,i,n,r,o,l,d=s.$headers.length;for(a.resize_flag=!0,i=[],t=0;d>t;t++)n=s.$headers.eq(t),r=n.data("savedSizes")||[0,0],o=n[0].offsetWidth,l=n[0].offsetHeight,(o!==r[0]||l!==r[1])&&(n.data("savedSizes",[o,l]),i.push(n[0]));i.length&&e!==!1&&s.$table.trigger("resize",[i]),a.resize_flag=!1};return l(!1),clearInterval(a.resize_timer),i?(a.resize_flag=!1,!1):void(a.resize_timer=setInterval(function(){a.resize_flag||l()},o.timer))}},i.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,r,o){if(!(r.$table.hasClass("hasStickyHeaders")||e.inArray("filter",r.widgets)>=0&&!r.$table.hasClass("hasFilters"))){var s,a,l,d,c=r.$table,h=e(o.stickyHeaders_attachTo),p=r.namespace+"stickyheaders ",u=e(o.stickyHeaders_yScroll||o.stickyHeaders_attachTo||t),f=e(o.stickyHeaders_xScroll||o.stickyHeaders_attachTo||t),g=c.children("thead:first"),m=g.children("tr").not(".sticky-false").children(),v=c.children("tfoot"),y=isNaN(o.stickyHeaders_offset)?e(o.stickyHeaders_offset):"",b=y.length?y.height()||0:parseInt(o.stickyHeaders_offset,10)||0,w=c.parent().closest("."+i.css.table).hasClass("hasStickyHeaders")?c.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],x=w.length?w.height():0,C=o.$sticky=c.clone().addClass("containsStickyHeaders "+i.css.sticky+" "+o.stickyHeaders+" "+r.namespace.slice(1)+"_extra_table").wrap('<div class="'+i.css.stickyWrap+'">'),k=C.parent().addClass(i.css.stickyHide).css({position:h.length?"absolute":"fixed",padding:parseInt(C.parent().parent().css("padding-left"),10),top:b+x,left:0,visibility:"hidden",zIndex:o.stickyHeaders_zIndex||2}),$=C.children("thead:first"),_="",S=0,T=function(e,i){var n,r,o,s,a,l=e.filter(":visible"),d=l.length;for(n=0;d>n;n++)s=i.filter(":visible").eq(n),a=l.eq(n),"border-box"===a.css("box-sizing")?r=a.outerWidth():"collapse"===s.css("border-collapse")?t.getComputedStyle?r=parseFloat(t.getComputedStyle(a[0],null).width):(o=parseFloat(a.css("border-width")),r=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-o):r=a.width(),s.css({width:r,"min-width":r,"max-width":r})},E=function(){b=y.length?y.height()||0:parseInt(o.stickyHeaders_offset,10)||0,S=0,k.css({left:h.length?parseInt(h.css("padding-left"),10)||0:c.offset().left-parseInt(c.css("margin-left"),10)-f.scrollLeft()-S,width:c.outerWidth()}),T(c,C),T(m,d)},I=function(t){if(c.is(":visible")){x=w.length?w.offset().top-u.scrollTop()+w.height():0;var n=c.offset(),r=e.isWindow(u[0]),o=e.isWindow(f[0]),s=(h.length?r?u.scrollTop():u.offset().top:u.scrollTop())+b+x,a=c.height()-(k.height()+(v.height()||0)),l=s>n.top&&s<n.top+a?"visible":"hidden",d={visibility:l};h.length&&(d.top=r?s-h.offset().top:h.scrollTop()),o&&(d.left=c.offset().left-parseInt(c.css("margin-left"),10)-f.scrollLeft()-S),w.length&&(d.top=(d.top||0)+b+x),k.removeClass(i.css.stickyVis+" "+i.css.stickyHide).addClass("visible"===l?i.css.stickyVis:i.css.stickyHide).css(d),(l!==_||t)&&(E(),_=l)}};if(h.length&&!h.css("position")&&h.css("position","relative"),C.attr("id")&&(C[0].id+=o.stickyHeaders_cloneId),C.find("thead:gt(0), tr.sticky-false").hide(),C.find("tbody, tfoot").remove(),C.find("caption").toggle(o.stickyHeaders_includeCaption),d=$.children().children(),C.css({height:0,width:0,margin:0}),d.find("."+i.css.resizer).remove(),c.addClass("hasStickyHeaders").bind("pagerComplete"+p,function(){E()}),i.bindEvents(n,$.children().children("."+i.css.header)),c.after(k),r.onRenderHeader)for(l=$.children("tr").children(),a=l.length,s=0;a>s;s++)r.onRenderHeader.apply(l.eq(s),[s,r,C]);f.add(u).unbind("scroll resize ".split(" ").join(p).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(p),function(e){I("resize"===e.type)}),r.$table.unbind("stickyHeadersUpdate"+p).bind("stickyHeadersUpdate"+p,function(){I(!0)}),o.stickyHeaders_addResizeEvent&&i.addHeaderResizeEvent(n),c.hasClass("hasFilters")&&o.filter_columnFilters&&(c.bind("filterEnd"+p,function(){var n=e(document.activeElement).closest("td"),s=n.parent().children().index(n);k.hasClass(i.css.stickyVis)&&o.stickyHeaders_filteredToTop&&(t.scrollTo(0,c.position().top),s>=0&&r.$filters&&r.$filters.eq(s).find("a, select, input").filter(":visible").focus())}),i.filter.bindSearch(c,d.find("."+i.css.filter)),o.filter_hideFilters&&i.filter.hideFilters(C,r)),c.trigger("stickyHeadersInit")}},remove:function(n,r,o){var s=r.namespace+"stickyheaders ";r.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd stickyHeadersUpdate ".split(" ").join(s).replace(/\s+/g," ")).next("."+i.css.stickyWrap).remove(),o.$sticky&&o.$sticky.length&&o.$sticky.remove(),e(t).add(o.stickyHeaders_xScroll).add(o.stickyHeaders_yScroll).add(o.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(s).replace(/\s+/g," ")),i.addHeaderResizeEvent(n,!1)}})}(jQuery,window),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+i.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+i.css.resizableContainer+" { position: relative; height: 1px; }."+i.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e(t).appendTo("body")}),i.resizable={init:function(t,n){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable");var r,o,s,a,l,d=t.$table,c=d.parent(),h=parseInt(d.css("margin-top"),10),p=n.resizable_vars={useStorage:i.storage&&n.resizable!==!1,$wrap:c,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===c.css("overflow")||"scroll"===c.css("overflow")||"auto"===c.css("overflow-x")||"scroll"===c.css("overflow-x"),storedSizes:[]};for(i.resizableReset(t.table,!0),p.tableWidth=d.width(),p.fullWidth=Math.abs(c.width()-p.tableWidth)<20,p.useStorage&&p.overflow&&(i.storage(t.table,"tablesorter-table-original-css-width",p.tableWidth),l=i.storage(t.table,"tablesorter-table-resized-width")||"auto",i.resizable.setWidth(d,l,!0)),n.resizable_vars.storedSizes=a=(p.useStorage?i.storage(t.table,i.css.resizableStorage):[])||[],i.resizable.setWidths(t,n,a),i.resizable.updateStoredSizes(t,n),n.$resizable_container=e('<div class="'+i.css.resizableContainer+'">').css({top:h}).insertBefore(d),s=0;s<t.columns;s++)o=t.$headerIndexed[s],l=i.getColumnData(t.table,t.headers,s),r="false"===i.getData(o,l,"resizable"),r||e('<div class="'+i.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":s,unselectable:"on"}).data("header",o).bind("selectstart",!1);d.one("tablesorter-initialized",function(){i.resizable.setHandlePosition(t,n),i.resizable.bindings(this.config,this.config.widgetOptions)})}},updateStoredSizes:function(e,t){var i,n,r=e.columns,o=t.resizable_vars;for(o.storedSizes=[],i=0;r>i;i++)n=e.$headerIndexed[i],o.storedSizes[i]=n.is(":visible")?n.width():0},setWidth:function(e,t,i){e.css({width:t,"min-width":i?t:"","max-width":i?t:""})},setWidths:function(t,n,r){var o,s,a=n.resizable_vars,l=e(t.namespace+"_extra_headers"),d=t.$table.children("colgroup").children("col");if(r=r||a.storedSizes||[],r.length){for(o=0;o<t.columns;o++)i.resizable.setWidth(t.$headerIndexed[o],r[o],a.overflow),l.length&&(s=l.eq(o).add(d.eq(o)),i.resizable.setWidth(s,r[o],a.overflow));s=e(t.namespace+"_extra_table"),s.length&&!i.hasWidget(t.table,"scroller")&&i.resizable.setWidth(s,t.$table.outerWidth(),a.overflow)}},setHandlePosition:function(t,n){var r,o=i.hasWidget(t.table,"scroller"),s=t.$table.height(),a=n.$resizable_container.children(),l=Math.floor(a.width()/2);o&&(s=0,t.$table.closest("."+i.css.scrollerWrap).children().each(function(){var t=e(this);s+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),r=t.$table.position().left,a.each(function(){var i=e(this),o=parseInt(i.attr("data-column"),10),a=t.columns-1,d=i.data("header");d&&(d.is(":visible")?(a>o||o===a&&n.resizable_addLastColumn)&&i.css({display:"inline-block",height:s,left:d.position().left-r+d.outerWidth()-l}):i.hide())})},toggleTextSelection:function(t,n){var r=t.namespace+"tsresize";t.widgetOptions.resizable_vars.disabled=n,e("body").toggleClass(i.css.resizableNoSelect,n),n?e("body").attr("unselectable","on").bind("selectstart"+r,!1):e("body").removeAttr("unselectable").unbind("selectstart"+r)},bindings:function(n,r){var o=n.namespace+"tsresize";r.$resizable_container.children().bind("mousedown",function(t){var o,s=r.resizable_vars,a=e(n.namespace+"_extra_headers"),l=e(t.target).data("header");o=parseInt(l.attr("data-column"),10),s.$target=l=l.add(a.filter('[data-column="'+o+'"]')),s.target=o,s.$next=t.shiftKey||r.resizable_targetLast?l.parent().children().not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0),o=parseInt(s.$next.attr("data-column"),10),s.$next=s.$next.add(a.filter('[data-column="'+o+'"]')),s.next=o,s.mouseXPosition=t.pageX,i.resizable.updateStoredSizes(n,r),i.resizable.toggleTextSelection(n,!0)}),e(document).bind("mousemove"+o,function(e){var t=r.resizable_vars;t.disabled&&0!==t.mouseXPosition&&t.$target&&(r.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){i.resizable.mouseMove(n,r,e)},isNaN(r.resizable_throttle)?5:r.resizable_throttle)):i.resizable.mouseMove(n,r,e))}).bind("mouseup"+o,function(){r.resizable_vars.disabled&&(i.resizable.toggleTextSelection(n,!1),i.resizable.stopResize(n,r),i.resizable.setHandlePosition(n,r))}),e(t).bind("resize"+o+" resizeEnd"+o,function(){i.resizable.setHandlePosition(n,r)}),n.$table.bind("columnUpdate"+o,function(){i.resizable.setHandlePosition(n,r)}).find("thead:first").add(e(n.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+o,function(){var e=0===r.resizable_vars.storedSizes.length;return i.resizableReset(n.table),i.resizable.setHandlePosition(n,r),r.resizable_vars.storedSizes=[],e})},mouseMove:function(t,n,r){if(0!==n.resizable_vars.mouseXPosition&&n.resizable_vars.$target){var o,s=0,a=n.resizable_vars,l=a.$next,d=a.storedSizes[a.target],c=r.pageX-a.mouseXPosition;if(a.overflow){if(d+c>0){for(a.storedSizes[a.target]+=c,i.resizable.setWidth(a.$target,a.storedSizes[a.target],!0),o=0;o<t.columns;o++)s+=a.storedSizes[o];i.resizable.setWidth(t.$table.add(e(t.namespace+"_extra_table")),s)}l.length||(a.$wrap[0].scrollLeft=t.$table.width())}else a.fullWidth?(a.storedSizes[a.target]+=c,a.storedSizes[a.next]-=c,i.resizable.setWidths(t,n)):(a.storedSizes[a.target]+=c,i.resizable.setWidths(t,n));a.mouseXPosition=r.pageX,t.$table.trigger("stickyHeadersUpdate")}},stopResize:function(e,t){var n=t.resizable_vars;i.resizable.updateStoredSizes(e,t),n.useStorage&&(i.storage(e.table,i.css.resizableStorage,n.storedSizes),i.storage(e.table,"tablesorter-table-resized-width",e.$table.width())),n.mouseXPosition=0,n.$target=n.$next=null,e.$table.trigger("stickyHeadersUpdate")}},i.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1,resizable_fullWidth:null},init:function(e,t,n,r){i.resizable.init(n,r)},remove:function(t,n,r,o){if(r.$resizable_container){var s=n.namespace+"tsresize";n.$table.add(e(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+s),r.$resizable_container.remove(),i.resizable.toggleTextSelection(n,!1),i.resizableReset(t,o),e(document).unbind("mousemove"+s+" mouseup"+s)}}}),i.resizableReset=function(t,n){e(t).each(function(){var e,r,o=this.config,s=o&&o.widgetOptions,a=s.resizable_vars;if(t&&o&&o.$headerIndexed.length){for(a.overflow&&a.tableWidth&&(i.resizable.setWidth(o.$table,a.tableWidth,!0),a.useStorage&&i.storage(t,"tablesorter-table-resized-width","auto")),e=0;e<o.columns;e++)r=o.$headerIndexed[e],s.resizable_widths&&s.resizable_widths[e]?i.resizable.setWidth(r,s.resizable_widths[e],a.overflow):r.hasClass("resizable-false")||i.resizable.setWidth(r,"",a.overflow);o.$table.trigger("stickyHeadersUpdate"),i.storage&&!n&&i.storage(this,i.css.resizableStorage,{})}})}}(jQuery,window),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,i,n){t.format(e,i,n,!0)},format:function(i,n,r,o){var s,a,l=n.$table,d=r.saveSort!==!1,c={sortList:n.sortList};n.debug&&(a=new Date),l.hasClass("hasSaveSort")?d&&i.hasInitialized&&t.storage&&(t.storage(i,"tablesorter-savesort",c),n.debug&&console.log("saveSort widget: Saving last sort: "+n.sortList+t.benchmark(a))):(l.addClass("hasSaveSort"),c="",t.storage&&(s=t.storage(i,"tablesorter-savesort"),c=s&&s.hasOwnProperty("sortList")&&e.isArray(s.sortList)?s.sortList:"",n.debug&&console.log('saveSort: Last sort loaded: "'+c+'"'+t.benchmark(a)),l.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(i,"tablesorter-savesort","")})),o&&c&&c.length>0?n.sortList=c:i.hasInitialized&&c&&c.length>0&&l.trigger("sorton",[c]))},remove:function(e,i){i.$table.removeClass("hasSaveSort"),t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),e.tablesorter}),window.UnobtrusiveFlash={},$(function(){function e(e){var t=new Date;t.setDate(t.getDate()-1);var i=window.location.hostname.split(".").reverse(),n=i.shift();$.each(i,function(i,r){n=r+"."+n,document.cookie=e+"=; path=/;expires="+t+"; domain="+n}),document.cookie=e+"=; path=/",expires=+t+"; domain="}function t(){var t=null;if(document.cookie&&""!==document.cookie){for(var i=document.cookie.split(";"),n="flash",r=null,o=0;o<i.length;o++){var s=jQuery.trim(i[o]);if(s.substring(0,n.length+1)==n+"="&&(r=decodeURIComponent(s.substring(n.length+1).replace(/\+/g,"%20")),r.length>0))break}try{t=$.parseJSON(r)}catch(a){}e("flash")}return t}window.UnobtrusiveFlash.showFlashFromCookies=function(){var e=t();null!==e&&$.each(e,function(e,t){$(window).trigger("rails:flash",{type:t[0],message:t[1]})})},$(window).load(function(){UnobtrusiveFlash.showFlashFromCookies()}),$(document).on("page:change page:load",UnobtrusiveFlash.showFlashFromCookies),$(document).ajaxSuccess(function(e,t,i){UnobtrusiveFlash.showFlashFromCookies()})}),window.UnobtrusiveFlash.flashOptions={type:"notice",timeout:0},$(function(){UnobtrusiveFlash.showFlashMessage=function(e,t){t=$.extend(UnobtrusiveFlash.flashOptions,t),"notice"==t.type?t.type="info":"alert"==t.type?t.type="warning":"error"==t.type&&(t.type="danger");var i=$('<div class="alert alert-'+t.type+'"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e+"</div>"),n=$($(".unobtrusive-flash-container")[0]||$(".container")[0]||$(".container-fluid")[0]||$("body")[0]);n.prepend(i),i.hide().delay(300).slideDown(100),i.alert(),t.timeout>0&&setTimeout(function(){i.alert("close")},t.timeout)},flashHandler=function(e,t){UnobtrusiveFlash.showFlashMessage(t.message,{type:t.type})},$(window).bind("rails:flash",flashHandler)}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;o>i;i+=1)s[i]=str(i,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,l),r&&s.push(quote(n)+(gap?": ":":")+r));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l),r&&s.push(quote(n)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/**
 * History.js Native Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.History=e.History||{};if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=i.Adapter._uid++)},bind:function(e,t,n){var r=i.Adapter.uid(e);i.Adapter.handlers[r]=i.Adapter.handlers[r]||{},i.Adapter.handlers[r][t]=i.Adapter.handlers[r][t]||[],i.Adapter.handlers[r][t].push(n),e["on"+t]=function(e,t){return function(n){i.Adapter.trigger(e,t,n)}}(e,t)},trigger:function(e,t,n){n=n||{};var r,o,s=i.Adapter.uid(e);for(i.Adapter.handlers[s]=i.Adapter.handlers[s]||{},i.Adapter.handlers[s][t]=i.Adapter.handlers[s][t]||[],r=0,o=i.Adapter.handlers[s][t].length;o>r;++r)i.Adapter.handlers[s][t][r].apply(this,[n])},extractEventData:function(e,i){var n=i&&i[e]||t;return n},onDomLoad:function(t){var i=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(i),t()}}},"undefined"!=typeof i.init&&i.init()}(window),/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.document,n=e.setTimeout||n,r=e.clearTimeout||r,o=e.setInterval||o,s=e.History=e.History||{};if("undefined"!=typeof s.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");s.initHtml4=function(){return"undefined"!=typeof s.initHtml4.initialized?!1:(s.initHtml4.initialized=!0,s.enabled=!0,s.savedHashes=[],s.isLastHash=function(e){var t,i=s.getHashByIndex();return t=e===i},s.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},s.saveHash=function(e){return s.isLastHash(e)?!1:(s.savedHashes.push(e),!0)},s.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?s.savedHashes[s.savedHashes.length-1]:0>e?s.savedHashes[s.savedHashes.length+e]:s.savedHashes[e]},s.discardedHashes={},s.discardedStates={},s.discardState=function(e,t,i){var n,r=s.getHashByState(e);return n={discardedState:e,backState:i,forwardState:t},s.discardedStates[r]=n,!0},s.discardHash=function(e,t,i){var n={discardedHash:e,backState:i,forwardState:t};return s.discardedHashes[e]=n,!0},s.discardedState=function(e){var t,i=s.getHashByState(e);return t=s.discardedStates[i]||!1},s.discardedHash=function(e){var t=s.discardedHashes[e]||!1;return t},s.recycleState=function(e){var t=s.getHashByState(e);return s.discardedState(e)&&delete s.discardedStates[t],!0},s.emulated.hashChange&&(s.hashChangeInit=function(){s.checkerFunction=null;var t,n,r,a,l="",d=Boolean(s.getHash());return s.isInternetExplorer()?(t="historyjs-iframe",n=i.createElement("iframe"),n.setAttribute("id",t),n.setAttribute("src","#"),n.style.display="none",i.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),r="",a=!1,s.checkerFunction=function(){if(a)return!1;a=!0;var t=s.getHash(),i=s.getHash(n.contentWindow.document);return t!==l?(l=t,i!==t&&(r=i=t,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=s.escapeHash(t)),s.Adapter.trigger(e,"hashchange")):i!==r&&(r=i,d&&""===i?s.back():s.setHash(i,!1)),a=!1,!0}):s.checkerFunction=function(){var t=s.getHash()||"";return t!==l&&(l=t,s.Adapter.trigger(e,"hashchange")),!0},s.intervalList.push(o(s.checkerFunction,s.options.hashChangeInterval)),!0},s.Adapter.onDomLoad(s.hashChangeInit)),s.emulated.pushState&&(s.onHashChange=function(t){var i,n=t&&t.newURL||s.getLocationHref(),r=s.getHashByUrl(n),o=null,a=null;return s.isLastHash(r)?(s.busy(!1),!1):(s.doubleCheckComplete(),s.saveHash(r),r&&s.isTraditionalAnchor(r)?(s.Adapter.trigger(e,"anchorchange"),s.busy(!1),!1):(o=s.extractState(s.getFullUrl(r||s.getLocationHref()),!0),s.isLastSavedState(o)?(s.busy(!1),!1):(a=s.getHashByState(o),(i=s.discardedState(o))?(s.getHashByIndex(-2)===s.getHashByState(i.forwardState)?s.back(!1):s.forward(!1),!1):(s.pushState(o.data,o.title,encodeURI(o.url),!1),!0))))},s.Adapter.bind(e,"hashchange",s.onHashChange),s.pushState=function(t,i,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),s.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&s.busy())return s.pushQueue({scope:s,callback:s.pushState,args:arguments,queue:r}),!1;s.busy(!0);var o=s.createStateObject(t,i,n),a=s.getHashByState(o),l=s.getState(!1),d=s.getHashByState(l),c=s.getHash(),h=s.expectedStateId==o.id;return s.storeState(o),s.expectedStateId=o.id,s.recycleState(o),s.setTitle(o),a===d?(s.busy(!1),!1):(s.saveState(o),h||s.Adapter.trigger(e,"statechange"),s.isHashEqual(a,c)||s.isHashEqual(a,s.getShortUrl(s.getLocationHref()))||s.setHash(a,!1),s.busy(!1),!0)},s.replaceState=function(t,i,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),s.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&s.busy())return s.pushQueue({scope:s,callback:s.replaceState,args:arguments,queue:r}),!1;s.busy(!0);var o=s.createStateObject(t,i,n),a=s.getHashByState(o),l=s.getState(!1),d=s.getHashByState(l),c=s.getStateByIndex(-2);return s.discardState(l,o,c),a===d?(s.storeState(o),s.expectedStateId=o.id,s.recycleState(o),s.setTitle(o),s.saveState(o),s.Adapter.trigger(e,"statechange"),s.busy(!1)):s.pushState(o.data,o.title,o.url,!1),!0}),void(s.emulated.pushState&&s.getHash()&&!s.emulated.hashChange&&s.Adapter.onDomLoad(function(){s.Adapter.trigger(e,"hashchange")})))},"undefined"!=typeof s.init&&s.init()}(window),/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.console||t,n=e.document,r=e.navigator,o=e.sessionStorage||!1,s=e.setTimeout,a=e.clearTimeout,l=e.setInterval,d=e.clearInterval,c=e.JSON,h=e.alert,p=e.History=e.History||{},u=e.history;try{o.setItem("TEST","1"),o.removeItem("TEST")}catch(f){o=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(e){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(f){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||n.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)d(t[e]);p.intervalList=null}},p.debug=function(){p.options.debug&&p.log.apply(p,arguments)},p.log=function(){var e,t,r,o,s,a=!("undefined"==typeof i||"undefined"==typeof i.log||"undefined"==typeof i.log.apply),l=n.getElementById("log");for(a?(o=Array.prototype.slice.call(arguments),e=o.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[e,o]):i.log.apply(i,[e,o])):e="\n"+arguments[0]+"\n",t=1,r=arguments.length;r>t;++t){if(s=arguments[t],"object"==typeof s&&"undefined"!=typeof c)try{s=c.stringify(s)}catch(d){}e+="\n"+s+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||h(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i[0];);return e>4?e:!1}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.options.html4Mode?p.emulated={pushState:!0,hashChange:!0}:p.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,i;return e?(t=c.stringify(e),i=c.parse(t)):i={},i},p.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},p.getBaseHref=function(){var e=n.getElementsByTagName("base"),t=null,i="";return 1===e.length&&(t=e[0],i=t.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,t=p.getState(!1,!1),i=(t||{}).url||p.getLocationHref();return e=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,i){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,i){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,t){var i=e,n=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(i="/"===n?p.getRootUrl()+e.replace(/^\/+/,""):"#"===n?p.getPageUrl().replace(/#.*/,"")+e:"?"===n?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,i=p.getBaseUrl(),n=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(i,"")),t=t.replace(n,"/"),t="./"+t,t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||n,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var i=p.getLastSavedState();return!i&&t&&(i=p.createStateObject()),e&&(i=p.cloneObject(i),i.url=i.cleanUrl||i.url),i},p.getIdByState=function(e){var t,i=p.extractId(e.url);if(!i)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])i=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])i=p.store.stateToId[t];else{for(;;)if(i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof p.idToState[i]&&"undefined"==typeof p.store.idToState[i])break;p.stateToId[t]=i,p.idToState[i]=e}return i},p.normalizeState=function(e){var t,i;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,i=!p.isEmptyObject(t.data),(t.title||i)&&p.options.disableSuid!==!0&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,i){var n={data:e,title:t,url:i};return n=p.normalizeState(n)},p.getStateById=function(e){e=String(e);var i=p.idToState[e]||p.store.idToState[e]||t;return i},p.getStateString=function(e){var t,i,n;return t=p.normalizeState(e),i={data:t.data,title:e.title,url:e.url},n=c.stringify(i)},p.getStateId=function(e){var t,i;return t=p.normalizeState(e),i=t.id},p.getHashByState=function(e){var t,i;return t=p.normalizeState(e),i=t.hash},p.extractId=function(e){var t,i,n,r;return r=-1!=e.indexOf("#")?e.split("#")[0]:e,i=/(.*)\&_suid=([0-9]+)$/.exec(r),n=i?i[1]||e:e,t=i?String(i[2]||""):"",t||!1},p.isTraditionalAnchor=function(e){var t=!/[\/\\.]/.test(e);return t},p.extractState=function(e,t){var i,n,r=null;return t=t||!1,i=p.extractId(e),i&&(r=p.getStateById(i)),r||(n=p.getFullUrl(e),i=p.getIdByUrl(n)||!1,i&&(r=p.getStateById(i)),r||!t||p.isTraditionalAnchor(e)||(r=p.createStateObject(null,null,n))),r},p.getIdByUrl=function(e){var i=p.urlToId[e]||p.store.urlToId[e]||t;return i},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t,i=!1;return t=p.extractState(e.url),i=t&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t,i,n,r=!1;return p.savedStates.length&&(t=e.id,i=p.getLastSavedState(),n=i.id,r=t===n),r},p.saveState=function(e){return p.isLastSavedState(e)?!1:(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:0>e?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t,i=p.getLocationHref(e);return t=p.getHashByUrl(i)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},p.setHash=function(e,t){var i,r;return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),i=p.extractState(e,!0),i&&!p.emulated.pushState?p.pushState(i.data,i.title,i.url,!1):p.getHash()!==e&&(p.bugs.setHash?(r=p.getPageUrl(),p.pushState(null,null,r+"#"+e,!1)):n.location.hash=e),p)},p.escapeHash=function(t){var i=p.normalizeHash(t);return i=e.encodeURIComponent(i),p.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,i=e.title;i||(t=p.getStateByIndex(0),t&&t.url===e.url&&(i=t.title||p.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return n.title=i,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){a(p.busy.timeout);var t=function(){var e,i,n;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)i=p.queues[e],0!==i.length&&(n=i.shift(),p.fireQueueItem(n),p.busy.timeout=s(t,p.options.busyDelay))};p.busy.timeout=s(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(a(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=s(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t,i=p.extractState(p.getLocationHref());if(!p.isLastSavedState(i))return t=i,t||(t=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),u.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),u.go(1),!0)},p.go=function(e,t){var i;if(e>0)for(i=1;e>=i;++i)p.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=e;--i)p.back(t)}return p},p.emulated.pushState){var g=function(){};p.pushState=p.pushState||g,p.replaceState=p.replaceState||g}else p.onPopState=function(t,i){var n,r,o=!1,s=!1;return p.doubleCheckComplete(),(n=p.getHash())?(r=p.extractState(n||p.getLocationHref(),!0),r?p.replaceState(r.data,r.title,r.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(o=p.Adapter.extractEventData("state",t,i)||!1,s=o?p.getStateById(o):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),s||(s=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(s)?(p.busy(!1),!1):(p.storeState(s),p.saveState(s),p.setTitle(s),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,i,n,r){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:r}),!1;p.busy(!0);var o=p.createStateObject(t,i,n);return p.isLastSavedState(o)?p.busy(!1):(p.storeState(o),p.expectedStateId=o.id,u.pushState(o.id,o.title,o.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,i,n,r){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:r}),!1;p.busy(!0);var o=p.createStateObject(t,i,n);return p.isLastSavedState(o)?p.busy(!1):(p.storeState(o),p.expectedStateId=o.id,u.replaceState(o.id,o.title,o.url),p.Adapter.trigger(e,"popstate")),!0};if(o){try{p.store=c.parse(o.getItem("History.store"))||{}}catch(m){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),o&&(p.onUnload=function(){var e,t,i;try{e=c.parse(o.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),i=c.stringify(e);try{o.setItem("History.store",i)}catch(r){if(r.code!==DOMException.QUOTA_EXCEEDED_ERR)throw r;o.length&&(o.removeItem("History.store"),o.setItem("History.store",i))}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===r.vendor||"Mozilla"===(r.appCodeName||""))&&(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},p.options&&p.options.delayInit||p.init()}(window),function(){var e;e=function(){function e(){}return e.prototype.parse=function(e){return this._get_parser()(e)},e.prototype._get_parser=function(){return null!=this._document_parser?this._document_parser:this._document_parser=this._parser_factory()},e.prototype._parser_factory=function(){var t,i,n,r,o,s;i=function(t){return(new e).parseFromString(t,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},n=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return s=i("<html><body><p>test"),i}catch(a){return r=a,s=t("<html><body><p>test"),t}finally{if(1!==(null!=s&&null!=(o=s.body)?o.childNodes.length:void 0))return n}},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.DOMParser=e}.call(this),function(){var e;e=function(){function e(e,t,i){this.html=e,this.xhr=t,this.$target=i}return e._document_parser=null,e._get_document_parser=function(){return null!=e._document_parser?e._document_parser:e._document_parser=new window._Wiselinks.DOMParser},e.prototype.url=function(){return this.xhr.getResponseHeader("X-Wiselinks-Url")},e.prototype.assets_digest=function(){return this._is_full_document_response()?$('meta[name="assets-digest"]',this._get_doc()).attr("content"):this.xhr.getResponseHeader("X-Wiselinks-Assets-Digest")},e.prototype.content=function(){return null!=this._content?this._content:this._content=this._extract_content()},e.prototype.title=function(){return null!=this._title?this._title:this._title=this._extract_title()},e.prototype._extract_title=function(){return this._is_full_document_response()?$("title",this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Title")},e.prototype.description=function(){return null!=this._description?this._description:this._description=this._extract_description()},e.prototype._extract_description=function(){return this._is_full_document_response()?$('meta[name="description"]',this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Description")},e.prototype._extract_content=function(){return this._is_full_document_response()?this._get_doc_target_node().html():this.html},e.prototype._is_full_document_response=function(){return 1===this._get_doc_target_node().length},e.prototype._get_doc_target_node=function(){return null!=this.$doc_target_node?this.$doc_target_node:this.$doc_target_node=$(this.$target.selector,this._get_doc())},e.prototype._get_doc=function(){return null!=this._doc?this._doc:this._doc=e._get_document_parser().parse(this.html)},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Response=e}.call(this),function(){var e;e=function(){function e(e){this.options=null!=e?e:{}}return e.prototype.call=function(e,t){var i;return i=this,null!=this.redirected?void(this.redirected=null):(i._loading(e,t),$.ajax({url:t.url,headers:{"X-Wiselinks":t.data.render,"X-Wiselinks-Referer":t.data.referer},dataType:"html"}).done(function(t,n,r){return i._html_loaded(e,t,n,r)}).fail(function(n,r,o){return i._fail(e,r,t,o,n.status)}).always(function(n,r,o){return i._always(e,r,t)}))},e.prototype._normalize=function(e){return null!=e?e=e.replace(/\/+$/,""):void 0},e.prototype._assets_changed=function(e){return null!=this.options.assets_digest&&this.options.assets_digest!==e},e.prototype._redirect_to=function(e,t,i,n){return n&&n.readyState<4&&(n.onreadystatechange=$.noop,n.abort()),this.redirected=!0,$(document).trigger("page:redirected",[t,i.data.render,e]),History.replaceState(i.data,document.title,e)},e.prototype._loading=function(e,t){return $(document).trigger("page:loading",[e,t.data.render,decodeURI(t.url)])},e.prototype._done=function(e,t,i,n){return $(document).trigger("page:done",[e,t,decodeURI(i.url),n])},e.prototype._html_loaded=function(e,t,i,n){var r,o,s,a;return o=new window._Wiselinks.Response(t,n,e),a=this._normalize(o.url()),r=o.assets_digest(),this._assets_changed(r)?window.location.reload(!0):(s=History.getState(),null!=a&&a!==this._normalize(s.url)&&this._redirect_to(a,e,s,n),e.html(o.content()).promise().done(function(t){return function(){return t._title(o.title()),t._description(o.description()),t._done(e,i,s,o.content())}}(this)))},e.prototype._fail=function(e,t,i,n,r){return $(document).trigger("page:fail",[e,t,decodeURI(i.url),n,r])},e.prototype._always=function(e,t,i){return $(document).trigger("page:always",[e,t,decodeURI(i.url)])},e.prototype._title=function(e){return null!=e?($(document).trigger("page:title",decodeURI(e)),document.title=decodeURI(e)):void 0},e.prototype._description=function(e){return null!=e?($(document).trigger("page:description",decodeURI(e)),$('meta[name="description"]').attr("content",decodeURI(e))):void 0},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.RequestManager=e}.call(this),function(){var e;e=function(){function e(e,t){var i;this.$target=e,this.options=t,i=this,this.template_id=(new Date).getTime(),this.request_manager=new _Wiselinks.RequestManager(this.options),this.$target=i._wrap(this.$target),i._try_target(this.$target),History.emulated.pushState&&this.options.html4===!0&&-1===window.location.href.indexOf("#.")&&this.options.html4_normalize_path===!0&&window.location.pathname!==this.options.html4_root_path&&(window.location.href=window.location.protocol+"//"+window.location.host+this.options.html4_root_path+"#."+window.location.pathname),History.Adapter.bind(window,"statechange",function(e,t){var n;return n=History.getState(),i._template_id_changed(n)?i._call(i._reset_state(n)):i._call(n)}),$(document).on("click","a[data-push], a[data-replace]",function(e){var t;return(t=new _Wiselinks.Link(i,$(this))).allows_process(e)?(e.preventDefault(),t.process(),!1):void 0}),$(document).on("submit","form[data-push], form[data-replace]",function(e){var t;return(t=new _Wiselinks.Form(i,$(this)))?(e.preventDefault(),t.process(),!1):void 0})}return e.prototype.load=function(e,t,i){var n,r;return null==i&&(i="template"),"partial"!==i&&(this.template_id=(new Date).getTime()),r=null!=t?(n=this._wrap(t),this._try_target(n),n.selector):void 0,History.pushState({timestamp:(new Date).getTime(),template_id:this.template_id,render:i,target:r,referer:window.location.href},document.title,e)},e.prototype.reload=function(){return History.replaceState({timestamp:(new Date).getTime(),template_id:this.template_id,render:"template",referer:window.location.href},document.title,History.getState().url)},e.prototype._call=function(e){var t;return t=null!=e.data.target?$(e.data.target):this.$target,this.request_manager.call(t,e)},e.prototype._template_id_changed=function(e){return null==e.data.template_id||e.data.template_id!==this.template_id},e.prototype._make_state=function(e,t,i,n){return null==i&&(i="template"),{url:e,data:{target:t,render:i,referer:n}}},e.prototype._reset_state=function(e){return null==e.data&&(e.data={}),e.data.target=null,e.data.render="template",e},e.prototype._try_target=function(e){if(0===e.length&&"exception"===this.options.target_missing)throw new Error("[Wiselinks] Target missing: `"+e.selector+"`")},e.prototype._wrap=function(e){return $(e)},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Page=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$link=t}return e.prototype.allows_process=function(e){return!(this._cross_origin_link(e.currentTarget)||this._non_standard_click(e))},e.prototype.process=function(){var e;return e="partial"===this.$link.data("push")?"partial":"template",this.page.load(this.$link.attr("href"),this.$link.data("target"),e)},e.prototype._cross_origin_link=function(e){return this._different_protocol(e)||this._different_host(e)||this._different_port(e)},e.prototype._different_protocol=function(e){return":"===e.protocol||""===e.protocol?!1:location.protocol!==e.protocol},e.prototype._different_host=function(e){return""===e.host?!1:location.host.split(":")[0]!==e.host.split(":")[0]},e.prototype._different_port=function(e){var t;return t=location.port===e.port||""===location.port&&("80"===e.port||"443"===e.port),!t},e.prototype._non_standard_click=function(e){return e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Link=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$form=t}return e.prototype.process=function(){var e;return e=this,e._include_blank_url_params()?e.page.load(e._url(),e._target(),e._type()):e._without_blank_url_params(function(){return e.page.load(e._url(),e._target(),e._type())})},e.prototype._without_blank_url_params=function(e){var t,i;return i="select:not(:disabled),input:not(:disabled)",t=this.$form.find(i).filter(function(){return!$(this).val()}),t.attr("disabled",!0),e(),t.attr("disabled",!1)},e.prototype._params=function(){var e,t,i,n,r,o;for(e={},o=this.$form.serializeArray(),t=0,n=o.length;n>t;t++)i=o[t],"utf8"!==i.name&&(r=-1!==i.name.indexOf("[]",i.name.length-"[]".length)?i.name.substr(0,i.name.length-2):i.name,null!=e[r]?e[r]=e[r]+(","+i.value):e[r]=i.value);return e},e.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},e.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},e.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},e.prototype._target=function(){return this.$form.data("target")},e.prototype._url=function(){var e,t,i,n,r,o;return i=this,n=function(){var n;if(i._optimize_url_params()){t=[],n=this._params();for(e in n)o=n[e],t.push(e+"="+encodeURIComponent(o).replace(/%2C/g,","));return t.join("&")}return this.$form.serialize()}.call(this),r=this.$form.attr("action").replace(/\?.*$/,""),n.length>0&&(r+="?"+n),r},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=e}.call(this),function(){var e;e=function(){function e(e,t){null==e&&(e=$("body")),this.options=null!=t?t:{},this._try_jquery(),this.options=$.extend(this._defaults(),this.options),this.enabled()&&(this.options.disable_suid&&(History.options.disableSuid=!0),this.page=new _Wiselinks.Page(e,this.options))}return e.prototype.enabled=function(){return!History.emulated.pushState||this.options.html4===!0},e.prototype.load=function(e,t,i){return null==i&&(i="template"),this.page.load(e,t,i)},e.prototype.reload=function(){return this.page.reload()},e.prototype._defaults=function(){return{disable_suid:!0,html4:!0,html4_root_path:"/",html4_normalize_path:!0,target_missing:null,assets_digest:$("meta[name='assets-digest']").attr("content")}},e.prototype._try_jquery=function(){if(null==window.jQuery)throw new Error("[Wiselinks] jQuery is not loaded")},e}(),window.Wiselinks=e}.call(this),function(){$.fn.datepicker.defaults.weekStart=1,$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.calendarWeeks=!0,$.fn.datepicker.defaults.todayHighlight=!0}.call(this),function(){$.fn.extend({initialize:function(){return $(".gallery",this).each(function(){return $(this).magnificPopup({delegate:".image-link",type:"image",gallery:{enabled:!0}})}),$('[data-toggle="tooltip"]',this).tooltip(),$('[data-toggle="popover"]',this).popover({html:!0,trigger:"hover"}),$(".selectize",this).selectize({plugins:["remove_button"],dropdownParent:"body",allowEmptyOption:!0}),$("input[type=checkbox]").bootstrapSwitch({size:"mini",onText:'<i class="fa fa-check"></i>',offText:"\xa0"}).on("switchChange.bootstrapSwitch",function(e,t){return $(e.target).trigger("change")}),$('.nav-tabs[role="tablist"]').stickyTabs({backToTop:!0})},rebuild_masonry:function(){var e;return e=$(".brickwork"),e.hasClass("masonry")&&e.masonry("destroy"),e.imagesLoaded(function(){return this.masonry({itemSelector:"li.product"})})}}),jQuery(function(){return window.wiselinks=new Wiselinks,$(document).initialize(),$(document).rebuild_masonry(),$(document).on("change","form.immediate",function(e){return $(e.currentTarget).trigger("submit.rails")}),$(document).on("click",'a[href="#back"]',function(e){return e.preventDefault(),history.back()}),$(document).on("click",'a[href="#print"]',function(e){return e.preventDefault(),$.print()}),$(document).on("show.bs.modal",".modal",function(e){return $(".modal-body",this).css("height",$(window).height()-120)}),$(document).on("page:done",function(e,t,i,n,r){return $(document).rebuild_masonry(),"undefined"!=typeof ga&&null!==ga?ga("send","pageview",window.location.pathname):void 0})})}.call(this),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.sortable=t(e.jQuery)}(this,function(e){"use strict";var t,i,n=e(),r=[],o=function(e){e.off("dragstart.h5s"),e.off("dragend.h5s"),e.off("selectstart.h5s"),e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},s=function(e){e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},a=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.item,t.x,t.y)},l=function(e,t){return t.x||(t.x=parseInt(e.pageX-t.draggedItem.offset().left)),t.y||(t.y=parseInt(e.pageY-t.draggedItem.offset().top)),t},d=function(e){return{item:e[0],draggedItem:e}},c=function(e,t){var i=d(t);i=l(e,i),a(e,i)},h=function(e,t){return"undefined"==typeof e?t:e},p=function(e){e.removeData("opts"),e.removeData("connectWith"),e.removeData("items"),e.removeAttr("aria-dropeffect")},u=function(e){e.removeAttr("aria-grabbed"),e.removeAttr("draggable"),e.removeAttr("role")},f=function(e,t){return e[0]===t[0]?!0:void 0!==e.data("connectWith")?e.data("connectWith")===t.data("connectWith"):!1},g=function(e){var t=e.data("opts")||{},i=e.children(t.items),n=t.handle?i.find(t.handle):i;s(e),p(e),n.off("mousedown.h5s"),o(i),u(i)},m=function(t){var i=t.data("opts"),n=t.children(i.items),r=i.handle?n.find(i.handle):n;t.attr("aria-dropeffect","move"),r.attr("draggable","true");var o=(document||window.document).createElement("span");"function"!=typeof o.dragDrop||i.disableIEFix||r.on("mousedown.h5s",function(){-1!==n.index(this)?this.dragDrop():e(this).parents(i.items)[0].dragDrop()})},v=function(e){var t=e.data("opts"),i=e.children(t.items),n=t.handle?i.find(t.handle):i;e.attr("aria-dropeffect","none"),n.attr("draggable",!1),n.off("mousedown.h5s")},y=function(e){var t=e.data("opts"),i=e.children(t.items),n=t.handle?i.find(t.handle):i;o(i),n.off("mousedown.h5s"),s(e)},b=function(o,s){var l=e(o),d=String(s);return s=e.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1},s),l.each(function(){var o=e(this);if(/enable|disable|destroy/.test(d))return void b[d](o);s=h(o.data("opts"),s),o.data("opts",s),y(o);var l,p,u,g=o.children(s.items),v=null===s.placeholder?e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+s.placeholderClass+'"/>'):e(s.placeholder).addClass(s.placeholderClass);if(!o.attr("data-sortable-id")){var w=r.length;r[w]=o,o.attr("data-sortable-id",w),g.attr("data-item-sortable-id",w)}if(o.data("items",s.items),n=n.add(v),s.connectWith&&o.data("connectWith",s.connectWith),m(o),g.attr("role","option"),g.attr("aria-grabbed","false"),s.hoverClass){var x="sortable-over";"string"==typeof s.hoverClass&&(x=s.hoverClass),g.hover(function(){e(this).addClass(x)},function(){e(this).removeClass(x)})}g.on("dragstart.h5s",function(n){n.stopImmediatePropagation(),s.dragImage?(a(n.originalEvent,{item:s.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):c(n.originalEvent,e(this),s.dragImage),t=e(this),t.addClass(s.draggingClass),t.attr("aria-grabbed","true"),l=t.index(),i=t.height(),p=e(this).parent(),t.parent().triggerHandler("sortstart",{item:t,placeholder:v,startparent:p})}),g.on("dragend.h5s",function(){t&&(t.removeClass(s.draggingClass),t.attr("aria-grabbed","false"),t.show(),n.detach(),u=e(this).parent(),t.parent().triggerHandler("sortstop",{item:t,startparent:p}),(l!==t.index()||p.get(0)!==u.get(0))&&t.parent().triggerHandler("sortupdate",{item:t,index:u.children(u.data("items")).index(t),oldindex:g.index(t),elementIndex:t.index(),oldElementIndex:l,startparent:p,endparent:u}),t=null,i=null)}),e(this).add([v]).on("drop.h5s",function(i){return f(o,e(t).parent())?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):void 0}),g.add([this]).on("dragover.h5s dragenter.h5s",function(r){if(f(o,e(t).parent())){if(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",g.is(this)){var a=e(this).height();if(s.forcePlaceholderSize&&v.height(i),a>i){var l=a-i,d=e(this).offset().top;if(v.index()<e(this).index()&&r.originalEvent.pageY<d+l)return!1;if(v.index()>e(this).index()&&r.originalEvent.pageY>d+a-l)return!1}t.hide(),v.index()<e(this).index()?e(this).after(v):e(this).before(v),n.not(v).detach()}else n.is(this)||e(this).children(s.items).length||(n.detach(),e(this).append(v));return!1}})})};return b.destroy=function(e){g(e)},b.enable=function(e){m(e)},b.disable=function(e){v(e)},e.fn.sortable=function(e){return b(this,e)},b}),function(e){e.fn.stickyTabs=function(t){var i=this,n=e.extend({getHashCallback:function(e,t){return e},selectorAttribute:"href",backToTop:!1,initialTab:e("li.active > a",i)},t),r=function(){var t="href"==n.selectorAttribute?window.location.hash:window.location.hash.substring(1),r=t?"a["+n.selectorAttribute+'="'+t+'"]':n.initialTab;e(r,i).tab("show"),setTimeout(s,1)},o=function(e){history&&history.pushState?history.pushState(null,null,window.location.pathname+window.location.search+"#"+e):(scrollV=document.body.scrollTop,scrollH=document.body.scrollLeft,window.location.hash=e,document.body.scrollTop=scrollV,document.body.scrollLeft=scrollH);
},s=function(){n.backToTop===!0&&window.scrollTo(0,0)};return r(),e(window).on("hashchange",r),e("a",i).on("click",function(e){var t=this.href.split("#")[1],i=n.getHashCallback(t,this);o(i),setTimeout(s,1)}),this}}(jQuery),function(){$.print=function(){var e;return"undefined"!=typeof jsPrintSetup&&null!==jsPrintSetup?(e=jsPrintSetup,e.setPaperSizeData(9),e.setOption("orientation",e.kPortraitOrientation),e.setOption("scaling",100),e.setOption("shrinkToFit",0),e.setOption("marginTop",0),e.setOption("marginBottom",0),e.setOption("marginLeft",0),e.setOption("marginRight",0),e.setOption("headerStrLeft",""),e.setOption("headerStrCenter",""),e.setOption("headerStrRight",""),e.setOption("footerStrLeft",""),e.setOption("footerStrCenter",""),e.setOption("footerStrRight",""),e.setOption("printBGColors",1),e.setOption("printBGImages",1),e.print()):window.print()}}.call(this),function(){$.fn.extend({isSmall:function(){return this.width()<768}})}.call(this),function(){UnobtrusiveFlash.flashOptions.timeout=5e3}.call(this);