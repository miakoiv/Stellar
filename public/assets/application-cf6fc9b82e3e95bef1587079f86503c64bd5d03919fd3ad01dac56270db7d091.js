//! moment.js
//! version : 2.10.2
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ti.apply(null,arguments)}function e(t){Ti=t}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function r(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,i,n){return kt(t,e,i,n,!0).utc()}function d(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&void 0===t._pf.bigHour)),t._isValid}function h(t){var e=l(NaN);return null!=t?a(e._pf,t):e._pf.userInvalidated=!0,e}function u(t,e){var i,n,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Di.length>0)for(i in Di)n=Di[i],o=e[n],"undefined"!=typeof o&&(t[n]=o);return t}function c(e){u(this,e),this._d=new Date(+e._d),Oi===!1&&(Oi=!0,t.updateOffset(this),Oi=!1)}function p(t){return t instanceof c||null!=t&&s(t,"_isAMomentObject")}function f(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function m(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;o>n;n++)(i&&t[n]!==e[n]||!i&&f(t[n])!==f(e[n]))&&s++;return s+r}function g(){}function v(t){return t?t.toLowerCase().replace("_","-"):t}function y(t){for(var e,i,n,o,r=0;r<t.length;){for(o=v(t[r]).split("-"),e=o.length,i=v(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=b(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&m(o,i,!0)>=e-1)break;e--}r++}return null}function b(t){var e=null;if(!Mi[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Si._abbr,require("./locale/"+t),w(e)}catch(i){}return Mi[t]}function w(t,e){var i;return t&&(i="undefined"==typeof e?x(t):_(t,e),i&&(Si=i)),Si._abbr}function _(t,e){return null!==e?(e.abbr=t,Mi[t]||(Mi[t]=new g),Mi[t].set(e),w(t),Mi[t]):(delete Mi[t],null)}function x(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Si;if(!n(t)){if(e=b(t))return e;t=[t]}return y(t)}function C(t,e){var i=t.toLowerCase();Ai[i]=Ai[i+"s"]=Ai[e]=t}function k(t){return"string"==typeof t?Ai[t]||Ai[t.toLowerCase()]:void 0}function E(t){var e,i,n={};for(i in t)s(t,i)&&(e=k(i),e&&(n[e]=t[i]));return n}function T(e,i){return function(n){return null!=n?(D(this,e,n),t.updateOffset(this,i),this):S(this,e)}}function S(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function D(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function O(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=k(t),"function"==typeof this[t])return this[t](e);return this}function M(t,e,i){for(var n=""+Math.abs(t),o=t>=0;n.length<e;)n="0"+n;return(o?i?"+":"":"-")+n}function A(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Ri[t]=o),e&&(Ri[e[0]]=function(){return M(o.apply(this,arguments),e[1],e[2])}),i&&(Ri[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t){var e,i,n=t.match(Ni);for(e=0,i=n.length;i>e;e++)Ri[n[e]]?n[e]=Ri[n[e]]:n[e]=N(n[e]);return function(o){var r="";for(e=0;i>e;e++)r+=n[e]instanceof Function?n[e].call(o,t):n[e];return r}}function F(t,e){return t.isValid()?(e=R(e,t.localeData()),Fi[e]||(Fi[e]=I(e)),Fi[e](t)):t.localeData().invalidDate()}function R(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Ii.lastIndex=0;n>=0&&Ii.test(t);)t=t.replace(Ii,i),Ii.lastIndex=0,n-=1;return t}function L(t,e,i){Xi[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function P(t,e){return s(Xi,t)?Xi[t](e._strict,e._locale):new RegExp($(t))}function $(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=f(t)}),i=0;i<t.length;i++)Qi[t[i]]=n}function B(t,e){z(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function H(t,e,i){null!=e&&s(Qi,t)&&Qi[t](e,i._a,i,t)}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function W(t){return this._months[t.month()]}function U(t){return this._monthsShort[t.month()]}function Y(t,e,i){var n,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=l([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function q(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function V(e){return null!=e?(q(this,e),t.updateOffset(this,!0),this):S(this,"Month")}function K(){return j(this.year(),this.month())}function G(t){var e,i=t._a;return i&&-2===t._pf.overflow&&(e=i[Ji]<0||i[Ji]>11?Ji:i[tn]<1||i[tn]>j(i[Zi],i[Ji])?tn:i[en]<0||i[en]>24||24===i[en]&&(0!==i[nn]||0!==i[on]||0!==i[rn])?en:i[nn]<0||i[nn]>59?nn:i[on]<0||i[on]>59?on:i[rn]<0||i[rn]>999?rn:-1,t._pf._overflowDayOfYear&&(Zi>e||e>tn)&&(e=tn),t._pf.overflow=e),t}function X(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Q(t,e){var i=!0;return a(function(){return i&&(X(t),i=!1),e.apply(this,arguments)},e)}function Z(t,e){ln[t]||(X(e),ln[t]=!0)}function J(t){var e,i,n=t._i,o=dn.exec(n);if(o){for(t._pf.iso=!0,e=0,i=hn.length;i>e;e++)if(hn[e][1].exec(n)){t._f=hn[e][0]+(o[6]||" ");break}for(e=0,i=un.length;i>e;e++)if(un[e][1].exec(n)){t._f+=un[e][0];break}n.match(Vi)&&(t._f+="Z"),yt(t)}else t._isValid=!1}function tt(e){var i=cn.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(J(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function et(t,e,i,n,o,r,s){var a=new Date(t,e,i,n,o,r,s);return 1970>t&&a.setFullYear(t),a}function it(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function nt(t){return ot(t)?366:365}function ot(t){return t%4===0&&t%100!==0||t%400===0}function rt(){return ot(this.year())}function st(t,e,i){var n,o=i-e,r=i-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),n=Et(t).add(r,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function at(t){return st(t,this._week.dow,this._week.doy).week}function lt(){return this._week.dow}function dt(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ut(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ct(t,e,i,n,o){var r,s,a=it(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:o,r=o-a+(a>n?7:0)-(o>a?7:0),s=7*(e-1)+(i-o)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:nt(t-1)+s}}function pt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function ft(t,e,i){return null!=t?t:null!=e?e:i}function mt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function gt(t){var e,i,n,o,r=[];if(!t._d){for(n=mt(t),t._w&&null==t._a[tn]&&null==t._a[Ji]&&vt(t),t._dayOfYear&&(o=ft(t._a[Zi],n[Zi]),t._dayOfYear>nt(o)&&(t._pf._overflowDayOfYear=!0),i=it(o,0,t._dayOfYear),t._a[Ji]=i.getUTCMonth(),t._a[tn]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[en]&&0===t._a[nn]&&0===t._a[on]&&0===t._a[rn]&&(t._nextDay=!0,t._a[en]=0),t._d=(t._useUTC?it:et).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[en]=24)}}function vt(t){var e,i,n,o,r,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,s=4,i=ft(e.GG,t._a[Zi],st(Et(),1,4).year),n=ft(e.W,1),o=ft(e.E,1)):(r=t._locale._week.dow,s=t._locale._week.doy,i=ft(e.gg,t._a[Zi],st(Et(),r,s).year),n=ft(e.w,1),null!=e.d?(o=e.d,r>o&&++n):o=null!=e.e?e.e+r:r),a=ct(i,n,o,s,r),t._a[Zi]=a.year,t._dayOfYear=a.dayOfYear}function yt(e){if(e._f===t.ISO_8601)return void J(e);e._a=[],e._pf.empty=!0;var i,n,o,r,s,a=""+e._i,l=a.length,d=0;for(o=R(e._f,e._locale).match(Ni)||[],i=0;i<o.length;i++)r=o[i],n=(a.match(P(r,e))||[])[0],n&&(s=a.substr(0,a.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),d+=n.length),Ri[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),H(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-d,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[en]<=12&&(e._pf.bigHour=void 0),e._a[en]=bt(e._locale,e._a[en],e._meridiem),gt(e),G(e)}function bt(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function wt(t){var e,n,o,r,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=u({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[r],yt(e),d(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==o||o>s)&&(o=s,n=e));a(t,n||e)}function _t(t){if(!t._d){var e=E(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],gt(t)}}function xt(t){var e,i=t._i,o=t._f;return t._locale=t._locale||x(t._l),null===i||void 0===o&&""===i?h({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),p(i)?new c(G(i)):(n(o)?wt(t):o?yt(t):Ct(t),e=new c(G(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Ct(e){var i=e._i;void 0===i?e._d=new Date:o(i)?e._d=new Date(+i):"string"==typeof i?tt(e):n(i)?(e._a=r(i.slice(0),function(t){return parseInt(t,10)}),gt(e)):"object"==typeof i?_t(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function kt(t,e,n,o,r){var s={};return"boolean"==typeof n&&(o=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=o,s._pf=i(),xt(s)}function Et(t,e,i,n){return kt(t,e,i,n,!1)}function Tt(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Et();for(i=e[0],o=1;o<e.length;++o)e[o][t](i)&&(i=e[o]);return i}function St(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)}function Dt(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)}function Ot(t){var e=E(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,d=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*d+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=x(),this._bubble()}function Mt(t){return t instanceof Ot}function At(t,e){A(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+M(~~(t/60),2)+e+M(~~t%60,2)})}function Nt(t){var e=(t||"").match(Vi)||[],i=e[e.length-1]||[],n=(i+"").match(vn)||["-",0,0],o=+(60*n[1])+f(n[2]);return"+"===n[0]?o:-o}function It(e,i){var n,r;return i._isUTC?(n=i.clone(),r=(p(e)||o(e)?+e:+Et(e))-+n,n._d.setTime(+n._d+r),t.updateOffset(n,!1),n):Et(e).local()}function Ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Rt(e,i){var n,o=this._offset||0;return null!=e?("string"==typeof e&&(e=Nt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(n=Ft(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!i||this._changeInProgress?Qt(this,qt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Ft(this)}function Lt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Pt(t){return this.utcOffset(0,t)}function $t(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ft(this),"m")),this}function zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Nt(this._i)),this}function Bt(t){return t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Ht(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function jt(){if(this._a){var t=this._isUTC?l(this._a):Et(this._a);return this.isValid()&&m(this._a,t.toArray())>0}return!1}function Wt(){return!this._isUTC}function Ut(){return this._isUTC}function Yt(){return this._isUTC&&0===this._offset}function qt(t,e){var i,n,o,r=t,a=null;return Mt(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=yn.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:f(a[tn])*i,h:f(a[en])*i,m:f(a[nn])*i,s:f(a[on])*i,ms:f(a[rn])*i}):(a=bn.exec(t))?(i="-"===a[1]?-1:1,r={y:Vt(a[2],i),M:Vt(a[3],i),d:Vt(a[4],i),h:Vt(a[5],i),m:Vt(a[6],i),s:Vt(a[7],i),w:Vt(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Gt(Et(r.from),Et(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Ot(r),Mt(t)&&s(t,"_locale")&&(n._locale=t._locale),n}function Vt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Kt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Gt(t,e){var i;return e=It(e,t),t.isBefore(e)?i=Kt(t,e):(i=Kt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Xt(t,e){return function(i,n){var o,r;return null===n||isNaN(+n)||(Z(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=qt(i,n),Qt(this,o,t),this}}function Qt(e,i,n,o){var r=i._milliseconds,s=i._days,a=i._months;o=null==o?!0:o,r&&e._d.setTime(+e._d+r*n),s&&D(e,"Date",S(e,"Date")+s*n),a&&q(e,S(e,"Month")+a*n),o&&t.updateOffset(e,s||a)}function Zt(t){var e=t||Et(),i=It(e,this).startOf("day"),n=this.diff(i,"days",!0),o=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Et(e)))}function Jt(){return new c(this)}function te(t,e){var i;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Et(t),+this>+t):(i=p(t)?+t:+Et(t),i<+this.clone().startOf(e))}function ee(t,e){var i;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Et(t),+t>+this):(i=p(t)?+t:+Et(t),+this.clone().endOf(e)<i)}function ie(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function ne(t,e){var i;return e=k(e||"millisecond"),"millisecond"===e?(t=p(t)?t:Et(t),+this===+t):(i=+Et(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function oe(t){return 0>t?Math.ceil(t):Math.floor(t)}function re(t,e,i){var n,o,r=It(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=k(e),"year"===e||"month"===e||"quarter"===e?(o=se(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(n=this-r,o="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-s)/864e5:"week"===e?(n-s)/6048e5:n),i?o:oe(o)}function se(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(i=t.clone().add(o-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(o+1,"months"),n=(e-r)/(i-r)),-(o+n)}function ae(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function le(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():F(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var i=F(this,e||t.defaultFormat);return this.localeData().postformat(i)}function he(t,e){return qt({to:this,from:t}).locale(this.locale()).humanize(!e)}function ue(t){return this.from(Et(),t)}function ce(t){var e;return void 0===t?this._locale._abbr:(e=x(t),null!=e&&(this._locale=e),this)}function pe(){return this._locale}function fe(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function me(t){return t=k(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function ge(){return+this._d-6e4*(this._offset||0)}function ve(){return Math.floor(+this/1e3)}function ye(){return this._offset?new Date(+this):this._d}function be(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function we(){return d(this)}function _e(){return a({},this._pf)}function xe(){return this._pf.overflow}function Ce(t,e){A(0,[t,t.length],0,e)}function ke(t,e,i){return st(Et([t,11,31+e-i]),e,i).week}function Ee(t){var e=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Te(t){var e=st(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Se(){return ke(this.year(),1,4)}function De(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function Oe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Me(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Ae(t){return this._weekdays[t.day()]}function Ne(t){return this._weekdaysShort[t.day()]}function Ie(t){return this._weekdaysMin[t.day()]}function Fe(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Et([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Re(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Me(t,this.localeData()),this.add(t-e,"d")):e}function Le(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Pe(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function $e(t,e){A(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ze(t,e){return e._meridiemParse}function Be(t){return"p"===(t+"").toLowerCase().charAt(0)}function He(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function je(t){A(0,[t,3],0,"millisecond")}function We(){return this._isUTC?"UTC":""}function Ue(){return this._isUTC?"Coordinated Universal Time":""}function Ye(t){return Et(1e3*t)}function qe(){return Et.apply(null,arguments).parseZone()}function Ve(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.call(e,i):n}function Ke(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Ge(){return this._invalidDate}function Xe(t){return this._ordinal.replace("%d",t)}function Qe(t){return t}function Ze(t,e,i,n){var o=this._relativeTime[i];return"function"==typeof o?o(t,e,i,n):o.replace(/%d/i,t)}function Je(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ti(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ei(t,e,i,n){var o=x(),r=l().set(n,e);return o[i](r,t)}function ii(t,e,i,n,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ei(t,e,i,o);var r,s=[];for(r=0;n>r;r++)s[r]=ei(t,r,i,o);return s}function ni(t,e){return ii(t,e,"months",12,"month")}function oi(t,e){return ii(t,e,"monthsShort",12,"month")}function ri(t,e){return ii(t,e,"weekdays",7,"day")}function si(t,e){return ii(t,e,"weekdaysShort",7,"day")}function ai(t,e){return ii(t,e,"weekdaysMin",7,"day")}function li(){var t=this._data;return this._milliseconds=Hn(this._milliseconds),this._days=Hn(this._days),this._months=Hn(this._months),t.milliseconds=Hn(t.milliseconds),t.seconds=Hn(t.seconds),t.minutes=Hn(t.minutes),t.hours=Hn(t.hours),t.months=Hn(t.months),t.years=Hn(t.years),this}function di(t,e,i,n){var o=qt(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function hi(t,e){return di(this,t,e,1)}function ui(t,e){return di(this,t,e,-1)}function ci(){var t,e,i,n=this._milliseconds,o=this._days,r=this._months,s=this._data,a=0;return s.milliseconds=n%1e3,t=oe(n/1e3),s.seconds=t%60,e=oe(t/60),s.minutes=e%60,i=oe(e/60),s.hours=i%24,o+=oe(i/24),a=oe(pi(o)),o-=oe(fi(a)),r+=oe(o/30),o%=30,a+=oe(r/12),r%=12,s.days=o,s.months=r,s.years=a,this}function pi(t){return 400*t/146097}function fi(t){return 146097*t/400}function mi(t){var e,i,n=this._milliseconds;if(t=k(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+12*pi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(fi(this._months/12)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 24*e*60+n/6e4;case"second":return 24*e*60*60+n/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+n;default:throw new Error("Unknown unit "+t)}}function gi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12)}function vi(t){return function(){return this.as(t)}}function yi(t){return t=k(t),this[t+"s"]()}function bi(t){return function(){return this._data[t]}}function wi(){return oe(this.days()/7)}function _i(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function xi(t,e,i){var n=qt(t).abs(),o=no(n.as("s")),r=no(n.as("m")),s=no(n.as("h")),a=no(n.as("d")),l=no(n.as("M")),d=no(n.as("y")),h=o<oo.s&&["s",o]||1===r&&["m"]||r<oo.m&&["mm",r]||1===s&&["h"]||s<oo.h&&["hh",s]||1===a&&["d"]||a<oo.d&&["dd",a]||1===l&&["M"]||l<oo.M&&["MM",l]||1===d&&["y"]||["yy",d];return h[2]=e,h[3]=+t>0,h[4]=i,_i.apply(null,h)}function Ci(t,e){return void 0===oo[t]?!1:void 0===e?oo[t]:(oo[t]=e,!0)}function ki(t){var e=this.localeData(),i=xi(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Ei(){var t=ro(this.years()),e=ro(this.months()),i=ro(this.days()),n=ro(this.hours()),o=ro(this.minutes()),r=ro(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||o||r?"T":"")+(n?n+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}var Ti,Si,Di=t.momentProperties=[],Oi=!1,Mi={},Ai={},Ni=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ii=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fi={},Ri={},Li=/\d/,Pi=/\d\d/,$i=/\d{3}/,zi=/\d{4}/,Bi=/[+-]?\d{6}/,Hi=/\d\d?/,ji=/\d{1,3}/,Wi=/\d{1,4}/,Ui=/[+-]?\d{1,6}/,Yi=/\d+/,qi=/[+-]?\d+/,Vi=/Z|[+-]\d\d:?\d\d/gi,Ki=/[+-]?\d+(\.\d{1,3})?/,Gi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xi={},Qi={},Zi=0,Ji=1,tn=2,en=3,nn=4,on=5,rn=6;A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),A("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),L("M",Hi),L("MM",Hi,Pi),L("MMM",Gi),L("MMMM",Gi),z(["M","MM"],function(t,e){e[Ji]=f(t)-1}),z(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[Ji]=o:i._pf.invalidMonth=t});var sn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),an="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ln={};t.suppressDeprecationWarnings=!1;var dn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],un=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],cn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),C("year","y"),L("Y",qi),L("YY",Hi,Pi),L("YYYY",Wi,zi),L("YYYYY",Ui,Bi),L("YYYYYY",Ui,Bi),z(["YYYY","YYYYY","YYYYYY"],Zi),z("YY",function(e,i){i[Zi]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return f(t)+(f(t)>68?1900:2e3)};var pn=T("FullYear",!1);A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),L("w",Hi),L("ww",Hi,Pi),L("W",Hi),L("WW",Hi,Pi),B(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=f(t)});var fn={dow:0,doy:6};A("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),L("DDD",ji),L("DDDD",$i),z(["DDD","DDDD"],function(t,e,i){i._dayOfYear=f(t)}),t.ISO_8601=function(){};var mn=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this>t?this:t}),gn=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return t>this?this:t});At("Z",":"),At("ZZ",""),L("Z",Vi),L("ZZ",Vi),z(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Nt(t)});var vn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var yn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,bn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;qt.fn=Ot.prototype;var wn=Xt(1,"add"),_n=Xt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var xn=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ce("gggg","weekYear"),Ce("ggggg","weekYear"),Ce("GGGG","isoWeekYear"),Ce("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),L("G",qi),L("g",qi),L("GG",Hi,Pi),L("gg",Hi,Pi),L("GGGG",Wi,zi),L("gggg",Wi,zi),L("GGGGG",Ui,Bi),L("ggggg",Ui,Bi),B(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=f(t)}),B(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),A("Q",0,0,"quarter"),C("quarter","Q"),L("Q",Li),z("Q",function(t,e){e[Ji]=3*(f(t)-1)}),A("D",["DD",2],"Do","date"),C("date","D"),L("D",Hi),L("DD",Hi,Pi),L("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],tn),z("Do",function(t,e){e[tn]=f(t.match(Hi)[0],10)});var Cn=T("Date",!0);A("d",0,"do","day"),A("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),A("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),A("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),L("d",Hi),L("e",Hi),L("E",Hi),L("dd",Gi),L("ddd",Gi),L("dddd",Gi),B(["dd","ddd","dddd"],function(t,e,i){var n=i._locale.weekdaysParse(t);null!=n?e.d=n:i._pf.invalidWeekday=t}),B(["d","e","E"],function(t,e,i,n){e[n]=f(t)});var kn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),En="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Tn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");A("H",["HH",2],0,"hour"),A("h",["hh",2],0,function(){return this.hours()%12||12}),$e("a",!0),$e("A",!1),C("hour","h"),L("a",ze),L("A",ze),L("H",Hi),L("h",Hi),L("HH",Hi,Pi),L("hh",Hi,Pi),z(["H","HH"],en),z(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),z(["h","hh"],function(t,e,i){e[en]=f(t),i._pf.bigHour=!0});var Sn=/[ap]\.?m?\.?/i,Dn=T("Hours",!0);A("m",["mm",2],0,"minute"),C("minute","m"),L("m",Hi),L("mm",Hi,Pi),z(["m","mm"],nn);var On=T("Minutes",!1);A("s",["ss",2],0,"second"),C("second","s"),L("s",Hi),L("ss",Hi,Pi),z(["s","ss"],on);var Mn=T("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),je("SSS"),je("SSSS"),C("millisecond","ms"),L("S",ji,Li),L("SS",ji,Pi),L("SSS",ji,$i),L("SSSS",Yi),z(["S","SS","SSS","SSSS"],function(t,e){e[rn]=f(1e3*("0."+t))});var An=T("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Nn=c.prototype;Nn.add=wn,Nn.calendar=Zt,Nn.clone=Jt,Nn.diff=re,Nn.endOf=me,Nn.format=de,Nn.from=he,Nn.fromNow=ue,Nn.get=O,Nn.invalidAt=xe,Nn.isAfter=te,Nn.isBefore=ee,Nn.isBetween=ie,Nn.isSame=ne,Nn.isValid=we,Nn.lang=xn,Nn.locale=ce,Nn.localeData=pe,Nn.max=gn,Nn.min=mn,Nn.parsingFlags=_e,Nn.set=O,Nn.startOf=fe,Nn.subtract=_n,Nn.toArray=be,Nn.toDate=ye,Nn.toISOString=le,Nn.toJSON=le,Nn.toString=ae,Nn.unix=ve,Nn.valueOf=ge,Nn.year=pn,Nn.isLeapYear=rt,Nn.weekYear=Ee,Nn.isoWeekYear=Te,Nn.quarter=Nn.quarters=Oe,Nn.month=V,Nn.daysInMonth=K,Nn.week=Nn.weeks=ht,Nn.isoWeek=Nn.isoWeeks=ut,Nn.weeksInYear=De,Nn.isoWeeksInYear=Se,Nn.date=Cn,Nn.day=Nn.days=Re,Nn.weekday=Le,Nn.isoWeekday=Pe,Nn.dayOfYear=pt,Nn.hour=Nn.hours=Dn,Nn.minute=Nn.minutes=On,Nn.second=Nn.seconds=Mn,Nn.millisecond=Nn.milliseconds=An,Nn.utcOffset=Rt,Nn.utc=Pt,Nn.local=$t,Nn.parseZone=zt,Nn.hasAlignedHourOffset=Bt,Nn.isDST=Ht,Nn.isDSTShifted=jt,Nn.isLocal=Wt,Nn.isUtcOffset=Ut,Nn.isUtc=Yt,Nn.isUTC=Yt,Nn.zoneAbbr=We,Nn.zoneName=Ue,Nn.dates=Q("dates accessor is deprecated. Use date instead.",Cn),Nn.months=Q("months accessor is deprecated. Use month instead",V),Nn.years=Q("years accessor is deprecated. Use year instead",pn),Nn.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Lt);var In=Nn,Fn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Rn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Ln="Invalid date",Pn="%d",$n=/\d{1,2}/,zn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bn=g.prototype;Bn._calendar=Fn,Bn.calendar=Ve,Bn._longDateFormat=Rn,Bn.longDateFormat=Ke,Bn._invalidDate=Ln,Bn.invalidDate=Ge,Bn._ordinal=Pn,Bn.ordinal=Xe,Bn._ordinalParse=$n,Bn.preparse=Qe,Bn.postformat=Qe,Bn._relativeTime=zn,Bn.relativeTime=Ze,Bn.pastFuture=Je,Bn.set=ti,Bn.months=W,Bn._months=sn,Bn.monthsShort=U,Bn._monthsShort=an,Bn.monthsParse=Y,Bn.week=at,Bn._week=fn,Bn.firstDayOfYear=dt,Bn.firstDayOfWeek=lt,Bn.weekdays=Ae,Bn._weekdays=kn,Bn.weekdaysMin=Ie,Bn._weekdaysMin=Tn,Bn.weekdaysShort=Ne,Bn._weekdaysShort=En,Bn.weekdaysParse=Fe,Bn.isPM=Be,Bn._meridiemParse=Sn,Bn.meridiem=He,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===f(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=Q("moment.lang is deprecated. Use moment.locale instead.",w),t.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",x);var Hn=Math.abs,jn=vi("ms"),Wn=vi("s"),Un=vi("m"),Yn=vi("h"),qn=vi("d"),Vn=vi("w"),Kn=vi("M"),Gn=vi("y"),Xn=bi("milliseconds"),Qn=bi("seconds"),Zn=bi("minutes"),Jn=bi("hours"),to=bi("days"),eo=bi("months"),io=bi("years"),no=Math.round,oo={
s:45,m:45,h:22,d:26,M:11},ro=Math.abs,so=Ot.prototype;so.abs=li,so.add=hi,so.subtract=ui,so.as=mi,so.asMilliseconds=jn,so.asSeconds=Wn,so.asMinutes=Un,so.asHours=Yn,so.asDays=qn,so.asWeeks=Vn,so.asMonths=Kn,so.asYears=Gn,so.valueOf=gi,so._bubble=ci,so.get=yi,so.milliseconds=Xn,so.seconds=Qn,so.minutes=Zn,so.hours=Jn,so.days=to,so.weeks=wi,so.months=eo,so.years=io,so.humanize=ki,so.toISOString=Ei,so.toString=Ei,so.toJSON=Ei,so.locale=ce,so.localeData=pe,so.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),so.lang=xn,A("X",0,0,"unix"),A("x",0,0,"valueOf"),L("x",qi),L("X",Ki),z("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,i){i._d=new Date(f(t))}),t.version="2.10.2",e(Et),t.fn=In,t.min=St,t.max=Dt,t.utc=l,t.unix=Ye,t.months=ni,t.isDate=o,t.locale=w,t.invalid=h,t.duration=qt,t.isMoment=p,t.weekdays=ri,t.parseZone=qe,t.localeData=x,t.isDuration=Mt,t.monthsShort=oi,t.weekdaysMin=ai,t.defineLocale=_,t.weekdaysShort=si,t.normalizeUnits=k,t.relativeTimeThreshold=Ci;var ao=t;return ao}),
//! moment.js locale configuration
//! locale : finnish (fi)
//! author : Tarmo Aidantausta : https://github.com/bleadof
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("../moment")):"function"==typeof define&&define.amd?define(["moment"],e):e(t.moment)}(this,function(t){"use strict";function e(t,e,n,o){var r="";switch(n){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"m":return o?"minuutin":"minuutti";case"mm":r=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":r=o?"tunnin":"tuntia";break;case"d":return o?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":r=o?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return o?"kuukauden":"kuukausi";case"MM":r=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":r=o?"vuoden":"vuotta"}return r=i(t,o)+" "+r}function i(t,e){return 10>t?e?o[t]:n[t]:t}var n="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),o=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",n[7],n[8],n[9]],r=t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}),/*!
 * jQuery JavaScript Library v1.12.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-01-08T19:56Z
 */
function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"===i||pt.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return pt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Ct.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==i})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e={};return pt.each(t.match(Ot)||[],function(t,i){e[i]=!0}),e}function s(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(s(),pt.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Ft,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:It.test(i)?pt.parseJSON(i):i}catch(o){}pt.data(t,e,i)}else i=void 0}return i}function d(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(t,e,i,n){if(Nt(t)){var o,r,s=pt.expando,a=t.nodeType,l=a?pt.cache:t,d=a?t[s]:t[s]&&s;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof e)return d||(d=a?t[s]=it.pop()||pt.guid++:s),l[d]||(l[d]=a?{}:{toJSON:pt.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[d]=pt.extend(l[d],e):l[d].data=pt.extend(l[d].data,e)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[pt.camelCase(e)]=i),"string"==typeof e?(o=r[e],null==o&&(o=r[pt.camelCase(e)])):o=r,o}}function u(t,e,i){if(Nt(t)){var n,o,r=t.nodeType,s=r?pt.cache:t,a=r?t[pt.expando]:pt.expando;if(s[a]){if(e&&(n=i?s[a]:s[a].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in n?e=[e]:(e=pt.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!d(n):!pt.isEmptyObject(n))return}(i||(delete s[a].data,d(s[a])))&&(r?pt.cleanData([t],!0):ut.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function c(t,e,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},l=a(),d=i&&i[3]||(pt.cssNumber[e]?"":"px"),h=(pt.cssNumber[e]||"px"!==d&&+l)&&Lt.exec(pt.css(t,e));if(h&&h[3]!==d){d=d||h[3],i=i||[],h=+l||1;do r=r||".5",h/=r,pt.style(t,e,h+d);while(r!==(r=a()/l)&&1!==r&&--s)}return i&&(h=+h||+l||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=h,n.end=o)),o}function p(t){var e=Ut.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[o]);o++)!e||pt.nodeName(n,e)?r.push(n):pt.merge(r,f(n,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],r):r}function m(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function g(t){Bt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,o){for(var r,s,a,l,d,h,u,c=t.length,v=p(e),y=[],b=0;c>b;b++)if(s=t[b],s||0===s)if("object"===pt.type(s))pt.merge(y,s.nodeType?[s]:s);else if(qt.test(s)){for(l=l||v.appendChild(e.createElement("div")),d=(Ht.exec(s)||["",""])[1].toLowerCase(),u=Yt[d]||Yt._default,l.innerHTML=u[1]+pt.htmlPrefilter(s)+u[2],r=u[0];r--;)l=l.lastChild;if(!ut.leadingWhitespace&&Wt.test(s)&&y.push(e.createTextNode(Wt.exec(s)[0])),!ut.tbody)for(s="table"!==d||Vt.test(s)?"<table>"!==u[1]||Vt.test(s)?0:l:l.firstChild,r=s&&s.childNodes.length;r--;)pt.nodeName(h=s.childNodes[r],"tbody")&&!h.childNodes.length&&s.removeChild(h);for(pt.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(s));for(l&&v.removeChild(l),ut.appendChecked||pt.grep(f(y,"input"),g),b=0;s=y[b++];)if(n&&pt.inArray(s,n)>-1)o&&o.push(s);else if(a=pt.contains(s.ownerDocument,s),l=f(v.appendChild(s),"script"),a&&m(l),i)for(r=0;s=l[r++];)jt.test(s.type||"")&&i.push(s);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return nt.activeElement}catch(t){}}function _(t,e,i,n,o,r){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)_(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=b;else if(!o)return t;return 1===r&&(s=o,o=function(t){return pt().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,o,n,i)})}function x(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function E(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,o,r=pt._data(t),s=pt._data(e,r),a=r.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)pt.event.add(e,i,a[i][n])}s.data&&(s.data=pt.extend({},s.data))}}function T(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ut.noCloneEvent&&e[pt.expando]){o=pt._data(e);for(n in o.events)pt.removeEvent(e,n,o.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?(C(e).text=t.text,k(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ut.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Bt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function S(t,e,i,n){e=rt.apply([],e);var o,r,s,a,l,d,h=0,u=t.length,c=u-1,p=e[0],m=pt.isFunction(p);if(m||u>1&&"string"==typeof p&&!ut.checkClone&&ne.test(p))return t.each(function(o){var r=t.eq(o);m&&(e[0]=p.call(this,o,r.html())),S(r,e,i,n)});if(u&&(d=v(e,t[0].ownerDocument,!1,t,n),o=d.firstChild,1===d.childNodes.length&&(d=o),o||n)){for(a=pt.map(f(d,"script"),C),s=a.length;u>h;h++)r=d,h!==c&&(r=pt.clone(r,!0,!0),s&&pt.merge(a,f(r,"script"))),i.call(t[h],r,h);if(s)for(l=a[a.length-1].ownerDocument,pt.map(a,k),h=0;s>h;h++)r=a[h],jt.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(l,r)&&(r.src?pt._evalUrl&&pt._evalUrl(r.src):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(re,"")));d=o=null}return t}function D(t,e,i){for(var n,o=e?pt.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&m(f(n,"script")),n.parentNode.removeChild(n));return t}function O(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function M(t){var e=nt,i=de[t];return i||(i=O(t,e),"none"!==i&&i||(le=(le||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(le[0].contentWindow||le[0].contentDocument).document,e.write(),e.close(),i=O(t,e),le.detach()),de[t]=i),i}function A(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t){if(t in ke)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=Ce.length;i--;)if(t=Ce[i]+e,t in ke)return t}function I(t,e){for(var i,n,o,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(r[s]=pt._data(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&$t(n)&&(r[s]=pt._data(n,"olddisplay",M(n.nodeName)))):(o=$t(n),(i&&"none"!==i||!o)&&pt._data(n,"olddisplay",o?i:pt.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function F(t,e,i){var n=we.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function R(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=pt.css(t,i+Pt[r],!0,o)),n?("content"===i&&(s-=pt.css(t,"padding"+Pt[r],!0,o)),"margin"!==i&&(s-=pt.css(t,"border"+Pt[r]+"Width",!0,o))):(s+=pt.css(t,"padding"+Pt[r],!0,o),"padding"!==i&&(s+=pt.css(t,"border"+Pt[r]+"Width",!0,o)));return s}function L(e,i,n){var o=!0,r="width"===i?e.offsetWidth:e.offsetHeight,s=fe(e),a=ut.boxSizing&&"border-box"===pt.css(e,"boxSizing",!1,s);if(nt.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[i])),0>=r||null==r){if(r=me(e,i,s),(0>r||null==r)&&(r=e.style[i]),ue.test(r))return r;o=a&&(ut.boxSizingReliable()||r===e.style[i]),r=parseFloat(r)||0}return r+R(e,i,n||(a?"border":"content"),o,s)+"px"}function P(t,e,i,n,o){return new P.prototype.init(t,e,i,n,o)}function $(){return t.setTimeout(function(){Ee=void 0}),Ee=pt.now()}function z(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Pt[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function B(t,e,i){for(var n,o=(W.tweeners[e]||[]).concat(W.tweeners["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,e,t))return n}function H(t,e,i){var n,o,r,s,a,l,d,h,u=this,c={},p=t.style,f=t.nodeType&&$t(t),m=pt._data(t,"fxshow");i.queue||(a=pt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],d=pt.css(t,"display"),h="none"===d?pt._data(t,"olddisplay")||M(t.nodeName):d,"inline"===h&&"none"===pt.css(t,"float")&&(ut.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ut.shrinkWrapBlocks()||u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Se.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}c[n]=m&&m[n]||pt.style(t,n)}else d=void 0;if(pt.isEmptyObject(c))"inline"===("none"===d?M(t.nodeName):d)&&(p.display=d);else{m?"hidden"in m&&(f=m.hidden):m=pt._data(t,"fxshow",{}),r&&(m.hidden=!f),f?pt(t).show():u.done(function(){pt(t).hide()}),u.done(function(){var e;pt._removeData(t,"fxshow");for(e in c)pt.style(t,e,c[e])});for(n in c)s=B(f?m[n]:0,n,u),n in m||(m[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function j(t,e){var i,n,o,r,s;for(i in t)if(n=pt.camelCase(i),o=e[n],r=t[i],pt.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=pt.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function W(t,e,i){var n,o,r=0,s=W.prefilters.length,a=pt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Ee||$(),i=Math.max(0,d.startTime+d.duration-e),n=i/d.duration||0,r=1-n,s=0,l=d.tweens.length;l>s;s++)d.tweens[s].run(r);return a.notifyWith(t,[d,r,i]),1>r&&l?i:(a.resolveWith(t,[d]),!1)},d=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:Ee||$(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,d.opts,e,i,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(n),n},stop:function(e){var i=0,n=e?d.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)d.tweens[i].run(1);return e?(a.notifyWith(t,[d,1,0]),a.resolveWith(t,[d,e])):a.rejectWith(t,[d,e]),this}}),h=d.props;for(j(h,d.opts.specialEasing);s>r;r++)if(n=W.prefilters[r].call(d,t,h,d.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(d.elem,d.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(h,B,d),pt.isFunction(d.opts.start)&&d.opts.start.call(t,d),pt.fx.timer(pt.extend(l,{elem:t,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function U(t){return pt.attr(t,"class")||""}function Y(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(Ot)||[];if(pt.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function q(t,e,i,n){function o(a){var l;return r[a]=!0,pt.each(t[a]||[],function(t,a){var d=a(e,i,n);return"string"!=typeof d||s||r[d]?s?!(l=d):void 0:(e.dataTypes.unshift(d),o(d),!1)}),l}var r={},s=t===Qe;return o(e.dataTypes[0])||!r["*"]&&o("*")}function V(t,e){var i,n,o=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function K(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}n||(n=s)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function G(t,e,i,n){var o,r,s,a,l,d={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)d[s.toLowerCase()]=t.converters[s];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=d[l+" "+r]||d["* "+r],!s)for(o in d)if(a=o.split(" "),a[1]===r&&(s=d[l+" "+a[0]]||d["* "+a[0]])){s===!0?s=d[o]:d[o]!==!0&&(r=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||pt.css(t,"display")}function Q(t){for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,i,n){var o;if(pt.isArray(e))pt.each(e,function(e,o){i||ii.test(t)?n(t,o):Z(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==pt.type(e))n(t,e);else for(o in e)Z(t+"["+o+"]",e[o],i,n)}function J(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var it=[],nt=t.document,ot=it.slice,rt=it.concat,st=it.push,at=it.indexOf,lt={},dt=lt.toString,ht=lt.hasOwnProperty,ut={},ct="1.12.0",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ct,constructor:pt,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[a]||{},a++),"object"==typeof s||pt.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(o=arguments[a]))for(n in o)t=s[n],i=o[n],s!==i&&(d&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,r=t&&pt.isArray(t)?t:[]):r=t&&pt.isPlainObject(t)?t:{},s[n]=pt.extend(d,r,i)):void 0!==i&&(s[n]=i));return s},pt.extend({expando:"jQuery"+(ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ht.call(t,"constructor")&&!ht.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!ut.ownFirst)for(e in t)return ht.call(t,e);for(e in t);return void 0===e||ht.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[dt.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;n>o&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;)t[o++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[o++]=e[n++];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,s=t.length,a=!i;s>r;r++)n=!e(t[r],r),n!==a&&o.push(t[r]);return o},map:function(t,e,n){var o,r,s=0,a=[];if(i(t))for(o=t.length;o>s;s++)r=e(t[s],s,n),null!=r&&a.push(r);else for(s in t)r=e(t[s],s,n),null!=r&&a.push(r);return rt.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(o=t[e],e=t,t=o),pt.isFunction(t)?(i=ot.call(arguments,2),n=function(){return t.apply(e||this,i.concat(ot.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n):void 0},now:function(){return+new Date},support:ut}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,i,n){var o,r,s,a,l,d,u,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:B)!==N&&A(e),e=e||N,F)){if(11!==m&&(d=vt.exec(t)))if(o=d[1]){if(9===m){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(f&&(s=f.getElementById(o))&&$(e,s)&&s.id===o)return i.push(s),i}else{if(d[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(o)),i}if(_.qsa&&!Y[t+" "]&&(!R||!R.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=z),u=E(t),r=u.length,l=ct.test(a)?"#"+a:"[id='"+a+"']";r--;)u[r]=l+" "+c(u[r]);p=u.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(p)try{return Z.apply(i,f.querySelectorAll(p)),i}catch(g){}finally{a===z&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[z]=!0,t}function o(t){var e=N.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function d(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=j++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,d,h=[H,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(d=e[z]||(e[z]={}),l=d[e.uniqueID]||(d[e.uniqueID]={}),(a=l[n])&&a[0]===H&&a[1]===r)return h[2]=a[2];if(l[n]=h,h[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function g(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,d=null!=e;l>a;a++)(r=t[a])&&(!i||i(r,n,o))&&(s.push(r),d&&e.push(a));return s}function v(t,e,i,o,r,s){return o&&!o[z]&&(o=v(o)),r&&!r[z]&&(r=v(r,s)),n(function(n,s,a,l){var d,h,u,c=[],p=[],f=s.length,v=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:g(v,c,t,a,l),b=i?r||(n?t:f||o)?[]:s:y;if(i&&i(y,b,a,l),o)for(d=g(b,p),o(d,[],a,l),h=d.length;h--;)(u=d[h])&&(b[p[h]]=!(y[p[h]]=u));if(n){if(r||t){if(r){for(d=[],h=b.length;h--;)(u=b[h])&&d.push(y[h]=u);r(null,b=[],d,l)}for(h=b.length;h--;)(u=b[h])&&(d=r?tt(n,u):c[h])>-1&&(n[d]=!(s[d]=u))}}else b=g(b===s?b.splice(f,b.length):b),r?r(null,s,b,l):Z.apply(s,b)})}function y(t){for(var e,i,n,o=t.length,r=x.relative[t[0].type],s=r||x.relative[" "],a=r?1:0,l=p(function(t){return t===e},s,!0),d=p(function(t){return tt(e,t)>-1},s,!0),h=[function(t,i,n){var o=!r&&(n||i!==D)||((e=i).nodeType?l(t,i,n):d(t,i,n));return e=null,o}];o>a;a++)if(i=x.relative[t[a].type])h=[p(f(h),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[z]){for(n=++a;o>n&&!x.relative[t[n].type];n++);return v(a>1&&f(h),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),o>n&&y(t=t.slice(n)),o>n&&c(t))}h.push(i)}return f(h)}function b(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,l,d){var h,u,c,p=0,f="0",m=n&&[],v=[],y=D,b=n||r&&x.find.TAG("*",d),w=H+=null==y?1:Math.random()||.1,_=b.length;for(d&&(D=s===N||s||d);f!==_&&null!=(h=b[f]);f++){if(r&&h){for(u=0,s||h.ownerDocument===N||(A(h),a=!F);c=t[u++];)if(c(h,s||N,a)){l.push(h);break}d&&(H=w)}o&&((h=!c&&h)&&p--,n&&m.push(h))}if(p+=f,o&&f!==p){for(u=0;c=i[u++];)c(m,v,s,a);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Z.apply(l,v),d&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return d&&(H=w,D=y),m};return o?n(s):s}var w,_,x,C,k,E,T,S,D,O,M,A,N,I,F,R,L,P,$,z="sizzle"+1*new Date,B=t.document,H=0,j=0,W=i(),U=i(),Y=i(),q=function(t,e){return t===e&&(M=!0),0},V=1<<31,K={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,Z=G.push,J=G.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),dt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(rt),ct=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){A()};try{Z.apply(G=J.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(Ct){Z={apply:G.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:B;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,I=N.documentElement,F=!k(N),(i=N.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),_.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=o(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=gt.test(N.getElementsByClassName),_.getById=o(function(t){return I.appendChild(t).id=z,!N.getElementsByName||!N.getElementsByName(z).length}),_.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var i=e.getElementById(t);return i?[i]:[]}},x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=_.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&F?e.getElementsByClassName(t):void 0},L=[],R=[],(_.qsa=gt.test(N.querySelectorAll))&&(o(function(t){I.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||R.push(".#.+[+~]")}),o(function(t){var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(_.matchesSelector=gt.test(P=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(t){_.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),L.push("!=",rt)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(I.compareDocumentPosition),$=e||gt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===N||t.ownerDocument===B&&$(B,t)?-1:e===N||e.ownerDocument===B&&$(B,e)?1:O?tt(O,t)-tt(O,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!o||!r)return t===N?-1:e===N?1:o?-1:r?1:O?tt(O,t)-tt(O,e):0;if(o===r)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===B?-1:l[n]===B?1:0},N):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&A(t),i=i.replace(ht,"='$1']"),_.matchesSelector&&F&&!Y[i+" "]&&(!L||!L.test(i))&&(!R||!R.test(i)))try{var n=P.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&A(t),$(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&A(t);var i=x.attrHandle[e.toLowerCase()],n=i&&K.call(x.attrHandle,e.toLowerCase())?i(t,e,!F):void 0;return void 0!==n?n:_.attributes||!F?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(M=!_.detectDuplicates,O=!_.sortStable&&t.slice(0),t.sort(q),M){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return O=null,t},C=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=E(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(st," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var d,h,u,c,p,f,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(r){for(;m;){for(c=e;c=c[m];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g,u=c[z]||(c[z]={}),h=u[c.uniqueID]||(u[c.uniqueID]={}),d=h[t]||[],p=d[0]===H&&d[1],b=p&&d[2],c=p&&g.childNodes[p];c=++p&&c&&c[m]||(b=p=0)||f.pop();)if(1===c.nodeType&&++b&&c===e){h[t]=[H,p,b];break}}else if(y&&(c=e,u=c[z]||(c[z]={}),h=u[c.uniqueID]||(u[c.uniqueID]={}),d=h[t]||[],p=d[0]===H&&d[1],b=p),b===!1)for(;(c=++p&&c&&c[m]||(b=p=0)||f.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++b||(y&&(u=c[z]||(c[z]={}),h=u[c.uniqueID]||(u[c.uniqueID]={}),h[t]=[H,b]),c!==e)););return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[z]?r(i):r.length>1?(o=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)n=tt(t,o[s]),t[n]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=T(t.replace(at,"$1"));return o[z]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var i;do if(i=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,i){return[0>i?i+e:i]}),even:d(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:d(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:d(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:d(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,E=e.tokenize=function(t,i){var n,o,r,s,a,l,d,h=U[t+" "];if(h)return i?0:h.slice(0);for(a=t,l=[],d=x.preFilter;a;){(!n||(o=lt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=dt.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(s in x.filter)!(o=pt[s].exec(a))||d[s]&&!(o=d[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):U(t,l).slice(0)},T=e.compile=function(t,e){var i,n=[],o=[],r=Y[t+" "];if(!r){for(e||(e=E(t)),i=e.length;i--;)r=y(e[i]),r[z]?n.push(r):o.push(r);r=Y(t,b(o,n)),r.selector=t}return r},S=e.select=function(t,e,i,n){var o,r,s,a,l,d="function"==typeof t&&t,u=!n&&E(t=d.selector||t);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&_.getById&&9===e.nodeType&&F&&x.relative[r[1].type]){if(e=(x.find.ID(s.matches[0].replace(wt,_t),e)||[])[0],!e)return i;d&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(wt,_t),yt.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&c(r),!t)return Z.apply(i,n),i;break}}return(d||T(t,u))(n,e,!F,i,!e||yt.test(t)&&h(e.parentNode)||e),i},_.sortStable=z.split("").sort(q).join("")===z,_.detectDuplicates=!!M,A(),_.sortDetached=o(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var bt=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&pt(t).is(i))break;n.push(t)}return n},wt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},_t=pt.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ct=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;o>e;e++)if(pt.contains(n[e],this))return!0}));for(e=0;o>e;e++)pt.find(t,n[e],i);return i=this.pushStack(o>1?pt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&_t.test(t)?pt(t):t||[],!1).length}});var kt,Et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Tt=pt.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||kt,"string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Et.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),xt.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(o=nt.getElementById(n[2]),o&&o.parentNode){if(o.id!==n[2])return kt.find(t);this.length=1,this[0]=o}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))};Tt.prototype=pt.fn,kt=pt(nt);var St=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(pt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=_t.test(t)||"string"!=typeof t?pt(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?pt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,i){return bt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,i){return bt(t,"nextSibling",i)},prevUntil:function(t,e,i){return bt(t,"previousSibling",i)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var o=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=pt.filter(n,o)),this.length>1&&(Dt[t]||(o=pt.uniqueSort(o)),St.test(t)&&(o=o.reverse())),this.pushStack(o)}});var Ot=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?r(t):pt.extend({},t);var e,i,n,o,s=[],a=[],l=-1,d=function(){for(o=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)s[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},h={add:function(){return s&&(i&&!e&&(l=s.length-1,a.push(i)),function n(e){pt.each(e,function(e,i){pt.isFunction(i)?t.unique&&h.has(i)||s.push(i):i&&i.length&&"string"!==pt.type(i)&&n(i)})}(arguments),i&&!e&&d()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,s,i))>-1;)s.splice(i,1),l>=i&&l--}),this},has:function(t){return t?pt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=!0,i||h.disable(),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||d()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(i){pt.each(e,function(e,r){var s=pt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},o={};return n.pipe=n.then,pt.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=ot.call(arguments),s=r.length,a=1!==s||t&&pt.isFunction(t.promise)?s:0,l=1===a?t:pt.Deferred(),d=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?ot.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&pt.isFunction(r[o].promise)?r[o].promise().progress(d(o,i,e)).done(d(o,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}});var Mt;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Mt.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!Mt)if(Mt=pt.Deferred(),"complete"===nt.readyState)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!pt.isReady){try{i.doScroll("left")}catch(e){return t.setTimeout(o,50)}s(),pt.ready()}}()}return Mt.promise(e)},pt.ready.promise();var At;for(At in pt(ut))break;ut.ownFirst="0"===At,ut.inlineBlockNeedsLayout=!1,pt(function(){var t,e,i,n;i=nt.getElementsByTagName("body")[0],i&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ut.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ut.deleteExpando=!0;try{delete t.test}catch(e){ut.deleteExpando=!1}t=null}();var Nt=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!d(t)},data:function(t,e,i){return h(t,e,i)},removeData:function(t,e){return u(t,e)},_data:function(t,e,i){return h(t,e,i,!0)},_removeData:function(t,e){return u(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=pt.data(r),1===r.nodeType&&!pt._data(r,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),l(r,n,o[n])));pt._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):r?l(r,t,pt.data(r,t)):void 0},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,o=i.shift(),r=pt._queueHooks(t,e),s=function(){pt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):void 0===e?this:this.each(function(){var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=pt.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=pt._data(r[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}}),function(){var t;ut.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=nt.getElementsByTagName("body")[0],i&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},zt=function(t,e,i,n,o,r,s){var a=0,l=t.length,d=null==i;if("object"===pt.type(i)){o=!0;for(a in i)zt(t,e,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,pt.isFunction(n)||(s=!0),d&&(s?(e.call(t,n),e=null):(d=e,e=function(t,e,i){return d.call(pt(t),i)})),e))for(;l>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:d?e.call(t):l?e(t[0],i):r},Bt=/^(?:checkbox|radio)$/i,Ht=/<([\w:-]+)/,jt=/^$|\/(?:java|ecma)script/i,Wt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ut.leadingWhitespace=3===t.firstChild.nodeType,ut.tbody=!t.getElementsByTagName("tbody").length,ut.htmlSerialize=!!t.getElementsByTagName("link").length,ut.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ut.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ut.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ut.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ut.attributes=!t.getAttribute(pt.expando)}();var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var qt=/<|&#?\w+;/,Vt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ut[e]=i in t)||(n.setAttribute(i,"t"),ut[e]=n.attributes[i].expando===!1);n=null}();var Kt=/^(?:input|select|textarea)$/i,Gt=/^key/,Xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Zt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,d,h,u,c,p,f,m,g=pt._data(t);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=pt.guid++),(s=g.events)||(s=g.events={}),(h=g.handle)||(h=g.handle=function(t){return"undefined"==typeof pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(Ot)||[""],a=e.length;a--;)r=Zt.exec(e[a])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(d=pt.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=pt.event.special[p]||{},u=pt.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&pt.expr.match.needsContext.test(o),
namespace:f.join(".")},l),(c=s[p])||(c=s[p]=[],c.delegateCount=0,d.setup&&d.setup.call(t,n,f,h)!==!1||(t.addEventListener?t.addEventListener(p,h,!1):t.attachEvent&&t.attachEvent("on"+p,h))),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,u):c.push(u),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,o){var r,s,a,l,d,h,u,c,p,f,m,g=pt.hasData(t)&&pt._data(t);if(g&&(h=g.events)){for(e=(e||"").match(Ot)||[""],d=e.length;d--;)if(a=Zt.exec(e[d])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=pt.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,c=h[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=c.length;r--;)s=c[r],!o&&m!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(c.splice(r,1),s.selector&&c.delegateCount--,u.remove&&u.remove.call(t,s));l&&!c.length&&(u.teardown&&u.teardown.call(t,f,g.handle)!==!1||pt.removeEvent(t,p,g.handle),delete h[p])}else for(p in h)pt.event.remove(t,p+e[d],i,n,!0);pt.isEmptyObject(h)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,o){var r,s,a,l,d,h,u,c=[n||nt],p=ht.call(e,"type")?e.type:e,f=ht.call(e,"namespace")?e.namespace.split("."):[];if(a=h=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Qt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),d=pt.event.special[p]||{},o||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!o&&!d.noBubble&&!pt.isWindow(n)){for(l=d.delegateType||p,Qt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)c.push(a),h=a;h===(n.ownerDocument||nt)&&c.push(h.defaultView||h.parentWindow||t)}for(u=0;(a=c[u++])&&!e.isPropagationStopped();)e.type=u>1?l:d.bindType||p,r=(pt._data(a,"events")||{})[e.type]&&pt._data(a,"handle"),r&&r.apply(a,i),r=s&&a[s],r&&r.apply&&Nt(a)&&(e.result=r.apply(a,i),e.result===!1&&e.preventDefault());if(e.type=p,!o&&!e.isDefaultPrevented()&&(!d._default||d._default.apply(c.pop(),i)===!1)&&Nt(n)&&s&&n[p]&&!pt.isWindow(n)){h=n[s],h&&(n[s]=null),pt.event.triggered=p;try{n[p]()}catch(m){}pt.event.triggered=void 0,h&&(n[s]=h)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,o,r,s=[],a=ot.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],d=pt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,t)!==!1){for(s=pt.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((pt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?pt(o,this).index(l)>-1:pt.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[pt.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Xt.test(o)?this.mouseHooks:Gt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new pt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,o=n.documentElement,i=n.body,t.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?y:b):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==n&&!pt.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ut.submit||(pt.event.special.submit={setup:function(){return pt.nodeName(this,"form")?!1:void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),pt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){return pt.nodeName(this,"form")?!1:void pt.event.remove(this,"._submit")}}),ut.change||(pt.event.special.change={setup:function(){return Kt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Kt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),ut.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=pt._data(n,e);o||n.addEventListener(t,i,!0),pt._data(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=pt._data(n,e)-1;o?pt._data(n,e,o):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}}),pt.fn.extend({on:function(t,e,i,n){return _(this,t,e,i,n)},one:function(t,e,i,n){return _(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=b),this.each(function(){pt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?pt.event.trigger(t,e,i,!0):void 0}});var Jt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Ut+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ie=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se=p(nt),ae=se.appendChild(nt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a,l=pt.contains(t.ownerDocument,t);if(ut.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ae.innerHTML=t.outerHTML,ae.removeChild(r=ae.firstChild)),!(ut.noCloneEvent&&ut.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(r),a=f(t),s=0;null!=(o=a[s]);++s)n[s]&&T(o,n[s]);if(e)if(i)for(a=a||f(t),n=n||f(r),s=0;null!=(o=a[s]);s++)E(o,n[s]);else E(t,r);return n=f(r,"script"),n.length>0&&m(n,!l&&f(t,"script")),n=a=o=null,r},cleanData:function(t,e){for(var i,n,o,r,s=0,a=pt.expando,l=pt.cache,d=ut.attributes,h=pt.event.special;null!=(i=t[s]);s++)if((e||Nt(i))&&(o=i[a],r=o&&l[o])){if(r.events)for(n in r.events)h[n]?pt.event.remove(i,n):pt.removeEvent(i,n,r.handle);l[o]&&(delete l[o],d||"undefined"==typeof i.removeAttribute?i[a]=void 0:i.removeAttribute(a),it.push(o))}}}),pt.fn.extend({domManip:S,detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return zt(this,function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return S(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return S(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return zt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Jt,""):void 0;if("string"==typeof t&&!ie.test(t)&&(ut.htmlSerialize||!te.test(t))&&(ut.leadingWhitespace||!Wt.test(t))&&!Yt[(Ht.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return S(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=0,o=[],r=pt(t),s=r.length-1;s>=n;n++)i=n===s?this:this.clone(!0),pt(r[n])[e](i),st.apply(o,i.get());return this.pushStack(o)}});var le,de={HTML:"block",BODY:"block"},he=/^margin/,ue=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),ce=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o},pe=nt.documentElement;!function(){function e(){var e,h,u=nt.documentElement;u.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=a=!1,n=s=!0,t.getComputedStyle&&(h=t.getComputedStyle(d),i="1%"!==(h||{}).top,a="2px"===(h||{}).marginLeft,o="4px"===(h||{width:"4px"}).width,d.style.marginRight="50%",n="4px"===(h||{marginRight:"4px"}).marginRight,e=d.appendChild(nt.createElement("div")),e.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",d.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),d.removeChild(e)),d.style.display="none",r=0===d.getClientRects().length,r&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===e[0].offsetHeight,r&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),u.removeChild(l)}var i,n,o,r,s,a,l=nt.createElement("div"),d=nt.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ut.opacity="0.5"===d.style.opacity,ut.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ut.clearCloneStyle="content-box"===d.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),ut.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,pt.extend(ut,{reliableHiddenOffsets:function(){return null==i&&e(),r},boxSizingReliable:function(){return null==i&&e(),o},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var fe,me,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},me=function(t,e,i){var n,o,r,s,a=t.style;return i=i||fe(t),s=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==s||pt.contains(t.ownerDocument,t)||(s=pt.style(t,e)),!ut.pixelMarginRight()&&ue.test(s)&&he.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0===s?s:s+""}):pe.currentStyle&&(fe=function(t){return t.currentStyle},me=function(t,e,i){var n,o,r,s,a=t.style;return i=i||fe(t),s=i?i[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ue.test(s)&&!ge.test(e)&&(n=a.left,o=t.runtimeStyle,r=o&&o.left,r&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=n,r&&(o.left=r)),void 0===s?s:s+""||"auto"});var ve=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Rt+")(.*)$","i"),_e={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Ce=["Webkit","O","Moz","ms"],ke=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=me(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=pt.camelCase(e),l=t.style;if(e=pt.cssProps[a]||(pt.cssProps[a]=N(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:l[e];if(r=typeof i,"string"===r&&(o=Lt.exec(i))&&o[1]&&(i=c(t,e,o),r="number"),null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(pt.cssNumber[a]?"":"px")),ut.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(t,i,n)))))try{l[e]=i}catch(d){}}},css:function(t,e,i,n){var o,r,s,a=pt.camelCase(e);return e=pt.cssProps[a]||(pt.cssProps[a]=N(a)||a),s=pt.cssHooks[e]||pt.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=me(t,e,n)),"normal"===r&&e in xe&&(r=xe[e]),""===i||i?(o=parseFloat(r),i===!0||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){return i?be.test(pt.css(t,"display"))&&0===t.offsetWidth?ce(t,_e,function(){return L(t,e,n)}):L(t,e,n):void 0},set:function(t,i,n){var o=n&&fe(t);return F(t,i,n?R(t,e,n,ut.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,o),o):0)}}}),ut.opacity||(pt.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(r.replace(ve,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ve.test(r)?r.replace(ve,o):r+" "+o)}}),pt.cssHooks.marginRight=A(ut.reliableMarginRight,function(t,e){return e?ce(t,{display:"inline-block"},me,[t,"marginRight"]):void 0}),pt.cssHooks.marginLeft=A(ut.reliableMarginLeft,function(t,e){return e?(parseFloat(me(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-ce(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Pt[n]+e]=r[n]||r[n-2]||r[0];return o}},he.test(t)||(pt.cssHooks[t+e].set=F)}),pt.fn.extend({css:function(t,e){return zt(this,function(t,e,i){var n,o,r={},s=0;if(pt.isArray(e)){for(n=fe(t),o=e.length;o>s;s++)r[e[s]]=pt.css(t,e[s],!1,n);return r}return void 0!==i?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=P,P.prototype={constructor:P,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(pt.cssNumber[i]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,i=P.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=P.prototype.init,pt.fx.step={};var Ee,Te,Se=/^(?:toggle|show|hide)$/,De=/queueHooks$/;pt.Animation=pt.extend(W,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return c(i.elem,t,Lt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ot);for(var i,n=0,o=t.length;o>n;n++)i=t[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(e)},prefilters:[H],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=pt.isEmptyObject(t),r=pt.speed(e,i,n),s=function(){var e=W(this,pt.extend({},t),r);(o||pt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=pt.timers,s=pt._data(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&De.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));(e||!i)&&pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=pt._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=pt.timers,s=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(z(e,!0),t,n,o)}}),pt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for(Ee=pt.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),Ee=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Te||(Te=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Te),Te=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),o=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ut.getSetAttribute="t"!==i.className,ut.style=/top/.test(t.getAttribute("style")),ut.hrefNormalized="/a"===t.getAttribute("href"),ut.checkOn=!!e.value,ut.optSelected=o.selected,ut.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ut.optDisabled=!o.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ut.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ut.radioValue="t"===e.value}();var Oe=/\r/g;pt.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=pt.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,pt(this).val()):t,null==o?o="":"number"==typeof o?o+="":pt.isArray(o)&&(o=pt.map(o,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=pt.valHooks[o.type]||pt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(Oe,""):null==i?"":i)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:n.length,l=0>o?a:r?o:0;a>l;l++)if(i=n[l],(i.selected||l===o)&&(ut.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=pt.makeArray(e),s=o.length;s--;)if(n=o[s],pt.inArray(pt.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>-1:void 0}},ut.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Me,Ae,Ne=pt.expr.attrHandle,Ie=/^(?:checked|selected)$/i,Fe=ut.getSetAttribute,Re=ut.input;pt.fn.extend({attr:function(t,e){return zt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?pt.prop(t,e,i):(1===r&&pt.isXMLDoc(t)||(e=e.toLowerCase(),o=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Ae:Me)),void 0!==i?null===i?void pt.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=pt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ut.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(Ot);if(r&&1===t.nodeType)for(;i=r[o++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?Re&&Fe||!Ie.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(Fe?i:n)}}),Ae={set:function(t,e,i){return e===!1?pt.removeAttr(t,i):Re&&Fe||!Ie.test(i)?t.setAttribute(!Fe&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ne[e]||pt.find.attr;Re&&Fe||!Ie.test(e)?Ne[e]=function(t,e,n){var o,r;return n||(r=Ne[e],Ne[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,Ne[e]=r),o}:Ne[e]=function(t,e,i){return i?void 0:t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Re&&Fe||(pt.attrHooks.value={set:function(t,e,i){return pt.nodeName(t,"input")?void(t.defaultValue=e):Me&&Me.set(t,e,i)}}),Fe||(Me={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Ne.id=Ne.name=Ne.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:Me.set},pt.attrHooks.contenteditable={set:function(t,e,i){Me.set(t,""===e?!1:e,i)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ut.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Le=/^(?:input|select|textarea|button|object)$/i,Pe=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return zt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),pt.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,o=pt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Le.test(t.nodeName)||Pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ut.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ut.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ut.enctype||(pt.propFix.enctype="encoding");var $e=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,U(this)))});if("string"==typeof t&&t)for(e=t.match(Ot)||[];i=this[l++];)if(o=U(i),n=1===i.nodeType&&(" "+o+" ").replace($e," ")){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=pt.trim(n),o!==a&&pt.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ot)||[];i=this[l++];)if(o=U(i),n=1===i.nodeType&&(" "+o+" ").replace($e," ")){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=pt.trim(n),o!==a&&pt.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,U(this),e),e)}):this.each(function(){var e,n,o,r;if("string"===i)for(n=0,o=pt(this),r=t.match(Ot)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(void 0===t||"boolean"===i)&&(e=U(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||t===!1?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+U(i)+" ").replace($e," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var ze=t.location,Be=pt.now(),He=/\?/,je=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,o=pt.trim(e+"");return o&&!pt.trim(o.replace(je,function(t,e,o,r){return i&&e&&(n=0),0===n?t:(i=o||e,n+=!r-!o,"")}))?Function("return "+o)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var We=/#.*$/,Ue=/([?&])_=[^&]*/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Ke=/^\/\//,Ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xe={},Qe={},Ze="*/".concat("*"),Je=ze.href,ti=Ge.exec(Je.toLowerCase())||[];
pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Je,type:"GET",isLocal:qe.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,pt.ajaxSettings),e):V(pt.ajaxSettings,t)},ajaxPrefilter:Y(Xe),ajaxTransport:Y(Qe),ajax:function(e,i){function n(e,i,n,o){var r,u,y,b,_,C=i;2!==w&&(w=2,l&&t.clearTimeout(l),h=void 0,a=o||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(b=K(c,x,n)),b=G(c,b,x,r),r?(c.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(pt.lastModified[s]=_),_=x.getResponseHeader("etag"),_&&(pt.etag[s]=_)),204===e||"HEAD"===c.type?C="nocontent":304===e?C="notmodified":(C=b.state,u=b.data,y=b.error,r=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(i||C)+"",r?m.resolveWith(p,[u,C,x]):m.rejectWith(p,[x,C,y]),x.statusCode(v),v=void 0,d&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,c,r?u:y]),g.fireWith(p,[x,C]),d&&(f.trigger("ajaxComplete",[x,c]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,r,s,a,l,d,h,u,c=pt.ajaxSetup({},i),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?pt(p):pt.event,m=pt.Deferred(),g=pt.Callbacks("once memory"),v=c.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!u)for(u={};e=Ye.exec(a);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return w||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return h&&h.abort(e),n(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||Je)+"").replace(We,"").replace(Ke,ti[1]+"//"),c.type=i.method||i.type||c.method||c.type,c.dataTypes=pt.trim(c.dataType||"*").toLowerCase().match(Ot)||[""],null==c.crossDomain&&(o=Ge.exec(c.url.toLowerCase()),c.crossDomain=!(!o||o[1]===ti[1]&&o[2]===ti[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=pt.param(c.data,c.traditional)),q(Xe,c,i,x),2===w)return x;d=pt.event&&c.global,d&&0===pt.active++&&pt.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Ve.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(He.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Ue.test(s)?s.replace(Ue,"$1_="+Be++):s+(He.test(s)?"&":"?")+"_="+Be++)),c.ifModified&&(pt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",pt.lastModified[s]),pt.etag[s]&&x.setRequestHeader("If-None-Match",pt.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Ze+"; q=0.01":""):c.accepts["*"]);for(r in c.headers)x.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(c.beforeSend.call(p,x,c)===!1||2===w))return x.abort();_="abort";for(r in{success:1,error:1,complete:1})x[r](c[r]);if(h=q(Qe,c,i,x)){if(x.readyState=1,d&&f.trigger("ajaxSend",[x,c]),2===w)return x;c.async&&c.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},c.timeout));try{w=1,h.send(y,n)}catch(C){if(!(2>w))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,o){return pt.isFunction(i)&&(o=o||n,n=i,i=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:o,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ut.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ei=/%20/g,ii=/\[\]$/,ni=/\r?\n/g,oi=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],o=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){o(this.name,this.value)});else for(i in t)Z(i,t[i],e,o);return n.join("&").replace(ei,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&ri.test(this.nodeName)&&!oi.test(t)&&(this.checked||!Bt.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(ni,"\r\n")}}):{name:e.name,value:i.replace(ni,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var si=0,ai={},li=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ai)ai[t](void 0,!0)}),ut.cors=!!li&&"withCredentials"in li,li=ut.ajax=!!li,li&&pt.ajaxTransport(function(e){if(!e.crossDomain||ut.cors){var i;return{send:function(n,o){var r,s=e.xhr(),a=++si;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&s.setRequestHeader(r,n[r]+"");s.send(e.hasContent&&e.data||null),i=function(t,n){var r,l,d;if(i&&(n||4===s.readyState))if(delete ai[a],i=void 0,s.onreadystatechange=pt.noop,n)4!==s.readyState&&s.abort();else{d={},r=s.status,"string"==typeof s.responseText&&(d.text=s.responseText);try{l=s.statusText}catch(h){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=d.text?200:404}d&&o(r,l,d,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(i):s.onreadystatechange=ai[a]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,o){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||o(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var di=[],hi=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=di.pop()||pt.expando+"_"+Be++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,s,a=e.jsonp!==!1&&(hi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hi.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(hi,"$1"+o):e.jsonp!==!1&&(e.url+=(He.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||pt.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always(function(){void 0===r?pt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,di.push(o)),s&&pt.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),ut.createHTMLDocument=function(){if(!nt.implementation.createHTMLDocument)return!1;var t=nt.implementation.createHTMLDocument("");return t.body.innerHTML="<form></form><form></form>",2===t.body.childNodes.length}(),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(ut.createHTMLDocument?nt.implementation.createHTMLDocument(""):nt);var n=xt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],n.childNodes))};var ui=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&ui)return ui.apply(this,arguments);var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=pt.trim(t.slice(a,t.length)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&pt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(s,r||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,d,h=pt.css(t,"position"),u=pt(t),c={};"static"===h&&(t.style.position="relative"),a=u.offset(),r=pt.css(t,"top"),l=pt.css(t,"left"),d=("absolute"===h||"fixed"===h)&&pt.inArray("auto",[r,l])>-1,d?(n=u.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):u.css(c)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,pt.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(n=o.getBoundingClientRect()),i=et(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0)-t.scrollTop(),i.left+=pt.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||pe})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return zt(this,function(t,n,o){var r=et(t);return void 0===o?r?e in r?r[e]:r.document.documentElement[n]:t[n]:void(r?r.scrollTo(i?pt(r).scrollLeft():o,i?o:pt(r).scrollTop()):t[n]=o)},t,n,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=A(ut.pixelPosition,function(t,i){return i?(i=me(t,e),ue.test(i)?pt(t).position()[e]+"px":i):void 0})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border");return zt(this,function(e,i,n){var o;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?pt.css(e,i,s):pt.style(e,i,n,s)},e,r?n:void 0,r,null)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var ci=t.jQuery,pi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=pi),e&&t.jQuery===pt&&(t.jQuery=ci),pt},e||(t.jQuery=t.$=pt),pt}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var o,r,s,a,l,d;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),s=t(n[0].elements).serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),s=n.data("params")||null);return d={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},a&&(d.xhrFields={withCredentials:a}),r&&(d.url=r),i.ajax(d)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),s=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),d=t('<form method="post" action="'+o+'"></form>'),h='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||i.isCrossDomain(o)||(h+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&d.attr("target",s),d.hide().append(h).appendTo("body"),d.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,r,s=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;s=s.add(o)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),o=n.data("method"),r=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=i.handleRemote(n);return a===!1?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,r,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if(o=i.blankInputs(s,i.requiredInputSelector,!1),o&&i.fire(s,"ajax:aborted:required",[o]))return i.stopEverything(n)}else s.data("ujs:formnovalidate-button",e);if(a){if(r=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e="ui-effects-",i=t;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=d(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,o){var r,s=o.re.exec(e),a=s&&o.parse(s),l=o.space||"rgba";return a?(r=i[l](a),i[h[l].cache]=r[h[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],d=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=d.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),d.fn=t.extend(d.prototype,{parse:function(o,s,a,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(s),s=e);var u=this,c=t.type(o),p=this._rgba=[];return s!==e&&(o=[o,s,a,l],c="array"),"string"===c?this.parse(n(o)||r._default):"array"===c?(f(h.rgba.props,function(t,e){p[e.idx]=i(o[e.idx],e)}),this):"object"===c?(o instanceof d?f(h,function(t,e){o[e.cache]&&(u[e.cache]=o[e.cache].slice())}):f(h,function(e,n){var r=n.cache;f(n.props,function(t,e){if(!u[r]&&n.to){if("alpha"===t||null==o[t])return;u[r]=n.to(u._rgba)}u[r][e.idx]=i(o[t],e,!0)}),u[r]&&t.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,n.from&&(u._rgba=n.from(u[r])))}),this):void 0},is:function(t){var e=d(t),i=!0,n=this;return f(h,function(t,o){var r,s=e[o.cache];return s&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,e){return null!=s[e.idx]?i=s[e.idx]===r[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(h,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=d(t),o=n._space(),r=h[o],s=0===this.alpha()?d("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return n=n[r.cache],f(r.props,function(t,o){var r=o.idx,s=a[r],d=n[r],h=u[o.type]||{};null!==d&&(null===s?l[r]=d:(h.mod&&(d-s>h.mod/2?s+=h.mod:s-d>h.mod/2&&(s-=h.mod)),l[r]=i((d-s)*e+s,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=d(e)._rgba;return d(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(n,o,r),l=Math.min(n,o,r),d=a-l,h=a+l,u=.5*h;return e=l===a?0:n===a?60*(o-r)/d+360:o===a?60*(r-n)/d+120:60*(n-o)/d+240,i=0===d?0:.5>=u?d/h:d/(2-h),[Math.round(e)%360,i,u,null==s?1:s]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},f(h,function(n,o){var r=o.props,s=o.cache,l=o.to,h=o.from;d.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var o,a=t.type(n),u="array"===a||"object"===a?n:arguments,c=this[s].slice();return f(r,function(t,e){var n=u["object"===a?t:e.idx];null==n&&(n=c[e.idx]),c[e.idx]=i(n,e)}),h?(o=d(h(c)),o[s]=c,o):d(c)},f(r,function(e,i){d.fn[e]||(d.fn[e]=function(o){var r,s=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":n,d=this[l](),h=d[i.idx];return"undefined"===s?h:("function"===s&&(o=o.call(this,h),s=t.type(o)),null==o&&i.empty?this:("string"===s&&(r=a.exec(o),r&&(o=h+parseFloat(r[2])*("+"===r[1]?1:-1))),d[i.idx]=o,this[l](d)))})})}),d.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,o){var r,s,a="";if("transparent"!==o&&("string"!==t.type(o)||(r=n(o)))){if(o=d(r||o),!c.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=d(e.elem,i),e.end=d(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},d.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function e(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(r[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}function n(e,i){var n,o,s={};for(n in i)o=i[n],e[n]!==o&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(s[n]=o));return s}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(i,r,s,a){var l=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr("class")||"",d=l.children?s.find("*").addBack():s;d=d.map(function(){var i=t(this);return{el:i,start:e(this)}}),r=function(){t.each(o,function(t,e){i[e]&&s[e+"Class"](i[e])})},r(),d=d.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),d=d.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,d.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,o,r){return n?t.effects.animateClass.call(this,{add:i},n,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,o,r,s){return"boolean"==typeof n||void 0===n?o?t.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,o,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,r)}})}(),function(){function i(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,i){for(var n=0;n<i.length;n++)null!==i[n]&&t.data(e+i[n],t[0].style[i[n]])},restore:function(t,i){var n,o;for(o=0;o<i.length;o++)null!==i[o]&&(n=t.data(e+i[o]),void 0===n&&(n=""),t.css(i[o],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}var o=t(this),r=n.complete,a=n.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),i()):s.call(o[0],n,i)}var n=i.apply(this,arguments),o=n.mode,r=n.queue,s=t.effects.effect[n.effect];return t.fx.off||!s?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(e):this.queue(r||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects}),/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.blind=function(e,i){var n,o,r,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,d=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(s,e.mode||"hide"),u=e.direction||"up",c=a.test(u),p=c?"height":"width",f=c?"top":"left",m=l.test(u),g={},v="show"===h;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),d):t.effects.save(s,d),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o=n[p](),r=parseFloat(n.css(f))||0,g[p]=v?o:0,m||(s.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:o+r),v&&(n.css(p,0),m||n.css(f,r+o)),n.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===h&&s.hide(),t.effects.restore(s,d),t.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.bounce=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),d="hide"===l,h="show"===l,u=e.direction||"up",c=e.distance,p=e.times||5,f=2*p+(h||d?1:0),m=e.duration/f,g=e.easing,v="up"===u||"down"===u?"top":"left",y="up"===u||"left"===u,b=s.queue(),w=b.length;for((h||d)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),c||(c=s["top"===v?"outerHeight":"outerWidth"]()/3),h&&(r={opacity:1},r[v]=0,s.css("opacity",0).css(v,y?2*-c:2*c).animate(r,m,g)),d&&(c/=Math.pow(2,p-1)),r={},r[v]=0,n=0;p>n;n++)o={},o[v]=(y?"-=":"+=")+c,s.animate(o,m,g).animate(r,m,g),c=d?2*c:c/2;d&&(o={opacity:0},o[v]=(y?"-=":"+=")+c,s.animate(o,m,g)),s.queue(function(){d&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),s.dequeue()}}),/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.clip=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),d="show"===l,h=e.direction||"vertical",u="vertical"===h,c=u?"height":"width",p=u?"top":"left",f={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o="IMG"===s[0].tagName?n:s,r=o[c](),d&&(o.css(c,0),o.css(p,r/2)),f[c]=d?r:0,f[p]=d?0:r/2,o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){d||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.drop=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(o,e.mode||"hide"),a="show"===s,l=e.direction||"left",d="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",u={opacity:a?1:0};t.effects.save(o,r),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===d?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(d,"pos"===h?-n:n),u[d]=(a?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+n,o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}),/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===u*c&&o()}function o(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i()}var r,s,a,l,d,h,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/u),b=[];for(r=0;u>r;r++)for(l=g.top+r*y,h=r-(u-1)/2,s=0;c>s;s++)a=g.left+s*v,d=s-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-r*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?d*v:0),top:l+(m?h*y:0),opacity:m?0:1}).animate({left:a+(m?0:d*v),top:l+(m?0:h*y),opacity:m?1:0},e.duration||500,e.easing,n)}}),/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}),/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fold=function(e,i){var n,o,r=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"hide"),l="show"===a,d="hide"===a,h=e.size||15,u=/([0-9]+)%/.exec(h),c=!!e.horizFirst,p=l!==c,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(r,s),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(h=parseInt(u[1],10)/100*o[d?0:1]),l&&n.css(c?{height:0,width:h}:{height:h,width:0}),g[f[0]]=l?o[0]:h,v[f[1]]=l?o[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){d&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()})}}),/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),t.effects.restore(n,o),i()}})}}),/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.size=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],d=["width","height","overflow"],h=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(s,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=s.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===p?(s.from=e.to||b,s.to=e.from||n):(s.from=e.from||("show"===p?b:n),s.to=e.to||("hide"===p?b:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===m||"both"===m)&&(r.from.y!==r.to.y&&(y=y.concat(u),s.from=t.effects.setTransition(s,u,r.from.y,s.from),s.to=t.effects.setTransition(s,u,r.to.y,s.to)),r.from.x!==r.to.x&&(y=y.concat(c),s.from=t.effects.setTransition(s,c,r.from.x,s.from),s.to=t.effects.setTransition(s,c,r.to.x,s.to))),("content"===m||"both"===m)&&r.from.y!==r.to.y&&(y=y.concat(h).concat(d),s.from=t.effects.setTransition(s,h,r.from.y,s.from),s.to=t.effects.setTransition(s,h,r.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(o=t.effects.getBaseline(g,n),s.from.top=(n.outerHeight-s.outerHeight())*o.y,s.from.left=(n.outerWidth-s.outerWidth())*o.x,s.to.top=(n.outerHeight-s.to.outerHeight)*o.y,s.to.left=(n.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(h),c=c.concat(["marginLeft","marginRight"]),d=a.concat(u).concat(c),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,d),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=t.effects.setTransition(i,u,r.from.y,i.from),i.to=t.effects.setTransition(i,u,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=t.effects.setTransition(i,c,r.from.x,i.from),i.to=t.effects.setTransition(i,c,r.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,d)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),t.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),o=t?s.to.left:s.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],t):t(jQuery)}(function(t){return t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),r=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",l=e.origin,d={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},h={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:d),o.to={height:d.height*h.y,width:d.width*h.x,outerHeight:d.outerHeight*h.y,outerWidth:d.outerWidth*h.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)}}),/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],t):t(jQuery)}(function(t){return t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),r="hide"===o,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)}}),/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.pulsate=function(e,i){var n,o=t(this),r=t.effects.setMode(o,e.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,d=2*(e.times||5)+(l?1:0),h=e.duration/d,u=0,c=o.queue(),p=c.length;for((s||!o.is(":visible"))&&(o.css("opacity",0).show(),u=1),n=1;d>n;n++)o.animate({opacity:u},h,e.easing),u=1-u;o.animate({opacity:u},h,e.easing),o.queue(function(){a&&o.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,d+1))),o.dequeue()}}),/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.shake=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,d=e.times||3,h=2*d+1,u=Math.round(e.duration/h),c="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=o.queue(),y=v.length;for(t.effects.save(o,r),o.show(),t.effects.createWrapper(o),f[c]=(p?"-=":"+=")+l,m[c]=(p?"+=":"-=")+2*l,g[c]=(p?"-=":"+=")+2*l,o.animate(f,u,e.easing),n=1;d>n;n++)o.animate(m,u,e.easing).animate(g,u,e.easing);o.animate(m,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,h+1))),o.dequeue()}}),/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.slide=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(o,e.mode||"show"),a="show"===s,l=e.direction||"left",d="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u={};t.effects.save(o,r),o.show(),n=e.distance||o["top"===d?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(d,h?isNaN(n)?"-"+n:-n:n),u[d]=(a?h?"+=":"-=":h?"-=":"+=")+n,o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}),/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,d=o.offset(),h={top:d.top-a,left:d.left-l,height:o.innerHeight(),width:o.innerWidth()},u=n.offset(),c=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-a,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(h,e.duration,e.easing,function(){c.remove(),i()})}}),function(t){function e(t){return"object"==typeof t?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(e){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return e;var n=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},t.fn.scrollTo=function(n,o,r){return"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"==n&&(n=9e9),r=t.extend({},i.defaults,r),o=o||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(o/=2),r.offset=e(r.offset),r.over=e(r.over),this._scrollable().each(function(){function s(t){d.animate(u,o,r.easing,t&&function(){t.call(this,n,r)})}if(null!=n){var a,l=this,d=t(l),h=n,u={},c=d.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(h)){h=e(h);break}if(h=t(h,this),!h.length)return;case"object":(h.is||h.style)&&(a=(h=t(h)).offset())}t.each(r.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",o=n.toLowerCase(),p="scroll"+n,f=l[p],m=i.max(l,e);if(a)u[p]=a[o]+(c?0:f-d.offset()[o]),r.margin&&(u[p]-=parseInt(h.css("margin"+n))||0,u[p]-=parseInt(h.css("border"+n+"Width"))||0),u[p]+=r.offset[o]||0,r.over[o]&&(u[p]+=h["x"==e?"width":"height"]()*r.over[o]);else{var g=h[o];u[p]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}r.limit&&/^\d+$/.test(u[p])&&(u[p]=u[p]<=0?0:Math.min(u[p],m)),!t&&r.queue&&(f!=u[p]&&s(r.onAfterFirst),delete u[p])}),s(r.onAfter)}}).end()},i.max=function(e,i){var n="x"==i?"Width":"Height",o="scroll"+n;if(!t(e).is("html,body"))return e[o]-t(e)[n.toLowerCase()]();var r="client"+n,s=e.ownerDocument.documentElement,a=e.ownerDocument.body;return Math.max(s[o],a[o])-Math.min(s[r],a[r])}}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var r=e(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();i.call(r,a)})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new i(this,s)),"string"==typeof e?r[e](n):s.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),r=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,s,this)})}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),r="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),r="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":t-n>=o+s?!1:"bottom";var a=null==this.affixed,l=a?o:r.top,d=a?s:e;return null!=i&&i>=o?"top":null!=n&&l+d>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,s=t(document.body).height();"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(a);d&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var h=this.getPosition(),u=r[0].offsetWidth,c=r[0].offsetHeight;if(d){var p=a,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&h.bottom+c>m.bottom?"top":"top"==a&&h.top-c<m.top?"bottom":"right"==a&&h.right+u>m.width?"left":"left"==a&&h.left-u<m.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,h,u,c);this.applyPlacement(g,a);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=r&&(e.top=e.top+r-d);var h=this.getViewportAdjustedDelta(i,e,l,d);h.left?e.left+=h.left:e.top+=h.top;var u=/top|bottom/.test(i),c=u?2*h.left-o+l:2*h.top-r+d,p=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(c,n[0][p],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var d=e.left-r,h=e.left+r+i;d<s.left?o.left=s.left-d:h>s.width&&(o.left=s.left+s.width-h)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){e&&3===e.which||(t(o).remove(),t(r).each(function(){var n=t(this),o=i(n),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var r=i(o),s=r.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),s=o.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&o.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var d=l.index(e.target);38==e.which&&d>0&&d--,40==e.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var d=r[0],h=t.Event("slide.bs.carousel",{relatedTarget:d,direction:a});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:d,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(c)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(){var t;$.fn.twitter_bootstrap_confirmbox={defaults:{title:null,proceed:"OK",proceed_class:"btn proceed",cancel:"Cancel",cancel_class:"btn cancel",fade:!1,modal_class:""}},t=function(t,e,i){var n,o;return o="function"==typeof $().emulateTransitionEnd?3:2,n=2===o?$('<div class="modal hide" id="confirmation_dialog"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h3 class="modal-title">...</h3> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div>'):$('<div class="modal" id="confirmation_dialog" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h4 class="modal-title">...</h4> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div> </div> </div>'),n.addClass(e.data("confirm-modal-class")||$.fn.twitter_bootstrap_confirmbox.defaults.modal_class),(e.data("confirm-fade")||$.fn.twitter_bootstrap_confirmbox.defaults.fade)&&n.addClass("fade"),n.find(".modal-header").find(".modal-title").html(e.data("confirm-title")||$.fn.twitter_bootstrap_confirmbox.defaults.title||window.top.location.origin).end().end().find(".modal-body").html(t.toString().replace(/\n/g,"<br />")).end().find(".modal-footer").append($("<a />",{href:"#","data-dismiss":"modal"}).html(e.data("confirm-cancel")||$.fn.twitter_bootstrap_confirmbox.defaults.cancel).addClass($.fn.twitter_bootstrap_confirmbox.defaults.cancel_class).addClass(e.data("confirm-cancel-class")||"btn-default").click(function(t){return t.preventDefault(),n.modal("hide")}),$("<a />",{href:"#"}).html(e.data("confirm-proceed")||$.fn.twitter_bootstrap_confirmbox.defaults.proceed).addClass($.fn.twitter_bootstrap_confirmbox.defaults.proceed_class).addClass(e.data("confirm-proceed-class")||"btn-primary").click(function(t){return t.preventDefault(),n.modal("hide"),i()})).end().on("keypress",function(t){return 13===t.keyCode?$(".modal-footer a:last").trigger("click"):void 0}).on("hidden",function(){return $(this).remove()}).modal("show").appendTo(document.body)},"function"==typeof $().modal&&($.rails.allowAction=function(e){var i,n;return $(e).blur(),n=e.data("confirm"),i=!1,n?($.rails.fire(e,"confirm")&&t(n,e,function(){var t,n;return $.rails.fire(e,"confirm:complete",[i])?(t=$.rails.allowAction,$.rails.allowAction=function(){return!0},e.get(0).click?e.get(0).click():"undefined"!=typeof Event&&null!==Event?(n=new Event("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:document.body.parentNode}),e.get(0).dispatchEvent(n)):$.isFunction(document.createEvent)&&(n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,document.body.parentNode),e.get(0).dispatchEvent(n)),$.rails.allowAction=t):void 0}),!1):!0})}.call(this),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";var e=function(i,n){this.id=++t.FE.ID,this.opts=t.extend(!0,{},t.extend({},e.DEFAULTS,"object"==typeof n&&n));var o=JSON.stringify(this.opts);t.FE.OPTS_MAPPING[o]=t.FE.OPTS_MAPPING[o]||this.id,this.sid=t.FE.OPTS_MAPPING[o],t.FE.SHARED[this.sid]=t.FE.SHARED[this.sid]||{},this.shared=t.FE.SHARED[this.sid],this.shared.count=(this.shared.count||0)+1,this.$oel=t(i),this.$oel.data("froala.editor",this),this.o_doc=i.ownerDocument,this.o_win="defaultView"in this.o_doc?this.o_doc.defaultView:this.o_doc.parentWindow;var r=t(this.o_win).scrollTop();this.$oel.on("froala.doInit",t.proxy(function(){this.$oel.off("froala.doInit"),this.doc=this.$el.get(0).ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.$doc=t(this.doc),this.$win=t(this.win),this.opts.pluginsEnabled||(this.opts.pluginsEnabled=Object.keys(t.FE.PLUGINS)),this.opts.initOnClick?(this.load(t.FE.MODULES),this.$el.on("mousedown.init touchstart.init dragenter.init focus.init",t.proxy(function(e){if(1===e.which||0===e.which){this.$el.off("mousedown.init dragenter.init focus.init touchstart.init"),this.load(t.FE.MODULES),this.load(t.FE.PLUGINS);var i=e.originalEvent&&e.originalEvent.originalTarget;i&&"IMG"==i.tagName&&t(i).trigger("mousedown"),"undefined"==typeof this.ul&&this.destroy(),this.events.trigger("initialized")}},this))):(this.load(t.FE.MODULES),this.load(t.FE.PLUGINS),t(this.o_win).scrollTop(r),"undefined"==typeof this.ul&&this.destroy(),this.events.trigger("initialized"))},this)),this._init()};e.DEFAULTS={initOnClick:!1,pluginsEnabled:null},e.MODULES={},e.PLUGINS={},e.VERSION="2.2.4",e.INSTANCES=[],e.OPTS_MAPPING={},e.SHARED={},e.ID=0,e.prototype._init=function(){var e=this.$oel.prop("tagName"),i=t.proxy(function(){this._original_html=this._original_html||this.$oel.html(),this.$box=this.$box||this.$oel,this.opts.fullPage&&(this.opts.iframe=!0),this.opts.iframe?(this.$iframe=t('<iframe src="about:blank" frameBorder="0">'),this.$wp=t("<div></div>"),this.$box.html(this.$wp),this.$wp.append(this.$iframe),this.$iframe.get(0).contentWindow.document.open(),this.$iframe.get(0).contentWindow.document.write("<!DOCTYPE html>"),this.$iframe.get(0).contentWindow.document.write("<html><head></head><body></body></html>"),this.$iframe.get(0).contentWindow.document.close(),this.$el=this.$iframe.contents().find("body"),this.$head=this.$iframe.contents().find("head"),this.$html=this.$iframe.contents().find("html"),this.iframe_document=this.$iframe.get(0).contentWindow.document,this.$oel.trigger("froala.doInit")):(this.$el=t("<div></div>"),this.$wp=t("<div></div>").append(this.$el),this.$box.html(this.$wp),this.$oel.trigger("froala.doInit"))},this),n=t.proxy(function(){this.$box=t("<div>"),this.$oel.before(this.$box).hide(),this._original_html=this.$oel.val(),this.$oel.parents("form").on("submit."+this.id,t.proxy(function(){this.events.trigger("form.submit")},this)),this.$oel.parents("form").on("reset."+this.id,t.proxy(function(){this.events.trigger("form.reset")},this)),i()},this),o=t.proxy(function(){this.$el=this.$oel,this.$el.attr("contenteditable",!0).css("outline","none").css("display","inline-block"),this.opts.multiLine=!1,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),r=t.proxy(function(){this.$el=this.$oel,this.opts.toolbarInline=!1,this.$oel.trigger("froala.doInit")},this),s=t.proxy(function(){this.$el=this.$oel,this.opts.toolbarInline=!1,this.$oel.on("click.popup",function(t){t.preventDefault()}),this.$oel.trigger("froala.doInit")},this);this.opts.editInPopup?s():"TEXTAREA"==e?n():"A"==e?o():"IMG"==e?r():"BUTTON"==e||"INPUT"==e?(this.opts.editInPopup=!0,this.opts.toolbarInline=!1,s()):i()},e.prototype.load=function(e){for(var i in e)if(e.hasOwnProperty(i)){if(this[i])continue;if(t.FE.PLUGINS[i]&&this.opts.pluginsEnabled.indexOf(i)<0)continue;if(this[i]=new e[i](this),this[i]._init&&(this[i]._init(),this.opts.initOnClick&&"core"==i))return!1}},e.prototype.destroy=function(){if(this.edit.isDisabled())return!1;if(this.shared.count--,this.events.$off(),this.events.trigger("destroy"),this.events.trigger("shared.destroy"),0===this.shared.count)for(var e in this.shared)this.shared.hasOwnProperty(e)&&delete this.shared[e];this.$oel.parents("form").off("."+this.id),this.$oel.off("click.popup"),this.$oel.removeData("froala.editor"),t.FE.INSTANCES.splice(t.FE.INSTANCES.indexOf(this),1)},t.fn.froalaEditor=function(i){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);if("string"==typeof i){var r=[];return this.each(function(){var e=t(this),o=e.data("froala.editor");if(o){var s,a;if(i.indexOf(".")>0&&o[i.split(".")[0]]?(o[i.split(".")[0]]&&(s=o[i.split(".")[0]]),a=i.split(".")[1]):(s=o,a=i.split(".")[0]),!s[a])return t.error("Method "+i+" does not exist in Froala Editor.");var l=s[a].apply(o,n.slice(1));void 0===l?r.push(this):0===r.length&&r.push(l)}}),1==r.length?r[0]:r}return"object"!=typeof i&&i?void 0:this.each(function(){var n=t(this).data("froala.editor");if(!n){var o=this;new e(o,i)}})},t.fn.froalaEditor.Constructor=e,t.FroalaEditor=e,t.FE=e,t.FE.MODULES.node=function(e){function i(e){return e&&"IFRAME"!=e.tagName?t(e).contents():[]}function n(e){return e?e.nodeType!=Node.ELEMENT_NODE?!1:t.FE.BLOCK_TAGS.indexOf(e.tagName.toLowerCase())>=0:!1}function o(o,r){if(t(o).find("table").length>0)return!1;if(o.querySelectorAll(t.FE.VOID_ELEMENTS.join(",")).length-o.querySelectorAll("br").length)return!1;if(o.querySelectorAll(e.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length)return!1;if(o.querySelectorAll(t.FE.BLOCK_TAGS.join(",")).length>1)return!1;if(o.querySelectorAll(e.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)").length)return!1;var s=i(o);1==s.length&&n(s[0])&&(s=i(s[0]));for(var a=!1,l=0;l<s.length;l++){var d=s[l];if(!(r&&t(d).hasClass("fr-marker")||d.nodeType==Node.TEXT_NODE&&0==d.textContent.length)){if("BR"!=d.tagName&&(d.textContent||"").replace(/\u200B/gi,"").replace(/\n/g,"").length>0)return!1;if(a)return!1;"BR"==d.tagName&&(a=!0)}}return!0}function r(i){for(;i&&i.parentNode!==e.$el.get(0)&&(!i.parentNode||!t(i.parentNode).hasClass("fr-inner"));)if(i=i.parentNode,n(i))return i;return null}function s(i,o,r){if("undefined"==typeof o&&(o=[]),"undefined"==typeof r&&(r=!0),o.push(e.$el.get(0)),o.indexOf(i.parentNode)>=0||i.parentNode&&t(i.parentNode).hasClass("fr-inner")||i.parentNode&&t.FE.SIMPLE_ENTER_TAGS.indexOf(i.parentNode.tagName)>=0&&r)return null;for(;o.indexOf(i.parentNode)<0&&i.parentNode&&!t(i.parentNode).hasClass("fr-inner")&&(t.FE.SIMPLE_ENTER_TAGS.indexOf(i.parentNode.tagName)<0||!r)&&(!n(i)||!n(i.parentNode)||!r);)i=i.parentNode;return i}function a(t){var e={},i=t.attributes;if(i)for(var n=0;n<i.length;n++){var o=i[n];e[o.nodeName]=o.value}return e}function l(t){for(var e="",i=a(t),n=Object.keys(i).sort(),o=0;o<n.length;o++){var r=n[o],s=i[r];e+=s.indexOf('"')<0?" "+r+'="'+s+'"':" "+r+"='"+s+"'"}return e}function d(t){for(var e=t.attributes,i=0;i<e.length;i++){var n=e[i];t.removeAttribute(n.nodeName)}}function h(t){return"<"+t.tagName.toLowerCase()+l(t)+">"}function u(t){return"</"+t.tagName.toLowerCase()+">"}function c(e,i){"undefined"==typeof i&&(i=!0);for(var n=e.previousSibling;n&&i&&t(n).hasClass("fr-marker");)n=n.previousSibling;return n?n.nodeType==Node.TEXT_NODE&&""===n.textContent?c(n):!1:!0}function p(e){return e&&e.nodeType==Node.ELEMENT_NODE&&t.FE.VOID_ELEMENTS.indexOf((e.tagName||"").toLowerCase())>=0}function f(t){return t?["UL","OL"].indexOf(t.tagName)>=0:!1}function m(t){return t===e.$el.get(0)}function g(t){return t===e.doc.activeElement&&(!e.doc.hasFocus||e.doc.hasFocus())&&!!(m(t)||t.type||t.href||~t.tabIndex)}function v(t){return(!t.getAttribute||"false"!=t.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(t.tagName)<0}return{isBlock:n,isEmpty:o,blockParent:r,deepestParent:s,rawAttributes:a,attributes:l,clearAttributes:d,openTagString:h,closeTagString:u,isFirstSibling:c,isList:f,isElement:m,contents:i,isVoid:p,hasFocus:g,isEditable:v}},t.extend(t.FE.DEFAULTS,{htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"],htmlRemoveTags:["script","style"],htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","allowfullscreen","allowtransparency","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","frameborder","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","mozallowfullscreen","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","webkitallowfullscreen","width","wrap"],htmlAllowComments:!0,fullPage:!1}),t.FE.HTML5Map={B:"STRONG",I:"EM",STRIKE:"S"},t.FE.MODULES.clean=function(e){function i(t){if(t.className&&t.className.indexOf("fr-marker")>=0)return!1;var n,o=e.node.contents(t),r=[];for(n=0;n<o.length;n++)o[n].nodeType!=Node.ELEMENT_NODE||e.node.isVoid(o[n])?o[n].nodeType==Node.TEXT_NODE&&(o[n].textContent=o[n].textContent.replace(/\u200b/g,"")):o[n].textContent.replace(/\u200b/g,"").length!=o[n].textContent.length&&i(o[n]);if(t.nodeType==Node.ELEMENT_NODE&&!e.node.isVoid(t)&&(t.normalize(),o=e.node.contents(t),r=t.querySelectorAll(".fr-marker"),o.length-r.length==0)){for(n=0;n<r.length;n++)t.parentNode.insertBefore(r[n].cloneNode(!0),t);return t.parentNode.removeChild(t),!1}}function n(t){if(t.nodeType==Node.COMMENT_NODE)return"<!--"+t.nodeValue+"-->";if(t.nodeType==Node.TEXT_NODE)return t.textContent.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\u00A0/g,"&nbsp;");if(t.nodeType!=Node.ELEMENT_NODE)return t.outerHTML;if(t.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT"].indexOf(t.tagName)>=0)return t.outerHTML;if("IFRAME"==t.tagName)return t.outerHTML;var i=t.childNodes;if(0===i.length)return t.outerHTML;for(var o="",r=0;r<i.length;r++)o+=n(i[r]);return e.node.openTagString(t)+o+e.node.closeTagString(t)}function o(t){return I=[],t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,function(t){return I.push(t),"[FROALA.EDITOR.SCRIPT "+(I.length-1)+"]"}),t=t.replace(/<img((?:[\w\W]*?)) src="/g,'<img$1 data-fr-src="')}function r(t){return t=t.replace(/\[FROALA\.EDITOR\.SCRIPT ([\d]*)\]/gi,function(t,i){return e.opts.htmlRemoveTags.indexOf("script")>=0?"":I[parseInt(i,10)]}),t=t.replace(/<img((?:[\w\W]*?)) data-fr-src="/g,'<img$1 src="')}function s(t){var e;for(e in t)t.hasOwnProperty(e)&&(e.match(N)||delete t[e]);for(var i="",n=Object.keys(t).sort(),o=0;o<n.length;o++)e=n[o],i+=t[e].indexOf('"')<0?" "+e+'="'+t[e]+'"':" "+e+"='"+t[e]+"'";return i}function a(t,i,n){if(e.opts.fullPage){var o=e.html.extractDoctype(n),r=s(e.html.extractNodeAttrs(n,"html"));i=null==i?e.html.extractNode(n,"head")||"<title></title>":i;var a=s(e.html.extractNodeAttrs(n,"head")),l=s(e.html.extractNodeAttrs(n,"body"));return o+"<html"+r+"><head"+a+">"+i+"</head><body"+l+">"+t+"</body></html>"}return t}function l(i,o){var r=t("<div>"+i+"</div>"),s="";if(r){for(var a=e.node.contents(r.get(0)),l=0;l<a.length;l++)o(a[l]);a=e.node.contents(r.get(0));for(var l=0;l<a.length;l++)s+=n(a[l])}return s}function d(t,i,n){t=o(t);var s=t,d=null;if(e.opts.fullPage){var s=e.html.extractNode(t,"body")||(t.indexOf("<body")>=0?"":t);n&&(d=e.html.extractNode(t,"head")||"")}s=l(s,i),d&&(d=l(d,i)),s=s.replace(/>[\r|\n]*<\//g,"></"),s=s.replace(/<br>[\r|\n]*/g,"<br>"),s=s.replace(/<br> */g,"<br>"),s=s.replace(/ *(\r|\n) */g," ");var h=a(s,d,t);return r(h)}function h(t){return t.replace(/\u200b/g,"").length==t.length?t:e.clean.exec(t,i)}function u(){var i=e.$el.get(0).querySelectorAll(Object.keys(t.FE.HTML5Map).join(","));if(i.length){e.selection.save();for(var n=0;n<i.length;n++)""===e.node.attributes(i[n])&&t(i[n]).replaceWith("<"+t.FE.HTML5Map[i[n].tagName]+">"+i[n].innerHTML+"</"+t.FE.HTML5Map[i[n].tagName]+">");e.selection.restore()}}function c(i){if("PRE"==i.tagName&&f(i),i.nodeType==Node.ELEMENT_NODE&&(i.getAttribute("data-fr-src")&&i.setAttribute("data-fr-src",e.helpers.sanitizeURL(i.getAttribute("data-fr-src"))),i.getAttribute("href")&&i.setAttribute("href",e.helpers.sanitizeURL(i.getAttribute("href"))),["TABLE","TBODY","TFOOT","TR"].indexOf(i.tagName)>=0&&(i.innerHTML=i.innerHTML.trim())),!e.opts.pasteAllowLocalImages&&i.nodeType==Node.ELEMENT_NODE&&"IMG"==i.tagName&&i.getAttribute("data-fr-src")&&0==i.getAttribute("data-fr-src").indexOf("file://"))return i.parentNode.removeChild(i),!1;if(i.nodeType==Node.ELEMENT_NODE&&t.FE.HTML5Map[i.tagName]&&""===e.node.attributes(i)){var n=t.FE.HTML5Map[i.tagName],o="<"+n+">"+i.innerHTML+"</"+n+">";i.insertAdjacentHTML("beforebegin",o),i=i.previousSibling,i.parentNode.removeChild(i.nextSibling)}if(e.opts.htmlAllowComments||i.nodeType!=Node.COMMENT_NODE)if(i.tagName&&i.tagName.match(A))i.parentNode.removeChild(i);else if(i.tagName&&!i.tagName.match(M))i.outerHTML=i.innerHTML;else{var r=i.attributes;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s];a.nodeName.match(N)||i.removeAttribute(a.nodeName)}}else 0!==i.data.indexOf("[FROALA.EDITOR")&&i.parentNode.removeChild(i)}function p(t){for(var i=e.node.contents(t),n=0;n<i.length;n++)i[n].nodeType!=Node.TEXT_NODE&&p(i[n]);c(t)}function f(t){var e=t.innerHTML;e.indexOf("\n")>=0&&(t.innerHTML=e.replace(/\n/g,"<br>"))}function m(i,n,o,r){"undefined"==typeof n&&(n=[]),"undefined"==typeof o&&(o=[]),"undefined"==typeof r&&(r=!1),i=i.replace(/\u0009/g,"");var s,a=t.merge([],e.opts.htmlAllowedTags);for(s=0;s<n.length;s++)a.indexOf(n[s])>=0&&a.splice(a.indexOf(n[s]),1);var l=t.merge([],e.opts.htmlAllowedAttrs);for(s=0;s<o.length;s++)l.indexOf(o[s])>=0&&l.splice(l.indexOf(o[s]),1);return l.push("data-fr-.*"),l.push("fr-.*"),M=new RegExp("^"+a.join("$|^")+"$","gi"),N=new RegExp("^"+l.join("$|^")+"$","gi"),A=new RegExp("^"+e.opts.htmlRemoveTags.join("$|^")+"$","gi"),i=d(i,p,!0)}function g(){for(var i=e.$el.get(0).querySelectorAll("blockquote + blockquote"),n=0;n<i.length;n++){var o=i[n];e.node.attributes(o)==e.node.attributes(o.previousSibling)&&(t(o).prev().append(t(o).html()),t(o).remove())}}function v(){for(var t=e.$el.get(0).querySelectorAll("tr"),i=0;i<t.length;i++){for(var n=t[i].children,o=!0,r=0;r<n.length;r++)if("TH"!=n[r].tagName){o=!1;break}if(0!=o&&0!=n.length){for(var s=t[i];s&&"TABLE"!=s.tagName&&"THEAD"!=s.tagName;)s=s.parentNode;var a=s;"THEAD"!=a.tagName&&(a=e.doc.createElement("THEAD"),s.insertBefore(a,s.firstChild)),a.appendChild(t[i])}}}function y(){for(var i=e.$el.get(0).querySelectorAll("table"),n=0;n<i.length;n++){for(var o=i[n].previousSibling;o&&o.nodeType==Node.TEXT_NODE&&0==o.textContent.length;)o=o.previousSibling;!o||e.node.isBlock(o)||"BR"==o.tagName||o.nodeType!=Node.TEXT_NODE&&o.nodeType!=Node.ELEMENT_NODE||t(o).is(e.opts.htmlDoNotWrapTags.join(","))||i[n].parentNode.insertBefore(e.doc.createElement("br"),i[n])}}function b(){var i=e.html.defaultTag();if(i)for(var n=e.$el.get(0).querySelectorAll("td > "+i+", th > "+i),o=0;o<n.length;o++)""===e.node.attributes(n[o])&&t(n[o]).replaceWith(n[o].innerHTML+"<br>")}function w(){v(),y(),b()}function _(){var t=[],i=function(t){return!e.node.isList(t.parentNode)};do{if(t.length){var n=t[0],o=e.doc.createElement("ul");n.parentNode.insertBefore(o,n);do{var r=n;n=n.nextSibling,o.appendChild(r)}while(n&&"LI"==n.tagName)}t=[];for(var s=e.$el.get(0).querySelectorAll("li"),a=0;a<s.length;a++)i(s[a])&&t.push(s[a])}while(t.length>0)}function x(){for(var t=e.$el.get(0).querySelectorAll("ol + ol, ul + ul"),i=0;i<t.length;i++){var n=t[i];if(e.node.attributes(n)==e.node.attributes(n.previousSibling)){for(var o=e.node.contents(n),r=0;r<o.length;r++)n.previousSibling.appendChild(o[r]);n.parentNode.removeChild(n)}}}function C(){var t,i=function(e){0===e.querySelectorAll("LI").length&&(t=!0,e.parentNode.removeChild(e))};do{t=!1;for(var n=e.$el.get(0).querySelectorAll("li:empty"),o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o]);for(var r=e.$el.get(0).querySelectorAll("ul, ol"),o=0;o<r.length;o++)i(r[o])}while(t===!0)}function k(){for(var i=e.$el.get(0).querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),n=0;n<i.length;n++){var o=i[n],r=o.previousSibling;r&&("LI"==r.tagName?r.appendChild(o):t(o).wrap("<li></li>"))}}function E(){for(var i=e.$el.get(0).querySelectorAll("li > ul, li > ol"),n=0;n<i.length;n++){var o=i[n];if(o.nextSibling){var r=o.nextSibling,s=t("<li>");t(o.parentNode).after(s);do{var a=r;r=r.nextSibling,s.append(a)}while(r)}}}function T(){for(var i=e.$el.get(0).querySelectorAll("li > ul, li > ol"),n=0;n<i.length;n++){var o=i[n];if(e.node.isFirstSibling(o))t(o).before("<br/>");else if(o.previousSibling&&"BR"==o.previousSibling.tagName){for(var r=o.previousSibling.previousSibling;r&&t(r).hasClass("fr-marker");)r=r.previousSibling;r&&"BR"!=r.tagName&&t(o.previousSibling).remove()}}}function S(){for(var i=e.$el.get(0).querySelectorAll("li:empty"),n=0;n<i.length;n++)t(i[n]).remove()}function D(){_(),x(),C(),k(),E(),T(),S()}function O(){e.opts.fullPage&&t.merge(e.opts.htmlAllowedTags,["head","title","style","link","base","body","html"])}var M,A,N,I=[],I=[];return{_init:O,html:m,toHTML5:u,tables:w,lists:D,quotes:g,invisibleSpaces:h,exec:d}},t.FE.XS=0,t.FE.SM=1,t.FE.MD=2,t.FE.LG=3,t.FE.MODULES.helpers=function(e){function i(){var t,e,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(t=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=navigator.userAgent,e=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))),i}function n(){var t={},e=i();if(e>0)t.msie=!0;else{var n=navigator.userAgent.toLowerCase(),o=/(edge)[ \/]([\w.]+)/.exec(n)||/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],r={browser:o[1]||"",version:o[2]||"0"};o[1]&&(t[r.browser]=!0),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0)}return t.msie&&(t.version=e),t}function o(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&!a()}function r(){return/(Android)/g.test(navigator.userAgent)&&!a()}function s(){return/(Blackberry)/g.test(navigator.userAgent)}function a(){return/(Windows Phone)/gi.test(navigator.userAgent)}function l(){return r()||o()||s()}function d(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}function h(t){return parseInt(t,10)||0}function u(){var e=t('<div class="fr-visibility-helper"></div>').appendTo("body"),i=h(e.css("margin-left"));return e.remove(),i}function c(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function p(t){if(!/^(https?:|ftps?:|)\/\//.test(t))return!1;t=String(t).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var e=/(http|ftp|https):\/\/[\w-]+(\.[\w-]*)*([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi;return e.test(t)}function f(t){if(/^(https?:|ftps?:|)\/\//.test(t)){if(!p(t)&&!p("http:"+t))return""}else t=encodeURIComponent(t).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/file%3A/g,"file:").replace(/sms%3A/g,"sms:").replace(/tel%3A/g,"tel:").replace(/notes%3A/g,"notes:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return t}function m(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length}function g(t){function e(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}try{return t&&"transparent"!==t?/^#[0-9A-F]{6}$/i.test(t)?t:(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+e(t[1])+e(t[2])+e(t[3])).toUpperCase()):""}catch(i){return null}}function v(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?"rgb("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+")":""}function y(e){var i=(e.css("text-align")||"").replace(/-(.*)-/g,"");if(["left","right","justify","center"].indexOf(i)<0){if(!w){var n=t('<div dir="auto" style="text-align: initial; position: fixed; left: -3000px;"><span id="s1">.</span><span id="s2">.</span></div>');t("body").append(n);var o=n.find("#s1").get(0).getBoundingClientRect().left,r=n.find("#s2").get(0).getBoundingClientRect().left;n.remove(),w=r>o?"left":"right"}i=w}return i}function b(){e.browser=n()}var w;return{_init:b,isIOS:o,isAndroid:r,isBlackberry:s,isWindowsPhone:a,isMobile:l,requestAnimationFrame:d,getPX:h,screenSize:u,isTouch:c,sanitizeURL:f,isArray:m,RGBToHex:g,HEXtoRGB:v,isURL:p,getAlignment:y}},t.FE.MODULES.events=function(e){function i(t,e,i){y(t,e,i)}function n(){i(e.$el,"cut copy paste beforepaste",function(t){_(t.type,[t])})}function o(){i(e.$el,"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart",function(t){_(t.type,[t])}),v("mousedown",function(){for(var i=0;i<t.FE.INSTANCES.length;i++)t.FE.INSTANCES[i]!=e&&t.FE.INSTANCES[i].popups&&t.FE.INSTANCES[i].popups.areVisible()&&t.FE.INSTANCES[i].$el.find(".fr-marker").remove()})}function r(){i(e.$el,"keydown keypress keyup input",function(t){_(t.type,[t])})}function s(){i(e.$win,e._mousedown,function(t){_("window.mousedown",[t]),p()}),i(e.$win,e._mouseup,function(t){_("window.mouseup",[t])}),i(e.$win,"keydown keyup touchmove touchend",function(t){_("window."+t.type,[t])})}function a(){i(e.$doc,"dragend drop",function(t){_("document."+t.type,[t])})}function l(i){if("undefined"==typeof i&&(i=!0),!e.$wp)return!1;if(!e.core.hasFocus()&&i)return e.$el.focus(),!1;if(!e.core.hasFocus()||e.$el.find(".fr-marker").length>0)return!1;var n=e.selection.info(e.$el.get(0));if(n.atStart&&e.selection.isCollapsed()&&null!=e.html.defaultTag()){var o=e.markers.insert();if(o&&!e.node.blockParent(o)){t(o).remove();var r=e.$el.find(e.html.blockTagsQuery()).get(0);r&&(t(r).prepend(t.FE.MARKERS),e.selection.restore())}else o&&t(o).remove()}}function d(){i(e.$el,"focus",function(t){m()&&(l(!1),D===!1&&_(t.type,[t]))}),i(e.$el,"blur",function(t){m()&&D===!0&&_(t.type,[t])}),v("focus",function(){D=!0}),v("blur",function(){D=!1})}function h(){e.helpers.isMobile()?(e._mousedown="touchstart",e._mouseup="touchend",e._move="touchmove",e._mousemove="touchmove"):(e._mousedown="mousedown",e._mouseup="mouseup",e._move="",e._mousemove="mousemove")}function u(i){var n=t(i.currentTarget);return e.edit.isDisabled()||n.hasClass("fr-disabled")?(i.preventDefault(),!1):"mousedown"===i.type&&1!==i.which?!0:(e.helpers.isMobile()||i.preventDefault(),(e.helpers.isAndroid()||e.helpers.isWindowsPhone())&&0===n.parents(".fr-dropdown-menu").length&&(i.preventDefault(),i.stopPropagation()),n.addClass("fr-selected"),void e.events.trigger("commands.mousedown",[n]))}function c(i,n){var o=t(i.currentTarget);if(e.edit.isDisabled()||o.hasClass("fr-disabled"))return i.preventDefault(),!1;if("mouseup"===i.type&&1!==i.which)return!0;if(!o.hasClass("fr-selected"))return!0;if("touchmove"!=i.type){if(i.stopPropagation(),i.stopImmediatePropagation(),i.preventDefault(),!o.hasClass("fr-selected"))return t(".fr-selected").removeClass("fr-selected"),!1;if(t(".fr-selected").removeClass("fr-selected"),o.data("dragging")||o.attr("disabled"))return o.removeData("dragging"),!1;var r=o.data("timeout");r&&(clearTimeout(r),o.removeData("timeout")),n.apply(e,[i])}else o.data("timeout")||o.data("timeout",setTimeout(function(){o.data("dragging",!0)},100))}function p(){T=!0}function f(){T=!1}function m(){return T}function g(t,i,n){y(t,e._mousedown,i,function(t){u(t)},!0),y(t,e._mouseup+" "+e._move,i,function(t){c(t,n)},!0),y(t,"mousedown click mouseup",i,function(t){t.stopPropagation()},!0),v("window.mouseup",function(){t.find(i).removeClass("fr-selected"),p()})}function v(t,i,n){var o=t.split(" ");if(o.length>1){for(var r=0;r<o.length;r++)v(o[r],i,n);return!0}"undefined"==typeof n&&(n=!1);var s;s=0!=t.indexOf("shared.")?S[t]=S[t]||[]:e.shared._events[t]=e.shared._events[t]||[],n?s.unshift(i):s.push(i)}function y(t,i,n,o,r){"function"==typeof n&&(r=o,o=n,n=!1);var s=r?e.shared.$_events:O,a=r?e.sid:e.id;n?t.on(i.split(" ").join(".ed"+a+" ")+".ed"+a,n,o):t.on(i.split(" ").join(".ed"+a+" ")+".ed"+a,o),s.indexOf(t.get(0))<0&&s.push(t.get(0))}function b(e,i){for(var n=0;n<e.length;n++)t(e[n]).off(".ed"+i)}function w(){b(O,e.id),0==e.shared.count&&b(e.shared.$_events,e.sid)}function _(i,n,o){if(!e.edit.isDisabled()||o){var r;if(0!=i.indexOf("shared."))r=S[i];else{if(e.shared.count>0)return!1;r=e.shared._events[i]}var s;if(r)for(var a=0;a<r.length;a++)if(s=r[a].apply(e,n),s===!1)return!1;return s=e.$oel.triggerHandler("froalaEditor."+i,t.merge([e],n||[])),s===!1?!1:s}}function x(i,n,o){if(!e.edit.isDisabled()||o){var r;if(0!=i.indexOf("shared."))r=S[i];else{if(e.shared.count>0)return!1;r=e.shared._events[i]}var s;if(r)for(var a=0;a<r.length;a++)s=r[a].apply(e,[n]),"undefined"!=typeof s&&(n=s);return s=e.$oel.triggerHandler("froalaEditor."+i,t.merge([e],[n])),"undefined"!=typeof s&&(n=s),n}}function C(){for(var t in S)S.hasOwnProperty(t)&&delete S[t]}function k(){for(var t in e.shared._events)e.shared._events.hasOwnProperty(t)&&delete e.shared._events[t]}function E(){e.shared.$_events=e.shared.$_events||[],e.shared._events={},h(),o(),s(),a(),r(),d(),p(),n(),v("destroy",C),v("shared.destroy",k)}var T,S={},D=!1,O=[];return{_init:E,on:v,trigger:_,bindClick:g,disableBlur:f,enableBlur:p,blurActive:m,focus:l,chainTrigger:x,$on:y,$off:w}},t.FE.INVISIBLE_SPACE="&#8203;",t.FE.START_MARKER='<span class="fr-marker" data-id="0" data-type="true" style="display: none; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",t.FE.END_MARKER='<span class="fr-marker" data-id="0" data-type="false" style="display: none; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",t.FE.MARKERS=t.FE.START_MARKER+t.FE.END_MARKER,t.FE.MODULES.markers=function(e){function i(i,n){return t('<span class="fr-marker" data-id="'+n+'" data-type="'+i+'" style="display: '+(e.browser.safari?"none":"inline-block")+'; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",e.doc)[0]}function n(n,o,r){try{var s=n.cloneRange();if(s.collapse(o),s.insertNode(i(o,r)),o===!0&&n.collapsed)for(var a=e.$el.find('span.fr-marker[data-type="true"][data-id="'+r+'"]'),l=a.get(0).nextSibling;l&&l.nodeType===Node.TEXT_NODE&&0===l.textContent.length;)t(l).remove(),l=a.nextSibling;if(o===!0&&!n.collapsed){var a=e.$el.find('span.fr-marker[data-type="true"][data-id="'+r+'"]').get(0),l=a.nextSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&e.node.isBlock(l)){var d=[l];do l=d[0],d=e.node.contents(l);while(d[0]&&e.node.isBlock(d[0]));t(l).prepend(t(a))}}if(o===!1&&!n.collapsed){var a=e.$el.find('span.fr-marker[data-type="false"][data-id="'+r+'"]').get(0),l=a.previousSibling;if(l&&l.nodeType===Node.ELEMENT_NODE&&e.node.isBlock(l)){var d=[l];do l=d[d.length-1],d=e.node.contents(l);while(d[d.length-1]&&e.node.isBlock(d[d.length-1]));t(l).append(t(a))}a.parentNode&&["TD","TH"].indexOf(a.parentNode.tagName)>=0&&a.parentNode.previousSibling&&!a.previousSibling&&t(a.parentNode.previousSibling).append(a)}var h=e.$el.find('span.fr-marker[data-type="'+o+'"][data-id="'+r+'"]').get(0);return h&&(h.style.display="none"),h}catch(u){return null}}function o(){if(!e.$wp)return null;try{var i=e.selection.ranges(0),n=i.commonAncestorContainer;if(n!=e.$el.get(0)&&0==e.$el.find(n).length)return null;var o=i.cloneRange(),r=i.cloneRange();o.collapse(!0);var s=t('<span class="fr-marker" style="display: none; line-height: 0;">'+t.FE.INVISIBLE_SPACE+"</span>",e.doc)[0];if(o.insertNode(s),s=e.$el.find("span.fr-marker").get(0)){for(var a=s.nextSibling;a&&a.nodeType===Node.TEXT_NODE&&0===a.textContent.length;)t(a).remove(),a=e.$el.find("span.fr-marker").get(0).nextSibling;return e.selection.clear(),e.selection.get().addRange(r),s}return null}catch(l){}}function r(){e.selection.isCollapsed()||e.selection.remove();var i=e.$el.find(".fr-marker").get(0);if(null==i&&(i=o()),null==i)return null;var n;if(n=e.node.deepestParent(i))if(e.node.isBlock(n)&&e.node.isEmpty(n))t(n).replaceWith('<span class="fr-marker"></span>');else{var r=i,s="",a="";do r=r.parentNode,s+=e.node.closeTagString(r),a=e.node.openTagString(r)+a;while(r!=n);t(i).replaceWith('<span id="fr-break"></span>');var l=e.node.openTagString(n)+t(n).html()+e.node.closeTagString(n);l=l.replace(/<span id="fr-break"><\/span>/g,s+'<span class="fr-marker"></span>'+a),t(n).replaceWith(l)}return e.$el.find(".fr-marker").get(0)}function s(t){var i=t.clientX,n=t.clientY;a();var r,s=null;if("undefined"!=typeof e.doc.caretPositionFromPoint?(r=e.doc.caretPositionFromPoint(i,n),s=e.doc.createRange(),s.setStart(r.offsetNode,r.offset),s.setEnd(r.offsetNode,r.offset)):"undefined"!=typeof e.doc.caretRangeFromPoint&&(r=e.doc.caretRangeFromPoint(i,n),s=e.doc.createRange(),s.setStart(r.startContainer,r.startOffset),s.setEnd(r.startContainer,r.startOffset)),null!==s&&"undefined"!=typeof e.win.getSelection){var l=e.win.getSelection();l.removeAllRanges(),l.addRange(s)}else if("undefined"!=typeof e.doc.body.createTextRange)try{s=e.doc.body.createTextRange(),s.moveToPoint(i,n);var d=s.duplicate();d.moveToPoint(i,n),s.setEndPoint("EndToEnd",d),s.select()}catch(h){return!1}o()}function a(){e.$el.find(".fr-marker").remove()}return{place:n,insert:o,split:r,insertAtPoint:s,remove:a}},t.FE.MODULES.selection=function(e){function i(){var t="";return e.win.getSelection?t=e.win.getSelection():e.doc.getSelection?t=e.doc.getSelection():e.doc.selection&&(t=e.doc.selection.createRange().text),t.toString()}function n(){var t="";return t=e.win.getSelection?e.win.getSelection():e.doc.getSelection?e.doc.getSelection():e.doc.selection.createRange()}function o(t){var i=n(),o=[];if(i&&i.getRangeAt&&i.rangeCount)for(var o=[],r=0;r<i.rangeCount;r++)o.push(i.getRangeAt(r));else o=e.doc.createRange?[e.doc.createRange()]:[];return"undefined"!=typeof t?o[t]:o}function r(){var t=n();try{t.removeAllRanges?t.removeAllRanges():t.empty?t.empty():t.clear&&t.clear()}catch(e){}}function s(){var r=n();try{if(r.rangeCount){var s=o(0),a=s.startContainer;if(a.nodeType==Node.ELEMENT_NODE){var l=!1;if(a.childNodes.length>0&&a.childNodes[s.startOffset]){for(var d=a.childNodes[s.startOffset];d&&d.nodeType==Node.TEXT_NODE&&0==d.textContent.length;)d=d.nextSibling;d&&d.textContent.replace(/\u200B/g,"")===i().replace(/\u200B/g,"")&&(a=d,l=!0)}else if(!s.collapsed&&a.nextSibling&&a.nextSibling.nodeType==Node.ELEMENT_NODE){var d=a.nextSibling;d&&d.textContent.replace(/\u200B/g,"")===i().replace(/\u200B/g,"")&&(a=d,l=!0)}!l&&a.childNodes.length>0&&t(a.childNodes[0]).text().replace(/\u200B/g,"")===i().replace(/\u200B/g,"")&&["BR","IMG","HR"].indexOf(a.childNodes[0].tagName)<0&&(a=a.childNodes[0])}for(;a.nodeType!=Node.ELEMENT_NODE&&a.parentNode;)a=a.parentNode;for(var h=a;h&&"HTML"!=h.tagName;){if(h==e.$el.get(0))return a;h=t(h).parent()[0]}}}catch(u){}return e.$el.get(0)}function a(){
var r=n();try{if(r.rangeCount){var s=o(0),a=s.endContainer;if(a.nodeType==Node.ELEMENT_NODE){var l=!1;if(a.childNodes.length>0&&a.childNodes[s.endOffset]&&t(a.childNodes[s.endOffset]).text()===i())a=a.childNodes[s.endOffset],l=!0;else if(!s.collapsed&&a.previousSibling&&a.previousSibling.nodeType==Node.ELEMENT_NODE){var d=a.previousSibling;d&&d.textContent.replace(/\u200B/g,"")===i().replace(/\u200B/g,"")&&(a=d,l=!0)}else if(!s.collapsed&&a.childNodes.length>0&&a.childNodes[s.endOffset]){var d=a.childNodes[s.endOffset].previousSibling;d.nodeType==Node.ELEMENT_NODE&&d&&d.textContent.replace(/\u200B/g,"")===i().replace(/\u200B/g,"")&&(a=d,l=!0)}!l&&a.childNodes.length>0&&t(a.childNodes[a.childNodes.length-1]).text()===i()&&["BR","IMG","HR"].indexOf(a.childNodes[a.childNodes.length-1].tagName)<0&&(a=a.childNodes[a.childNodes.length-1])}for(a.nodeType==Node.TEXT_NODE&&0==s.endOffset&&a.previousSibling&&a.previousSibling.nodeType==Node.ELEMENT_NODE&&(a=a.previousSibling);a.nodeType!=Node.ELEMENT_NODE&&a.parentNode;)a=a.parentNode;for(var h=a;h&&"HTML"!=h.tagName;){if(h==e.$el.get(0))return a;h=t(h).parent()[0]}}}catch(u){}return e.$el.get(0)}function l(t,e){var i=t;return i.nodeType==Node.ELEMENT_NODE&&i.childNodes.length>0&&i.childNodes[e]&&(i=i.childNodes[e]),i.nodeType==Node.TEXT_NODE&&(i=i.parentNode),i}function d(){var i=[],r=n();if(b()&&r.rangeCount)for(var s=o(),a=0;a<s.length;a++){var d=s[a],h=l(d.startContainer,d.startOffset),u=l(d.endContainer,d.endOffset);e.node.isBlock(h)&&i.indexOf(h)<0&&i.push(h);var c=e.node.blockParent(h);c&&i.indexOf(c)<0&&i.push(c);for(var p=[],f=h;f!==u&&f!==e.$el.get(0);)p.indexOf(f)<0&&f.children&&f.children.length?(p.push(f),f=f.children[0]):f.nextSibling?f=f.nextSibling:f.parentNode&&(f=f.parentNode,p.push(f)),e.node.isBlock(f)&&p.indexOf(f)<0&&i.indexOf(f)<0&&(f!==u||d.endOffset>0)&&i.push(f);e.node.isBlock(u)&&i.indexOf(u)<0&&d.endOffset>0&&i.push(u);var c=e.node.blockParent(u);c&&i.indexOf(c)<0&&i.push(c)}for(var a=i.length-1;a>0;a--)t(i[a]).find(i).length&&"LI"!=i[a].tagName&&i.splice(a,1);return i}function h(){if(e.$wp){e.markers.remove();for(var t=o(),i=[],n=0;n<t.length;n++)if(t[n].startContainer!==e.doc){var r=t[n],s=r.collapsed,a=e.markers.place(r,!0,n),l=e.markers.place(r,!1,n);if(e.browser.safari&&!s){var r=e.doc.createRange();r.setStartAfter(a),r.setEndBefore(l),i.push(r)}}if(e.browser.safari&&i.length){e.selection.clear();for(var n=0;n<i.length;n++)e.selection.get().addRange(i[n])}}}function u(){var i=e.$el.get(0).querySelectorAll('.fr-marker[data-type="true"]');if(!e.$wp)return e.markers.remove(),!1;if(0===i.length)return!1;if(e.browser.msie||e.browser.edge)for(var o=0;o<i.length;o++)i[o].style.display="inline-block";e.core.hasFocus()||e.browser.msie||e.browser.webkit||e.$el.focus(),r();for(var s=n(),o=0;o<i.length;o++){var a=t(i[o]).data("id"),l=i[o],d=e.doc.createRange(),h=e.$el.find('.fr-marker[data-type="false"][data-id="'+a+'"]');(e.browser.msie||e.browser.edge)&&h.css("display","inline-block");var u=null;if(h.length>0){h=h[0];try{for(var p=!1,f=l.nextSibling;f&&f.nodeType==Node.TEXT_NODE&&0==f.textContent.length;){var m=f;f=f.nextSibling,t(m).remove()}for(var g=h.nextSibling;g&&g.nodeType==Node.TEXT_NODE&&0==g.textContent.length;){var m=g;g=g.nextSibling,t(m).remove()}if(l.nextSibling==h||h.nextSibling==l){for(var v=l.nextSibling==h?l:h,y=v==l?h:l,b=v.previousSibling;b&&b.nodeType==Node.TEXT_NODE&&0==b.length;){var m=b;b=b.previousSibling,t(m).remove()}if(b&&b.nodeType==Node.TEXT_NODE)for(;b&&b.previousSibling&&b.previousSibling.nodeType==Node.TEXT_NODE;)b.previousSibling.textContent=b.previousSibling.textContent+b.textContent,b=b.previousSibling,t(b.nextSibling).remove();for(var w=y.nextSibling;w&&w.nodeType==Node.TEXT_NODE&&0==w.length;){var m=w;w=w.nextSibling,t(m).remove()}if(w&&w.nodeType==Node.TEXT_NODE)for(;w&&w.nextSibling&&w.nextSibling.nodeType==Node.TEXT_NODE;)w.nextSibling.textContent=w.textContent+w.nextSibling.textContent,w=w.nextSibling,t(w.previousSibling).remove();if(b&&(e.node.isVoid(b)||e.node.isBlock(b))&&(b=null),w&&(e.node.isVoid(w)||e.node.isBlock(w))&&(w=null),b&&w&&b.nodeType==Node.TEXT_NODE&&w.nodeType==Node.TEXT_NODE){t(l).remove(),t(h).remove();var _=b.textContent.length;b.textContent=b.textContent+w.textContent,t(w).remove(),e.html.normalizeSpaces(b),d.setStart(b,_),d.setEnd(b,_),p=!0}else!b&&w&&w.nodeType==Node.TEXT_NODE?(t(l).remove(),t(h).remove(),e.html.normalizeSpaces(w),u=t(e.doc.createTextNode("\u200b")),t(w).before(u),d.setStart(w,0),d.setEnd(w,0),p=!0):!w&&b&&b.nodeType==Node.TEXT_NODE&&(t(l).remove(),t(h).remove(),e.html.normalizeSpaces(b),u=t(e.doc.createTextNode("\u200b")),t(b).after(u),d.setStart(b,b.textContent.length),d.setEnd(b,b.textContent.length),p=!0)}if(!p){var x,C;if(e.browser.chrome&&l.nextSibling==h)x=c(h,d,!0)||d.setStartAfter(h),C=c(l,d,!1)||d.setEndBefore(l);else{l.previousSibling==h&&(l=h,h=l.nextSibling),h.nextSibling&&"BR"===h.nextSibling.tagName||!h.nextSibling&&e.node.isBlock(l.previousSibling)||l.previousSibling&&"BR"==l.previousSibling.tagName||(l.style.display="inline",h.style.display="inline",u=t(e.doc.createTextNode("\u200b")));var k=l.previousSibling;k&&k.style&&"block"==e.win.getComputedStyle(k).display?(d.setEndAfter(k),d.setStartAfter(k)):(x=c(l,d,!0)||t(l).before(u)&&d.setStartBefore(l),C=c(h,d,!1)||t(h).after(u)&&d.setEndAfter(h))}"function"==typeof x&&x(),"function"==typeof C&&C()}}catch(E){}}u&&u.remove();try{s.addRange(d)}catch(E){}}e.markers.remove()}function c(i,n,o){var r=i.previousSibling,s=i.nextSibling;if(r&&s&&r.nodeType==Node.TEXT_NODE&&s.nodeType==Node.TEXT_NODE){var a=r.textContent.length;return o?(s.textContent=r.textContent+s.textContent,t(r).remove(),t(i).remove(),e.html.normalizeSpaces(s),function(){n.setStart(s,a)}):(r.textContent=r.textContent+s.textContent,t(s).remove(),t(i).remove(),e.html.normalizeSpaces(r),function(){n.setEnd(r,a)})}if(r&&!s&&r.nodeType==Node.TEXT_NODE){var a=r.textContent.length;return o?(e.html.normalizeSpaces(r),function(){n.setStart(r,a)}):(e.html.normalizeSpaces(r),function(){n.setEnd(r,a)})}return s&&!r&&s.nodeType==Node.TEXT_NODE?o?(e.html.normalizeSpaces(s),function(){n.setStart(s,0)}):(e.html.normalizeSpaces(s),function(){n.setEnd(s,0)}):!1}function p(){return!0}function f(){for(var t=o(),e=0;e<t.length;e++)if(!t[e].collapsed)return!1;return!0}function m(t){var i,n,o=!1,r=!1;if(e.win.getSelection){var s=e.win.getSelection();s.rangeCount&&(i=s.getRangeAt(0),n=i.cloneRange(),n.selectNodeContents(t),n.setEnd(i.startContainer,i.startOffset),o=""===n.toString(),n.selectNodeContents(t),n.setStart(i.endContainer,i.endOffset),r=""===n.toString())}else e.doc.selection&&"Control"!=e.doc.selection.type&&(i=e.doc.selection.createRange(),n=i.duplicate(),n.moveToElementText(t),n.setEndPoint("EndToStart",i),o=""===n.text,n.moveToElementText(t),n.setEndPoint("StartToEnd",i),r=""===n.text);return{atStart:o,atEnd:r}}function g(){if(f())return!1;e.$el.find("td").prepend('<span class="fr-mk">'+t.FE.INVISIBLE_SPACE+"</span>"),e.$el.find("img").append('<span class="fr-mk">'+t.FE.INVISIBLE_SPACE+"</span>");var i=!1,n=m(e.$el.get(0));return n.atStart&&n.atEnd&&(i=!0),e.$el.find(".fr-mk").remove(),i}function v(i,n){"undefined"==typeof n&&(n=!0);var o=t(i).html();o&&o.replace(/\u200b/g,"").length!=o.length&&t(i).html(o.replace(/\u200b/g,""));for(var r=e.node.contents(i),s=0;s<r.length;s++)r[s].nodeType!=Node.ELEMENT_NODE?t(r[s]).remove():(v(r[s],0==s),0==s&&(n=!1));i.nodeType==Node.TEXT_NODE?t(i).replaceWith('<span data-first="true" data-text="true"></span>'):n&&t(i).attr("data-first",!0)}function y(i,n){var o=e.node.contents(i.get(0));["TD","TH"].indexOf(i.get(0).tagName)>=0&&1==i.find(".fr-marker").length&&t(o[0]).hasClass("fr-marker")&&i.attr("data-del-cell",!0);for(var r=0;r<o.length;r++){var s=o[r];t(s).hasClass("fr-marker")?n=(n+1)%2:n?t(s).find(".fr-marker").length>0?n=y(t(s),n):["TD","TH"].indexOf(s.tagName)<0&&!t(s).hasClass("fr-inner")?!e.opts.keepFormatOnDelete||n>1||e.$el.find("[data-first]").length>0?t(s).remove():v(s):t(s).hasClass("fr-inner")?0==t(s).find(".fr-inner").length?t(s).html("<br>"):t(s).find(".fr-inner").filter(function(){return 0==t(this).find("fr-inner").length}).html("<br>"):(t(s).empty(),t(s).attr("data-del-cell",!0)):t(s).find(".fr-marker").length>0&&(n=y(t(s),n))}return n}function b(){try{if(!e.$wp)return!1;for(var t=o(0),i=t.commonAncestorContainer;i&&!e.node.isElement(i);)i=i.parentNode;return e.node.isElement(i)?!0:!1}catch(n){return!1}}function w(){if(f())return!0;h();for(var i=function(e){for(var i=e.previousSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;){var n=i,i=i.previousSibling;t(n).remove()}return i},n=function(e){for(var i=e.nextSibling;i&&i.nodeType==Node.TEXT_NODE&&0==i.textContent.length;){var n=i,i=i.nextSibling;t(n).remove()}return i},o=e.$el.find('.fr-marker[data-type="true"]'),r=0;r<o.length;r++)for(var s=o[r];!i(s)&&!e.node.isBlock(s.parentNode)&&!e.$el.is(s.parentNode);)t(s.parentNode).before(s);for(var a=e.$el.find('.fr-marker[data-type="false"]'),r=0;r<a.length;r++){for(var l=a[r];!n(l)&&!e.node.isBlock(l.parentNode)&&!e.$el.is(l.parentNode);)t(l.parentNode).after(l);l.parentNode&&e.node.isBlock(l.parentNode)&&e.node.isEmpty(l.parentNode)&&!e.$el.is(l.parentNode)&&t(l.parentNode).after(l)}if(p()){y(e.$el,0);var d=e.$el.find('[data-first="true"]');if(d.length)e.$el.find(".fr-marker").remove(),d.append(t.FE.INVISIBLE_SPACE+t.FE.MARKERS).removeAttr("data-first"),d.attr("data-text")&&d.replaceWith(d.html());else{e.$el.find("table").filter(function(){var e=t(this).find("[data-del-cell]").length>0&&t(this).find("[data-del-cell]").length==t(this).find("td, th").length;return e}).remove(),e.$el.find("[data-del-cell]").removeAttr("data-del-cell");for(var o=e.$el.find('.fr-marker[data-type="true"]'),r=0;r<o.length;r++){var c=o[r],m=c.nextSibling,g=e.$el.find('.fr-marker[data-type="false"][data-id="'+t(c).data("id")+'"]').get(0);if(g){if(m&&m==g);else if(c){var v=e.node.blockParent(c),b=e.node.blockParent(g);if(t(c).after(g),v==b);else if(null==v){var w=e.node.deepestParent(c);w?(t(w).after(t(b).html()),t(b).remove()):0==t(b).parentsUntil(e.$el,"table").length&&(t(c).next().after(t(b).html()),t(b).remove())}else if(null==b&&0==t(v).parentsUntil(e.$el,"table").length){for(var m=v;!m.nextSibling&&m.parentNode!=e.$el.get(0);)m=m.parentNode;for(m=m.nextSibling;m&&"BR"!=m.tagName;){var _=m.nextSibling;t(v).append(m),m=_}}else 0==t(v).parentsUntil(e.$el,"table").length&&0==t(b).parentsUntil(e.$el,"table").length&&(t(v).append(t(b).html()),t(b).remove())}}else g=t(c).clone().attr("data-type",!1),t(c).after(g)}}}e.opts.keepFormatOnDelete||e.html.fillEmptyBlocks(),e.html.cleanEmptyTags(!0),e.clean.lists(),e.html.normalizeSpaces(),u()}function _(i){if(t(i).find(".fr-marker").length>0)return!1;for(var n=e.node.contents(i);n.length&&e.node.isBlock(n[0]);)i=n[0],n=e.node.contents(i);t(i).prepend(t.FE.MARKERS)}function x(i){if(t(i).find(".fr-marker").length>0)return!1;for(var n=e.node.contents(i);n.length&&e.node.isBlock(n[n.length-1]);)i=n[n.length-1],n=e.node.contents(i);t(i).append(t.FE.MARKERS)}function C(i){for(var n=i.previousSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;)n=n.previousSibling;return n?(e.node.isBlock(n)?x(n):"BR"==n.tagName?t(n).before(t.FE.MARKERS):t(n).after(t.FE.MARKERS),!0):!1}function k(i){for(var n=i.nextSibling;n&&n.nodeType==Node.TEXT_NODE&&0==n.textContent.length;)n=n.nextSibling;return n?(e.node.isBlock(n)?_(n):t(n).before(t.FE.MARKERS),!0):!1}return{text:i,get:n,ranges:o,clear:r,element:s,endElement:a,save:h,restore:u,isCollapsed:f,isFull:g,inEditor:b,remove:w,blocks:d,info:m,setAtEnd:x,setAtStart:_,setBefore:C,setAfter:k,rangeElement:l}},t.FE.UNICODE_NBSP=String.fromCharCode(160),t.FE.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],t.FE.BLOCK_TAGS=["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote","ul","ol","li","table","td","th","thead","tfoot","tbody","tr","hr","dl","dt","dd","form"],t.extend(t.FE.DEFAULTS,{htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa",".fr-emoticon"],htmlDoNotWrapTags:["script","style"],htmlSimpleAmpersand:!1}),t.FE.MODULES.html=function(e){function i(){return e.opts.enter==t.FE.ENTER_P?"p":e.opts.enter==t.FE.ENTER_DIV?"div":e.opts.enter==t.FE.ENTER_BR?null:void 0}function n(){for(var i=[],n=e.$el.get(0).querySelectorAll(r()),o=0;o<n.length;o++)if(!(n[o].querySelectorAll(t.FE.VOID_ELEMENTS.join(",")).length>0||n[o].querySelectorAll(e.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length>0||n[o].querySelectorAll(r()).length>0)){for(var s=e.node.contents(n[o]),a=!1,l=0;l<s.length;l++)if(s[l].nodeType!=Node.COMMENT_NODE&&s[l].textContent&&s[l].textContent.replace(/\u200B/g,"").replace(/\n/g,"").length>0){a=!0;break}a||i.push(n[o])}return i}function o(){return t.FE.BLOCK_TAGS.join(":empty, ")+":empty"}function r(){return t.FE.BLOCK_TAGS.join(", ")}function s(i){var n=t.merge([],t.FE.VOID_ELEMENTS);n=t.merge(n,e.opts.htmlAllowedEmptyTags),"undefined"==typeof i&&(n=t.merge(n,t.FE.BLOCK_TAGS));var o,r;do{r=!1,o=e.$el.get(0).querySelectorAll("*:empty:not("+n.join("):not(")+"):not(.fr-marker)");for(var s=0;s<o.length;s++)(0===o[s].attributes.length||"undefined"!=typeof o[s].getAttribute("href"))&&(t(o[s]).remove(),r=!0);o=e.$el.get(0).querySelectorAll("*:empty:not("+n.join("):not(")+"):not(.fr-marker)")}while(o.length&&r)}function a(n,o){var r=i();if(o&&(r='div class="fr-temp-div"'),r)for(var s=e.node.contents(n.get(0)),a=null,l=0;l<s.length;l++){var d=s[l];if(d.nodeType==Node.ELEMENT_NODE&&(e.node.isBlock(d)||t(d).is(e.opts.htmlDoNotWrapTags.join(","))&&!t(d).hasClass("fr-marker")))a=null;else if(d.nodeType!=Node.ELEMENT_NODE&&d.nodeType!=Node.TEXT_NODE)a=null;else if(d.nodeType==Node.ELEMENT_NODE&&"BR"==d.tagName)if(null==a)o?t(d).replaceWith("<"+r+' data-empty="true"><br></div>'):t(d).replaceWith("<"+r+"><br></"+r+">");else{t(d).remove();for(var h=e.node.contents(a),u=!1,c=0;c<h.length;c++)if(!t(h[c]).hasClass("fr-marker")&&(h[c].nodeType!=Node.TEXT_NODE||0!==h[c].textContent.replace(/ /g,"").length)){u=!0;break}u===!1&&(a.append("<br>"),a.data("empty",!0)),a=null}else d.nodeType==Node.TEXT_NODE&&0==t(d).text().trim().length?t(d).remove():(null==a&&(a=t("<"+r+">"),t(d).before(a)),d.nodeType==Node.TEXT_NODE&&t(d).text().trim().length>0?(a.append(t(d).clone()),t(d).remove()):a.append(t(d)))}}function l(i,n,o,r){return e.$wp?("undefined"==typeof i&&(i=!1),"undefined"==typeof n&&(n=!1),"undefined"==typeof o&&(o=!1),"undefined"==typeof r&&(r=!1),a(e.$el,i),r&&e.$el.find(".fr-inner").each(function(){a(t(this),i)}),n&&e.$el.find("td, th").each(function(){a(t(this),i)}),void(o&&e.$el.find("blockquote").each(function(){a(t(this),i)}))):!1}function d(){e.$el.find("div.fr-temp-div").each(function(){t(this).data("empty")||"LI"==this.parentNode.tagName?t(this).replaceWith(t(this).html()):t(this).replaceWith(t(this).html()+"<br>")}),e.$el.find(".fr-temp-div").removeClass("fr-temp-div").filter(function(){return""==t(this).attr("class")}).removeAttr("class")}function h(){for(var i=n(),o=0;o<i.length;o++){var r=i[o];"false"==r.getAttribute("contenteditable")||0!=r.querySelectorAll(e.opts.htmlAllowedEmptyTags.join(":not(.fr-marker),")+":not(.fr-marker)").length||e.node.isVoid(r)||"TABLE"!=r.tagName&&r.appendChild(e.doc.createElement("br"))}if(e.browser.msie&&e.opts.enter==t.FE.ENTER_BR){var s=e.node.contents(e.$el.get(0));s.length&&s[s.length-1].nodeType==Node.TEXT_NODE&&e.$el.append("<br>")}}function u(){return e.$el.find(r())}function c(t){if("undefined"==typeof t&&(t=e.$el.get(0)),t&&["SCRIPT","STYLE","PRE"].indexOf(t.tagName)>=0)return!1;for(var i=e.node.contents(t),n=i.length-1;n>=0;n--)i[n].nodeType==Node.TEXT_NODE?(i[n].textContent=i[n].textContent.replace(/(?!^)( ){2,}(?!$)/g," "),i[n].textContent=i[n].textContent.replace(/\n/g," "),i[n].textContent=i[n].textContent.replace(/^[ ]{2,}/g," "),i[n].textContent=i[n].textContent.replace(/[ ]{2,}$/g," "),(e.node.isBlock(t)||e.node.isElement(t))&&(i[n].previousSibling||(i[n].textContent=i[n].textContent.replace(/^ */,"")),i[n].nextSibling||(i[n].textContent=i[n].textContent.replace(/ *$/,"")),i[n].previousSibling&&i[n].nextSibling&&" "==i[n].textContent&&(i[n].previousSibling&&i[n].nextSibling&&e.node.isBlock(i[n].previousSibling)&&e.node.isBlock(i[n].nextSibling)?i[n].textContent="":i[n].textContent="\n"))):c(i[n])}function p(t){return t&&(e.node.isBlock(t)||["STYLE","SCRIPT","HEAD","BR","HR"].indexOf(t.tagName)>=0||t.nodeType==Node.COMMENT_NODE)}function f(i,n){if("undefined"!=typeof i&&i||(i=e.$el.get(0)),"undefined"==typeof n&&(n=!1),!i.getAttribute||"false"!=i.getAttribute("contenteditable"))if(i.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","HEAD"].indexOf(i.tagName)<0)for(var o=e.node.contents(i),r=o.length-1;r>=0;r--)(o[r].tagName!=Node.ELEMENT_NODE||(o[r].className||"").indexOf("fr-marker")<0)&&f(o[r],n);else if(i.nodeType==Node.TEXT_NODE&&i.textContent.length>0){var s=i.previousSibling,a=i.nextSibling;if(p(s)&&p(a)&&0===i.textContent.trim().length&&e.opts.enter!=t.FE.ENTER_BR)t(i).remove();else{var l=i.textContent;if(n){for(var d=i;e.node.isFirstSibling(d)&&!e.node.isBlock(d);)d=d.parentNode;(e.node.isBlock(d)||d&&d.previousSibling&&"BR"==d.previousSibling.tagName)&&(l=l.replace(/^ */,"")),e.node.isBlock(s)&&(l=l.replace(/^ */,"")),e.node.isBlock(a)&&(l=l.replace(/ *$/,""))}l=l.replace(new RegExp(t.FE.UNICODE_NBSP,"g")," ");for(var h="",u=0;u<l.length;u++)h+=32!=l.charCodeAt(u)||0!==u&&32!=h.charCodeAt(u-1)?l[u]:t.FE.UNICODE_NBSP;(!i.nextSibling||e.node.isBlock(i.nextSibling))&&(h=h.replace(/ $/,t.FE.UNICODE_NBSP)),!i.previousSibling||e.node.isVoid(i.previousSibling)||e.node.isBlock(i.previousSibling)||(h=h.replace(/^\u00A0([^ $])/," $1")),h=h.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),i.textContent!=h&&(i.textContent=h)}}}function m(i){if("undefined"==typeof i&&(i=e.$el.get(0)),i.nodeType==Node.ELEMENT_NODE&&["STYLE","SCRIPT","HEAD"].indexOf(i.tagName)<0){for(var n=e.node.contents(i),o=n.length-1;o>=0;o--)if(!t(n[o]).hasClass("fr-marker")){var r=m(n[o]);if(1==r)return!0}}else if(i.nodeType==Node.TEXT_NODE&&i.textContent.length>0){var s=i.previousSibling,a=i.nextSibling;if(p(s)&&p(a)&&0===i.textContent.trim().length)return!0;var l=i.textContent;l=l.replace(new RegExp(t.FE.UNICODE_NBSP,"g")," ");for(var d="",h=0;h<l.length;h++)d+=32!=l.charCodeAt(h)||0!==h&&32!=d.charCodeAt(h-1)?l[h]:t.FE.UNICODE_NBSP;if(i.nextSibling||(d=d.replace(/ $/,t.FE.UNICODE_NBSP)),i.previousSibling&&!e.node.isVoid(i.previousSibling)&&(d=d.replace(/^\u00A0([^ $])/," $1")),d=d.replace(/([^ \u00A0])\u00A0([^ \u00A0])/g,"$1 $2"),i.textContent!=d)return!0}return!1}function g(t,e,i){var n=new RegExp(e,"gi"),o=n.exec(t);return o?o[i]:null}function v(t,e){var i=t.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?"?([^"]*)"? ?"?([^"]*)"?>/i);return i?e.implementation.createDocumentType(i[1],i[3],i[4]):e.implementation.createDocumentType("html")}function y(t){var e=t.doctype,i="<!DOCTYPE html>";return e&&(i="<!DOCTYPE "+e.name+(e.publicId?' PUBLIC "'+e.publicId+'"':"")+(!e.publicId&&e.systemId?" SYSTEM":"")+(e.systemId?' "'+e.systemId+'"':"")+">"),i}function b(){l(),c(),s(),f(null,!0),e.html.fillEmptyBlocks(),e.clean.quotes(),e.clean.lists(),e.clean.tables(),e.clean.toHTML5(),e.selection.restore(),w(),e.placeholder.refresh()}function w(){e.core.isEmpty()&&(null!=i()?0===e.$el.get(0).querySelectorAll(r()).length&&0===e.$el.get(0).querySelectorAll(e.opts.htmlDoNotWrapTags.join(":not(.fr-marker),")+":not(.fr-marker)").length&&(e.core.hasFocus()?(e.$el.html("<"+i()+">"+t.FE.MARKERS+"<br/></"+i()+">"),e.selection.restore()):e.$el.html("<"+i()+"><br/></"+i()+">")):0===e.$el.get(0).querySelectorAll("*:not(.fr-marker):not(br)").length&&(e.core.hasFocus()?(e.$el.html(t.FE.MARKERS+"<br/>"),e.selection.restore()):e.$el.html("<br/>")))}function _(t,e){return g(t,"<"+e+"[^>]*?>([\\w\\W]*)</"+e+">",1)}function x(i,n){var o=t("<div "+(g(i,"<"+n+"([^>]*?)>",1)||"")+">");return e.node.rawAttributes(o.get(0))}function C(t){return g(t,"<!DOCTYPE([^>]*?)>",0)||"<!DOCTYPE html>"}function k(i){var n=e.clean.html(i||"",[],[],e.opts.fullPage);if(e.opts.fullPage){var o=_(n,"body")||(n.indexOf("<body")>=0?"":n),r=x(n,"body"),s=_(n,"head")||"<title></title>",a=x(n,"head"),l=t("<div>").append(s).find("base, link, meta, noscript, script, style, template, title").remove().end().html().trim();s=t("<div>").append(s).find("base, link, meta, noscript, script, style, template, title").map(function(){return this.outerHTML}).toArray().join("");var d=C(n),h=x(n,"html");e.$el.html(l+"\n"+o),e.node.clearAttributes(e.$el.get(0)),e.$el.attr(r),e.$head.html(s),e.node.clearAttributes(e.$head.get(0)),e.$head.attr(a),e.node.clearAttributes(e.$html.get(0)),e.$html.attr(h),e.iframe_document.doctype.parentNode.replaceChild(v(d,e.iframe_document),e.iframe_document.doctype)}else e.$el.html(n);var u=e.edit.isDisabled();e.edit.on(),e.core.injectStyle(e.opts.iframeStyle),b(),e.opts.useClasses||(e.$el.find("[fr-original-class]").each(function(){this.setAttribute("class",this.getAttribute("fr-original-class")),this.removeAttribute("fr-original-class")}),e.$el.find("[fr-original-style]").each(function(){this.setAttribute("style",this.getAttribute("fr-original-style")),this.removeAttribute("fr-original-style")})),u&&e.edit.off(),e.events.trigger("html.set")}function E(t,i){if(!e.$wp)return e.$oel.clone().removeClass("fr-view").removeAttr("contenteditable").get(0).outerHTML;var n="";e.events.trigger("html.beforeGet");var o,r=function(t){var e=/(#[^\s\+>~\.\[:]+)/g,i=/(\[[^\]]+\])/g,n=/(\.[^\s\+>~\.\[:]+)/g,o=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,r=/(:[\w-]+\([^\)]*\))/gi,s=/(:[^\s\+>~\.\[:]+)/g,a=/([^\s\+>~\.\[:]+)/g;!function(){var e=/:not\(([^\)]*)\)/g;e.test(t)&&(t=t.replace(e,"     $1 "))}();var l=100*(t.match(e)||[]).length+10*(t.match(i)||[]).length+10*(t.match(n)||[]).length+10*(t.match(r)||[]).length+10*(t.match(s)||[]).length+(t.match(o)||[]).length;return t=t.replace(/[\*\s\+>~]/g," "),t=t.replace(/[#\.]/g," "),l+=(t.match(a)||[]).length},s=[],a={};if(!e.opts.useClasses&&!i){for(o=0;o<e.doc.styleSheets.length;o++){var l,d=0;try{l=e.doc.styleSheets[o].cssRules,e.doc.styleSheets[o].ownerNode&&"STYLE"==e.doc.styleSheets[o].ownerNode.nodeType&&(d=1)}catch(h){}if(l)for(var u=0,c=l.length;c>u;u++){var p=e.opts.iframe?"body ":".fr-view ";if(l[u].selectorText&&0===l[u].selectorText.indexOf(p)&&l[u].style.cssText.length>0)for(var f=l[u].selectorText.replace(p,"").replace(/::/g,":"),m=e.$el.get(0).querySelectorAll(f),g=0;g<m.length;g++){!m[g].getAttribute("fr-original-style")&&m[g].getAttribute("style")?(m[g].setAttribute("fr-original-style",m[g].getAttribute("style")),s.push(m[g])):m[g].getAttribute("fr-original-style")||s.push(m[g]),a[m[g]]||(a[m[g]]={});for(var v=1e3*d+r(l[u].selectorText),b=l[u].style.cssText.split(";"),w=0;w<b.length;w++){var _=b[w].trim().split(":")[0];a[m[g]][_]||(a[m[g]][_]=0,(m[g].getAttribute("fr-original-style")||"").indexOf(_+":")>=0&&(a[m[g]][_]=1e4)),v>=a[m[g]][_]&&(a[m[g]][_]=v,b[w].trim().length&&(m[g].style[_.trim()]=b[w].trim().split(":")[1].trim()))}}}}for(o=0;o<s.length;o++)s[o].getAttribute("class")&&(s[o].setAttribute("fr-original-class",s[o].getAttribute("class")),s[o].removeAttribute("class"))}if(e.core.isEmpty()?e.opts.fullPage&&(n=y(e.iframe_document),n+="<html"+e.node.attributes(e.$html.get(0))+">"+e.$html.find("head").get(0).outerHTML+"<body></body></html>"):("undefined"==typeof t&&(t=!1),e.opts.fullPage?(n=y(e.iframe_document),n+="<html"+e.node.attributes(e.$html.get(0))+">"+e.$html.html()+"</html>"):n=e.$el.html()),!e.opts.useClasses&&!i)for(o=0;o<s.length;o++)s[o].getAttribute("fr-original-class")&&(s[o].setAttribute("class",s[o].getAttribute("fr-original-class")),s[o].removeAttribute("fr-original-class")),s[o].getAttribute("fr-original-style")?(s[o].setAttribute("style",s[o].getAttribute("fr-original-style")),s[o].removeAttribute("fr-original-style")):s[o].removeAttribute("style");e.opts.fullPage&&(n=n.replace(/<style data-fr-style="true">(?:[\w\W]*?)<\/style>/g,""),n=n.replace(/<style(?:[\w\W]*?)class="firebugResetStyles"(?:[\w\W]*?)>(?:[\w\W]*?)<\/style>/g,""),n=n.replace(/<body((?:[\w\W]*?)) spellcheck="true"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>"),n=n.replace(/<body((?:[\w\W]*?)) contenteditable="(true|false)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),n=n.replace(/<body((?:[\w\W]*?)) dir="([\w]*)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$3>$4</body>"),n=n.replace(/<body((?:[\w\W]*?))class="([\w\W]*?)(fr-rtl|fr-ltr)([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,'<body$1class="$2$4"$5>$6</body>'),n=n.replace(/<body((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/body>/g,"<body$1$2>$3</body>")),e.opts.htmlSimpleAmpersand&&(n=n.replace(/\&amp;/gi,"&")),e.events.trigger("html.afterGet"),t||(n=n.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,"")),n=e.clean.invisibleSpaces(n);var x=e.events.chainTrigger("html.get",n);return"string"==typeof x&&(n=x),n=n.replace(/<pre(?:[\w\W]*?)>(?:[\w\W]*?)<\/pre>/g,function(t){return t.replace(/<br>/g,"\n")})}function T(){var i=function(i,n){for(;n&&(n.nodeType==Node.TEXT_NODE||!e.node.isBlock(n));)n&&n.nodeType!=Node.TEXT_NODE&&t(i).wrapInner(e.node.openTagString(n)+e.node.closeTagString(n)),n=n.parentNode;n&&i.innerHTML==n.innerHTML&&(i.innerHTML=n.outerHTML)},n=function(){var i,n=null;return e.win.getSelection?(i=e.win.getSelection(),i&&i.rangeCount&&(n=i.getRangeAt(0).commonAncestorContainer,n.nodeType!=Node.ELEMENT_NODE&&(n=n.parentNode))):(i=e.doc.selection)&&"Control"!=i.type&&(n=i.createRange().parentElement()),null!=n&&(t.inArray(e.$el.get(0),t(n).parents())>=0||n==e.$el.get(0))?n:null},o="";if("undefined"!=typeof e.win.getSelection){e.browser.mozilla&&(e.selection.save(),e.$el.find('.fr-marker[data-type="false"]').length>1&&(e.$el.find('.fr-marker[data-type="false"][data-id="0"]').remove(),e.$el.find('.fr-marker[data-type="false"]:last').attr("data-id","0"),e.$el.find(".fr-marker").not('[data-id="0"]').remove()),e.selection.restore());for(var r=e.selection.ranges(),s=0;s<r.length;s++){var a=document.createElement("div");a.appendChild(r[s].cloneContents()),i(a,n()),t(a).find(".fr-element").length>0&&(a=e.$el.get(0)),o+=a.innerHTML}}else"undefined"!=typeof e.doc.selection&&"Text"==e.doc.selection.type&&(o=e.doc.selection.createRange().htmlText);return o}function S(e){var i=t("<div>").html(e);return i.find(r()).length>0}function D(t){var i=e.doc.createElement("div");return i.innerHTML=t,e.selection.setAtEnd(i),i.innerHTML}function O(t){return t.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")}function M(i,n,o){e.selection.isCollapsed()||e.selection.remove();var r;if(r=n?i:e.clean.html(i),r=r.replace(/\r|\n/g," "),i.indexOf('class="fr-marker"')<0&&(r=D(r)),e.core.isEmpty())e.$el.html(r);else{var s=e.markers.insert();if(s){var a;if((S(r)||o)&&(a=e.node.deepestParent(s))){var s=e.markers.split();if(!s)return!1;t(s).replaceWith(r)}else t(s).replaceWith(r)}else e.$el.append(r)}b(),e.events.trigger("html.inserted")}function A(i){var n=null;"undefined"==typeof i&&(n=e.selection.element());var o,r;do{r=!1,o=e.$el.get(0).querySelectorAll("*:not(.fr-marker)");for(var s=0;s<o.length;s++){var a=o[s];if(n!=a){var l=a.textContent;0===a.children.length&&1===l.length&&8203==l.charCodeAt(0)&&(t(a).remove(),r=!0)}}}while(r)}function N(){var t=function(){A(),e.placeholder&&e.placeholder.refresh()};e.events.on("mouseup",t),e.events.on("keydown",t),e.events.on("contentChanged",w)}return{defaultTag:i,emptyBlocks:n,emptyBlockTagsQuery:o,blockTagsQuery:r,fillEmptyBlocks:h,cleanEmptyTags:s,cleanWhiteTags:A,normalizeSpaces:f,doNormalize:m,cleanBlankSpaces:c,blocks:u,getDoctype:y,set:k,get:E,getSelected:T,insert:M,wrap:l,unwrap:d,escapeEntities:O,checkIfEmpty:w,extractNode:_,extractNodeAttrs:x,extractDoctype:C,_init:N}},t.extend(t.FE.DEFAULTS,{height:null,heightMax:null,heightMin:null,width:null}),t.FE.MODULES.size=function(t){function e(){t.opts.height&&t.$el.css("minHeight",t.opts.height-t.helpers.getPX(t.$el.css("padding-top"))-t.helpers.getPX(t.$el.css("padding-bottom"))),t.$iframe.height(t.$el.outerHeight(!0))}function i(){t.opts.heightMin?t.$el.css("minHeight",t.opts.heightMin):t.$el.css("minHeight",""),t.opts.heightMax?(t.$wp.css("maxHeight",t.opts.heightMax),t.$wp.css("overflow","auto")):(t.$wp.css("maxHeight",""),t.$wp.css("overflow","")),t.opts.height?(t.$wp.height(t.opts.height),t.$el.css("minHeight",t.opts.height-t.helpers.getPX(t.$el.css("padding-top"))-t.helpers.getPX(t.$el.css("padding-bottom"))),t.$wp.css("overflow","auto")):(t.$wp.css("height",""),t.opts.heightMin||t.$el.css("minHeight",""),t.opts.heightMax||t.$wp.css("overflow","")),t.opts.width&&t.$box.width(t.opts.width)}function n(){return t.$wp?(i(),void(t.opts.iframe&&(t.events.on("keyup",e),t.events.on("commands.after",e),t.events.on("html.set",e),t.events.on("init",e),t.events.on("initialized",e)))):!1}return{_init:n,syncIframe:e,refresh:i}},t.extend(t.FE.DEFAULTS,{language:null}),t.FE.LANGUAGE={},t.FE.MODULES.language=function(e){function i(t){return o&&o.translation[t]?o.translation[t]:t}function n(){t.FE.LANGUAGE&&(o=t.FE.LANGUAGE[e.opts.language]),o&&o.direction&&(e.opts.direction=o.direction)}var o;return{_init:n,translate:i}},t.extend(t.FE.DEFAULTS,{placeholderText:"Type something"}),t.FE.MODULES.placeholder=function(e){function i(){e.$placeholder||s();var i=0,n=e.node.contents(e.$el.get(0));n.length&&n[0].nodeType==Node.ELEMENT_NODE?(e.opts.toolbarInline||(i=e.helpers.getPX(t(n[0]).css("margin-top"))),e.$placeholder.css("font-size",t(n[0]).css("font-size")),e.$placeholder.css("line-height",t(n[0]).css("line-height"))):(e.$placeholder.css("font-size",e.$el.css("font-size")),e.$placeholder.css("line-height",e.$el.css("line-height"))),e.$wp.addClass("show-placeholder"),e.$placeholder.css("margin-top",Math.max(e.helpers.getPX(e.$el.css("margin-top")),i)).text(e.language.translate(e.opts.placeholderText||e.$oel.attr("placeholder")||""))}function n(){e.$wp.removeClass("show-placeholder")}function o(){return e.$wp?e.$wp.hasClass("show-placeholder"):!0}function r(){return e.$wp?void(e.core.isEmpty()?i():n()):!1}function s(){e.$placeholder=t('<span class="fr-placeholder"></span>'),e.$wp.append(e.$placeholder)}function a(){return e.$wp?void e.events.on("init input keydown keyup contentChanged",r):!1}return{_init:a,show:i,hide:n,refresh:r,isVisible:o}},t.FE.MODULES.edit=function(t){function e(){if(t.browser.mozilla)try{t.doc.execCommand("enableObjectResizing",!1,"false"),t.doc.execCommand("enableInlineTableEditing",!1,"false")}catch(e){}}function i(){t.$wp?(t.$el.attr("contenteditable",!0),t.$el.removeClass("fr-disabled"),t.$tb&&t.$tb.removeClass("fr-disabled"),e()):t.$el.is("a")&&t.$el.attr("contenteditable",!0),r=!1}function n(){t.$wp?(t.$el.attr("contenteditable",!1),t.$el.addClass("fr-disabled"),t.$tb&&t.$tb.addClass("fr-disabled")):t.$el.is("a")&&t.$el.attr("contenteditable",!1),r=!0}function o(){return r}var r=!1;return{on:i,off:n,disableDesign:e,isDisabled:o}},t.extend(t.FE.DEFAULTS,{editorClass:null,typingTimer:500,iframe:!1,requestWithCORS:!0,requestHeaders:{},useClasses:!0,spellcheck:!0,iframeStyle:'html{margin: 0px;}body{padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;}body:after{content:"";display:block;clear:both}',direction:"auto",zIndex:1,disableRightClick:!1,scrollableContainer:"body",keepFormatOnDelete:!1,theme:null}),t.FE.MODULES.core=function(e){function i(t){e.opts.iframe&&(e.$head.find("style[data-fr-style]").remove(),e.$head.append('<style data-fr-style="true">'+t+"</style>"))}function n(){e.opts.iframe||e.$el.addClass("fr-element fr-view")}function o(){if(e.$box.addClass("fr-box"+(e.opts.editorClass?" "+e.opts.editorClass:"")),e.$wp.addClass("fr-wrapper"),n(),e.opts.iframe){e.$iframe.addClass("fr-iframe");for(var t=0;t<e.o_doc.styleSheets.length;t++){var i;try{i=e.o_doc.styleSheets[t].cssRules}catch(o){}if(i)for(var r=0,s=i.length;s>r;r++)!i[r].selectorText||0!==i[r].selectorText.indexOf(".fr-view")&&0!==i[r].selectorText.indexOf(".fr-element")||i[r].style.cssText.length>0&&(0===i[r].selectorText.indexOf(".fr-view")?e.opts.iframeStyle+=i[r].selectorText.replace(/\.fr-view/g,"body")+"{"+i[r].style.cssText+"}":e.opts.iframeStyle+=i[r].selectorText.replace(/\.fr-element/g,"body")+"{"+i[r].style.cssText+"}")}}"auto"!=e.opts.direction&&e.$box.removeClass("fr-ltr fr-rtl").addClass("fr-"+e.opts.direction),e.$el.attr("dir",e.opts.direction),e.$wp.attr("dir",e.opts.direction),e.opts.zIndex>1&&e.$box.css("z-index",e.opts.zIndex),
e.opts.theme&&e.$box.addClass(e.opts.theme+"-theme")}function r(){return e.node.isEmpty(e.$el.get(0))}function s(){e.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!e.win.FormData,progress:"upload"in new XMLHttpRequest}}function a(t,i){var n=new XMLHttpRequest;n.open(i,t,!0),e.opts.requestWithCORS&&(n.withCredentials=!0);for(var o in e.opts.requestHeaders)e.opts.requestHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,e.opts.requestHeaders[o]);return n}function l(){"TEXTAREA"==e.$oel.get(0).tagName&&e.$oel.val(e.html.get()),e.$wp&&("TEXTAREA"==e.$oel.get(0).tagName?(e.$box.replaceWith(e.$oel),e.$oel.show()):(e.$wp.replaceWith(e.html.get()),e.$box.removeClass("fr-view fr-ltr fr-box "+(e.opts.editorClass||"")),e.opts.theme&&e.$box.addClass(e.opts.theme+"-theme")))}function d(){return e.browser.mozilla&&e.helpers.isMobile()?e.selection.inEditor():e.node.hasFocus(e.$el.get(0))||e.$el.find("*:focus").length>0}function h(t){if(!t)return!1;var i=t.data("instance");return i?i.id==e.id:!1}function u(){if(t.FE.INSTANCES.push(e),s(),e.$wp){o(),e.html.set(e._original_html),e.$el.attr("spellcheck",e.opts.spellcheck),e.helpers.isMobile()&&(e.$el.attr("autocomplete",e.opts.spellcheck?"on":"off"),e.$el.attr("autocorrect",e.opts.spellcheck?"on":"off"),e.$el.attr("autocapitalize",e.opts.spellcheck?"on":"off")),e.opts.disableRightClick&&e.events.$on(e.$el,"contextmenu",function(t){return 2==t.button?!1:void 0});try{e.doc.execCommand("styleWithCSS",!1,!1)}catch(i){}}e.events.on("drop",function(t){t.preventDefault(),t.stopPropagation()}),e.events.on("destroy",l),"TEXTAREA"==e.$oel.get(0).tagName&&(e.events.on("contentChanged",function(){e.$oel.val(e.html.get())}),e.events.on("form.submit",function(){e.$oel.val(e.html.get())}),e.events.on("form.reset",function(){e.html.set(e._original_html)}),e.$oel.val(e.html.get())),e.events.trigger("init")}return{_init:u,isEmpty:r,getXHR:a,injectStyle:i,hasFocus:d,sameInstance:h}},t.FE.COMMANDS={bold:{title:"Bold",refresh:function(t){this.refresh["default"](t,"bold")}},italic:{title:"Italic",refresh:function(t){this.refresh["default"](t,"italic")}},underline:{title:"Underline",refresh:function(t){this.refresh["default"](t,"underline")}},strikeThrough:{title:"Strikethrough",refresh:function(t){this.refresh["default"](t,"strikethrough")}},subscript:{title:"Subscript",refresh:function(t){this.refresh["default"](t,"subscript")}},superscript:{title:"Superscript",refresh:function(t){this.refresh["default"](t,"superscript")}},outdent:{title:"Decrease Indent"},indent:{title:"Increase Indent"},undo:{title:"Undo",undo:!1,forcedRefresh:!0,disabled:!0},redo:{title:"Redo",undo:!1,forcedRefresh:!0,disabled:!0},insertHR:{title:"Insert Horizontal Line"},clearFormatting:{title:"Clear Formatting"},selectAll:{title:"Select All",undo:!1}},t.FE.RegisterCommand=function(e,i){t.FE.COMMANDS[e]=i},t.FE.MODULES.commands=function(e){function i(i,n){if(e.events.trigger("commands.before",t.merge([i],n||[]))!==!1){var o=t.FE.COMMANDS[i]&&t.FE.COMMANDS[i].callback||h[i],r=!0;t.FE.COMMANDS[i]&&"undefined"!=typeof t.FE.COMMANDS[i].focus&&(r=t.FE.COMMANDS[i].focus),e.core.hasFocus()||!r||e.popups.areVisible()||e.events.focus(!0),t.FE.COMMANDS[i]&&t.FE.COMMANDS[i].undo!==!1&&e.undo.saveStep(),o&&o.apply(e,t.merge([i],n||[])),e.events.trigger("commands.after",t.merge([i],n||[])),t.FE.COMMANDS[i]&&t.FE.COMMANDS[i].undo!==!1&&e.undo.saveStep()}}function n(i,n){if(e.selection.isCollapsed()&&e.doc.queryCommandState(i)===!1){e.markers.insert();var o=e.$el.find(".fr-marker");o.replaceWith("<"+n+">"+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</"+n+">"),e.selection.restore()}else{var r=e.selection.element();if(e.selection.isCollapsed()&&e.doc.queryCommandState(i)===!0&&r.tagName==n.toUpperCase()&&0===(r.textContent||"").replace(/\u200B/g,"").length)t(r).replaceWith(t.FE.INVISIBLE_SPACE+t.FE.MARKERS),e.selection.restore();else{var s=e.$el.find("span"),a=!1;e.doc.queryCommandState(i)!==!1||e.browser.chrome||(e.selection.save(),a=!0),e.browser.mozilla&&e.$el.find(".fr-marker").css("display","inline-block"),e.doc.execCommand(i,!1,!1),a&&e.selection.restore();var l=e.$el.find("span[style]").not(s).filter(function(){return t(this).attr("style").indexOf("font-weight: normal")>=0});l.length&&(e.selection.save(),l.each(function(){t(this).replaceWith(t(this).html())}),e.selection.restore()),e.clean.toHTML5()}}}function o(i){e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();for(var n=e.selection.blocks(),o=0;o<n.length;o++)if("LI"!=n[o].tagName&&"LI"!=n[o].parentNode.tagName){var r=t(n[o]),s="rtl"==e.opts.direction||"rtl"==r.css("direction")?"margin-right":"margin-left",a=e.helpers.getPX(r.css(s));r.css(s,Math.max(a+20*i,0)||""),r.removeClass("fr-temp-div")}e.selection.save(),e.html.unwrap(),e.selection.restore()}function r(){var i=function(t){return t.attr("style").indexOf("font-size")>=0};e.$el.find("[style]").each(function(){var e=t(this);i(e)&&(e.attr("data-font-size",e.css("font-size")),e.css("font-size",""))})}function s(){e.$el.find("[data-font-size]").each(function(){var e=t(this);e.css("font-size",e.attr("data-font-size")),e.removeAttr("data-font-size")})}function a(){e.$el.find("span").each(function(){""===e.node.attributes(this)&&t(this).replaceWith(t(this).html())})}function l(i,n){if(e.selection.isCollapsed()){e.markers.insert();var o=e.$el.find(".fr-marker"),l=o.parent();e.node.openTagString(l.get(0))=='<span style="'+i+": "+l.css("font-size")+';">'&&e.node.isEmpty(l.get(0))?l.replaceWith('<span style="'+i+": "+n+';">'+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</span>"):o.replaceWith('<span style="'+i+": "+n+';">'+t.FE.INVISIBLE_SPACE+t.FE.MARKERS+"</span>"),e.selection.restore()}else{r(),e.doc.execCommand("fontSize",!1,4),e.selection.save(),s();for(var d,h=function(e){var n=t(e);n.css(i,""),""===n.attr("style")&&n.replaceWith(n.html())},u=function(){return 0===t(this).attr("style").indexOf(i+":")||t(this).attr("style").indexOf(";"+i+":")>=0||t(this).attr("style").indexOf("; "+i+":")>=0};e.$el.find("font").length>0;){var c=e.$el.find("font:first"),p=t('<span class="fr-just" style="'+i+": "+n+';">'+c.html()+"</span>");c.replaceWith(p);var f=p.find("span");for(d=f.length-1;d>=0;d--)h(f[d]);var m=p.parentsUntil(e.$el,"span[style]").filter(u);if(m.length){var g="",v="",y="",b="",w=p.get(0);do w=w.parentNode,g+=e.node.closeTagString(w),v=e.node.openTagString(w)+v,m.get(0)!=w&&(y+=e.node.closeTagString(w),b=e.node.openTagString(w)+b);while(m.get(0)!=w);var _=g+'<span class="fr-just" style="'+i+": "+n+';">'+b+p.html()+y+"</span>"+v;p.replaceWith('<span id="fr-break"></span>');var x=m.get(0).outerHTML;t(m.get(0)).replaceWith(x.replace(/<span id="fr-break"><\/span>/g,_))}}e.html.cleanEmptyTags(),a();var C=e.$el.find(".fr-just + .fr-just");for(d=0;d<C.length;d++){var k=t(C[d]);k.prepend(k.prev().html()),k.prev().remove()}e.$el.find(".fr-marker + .fr-just").each(function(){t(this).prepend(t(this).prev())}),e.$el.find(".fr-just + .fr-marker").each(function(){t(this).append(t(this).next())}),e.$el.find(".fr-just").removeAttr("class"),e.selection.restore()}}function d(t){return function(){i(t)}}var h={bold:function(){n("bold","strong")},subscript:function(){n("subscript","sub")},superscript:function(){n("superscript","sup")},italic:function(){n("italic","em")},strikeThrough:function(){n("strikeThrough","s")},underline:function(){n("underline","u")},undo:function(){e.undo.run()},redo:function(){e.undo.redo()},indent:function(){o(1)},outdent:function(){o(-1)},show:function(){e.opts.toolbarInline&&e.toolbar.showInline(null,!0)},insertHR:function(){e.selection.remove(),e.html.insert('<hr id="fr-just">');var t=e.$el.find("hr#fr-just");t.removeAttr("id"),e.selection.setAfter(t.get(0))||e.selection.setBefore(t.get(0)),e.selection.restore()},clearFormatting:function(){if(e.browser.msie||e.browser.edge){var i=function(i){e.commands.applyProperty(i,"#123456"),e.selection.save(),e.$el.find("span:not(.fr-marker)").each(function(n,o){var r=t(o),s=r.css(i);("#123456"===s||"#123456"===e.helpers.RGBToHex(s))&&r.replaceWith(r.html())}),e.selection.restore()};i("color"),i("background-color")}e.doc.execCommand("removeFormat",!1,!1),e.doc.execCommand("unlink",!1,!1)},selectAll:function(){e.doc.execCommand("selectAll",!1,!1)}},u={};for(var c in h)h.hasOwnProperty(c)&&(u[c]=d(c));return t.extend(u,{exec:i,applyProperty:l})},t.FE.MODULES.cursorLists=function(e){function i(t){for(var e=t;"LI"!=e.tagName;)e=e.parentNode;return e}function n(t){for(var i=t;!e.node.isList(i);)i=i.parentNode;return i}function o(o){var r,s=i(o),a=s.nextSibling,l=s.previousSibling,d=e.html.defaultTag();if(e.node.isEmpty(s,!0)&&a){for(var h="",u="",c=o.parentNode;!e.node.isList(c)&&c.parentNode&&"LI"!==c.parentNode.tagName;)h=e.node.openTagString(c)+h,u+=e.node.closeTagString(c),c=c.parentNode;h=e.node.openTagString(c)+h,u+=e.node.closeTagString(c);var p="";for(p=c.parentNode&&"LI"==c.parentNode.tagName?u+"<li>"+t.FE.MARKERS+"<br>"+h:d?u+"<"+d+">"+t.FE.MARKERS+"<br></"+d+">"+h:u+t.FE.MARKERS+"<br>"+h,t(s).html('<span id="fr-break"></span>');["UL","OL"].indexOf(c.tagName)<0||c.parentNode&&"LI"===c.parentNode.tagName;)c=c.parentNode;var f=e.node.openTagString(c)+t(c).html()+e.node.closeTagString(c);f=f.replace(/<span id="fr-break"><\/span>/g,p),t(c).replaceWith(f),e.$el.find("li:empty").remove()}else l&&a||!e.node.isEmpty(s,!0)?(t(s).before("<li><br></li>"),t(o).remove()):l?(r=n(s),r.parentNode&&"LI"==r.parentNode.tagName?t(r.parentNode).after("<li>"+t.FE.MARKERS+"<br></li>"):d?t(r).after("<"+d+">"+t.FE.MARKERS+"<br></"+d+">"):t(r).after(t.FE.MARKERS+"<br>"),t(s).remove()):(r=n(s),r.parentNode&&"LI"==r.parentNode.tagName?t(r.parentNode).before("<li>"+t.FE.MARKERS+"<br></li>"):d?t(r).before("<"+d+">"+t.FE.MARKERS+"<br></"+d+">"):t(r).before(t.FE.MARKERS+"<br>"),t(s).remove())}function r(n){for(var o=i(n),r="",s=n,a="",l="";s!=o;){s=s.parentNode;var d="A"==s.tagName&&e.cursor.isAtEnd(n,s)?"fr-to-remove":"";a=e.node.openTagString(t(s).clone().addClass(d).get(0))+a,l=e.node.closeTagString(s)+l}r=l+r+a+t.FE.MARKERS,t(n).replaceWith('<span id="fr-break"></span>');var h=e.node.openTagString(o)+t(o).html()+e.node.closeTagString(o);h=h.replace(/<span id="fr-break"><\/span>/g,r),t(o).replaceWith(h)}function s(n){for(var o=i(n),r=t.FE.MARKERS,s=n;s!=o;){s=s.parentNode;var a="A"==s.tagName&&e.cursor.isAtEnd(n,s)?"fr-to-remove":"";r=e.node.openTagString(t(s).clone().addClass(a).get(0))+r+e.node.closeTagString(s)}t(n).remove(),t(o).after(r)}function a(o){var r=i(o),s=r.previousSibling;if(s){s=t(s).find(e.html.blockTagsQuery()).get(-1)||s,t(o).replaceWith(t.FE.MARKERS);var a=e.node.contents(s);a.length&&"BR"==a[a.length-1].tagName&&t(a[a.length-1]).remove(),t(r).find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==r&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))});for(var l,d=e.node.contents(r)[0];d&&!e.node.isList(d);)l=d.nextSibling,t(s).append(d),d=l;for(s=r.previousSibling;d;)l=d.nextSibling,t(s).append(d),d=l;t(r).remove()}else{var h=n(r);if(t(o).replaceWith(t.FE.MARKERS),h.parentNode&&"LI"==h.parentNode.tagName){var u=h.previousSibling;e.node.isBlock(u)?(t(r).find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==r&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))}),t(u).append(t(r).html())):t(h).before(t(r).html())}else{var c=e.html.defaultTag();c&&0===t(r).find(e.html.blockTagsQuery()).length?t(h).before("<"+c+">"+t(r).html()+"</"+c+">"):t(h).before(t(r).html())}t(r).remove(),0===t(h).find("li").length&&t(h).remove()}}function l(n){var o,r=i(n),s=r.nextSibling;if(s){o=e.node.contents(s),o.length&&"BR"==o[0].tagName&&t(o[0]).remove(),t(s).find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==s&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))});for(var a,l=n,d=e.node.contents(s)[0];d&&!e.node.isList(d);)a=d.nextSibling,t(l).after(d),l=d,d=a;for(;d;)a=d.nextSibling,t(r).append(d),d=a;t(n).replaceWith(t.FE.MARKERS),t(s).remove()}else{for(var h=r;!h.nextSibling&&h!=e.$el.get(0);)h=h.parentNode;if(h==e.$el.get(0))return!1;if(h=h.nextSibling,e.node.isBlock(h))t.FE.NO_DELETE_TAGS.indexOf(h.tagName)<0&&(t(n).replaceWith(t.FE.MARKERS),o=e.node.contents(r),o.length&&"BR"==o[o.length-1].tagName&&t(o[o.length-1]).remove(),t(r).append(t(h).html()),t(h).remove());else for(o=e.node.contents(r),o.length&&"BR"==o[o.length-1].tagName&&t(o[o.length-1]).remove(),t(n).replaceWith(t.FE.MARKERS);h&&!e.node.isBlock(h)&&"BR"!=h.tagName;)t(r).append(t(h)),h=h.nextSibling}}return{_startEnter:o,_middleEnter:r,_endEnter:s,_backspace:a,_del:l}},t.FE.NO_DELETE_TAGS=["TH","TD","TABLE","FORM"],t.FE.SIMPLE_ENTER_TAGS=["TH","TD","LI","DL","DT","FORM"],t.FE.MODULES.cursor=function(e){function i(t){return t?e.node.isBlock(t)?!0:t.nextSibling?!1:i(t.parentNode):!1}function n(t){return t?e.node.isBlock(t)?!0:t.previousSibling?!1:n(t.parentNode):!1}function o(t,i){return t?t==e.$wp.get(0)?!1:t.previousSibling?!1:t.parentNode==i?!0:o(t.parentNode,i):!1}function r(t,i){return t?t==e.$wp.get(0)?!1:t.nextSibling?!1:t.parentNode==i?!0:r(t.parentNode,i):!1}function s(i){return t(i).parentsUntil(e.$el,"LI").length>0&&0===t(i).parentsUntil("LI","TABLE").length}function a(i){var n=t(i).parentsUntil(e.$el,"BLOCKQUOTE").length>0,o=e.node.deepestParent(i,[],!n);if(o&&"BLOCKQUOTE"==o.tagName){var r=e.node.deepestParent(i,[t(i).parentsUntil(e.$el,"BLOCKQUOTE").get(0)]);r&&r.previousSibling&&(o=r)}if(null!==o){var s,a=o.previousSibling;if(e.node.isBlock(o)&&e.node.isEditable(o)&&a&&t.FE.NO_DELETE_TAGS.indexOf(a.tagName)<0&&e.node.isEditable(a))if(e.node.isBlock(a))if(e.node.isEmpty(a)&&!e.node.isList(a))t(a).remove();else{if(e.node.isList(a)&&(a=t(a).find("li:last").get(0)),s=e.node.contents(a),s.length&&"BR"==s[s.length-1].tagName&&t(s[s.length-1]).remove(),"BLOCKQUOTE"==a.tagName&&"BLOCKQUOTE"!=o.tagName)for(s=e.node.contents(a);s.length&&e.node.isBlock(s[s.length-1]);)a=s[s.length-1],s=e.node.contents(a);else if("BLOCKQUOTE"!=a.tagName&&"BLOCKQUOTE"==o.tagName)for(s=e.node.contents(o);s.length&&e.node.isBlock(s[0]);)o=s[0],s=e.node.contents(o);t(i).replaceWith(t.FE.MARKERS),t(a).append(e.node.isEmpty(o)?t.FE.MARKERS:o.innerHTML),t(o).remove()}else t(i).replaceWith(t.FE.MARKERS),"BLOCKQUOTE"==o.tagName&&a.nodeType==Node.ELEMENT_NODE?t(a).remove():(t(a).after(e.node.isEmpty(o)?"":t(o).html()),t(o).remove(),"BR"==a.tagName&&t(a).remove())}}function l(i){for(var n=i;!n.previousSibling;)n=n.parentNode;n=n.previousSibling;var o;if(!e.node.isBlock(n)&&e.node.isEditable(n)){for(o=e.node.contents(n);n.nodeType!=Node.TEXT_NODE&&o.length&&e.node.isEditable(n);)n=o[o.length-1],o=e.node.contents(n);if(n.nodeType==Node.TEXT_NODE){if(e.helpers.isIOS())return!0;var r=n.textContent,s=r.length-1;if(e.opts.tabSpaces&&r.length>=e.opts.tabSpaces){var a=r.substr(r.length-e.opts.tabSpaces,r.length-1);0==a.replace(/ /g,"").replace(new RegExp(t.FE.UNICODE_NBSP,"g"),"").length&&(s=r.length-e.opts.tabSpaces)}n.textContent=r.substring(0,s),n.textContent.length&&55357==n.textContent.charCodeAt(n.textContent.length-1)&&(n.textContent=n.textContent.substr(0,n.textContent.length-1)),0==n.textContent.length?2!=n.parentNode.childNodes.length||n.parentNode!=i.parentNode||e.node.isBlock(n.parentNode)?(t(n).after(t.FE.MARKERS),n.parentNode.removeChild(n)):(t(n.parentNode).after(t.FE.MARKERS),t(n.parentNode).remove()):t(n).after(t.FE.MARKERS)}else e.events.trigger("node.remove",[t(n)])!==!1&&(t(n).after(t.FE.MARKERS),t(n).remove())}else if(t.FE.NO_DELETE_TAGS.indexOf(n.tagName)<0&&e.node.isEditable(n))if(e.node.isEmpty(n)&&!e.node.isList(n))t(n).remove(),t(i).replaceWith(t.FE.MARKERS);else{for(e.node.isList(n)&&(n=t(n).find("li:last").get(0)),o=e.node.contents(n),o&&"BR"==o[o.length-1].tagName&&t(o[o.length-1]).remove(),o=e.node.contents(n);o&&e.node.isBlock(o[o.length-1]);)n=o[o.length-1],o=e.node.contents(n);t(n).append(t.FE.MARKERS);for(var l=i;!l.previousSibling;)l=l.parentNode;for(;l&&"BR"!==l.tagName&&!e.node.isBlock(l);){var d=l;l=l.nextSibling,t(n).append(d)}l&&"BR"==l.tagName&&t(l).remove(),t(i).remove()}}function d(){var r=!1,d=e.markers.insert();if(!d)return!0;e.$el.get(0).normalize();var h=d.previousSibling;if(h){var u=h.textContent;u&&u.length&&8203==u.charCodeAt(u.length-1)&&(1==u.length?t(h).remove():(h.textContent=h.textContent.substr(0,u.length-1),h.textContent.length&&55357==h.textContent.charCodeAt(h.textContent.length-1)&&(h.textContent=h.textContent.substr(0,h.textContent.length-1))))}return i(d)?r=l(d):n(d)?s(d)&&o(d,t(d).parents("li:first").get(0))?e.cursorLists._backspace(d):a(d):r=l(d),t(d).remove(),e.$el.find("blockquote:empty").remove(),e.html.fillEmptyBlocks(),e.html.cleanEmptyTags(),e.clean.quotes(),e.clean.lists(),e.html.normalizeSpaces(),e.selection.restore(),r}function h(i){var n=t(i).parentsUntil(e.$el,"BLOCKQUOTE").length>0,o=e.node.deepestParent(i,[],!n);if(o&&"BLOCKQUOTE"==o.tagName){var r=e.node.deepestParent(i,[t(i).parentsUntil(e.$el,"BLOCKQUOTE").get(0)]);r&&r.nextSibling&&(o=r)}if(null!==o){var s,a=o.nextSibling;if(e.node.isBlock(o)&&e.node.isEditable(o)&&a&&t.FE.NO_DELETE_TAGS.indexOf(a.tagName)<0)if(e.node.isBlock(a)&&e.node.isEditable(a))if(e.node.isList(a))if(e.node.isEmpty(o,!0))t(o).remove(),t(a).find("li:first").prepend(t.FE.MARKERS);else{var l=t(a).find("li:first");"BLOCKQUOTE"==o.tagName&&(s=e.node.contents(o),s.length&&e.node.isBlock(s[s.length-1])&&(o=s[s.length-1])),0===l.find("ul, ol").length&&(t(i).replaceWith(t.FE.MARKERS),l.find(e.html.blockTagsQuery()).not("ol, ul, table").each(function(){this.parentNode==l.get(0)&&t(this).replaceWith(t(this).html()+(e.node.isEmpty(this)?"":"<br>"))}),t(o).append(e.node.contents(l.get(0))),l.remove(),0===t(a).find("li").length&&t(a).remove())}else{if(s=e.node.contents(a),s.length&&"BR"==s[0].tagName&&t(s[0]).remove(),"BLOCKQUOTE"!=a.tagName&&"BLOCKQUOTE"==o.tagName)for(s=e.node.contents(o);s.length&&e.node.isBlock(s[s.length-1]);)o=s[s.length-1],s=e.node.contents(o);else if("BLOCKQUOTE"==a.tagName&&"BLOCKQUOTE"!=o.tagName)for(s=e.node.contents(a);s.length&&e.node.isBlock(s[0]);)a=s[0],s=e.node.contents(a);t(i).replaceWith(t.FE.MARKERS),t(o).append(a.innerHTML),t(a).remove()}else{for(t(i).replaceWith(t.FE.MARKERS);a&&"BR"!==a.tagName&&!e.node.isBlock(a)&&e.node.isEditable(a);){var d=a;a=a.nextSibling,t(o).append(d)}a&&"BR"==a.tagName&&e.node.isEditable(a)&&t(a).remove()}}}function u(n){for(var o=n;!o.nextSibling;)o=o.parentNode;if(o=o.nextSibling,"BR"==o.tagName&&e.node.isEditable(o))if(o.nextSibling){if(e.node.isBlock(o.nextSibling)&&e.node.isEditable(o.nextSibling)){if(!(t.FE.NO_DELETE_TAGS.indexOf(o.nextSibling.tagName)<0))return;o=o.nextSibling,t(o.previousSibling).remove()}}else if(i(o)){if(s(n))e.cursorLists._del(n);else{var r=e.node.deepestParent(o);r&&(t(o).remove(),h(n))}return}var a;if(!e.node.isBlock(o)&&e.node.isEditable(o)){for(a=e.node.contents(o);o.nodeType!=Node.TEXT_NODE&&a.length&&e.node.isEditable(o);)o=a[0],a=e.node.contents(o);o.nodeType==Node.TEXT_NODE?(t(o).before(t.FE.MARKERS),o.textContent.length&&55357==o.textContent.charCodeAt(0)?o.textContent=o.textContent.substring(2,o.textContent.length):o.textContent=o.textContent.substring(1,o.textContent.length)):e.events.trigger("node.remove",[t(o)])!==!1&&(t(o).before(t.FE.MARKERS),t(o).remove()),t(n).remove()}else if(t.FE.NO_DELETE_TAGS.indexOf(o.tagName)<0)if(e.node.isList(o))n.previousSibling?(t(o).find("li:first").prepend(n),e.cursorLists._backspace(n)):(t(o).find("li:first").prepend(t.FE.MARKERS),t(n).remove());else if(a=e.node.contents(o),a&&"BR"==a[0].tagName&&t(a[0]).remove(),a&&"BLOCKQUOTE"==o.tagName){var l=a[0];for(t(n).before(t.FE.MARKERS);l&&"BR"!=l.tagName;){var d=l;l=l.nextSibling,t(n).before(d)}l&&"BR"==l.tagName&&t(l).remove()}else t(n).after(t(o).html()).after(t.FE.MARKERS),t(o).remove()}function c(){var o=e.markers.insert();if(!o)return!1;if(e.$el.get(0).normalize(),i(o))if(s(o))if(0===t(o).parents("li:first").find("ul, ol").length)e.cursorLists._del(o);else{var r=t(o).parents("li:first").find("ul:first, ol:first").find("li:first");r=r.find(e.html.blockTagsQuery()).get(-1)||r,r.prepend(o),e.cursorLists._backspace(o)}else h(o);else u(n(o)?o:o);t(o).remove(),e.$el.find("blockquote:empty").remove(),e.html.fillEmptyBlocks(),e.html.cleanEmptyTags(),e.clean.quotes(),e.clean.lists(),e.html.normalizeSpaces(),e.selection.restore()}function p(){e.$el.find(".fr-to-remove").each(function(){for(var i=e.node.contents(this),n=0;n<i.length;n++)i[n].nodeType==Node.TEXT_NODE&&(i[n].textContent=i[n].textContent.replace(/\u200B/g,""));t(this).replaceWith(this.innerHTML)})}function f(i,n,o){var s,a=e.node.deepestParent(i,[],!o);if(a&&"BLOCKQUOTE"==a.tagName)return r(i,a)?(s=e.html.defaultTag(),s?t(a).after("<"+s+">"+t.FE.MARKERS+"<br></"+s+">"):t(a).after(t.FE.MARKERS+"<br>"),t(i).remove(),!1):(g(i,n,o),!1);if(null==a)t(i).replaceWith("<br/>"+t.FE.MARKERS+"<br/>");else{var l=i,d="";(!e.node.isBlock(a)||n)&&(d="<br/>");var h="",u="";s=e.html.defaultTag();var c="",p="";s&&e.node.isBlock(a)&&(c="<"+s+">",p="</"+s+">",a.tagName==s.toUpperCase()&&(c=e.node.openTagString(t(a).clone().removeAttr("id").get(0))));do if(l=l.parentNode,!n||l!=a||n&&!e.node.isBlock(a))if(h+=e.node.closeTagString(l),l==a&&e.node.isBlock(a))u=c+u;else{var f="A"==l.tagName&&r(i,l)?"fr-to-remove":"";u=e.node.openTagString(t(l).clone().addClass(f).get(0))+u}while(l!=a);d=h+d+u+(i.parentNode==a&&e.node.isBlock(a)?"":t.FE.INVISIBLE_SPACE)+t.FE.MARKERS,e.node.isBlock(a)&&!t(a).find("*:last").is("br")&&t(a).append("<br/>"),t(i).after('<span id="fr-break"></span>'),t(i).remove(),a.nextSibling&&!e.node.isBlock(a.nextSibling)||e.node.isBlock(a)||t(a).after("<br>");var m;m=!n&&e.node.isBlock(a)?e.node.openTagString(a)+t(a).html()+p:e.node.openTagString(a)+t(a).html()+e.node.closeTagString(a),m=m.replace(/<span id="fr-break"><\/span>/g,d),t(a).replaceWith(m)}}function m(i,n,s){var a=e.node.deepestParent(i,[],!s);if(a&&"BLOCKQUOTE"==a.tagName){if(o(i,a)){var l=e.html.defaultTag();return l?t(a).before("<"+l+">"+t.FE.MARKERS+"<br></"+l+">"):t(a).before(t.FE.MARKERS+"<br>"),t(i).remove(),!1}r(i,a)?f(i,n,!0):g(i,n,!0)}if(null==a)t(i).replaceWith("<br>"+t.FE.MARKERS);else{if(e.node.isBlock(a))if(n)t(i).remove(),t(a).prepend("<br>"+t.FE.MARKERS);else{if(e.node.isEmpty(a,!0))return f(i,n,s);t(a).before(e.node.openTagString(t(a).clone().removeAttr("id").get(0))+"<br>"+e.node.closeTagString(a))}else t(a).before("<br>");t(i).remove()}}function g(i,n,s){var a=e.node.deepestParent(i,[],!s);if(null==a)e.html.defaultTag()&&i.parentNode===e.$el.get(0)?t(i).replaceWith("<"+e.html.defaultTag()+">"+t.FE.MARKERS+"<br></"+e.html.defaultTag()+">"):((!i.nextSibling||e.node.isBlock(i.nextSibling))&&t(i).after("<br>"),t(i).replaceWith("<br>"+t.FE.MARKERS));else{var l=i,d="";"PRE"==a.tagName&&(n=!0),(!e.node.isBlock(a)||n)&&(d="<br>");var h="",u="";do{var c=l;if(l=l.parentNode,"BLOCKQUOTE"==a.tagName&&e.node.isEmpty(c)&&!t(c).hasClass("fr-marker")&&t(c).find(i).length>0&&t(c).after(i),("BLOCKQUOTE"!=a.tagName||!r(i,l)&&!o(i,l))&&(!n||l!=a||n&&!e.node.isBlock(a))){h+=e.node.closeTagString(l);var p="A"==l.tagName&&r(i,l)?"fr-to-remove":"";u=e.node.openTagString(t(l).clone().addClass(p).removeAttr("id").get(0))+u}}while(l!=a);var f=a==i.parentNode&&e.node.isBlock(a)||i.nextSibling;if("BLOCKQUOTE"==a.tagName){i.previousSibling&&e.node.isBlock(i.previousSibling)&&i.nextSibling&&"BR"==i.nextSibling.tagName&&(t(i.nextSibling).after(i),i.nextSibling&&"BR"==i.nextSibling.tagName&&t(i.nextSibling).remove());var m=e.html.defaultTag();d=h+d+(m?"<"+m+">":"")+t.FE.MARKERS+"<br>"+(m?"</"+m+">":"")+u}else d=h+d+u+(f?"":t.FE.INVISIBLE_SPACE)+t.FE.MARKERS;t(i).replaceWith('<span id="fr-break"></span>');var g=e.node.openTagString(a)+t(a).html()+e.node.closeTagString(a);g=g.replace(/<span id="fr-break"><\/span>/g,d),t(a).replaceWith(g)}}function v(o){var r=e.markers.insert();if(!r)return!0;e.$el.get(0).normalize();var a=!1;t(r).parentsUntil(e.$el,"BLOCKQUOTE").length>0&&(o=!1,a=!0),t(r).parentsUntil(e.$el,"TD, TH").length&&(a=!1),i(r)?!s(r)||o||a?f(r,o,a):e.cursorLists._endEnter(r):n(r)?!s(r)||o||a?m(r,o,a):e.cursorLists._startEnter(r):!s(r)||o||a?g(r,o,a):e.cursorLists._middleEnter(r),p(),e.html.fillEmptyBlocks(),e.html.cleanEmptyTags(),e.clean.lists(),e.html.normalizeSpaces(),e.selection.restore()}return{enter:v,backspace:d,del:c,isAtEnd:r}},t.FE.MODULES.data=function(t){function e(t){return t}function i(t){if(!t)return t;for(var i="",r=e("charCodeAt"),s=e("fromCharCode"),a=u.indexOf(t[0]),l=1;l<t.length-2;l++){for(var d=n(++a),h=t[r](l),c="";/[0-9-]/.test(t[l+1]);)c+=t[++l];c=parseInt(c,10)||0,h=o(h,d,c),h^=a-1&31,i+=String[s](h)}return i}function n(t){for(var e=t.toString(),i=0,n=0;n<e.length;n++)i+=parseInt(e.charAt(n),10);return i>10?i%9+1:i}function o(t,e,i){for(var n=Math.abs(i);n-->0;)t-=e;return 0>i&&(t+=123),t}function r(t){return t&&"none"==t.css("display")?(t.remove(),!0):!1}function s(){return r(d)||r(h)}function a(){return t.$box?(t.$box.append(p(e(p("kTDD4spmKD1klaMB1C7A5RA1G3RA10YA5qhrjuvnmE1D3FD2bcG-7noHE6B2JB4C3xXA8WF6F-10RG2C3G3B-21zZE3C3H3xCA16NC4DC1f1hOF1MB3B-21whzQH5UA2WB10kc1C2F4D3XC2YD4D1C4F3GF2eJ2lfcD-13HF1IE1TC11TC7WE4TA4d1A2YA6XA4d1A3yCG2qmB-13GF4A1B1KH1HD2fzfbeQC3TD9VE4wd1H2A20A2B-22ujB3nBG2A13jBC10D3C2HD5D1H1KB11uD-16uWF2D4A3F-7C9D-17c1E4D4B3d1D2CA6B2B-13qlwzJF2NC2C-13E-11ND1A3xqUA8UE6bsrrF-7C-22ia1D2CF2H1E2akCD2OE1HH1dlKA6PA5jcyfzB-22cXB4f1C3qvdiC4gjGG2H2gklC3D-16wJC1UG4dgaWE2D5G4g1I2H3B7vkqrxH1H2EC9C3E4gdgzKF1OA1A5PF5C4WWC3VA6XA4e1E3YA2YA5HE4oGH4F2H2IB10D3D2NC5G1B1qWA9PD6PG5fQA13A10XA4C4A3e1H2BA17kC-22cmOB1lmoA2fyhcptwWA3RA8A-13xB-11nf1I3f1B7GB3aD3pavFC10D5gLF2OG1LSB2D9E7fQC1F4F3wpSB5XD3NkklhhaE-11naKA9BnIA6D1F5bQA3A10c1QC6Kjkvitc2B6BE3AF3E2DA6A4JD2IC1jgA-64MB11D6C4==")))),d=t.$box.find("> div:last"),h=d.find("> a"),void("rtl"==t.opts.direction&&d.css("left","auto").css("right",0))):!1}function l(){var i=t.opts.key||[""];"string"==typeof i&&(i=[i]),t.ul=!0;for(var n=0;n<i.length;n++){var o=p(i[n])||"";if(!(o!==p(e(p("mcVRDoB1BGILD7YFe1BTXBA7B6==")))&&o.indexOf(c,o.length-c.length)<0&&[p("9qqG-7amjlwq=="),p("KA3B3C2A6D1D5H5H1A3==")].indexOf(c)<0)){t.ul=!1;break}}t.ul===!0&&a(),t.events.on("contentChanged",function(){t.ul===!0&&s()&&a()}),t.events.on("destroy",function(){d&&d.length&&d.remove()},!0)}var d,h,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=function(){for(var t=0,e=document.domain,i=e.split("."),n="_gd"+(new Date).getTime();t<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)e=i.slice(-1-++t).join("."),document.cookie=n+"="+n+";domain="+e+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",e}(),p=e(i);return{_init:l}},t.FE.ENTER_P=0,t.FE.ENTER_DIV=1,t.FE.ENTER_BR=2,t.FE.KEYCODE={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221},t.extend(t.FE.DEFAULTS,{enter:t.FE.ENTER_P,multiLine:!0,tabSpaces:0}),t.FE.MODULES.keys=function(e){function i(){if(e.helpers.isIOS()){var i=navigator.userAgent.match("CriOS"),n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);if(!i&&!n){var o=t(e.o_win).scrollTop();e.events.disableBlur(),e.selection.save(),e.$el.blur(),e.selection.restore(),e.events.enableBlur(),t(e.o_win).scrollTop(o)}}}function n(t){t.preventDefault(),t.stopPropagation(),e.opts.multiLine&&(e.selection.isCollapsed()||e.selection.remove(),e.cursor.enter()),i()}function o(t){t.preventDefault(),t.stopPropagation(),e.opts.multiLine&&(e.selection.isCollapsed()||e.selection.remove(),e.cursor.enter(!0))}function r(t){e.selection.isCollapsed()?e.cursor.backspace()||(t.preventDefault(),t.stopPropagation(),C=!1):(t.preventDefault(),t.stopPropagation(),e.selection.remove(),e.html.fillEmptyBlocks(),C=!1),e.placeholder.refresh()}function s(t){t.preventDefault(),t.stopPropagation(),""===e.selection.text()?e.cursor.del():e.selection.remove(),e.placeholder.refresh()}function a(i){if(e.browser.mozilla){i.preventDefault(),i.stopPropagation(),e.selection.isCollapsed()||e.selection.remove(),e.markers.insert();var n=e.$el.find(".fr-marker").get(0),o=n.previousSibling,r=n.nextSibling;!r&&n.parentNode&&"A"==n.parentNode.tagName?(t(n).parent().after("&nbsp;"+t.FE.MARKERS),t(n).remove()):(o&&o.nodeType==Node.TEXT_NODE&&1==o.textContent.length&&160==o.textContent.charCodeAt(0)?t(o).after(" "):t(n).before("&nbsp;"),t(n).replaceWith(t.FE.MARKERS)),e.selection.restore()}}function l(){if(e.browser.mozilla&&e.selection.isCollapsed()&&!T){var t=e.selection.ranges(0),i=t.startContainer,n=t.startOffset;i&&i.nodeType==Node.TEXT_NODE&&n<=i.textContent.length&&n>0&&32==i.textContent.charCodeAt(n-1)&&(e.selection.save(),e.html.normalizeSpaces(),e.selection.restore())}}function d(){e.selection.isFull()&&setTimeout(function(){var i=e.html.defaultTag();i?e.$el.html("<"+i+">"+t.FE.MARKERS+"<br/></"+i+">"):e.$el.html(t.FE.MARKERS+"<br/>"),e.selection.restore(),e.placeholder.refresh(),e.button.bulkRefresh(),e.undo.saveStep()},0)}function h(t){if(e.opts.tabSpaces>0)if(e.selection.isCollapsed()){t.preventDefault(),t.stopPropagation();for(var i="",n=0;n<e.opts.tabSpaces;n++)i+="&nbsp;";e.html.insert(i),e.placeholder.refresh()}else t.preventDefault(),t.stopPropagation(),t.shiftKey?e.commands.outdent():e.commands.indent()}function u(t){T=!1}function c(){return T}function p(i){e.events.disableBlur(),C=!0;var l=i.which;if(16===l)return!0;if(229===l)return T=!0,!0;T=!1;var d=y(l)&&!v(i),u=l==t.FE.KEYCODE.BACKSPACE||l==t.FE.KEYCODE.DELETE;if((e.selection.isFull()&&!e.opts.keepFormatOnDelete&&!e.placeholder.isVisible()||u&&e.placeholder.isVisible()&&e.opts.keepFormatOnDelete)&&(d||u)){var c=e.html.defaultTag();return c?e.$el.html("<"+c+">"+t.FE.MARKERS+"<br/></"+c+">"):e.$el.html(t.FE.MARKERS+"<br/>"),e.selection.restore(),i.preventDefault(),!0}l==t.FE.KEYCODE.ENTER?i.shiftKey?o(i):n(i):l!=t.FE.KEYCODE.BACKSPACE||v(i)||i.altKey||e.placeholder.isVisible()?l!=t.FE.KEYCODE.DELETE||v(i)||i.altKey||e.placeholder.isVisible()?l==t.FE.KEYCODE.SPACE?a(i):l==t.FE.KEYCODE.TAB?h(i):v(i)||!y(i.which)||e.selection.isCollapsed()||e.selection.remove():s(i):r(i),e.events.enableBlur()}function f(i){for(var n=0;n<i.length;n++)i[n].nodeType==Node.TEXT_NODE&&/\u200B/gi.test(i[n].textContent)?(i[n].textContent=i[n].textContent.replace(/\u200B/gi,""),0===i[n].textContent.length&&t(i[n]).remove()):i[n].nodeType==Node.ELEMENT_NODE&&"IFRAME"!=i[n].nodeType&&f(e.node.contents(i[n]))}function m(){if(!e.$wp)return!0;var i;e.opts.height||e.opts.heightMax?(i=e.position.getBoundingRect().top,e.helpers.isIOS()&&(i-=t(e.o_win).scrollTop()),e.opts.iframe&&(i+=e.$iframe.offset().top),i>e.$wp.offset().top-t(e.o_win).scrollTop()+e.$wp.height()-20&&e.$wp.scrollTop(i+e.$wp.scrollTop()-(e.$wp.height()+e.$wp.offset().top)+t(e.o_win).scrollTop()+20)):(i=e.position.getBoundingRect().top,e.helpers.isIOS()&&(i-=t(e.o_win).scrollTop()),e.opts.iframe&&(i+=e.$iframe.offset().top),i>e.o_win.innerHeight-20&&t(e.o_win).scrollTop(i+t(e.o_win).scrollTop()-e.o_win.innerHeight+20),i=e.position.getBoundingRect().top,e.helpers.isIOS()&&(i-=t(e.o_win).scrollTop()),e.opts.iframe&&(i+=e.$iframe.offset().top),i<e.$tb.height()+20&&t(e.o_win).scrollTop(i+t(e.o_win).scrollTop()-e.$tb.height()-20))}function g(i){if(T)return!1;if(!e.selection.isCollapsed())return!0;!i||i.which!=t.FE.KEYCODE.ENTER&&i.which!=t.FE.KEYCODE.BACKSPACE||i.which==t.FE.KEYCODE.BACKSPACE&&C||m();var n=e.$el.find(e.html.blockTagsQuery());n.push(e.$el.get(0));for(var o=[],r=0;r<n.length;r++)if(["TD","TH"].indexOf(n[r].tagName)<0)for(var s=n[r].children,a=0;a<s.length;a++)"BR"==s[a].tagName&&o.push(s[a]);for(var r=0;r<o.length;r++){var l=o[r],d=l.previousSibling,h=l.nextSibling,u=e.node.blockParent(l)||e.$el.get(0);d&&u&&"BR"!=d.tagName&&!e.node.isBlock(d)&&!h&&t(u).text().replace(/\u200B/g,"").length>0&&t(d).text().length>0&&(e.$el.is(u)&&!h&&e.opts.enter==t.FE.ENTER_BR&&e.browser.msie||(e.selection.save(),t(l).remove(),e.selection.restore()))}var c=function(e){if(!e)return!1;var i=t(e).html();return i=i.replace(/<span[^>]*? class\s*=\s*["']?fr-marker["']?[^>]+>\u200b<\/span>/gi,""),i&&/\u200B/.test(i)&&i.replace(/\u200B/gi,"").length>0?!0:!1},p=function(t){var i=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;
return!e.helpers.isIOS()||0===((t.textContent||"").match(i)||[]).length},g=e.selection.element();c(g)&&0===t(g).find("li").length&&!t(g).hasClass("fr-marker")&&"IFRAME"!=g.tagName&&p(g)&&(e.selection.save(),f(e.node.contents(g)),e.selection.restore()),!e.browser.mozilla&&e.html.doNormalize()&&(e.selection.save(),e.html.normalizeSpaces(),e.selection.restore())}function v(t){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(t.metaKey&&!t.altKey)return!0}else if(t.ctrlKey&&!t.altKey)return!0;return!1}function y(i){if(i>=t.FE.KEYCODE.ZERO&&i<=t.FE.KEYCODE.NINE)return!0;if(i>=t.FE.KEYCODE.NUM_ZERO&&i<=t.FE.KEYCODE.NUM_MULTIPLY)return!0;if(i>=t.FE.KEYCODE.A&&i<=t.FE.KEYCODE.Z)return!0;if(e.browser.webkit&&0===i)return!0;switch(i){case t.FE.KEYCODE.SPACE:case t.FE.KEYCODE.QUESTION_MARK:case t.FE.KEYCODE.NUM_PLUS:case t.FE.KEYCODE.NUM_MINUS:case t.FE.KEYCODE.NUM_PERIOD:case t.FE.KEYCODE.NUM_DIVISION:case t.FE.KEYCODE.SEMICOLON:case t.FE.KEYCODE.FF_SEMICOLON:case t.FE.KEYCODE.DASH:case t.FE.KEYCODE.EQUALS:case t.FE.KEYCODE.FF_EQUALS:case t.FE.KEYCODE.COMMA:case t.FE.KEYCODE.PERIOD:case t.FE.KEYCODE.SLASH:case t.FE.KEYCODE.APOSTROPHE:case t.FE.KEYCODE.SINGLE_QUOTE:case t.FE.KEYCODE.OPEN_SQUARE_BRACKET:case t.FE.KEYCODE.BACKSLASH:case t.FE.KEYCODE.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}function b(t){var i=t.which;return v(t)||i>=37&&40>=i?!0:(k||(E=e.snapshot.get()),clearTimeout(k),void(k=setTimeout(function(){k=null,e.undo.saveStep()},Math.max(250,e.opts.typingTimer))))}function w(t){return v(t)?!0:void(E&&k&&(e.undo.saveStep(E),E=null))}function _(){k&&(clearTimeout(k),e.undo.saveStep(),E=null)}function x(){if(e.events.on("keydown",b),e.events.on("input",l),e.events.on("keyup",w),e.events.on("keypress",u),e.events.on("keydown",p),e.events.on("keyup",g),e.events.on("html.inserted",g),e.events.on("cut",d),e.$el.get(0).msGetInputContext)try{e.$el.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",function(){T=!0}),e.$el.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",function(){T=!1,g()})}catch(t){}}var C,k,E,T=!1;return{_init:x,ctrlKey:v,isCharacter:y,forceUndo:_,isIME:c}},t.extend(t.FE.DEFAULTS,{pastePlain:!1,pasteDeniedTags:["colgroup","col"],pasteDeniedAttrs:["class","id","style"],pasteAllowLocalImages:!1}),t.FE.MODULES.paste=function(e){function i(i){t.FE.copied_html=e.html.getSelected(),t.FE.copied_text=t("<div>").html(t.FE.copied_html).text(),"cut"==i.type&&(e.undo.saveStep(),setTimeout(function(){e.html.wrap(),e.events.focus(),e.undo.saveStep()},0))}function n(t){if(f)return!1;if(t.originalEvent&&(t=t.originalEvent),e.events.trigger("paste.before",[t])===!1)return!1;if(u=e.$win.scrollTop(),t&&t.clipboardData&&t.clipboardData.getData){var i="",n=t.clipboardData.types;if(e.helpers.isArray(n))for(var r=0;r<n.length;r++)i+=n[r]+";";else i=n;if(c="",/text\/html/.test(i)?c=t.clipboardData.getData("text/html"):/text\/rtf/.test(i)&&e.browser.safari?c=t.clipboardData.getData("text/rtf"):/text\/plain/.test(i)&&!this.browser.mozilla&&(c=e.html.escapeEntities(t.clipboardData.getData("text/plain")).replace(/\n/g,"<br>")),""!==c)return a(),t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1;c=null}o()}function o(){e.selection.save(),e.events.disableBlur(),c=null,p?p.html(""):(p=t('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 9999; line-height: 140%;" tabindex="-1"></div>'),e.$box.after(p)),p.focus(),e.win.setTimeout(a,1)}function r(i){i=i.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),i=i.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),i=i.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),i=i.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),i=i.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),i=i.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),i=i.replace(/<p(.*?)class="?'?MsoListBullet"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),i=i.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),i=i.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),i=i.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),i=i.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),i=i.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),i=i.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),i=i.replace(/<!--[\s\S]*?-->/gi,""),i=i.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var n=["style","script","applet","embed","noframes","noscript"],o=0;o<n.length;o++){var r=new RegExp("<"+n[o]+".*?"+n[o]+"(.*?)>","gi");i=i.replace(r,"")}i=i.replace(/&nbsp;/gi," "),i=i.replace(/<td([^>]*)><\/td>/g,"<td$1><br></td>"),i=i.replace(/<th([^>]*)><\/th>/g,"<th$1><br></th>");var s;do s=i,i=i.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(i!=s);i=i.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),i=i.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),i=e.clean.html(i,e.opts.pasteDeniedTags,e.opts.pasteDeniedAttrs),i=i.replace(/<a>(.[^<]+)<\/a>/gi,"$1");var a=t("<div>").html(i);return a.find("li[data-indent]").each(function(e,i){var n=t(i);if(n.prev("li").length>0){var o=n.prev("li").find("> ul, > ol");0===o.length&&(o=t("ul"),n.prev("li").append(o)),o.append(i)}else n.removeAttr("data-indent")}),e.html.cleanBlankSpaces(a.get(0)),i=a.html()}function s(i){var n=t("<div>").html(i);n.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(function(i,n){t(n).replaceWith("<"+(e.html.defaultTag()||"DIV")+">"+t(n).html()+"</"+(e.html.defaultTag()||"DIV")+">")}),t(n.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img").get().reverse()).each(function(){t(this).replaceWith(t(this).html())});var o=function(i){for(var n=e.node.contents(i),r=0;r<n.length;r++)3!=n[r].nodeType&&1!=n[r].nodeType?t(n[r]).remove():o(n[r])};return o(n.get(0)),n.html()}function a(){e.keys.forceUndo();var i=e.snapshot.get();null===c&&(c=p.html(),e.selection.restore(),e.events.enableBlur());var n=e.events.chainTrigger("paste.beforeCleanup",c);if("string"==typeof n&&(c=n),c.indexOf("<body")>=0&&(c=c.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),c.indexOf('id="docs-internal-guid')>=0&&(c=c.replace(/^.* id="docs-internal-guid[^>]*>(.*)<\/b>.*$/,"$1")),c.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(c=c.replace(/^\n*/g,"").replace(/^ /g,""),0===c.indexOf("<colgroup>")&&(c="<table>"+c+"</table>"),c=r(c),c=d(c)):(e.opts.htmlAllowComments=!1,c=e.clean.html(c,e.opts.pasteDeniedTags,e.opts.pasteDeniedAttrs),e.opts.htmlAllowComments=!0,c=d(c),c=c.replace(/\r|\n|\t/g,""),t.FE.copied_text&&t("<div>").html(c).text().replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")==t.FE.copied_text.replace(/(\u00A0)/gi," ").replace(/\r|\n/gi,"")&&(c=t.FE.copied_html),c=c.replace(/^ */g,"").replace(/ *$/g,"")),e.opts.pastePlain&&(c=s(c)),n=e.events.chainTrigger("paste.afterCleanup",c),"string"==typeof n&&(c=n),""!==c){var o=t("<div>").html(c);e.html.normalizeSpaces(o.get(0)),o.find("span").each(function(){0==this.attributes.length&&t(this).replaceWith(this.innerHTML)}),o.find("br").each(function(){this.previousSibling&&e.node.isBlock(this.previousSibling)&&t(this).remove()}),c=o.html(),e.html.insert(c,!0)}l(),e.undo.saveStep(i),e.undo.saveStep()}function l(){e.events.trigger("paste.after")}function d(e){for(var i,n=t("<div>").html(e),o=n.find("*:empty:not(br, img, td, th)");o.length;){for(i=0;i<o.length;i++)t(o[i]).remove();o=n.find("*:empty:not(br, img, td, th)")}for(var r=n.find("> div:not([style]), td > div, th > div, li > div");r.length;){var s=t(r[r.length-1]);s.replaceWith(s.html()+"<br>"),r=n.find("> div:not([style]), td > div, th > div, li > div")}for(r=n.find("div:not([style])");r.length;){for(i=0;i<r.length;i++){var a=t(r[i]),l=a.html().replace(/\u0009/gi,"").trim();a.replaceWith(l)}r=n.find("div:not([style])")}return n.html()}function h(){e.events.on("copy",i),e.events.on("cut",i),e.events.on("paste",n),e.browser.msie&&e.browser.version<11&&(e.events.on("mouseup",function(t){2==t.button&&(setTimeout(function(){f=!1},50),f=!0)},!0),e.events.on("beforepaste",n))}var u,c,p,f=!1;return{_init:h}},t.FE.MODULES.tooltip=function(e){function i(){e.$tooltip&&e.$tooltip.removeClass("fr-visible").css("left","-3000px")}function n(i,n){if(i.data("title")||i.data("title",i.attr("title")),!i.data("title"))return!1;e.$tooltip||r(),i.removeAttr("title"),e.$tooltip.text(i.data("title")),e.$tooltip.addClass("fr-visible");var o=i.offset().left+(i.outerWidth()-e.$tooltip.outerWidth())/2;0>o&&(o=0),o+e.$tooltip.outerWidth()>t(e.o_win).width()&&(o=t(e.o_win).width()-e.$tooltip.outerWidth()),"undefined"==typeof n&&(n=e.opts.toolbarBottom);var s=n?i.offset().top-e.$tooltip.height():i.offset().top+i.outerHeight();e.$tooltip.css("left",o),e.$tooltip.css("top",s)}function o(o,r,s){e.helpers.isMobile()||(e.events.$on(o,"mouseenter",r,function(e){t(e.currentTarget).hasClass("fr-disabled")||n(t(e.currentTarget),s)},!0),e.events.$on(o,"mouseleave "+e._mousedown+" "+e._mouseup,r,function(t){i()},!0))}function r(){e.helpers.isMobile()||(e.shared.$tooltip?e.$tooltip=e.shared.$tooltip:(e.shared.$tooltip=t('<div class="fr-tooltip"></div>'),e.$tooltip=e.shared.$tooltip,e.opts.theme&&e.$tooltip.addClass(e.opts.theme+"-theme"),t(e.o_doc).find("body").append(e.$tooltip)),e.events.on("shared.destroy",function(){e.$tooltip.html("").removeData().remove()},!0))}return{hide:i,to:n,bind:o}},t.FE.ICON_DEFAULT_TEMPLATE="font_awesome",t.FE.ICON_TEMPLATES={font_awesome:'<i class="fa fa-[NAME]"></i>',text:'<span style="text-align: center;">[NAME]</span>',image:"<img src=[SRC] alt=[ALT] />"},t.FE.ICONS={bold:{NAME:"bold"},italic:{NAME:"italic"},underline:{NAME:"underline"},strikeThrough:{NAME:"strikethrough"},subscript:{NAME:"subscript"},superscript:{NAME:"superscript"},color:{NAME:"tint"},outdent:{NAME:"outdent"},indent:{NAME:"indent"},undo:{NAME:"rotate-left"},redo:{NAME:"rotate-right"},insertHR:{NAME:"minus"},clearFormatting:{NAME:"eraser"},selectAll:{NAME:"mouse-pointer"}},t.FE.DefineIconTemplate=function(e,i){t.FE.ICON_TEMPLATES[e]=i},t.FE.DefineIcon=function(e,i){t.FE.ICONS[e]=i},t.FE.MODULES.icon=function(e){function i(e){var i=null,n=t.FE.ICONS[e];if("undefined"!=typeof n){var o=n.template||t.FE.ICON_DEFAULT_TEMPLATE;o&&(o=t.FE.ICON_TEMPLATES[o])&&(i=o.replace(/\[([a-zA-Z]*)\]/g,function(t,i){return"NAME"==i?n[i]||e:n[i]}))}return i||e}return{create:i}},t.FE.MODULES.button=function(e){function i(i){var n=t(i.currentTarget),o=n.next(),r=n.hasClass("fr-active"),s=(e.helpers.isMobile(),t(".fr-dropdown.fr-active").not(n)),a=n.parents(".fr-toolbar, .fr-popup").data("instance")||e;if(a.helpers.isIOS()&&0==a.$el.get(0).querySelectorAll(".fr-marker").length&&(a.selection.save(),a.selection.clear(),a.selection.restore()),!r){var l=n.data("cmd");o.find(".fr-command").removeClass("fr-active"),t.FE.COMMANDS[l]&&t.FE.COMMANDS[l].refreshOnShow&&t.FE.COMMANDS[l].refreshOnShow.apply(a,[n,o]),o.css("left",n.offset().left-n.parent().offset().left-("rtl"==e.opts.direction?o.width()-n.outerWidth():0)),e.opts.toolbarBottom?o.css("bottom",e.$tb.height()-n.position().top):o.css("top",n.position().top+n.outerHeight())}n.addClass("fr-blink").toggleClass("fr-active"),setTimeout(function(){n.removeClass("fr-blink")},300),o.offset().left+o.outerWidth()>t(e.opts.scrollableContainer).offset().left+t(e.opts.scrollableContainer).outerWidth()&&o.css("margin-left",-(o.offset().left+o.outerWidth()-t(e.opts.scrollableContainer).offset().left-t(e.opts.scrollableContainer).outerWidth())),s.removeClass("fr-active"),s.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""),0!=n.parents(".fr-popup").length||e.opts.toolbarInline||(n.hasClass("fr-active")?e.$tb.css("zIndex",(e.opts.zIndex||1)+4):e.$tb.css("zIndex",""))}function n(e){e.addClass("fr-blink"),setTimeout(function(){e.removeClass("fr-blink")},500);for(var i=e.data("cmd"),n=[];"undefined"!=typeof e.data("param"+(n.length+1));)n.push(e.data("param"+(n.length+1)));var o=t(".fr-dropdown.fr-active");o.length&&(o.removeClass("fr-active"),o.parent(".fr-toolbar:not(.fr-inline)").css("zIndex","")),e.parents(".fr-popup, .fr-toolbar").data("instance").commands.exec(i,n)}function o(e){var i=t(e.currentTarget);n(i)}function r(e){var n=t(e.currentTarget),r=n.parents(".fr-popup, .fr-toolbar").data("instance");if(0!=n.parents(".fr-popup").length||n.data("popup")||r.popups.hideAll(),r.popups.areVisible()&&!r.popups.areVisible(r)){for(var s=0;s<t.FE.INSTANCES.length;s++)t.FE.INSTANCES[s]!=r&&t.FE.INSTANCES[s].popups&&t.FE.INSTANCES[s].popups.areVisible()&&t.FE.INSTANCES[s].$el.find(".fr-marker").remove();r.popups.hideAll()}n.hasClass("fr-dropdown")?i(e):(o(e),t.FE.COMMANDS[n.data("cmd")]&&0!=t.FE.COMMANDS[n.data("cmd")].refreshAfterCallback&&r.button.bulkRefresh())}function s(t){var e=t.find(".fr-dropdown.fr-active");e.length&&(e.removeClass("fr-active"),e.parent(".fr-toolbar:not(.fr-inline)").css("zIndex",""))}function a(t){t.preventDefault(),t.stopPropagation()}function l(t){return t.stopPropagation(),e.opts.toolbarInline?!1:void 0}function d(i,n){e.events.bindClick(i,".fr-command:not(.fr-disabled)",r),e.events.$on(i,e._mousedown+" "+e._mouseup+" "+e._move,".fr-dropdown-menu",a,!0),e.events.$on(i,e._mousedown+" "+e._mouseup+" "+e._move,".fr-dropdown-menu .fr-dropdown-wrapper",l,!0);var o=i.get(0).ownerDocument,d="defaultView"in o?o.defaultView:o.parentWindow,h=function(n){(!n||n.type==e._mouseup&&n.target!=t("html").get(0)||"keydown"==n.type&&(e.keys.isCharacter(n.which)&&!e.keys.ctrlKey(n)||n.which==t.FE.KEYCODE.ESC))&&s(i)};e.events.$on(t(d),e._mouseup+" resize keydown",h,!0),e.opts.iframe&&e.events.$on(e.$win,e._mouseup,h,!0),t.merge(g,i.find(".fr-btn").toArray()),e.tooltip.bind(i,".fr-btn, .fr-title",n)}function h(t,i){var n="";if(i.html)n+="function"==typeof i.html?i.html.call(e):i.html;else{var o=i.options;"function"==typeof o&&(o=o()),n+='<ul class="fr-dropdown-list">';for(var r in o)o.hasOwnProperty(r)&&(n+='<li><a class="fr-command" data-cmd="'+t+'" data-param1="'+r+'" title="'+o[r]+'">'+e.language.translate(o[r])+"</a></li>");n+="</ul>"}return n}function u(t,i,n){var o=i.displaySelection;"function"==typeof o&&(o=o(e));var r;if(o){var s="function"==typeof i.defaultSelection?i.defaultSelection(e):i.defaultSelection;r='<span style="width:'+(i.displaySelectionWidth||100)+'px">'+(s||e.language.translate(i.title))+"</span>"}else r=e.icon.create(i.icon||t);var a=i.popup?' data-popup="true"':"",l='<button type="button" tabindex="-1" title="'+(e.language.translate(i.title)||"")+'" class="fr-command fr-btn'+("dropdown"==i.type?" fr-dropdown":"")+(i.displaySelection?" fr-selection":"")+(i.back?" fr-back":"")+(i.disabled?" fr-disabled":"")+(n?"":" fr-hidden")+'" data-cmd="'+t+'"'+a+">"+r+"</button>";if("dropdown"==i.type){var d='<div class="fr-dropdown-menu"><div class="fr-dropdown-wrapper"><div class="fr-dropdown-content" tabindex="-1">';d+=h(t,i),d+="</div></div></div>",l+=d}return l}function c(i,n){for(var o="",r=0;r<i.length;r++){var s=i[r],a=t.FE.COMMANDS[s];if(!(a&&"undefined"!=typeof a.plugin&&e.opts.pluginsEnabled.indexOf(a.plugin)<0))if(a){var l="undefined"!=typeof n?n.indexOf(s)>=0:!0;o+=u(s,a,l)}else"|"==s?o+='<div class="fr-separator fr-vs"></div>':"-"==s&&(o+='<div class="fr-separator fr-hs"></div>')}return o}function p(i){var n,o=i.parents(".fr-popup, .fr-toolbar").data("instance")||e,r=i.data("cmd");i.hasClass("fr-dropdown")?n=i.next():i.removeClass("fr-active"),t.FE.COMMANDS[r]&&t.FE.COMMANDS[r].refresh?t.FE.COMMANDS[r].refresh.apply(o,[i,n]):e.refresh[r]&&o.refresh[r](i,n)}function f(){var i=e.$tb?e.$tb.data("instance")||e:e;return 0==e.events.trigger("buttons.refresh")?!0:void setTimeout(function(){for(var e=i.selection.inEditor()&&i.core.hasFocus(),n=0;n<g.length;n++){var o=t(g[n]),r=o.data("cmd");0==o.parents(".fr-popup").length?e||t.FE.COMMANDS[r]&&t.FE.COMMANDS[r].forcedRefresh?i.button.refresh(o):o.hasClass("fr-dropdown")||o.removeClass("fr-active"):o.parents(".fr-popup").is(":visible")&&i.button.refresh(o)}},0)}function m(){e.opts.toolbarInline?e.events.on("toolbar.show",f):(e.events.on("mouseup",f),e.events.on("keyup",f),e.events.on("blur",f),e.events.on("focus",f),e.events.on("contentChanged",f))}var g=[];return(e.opts.toolbarInline||e.opts.toolbarContainer)&&(e.shared.buttons||(e.shared.buttons=[]),g=e.shared.buttons),{_init:m,buildList:c,bindCommands:d,refresh:p,bulkRefresh:f,exec:n}},t.FE.MODULES.position=function(e){function i(){var i,n=e.selection.ranges(0);if(n&&n.collapsed&&e.selection.inEditor()){var o=!1;0==e.$el.find(".fr-marker").length&&(e.selection.save(),o=!0);var r=e.$el.find(".fr-marker:first");r.css("display","inline"),r.css("line-height","");var s=r.offset(),a=r.outerHeight();r.css("display","none"),r.css("line-height",0),i={},i.left=s.left,i.width=0,i.height=a,i.top=s.top-(e.helpers.isIOS()?0:t(e.o_win).scrollTop()),i.right=1,i.bottom=1,i.ok=!0,o&&e.selection.restore()}else n&&(i=n.getBoundingClientRect());return i}function n(i,n,o){var r=i.outerHeight();if(!e.helpers.isMobile()&&e.$tb&&i.parent().get(0)!=e.$tb.get(0)){var s=(i.parent().height()-20-(e.opts.toolbarBottom?e.$tb.outerHeight():0),i.parent().offset().top),a=n-r-(o||0);i.parent().get(0)==t(e.opts.scrollableContainer).get(0)&&(s-=i.parent().position().top);var l=t(e.opts.scrollableContainer).get(0).scrollHeight;s+n+r>t(e.opts.scrollableContainer).offset().top+l&&i.parent().offset().top+a>0?(n=a,i.addClass("fr-above")):i.removeClass("fr-above")}return n}function o(i,n){var o=i.outerWidth();return i.parent().offset().left+n+o>t(e.opts.scrollableContainer).width()-10&&(n=t(e.opts.scrollableContainer).width()-o-10-i.parent().offset().left+t(e.opts.scrollableContainer).offset().left),i.parent().offset().left+n<t(e.opts.scrollableContainer).offset().left&&(n=10-i.parent().offset().left+t(e.opts.scrollableContainer).offset().left),n}function r(n){var o=i();n.css("top",0).css("left",0);var r=o.top+o.height,a=o.left+o.width/2-n.outerWidth()/2+t(e.o_win).scrollLeft();e.opts.iframe||(r+=t(e.o_win).scrollTop()),s(a,r,n,o.height)}function s(t,i,r,s){var a=r.data("container");a&&"BODY"!=a.get(0).tagName&&(t&&(t-=a.offset().left),i&&(i-=a.offset().top-a.scrollTop())),e.opts.iframe&&a&&e.$tb&&a.get(0)!=e.$tb.get(0)&&(t&&(t+=e.$iframe.offset().left),i&&(i+=e.$iframe.offset().top));var l=o(r,t);if(t){r.css("left",l);var d=r.find(".fr-arrow");d.data("margin-left")||d.data("margin-left",e.helpers.getPX(d.css("margin-left"))),d.css("margin-left",t-l+d.data("margin-left"))}i&&r.css("top",n(r,i,s))}function a(i){var n=t(i),o=n.is(".fr-sticky-on"),r=n.data("sticky-top"),s=n.data("sticky-scheduled");if("undefined"==typeof r){n.data("sticky-top",0);var a=t('<div class="fr-sticky-dummy" style="height: '+n.outerHeight()+'px;"></div>');e.$box.prepend(a)}else e.$box.find(".fr-sticky-dummy").css("height",n.outerHeight());if(e.core.hasFocus()||e.$tb.find("input:visible:focus").length>0){var l=t(window).scrollTop(),d=Math.min(Math.max(l-e.$tb.parent().offset().top,0),e.$tb.parent().outerHeight()-n.outerHeight());d!=r&&d!=s&&(clearTimeout(n.data("sticky-timeout")),n.data("sticky-scheduled",d),n.outerHeight()<l-e.$tb.parent().offset().top&&n.addClass("fr-opacity-0"),n.data("sticky-timeout",setTimeout(function(){var i=t(window).scrollTop(),o=Math.min(Math.max(i-e.$tb.parent().offset().top,0),e.$tb.parent().outerHeight()-n.outerHeight());o>0&&"BODY"==e.$tb.parent().get(0).tagName&&(o+=e.$tb.parent().position().top),o!=r&&(n.css("top",Math.max(o,0)),n.data("sticky-top",o),n.data("sticky-scheduled",o)),n.removeClass("fr-opacity-0")},100))),o||(n.css("top","0"),n.width(e.$tb.parent().width()),n.addClass("fr-sticky-on"),e.$box.addClass("fr-sticky-box"))}else clearTimeout(t(i).css("sticky-timeout")),n.css("top","0"),n.css("position",""),n.width(""),n.data("sticky-top",0),n.removeClass("fr-sticky-on"),e.$box.removeClass("fr-sticky-box")}function l(i){if(i.offsetWidth){var n,o,r=t(i),s=r.outerHeight(),a=r.data("sticky-position"),l=t("body"==e.opts.scrollableContainer?e.o_win:e.opts.scrollableContainer).outerHeight(),d=0,h=0;"body"!==e.opts.scrollableContainer&&(d=t(e.opts.scrollableContainer).offset().top,h=t(e.o_win).outerHeight()-d-l);var u="body"==e.opts.scrollableContainer?t(e.o_win).scrollTop():d,c=r.is(".fr-sticky-on");r.data("sticky-parent")||r.data("sticky-parent",r.parent());var p=r.data("sticky-parent"),f=p.offset().top,m=p.outerHeight();if(r.data("sticky-offset")||(r.data("sticky-offset",!0),r.after('<div class="fr-sticky-dummy" style="height: '+s+'px;"></div>')),!a){var g="auto"!==r.css("top")||"auto"!==r.css("bottom");g||r.css("position","fixed"),a={top:"auto"!==r.css("top"),bottom:"auto"!==r.css("bottom")},g||r.css("position",""),r.data("sticky-position",a),r.data("top",r.css("top")),r.data("bottom",r.css("bottom"))}var v=function(){return u+n>f&&f+m-s>=u+n},y=function(){return u+l-o>f+s&&f+m>u+l-o};n=e.helpers.getPX(r.data("top")),o=e.helpers.getPX(r.data("bottom"));var b=a.top&&v(),w=a.bottom&&y();b||w?(r.css("width",p.width()+"px"),c||(r.addClass("fr-sticky-on"),r.removeClass("fr-sticky-off"),r.css("top")&&("auto"!=r.data("top")?r.css("top",e.helpers.getPX(r.data("top"))+d):r.data("top","auto")),r.css("bottom")&&("auto"!=r.data("bottom")?r.css("bottom",e.helpers.getPX(r.data("bottom"))+h):r.css("bottom","auto")))):r.hasClass("fr-sticky-off")||(r.width(""),r.removeClass("fr-sticky-on"),r.addClass("fr-sticky-off"),r.css("top")&&"auto"!=r.css("top")&&r.css("top",0),r.css("bottom")&&r.css("bottom",0))}}function d(){var t=document.createElement("test"),i=t.style;return i.cssText="position:"+["-webkit-","-moz-","-ms-","-o-",""].join("sticky; position:")+" sticky;",-1!==i.position.indexOf("sticky")&&!e.helpers.isIOS()&&!e.helpers.isAndroid()}function h(){if(!d())if(e._stickyElements=[],e.helpers.isIOS()){var i=function(){e.helpers.requestAnimationFrame()(i);for(var t=0;t<e._stickyElements.length;t++)a(e._stickyElements[t])};i(),e.events.$on(t(e.o_win),"scroll",function(){if(e.core.hasFocus())for(var i=0;i<e._stickyElements.length;i++){var n=t(e._stickyElements[i]),o=n.parent(),r=t(window).scrollTop();n.outerHeight()<r-o.offset().top&&(n.addClass("fr-opacity-0"),n.data("sticky-top",-1),n.data("sticky-scheduled",-1))}},!0)}else e.events.$on(t("body"==e.opts.scrollableContainer?e.o_win:e.opts.scrollableContainer),"scroll",u,!0),e.events.$on(t(e.o_win),"resize",u,!0),e.events.on("initialized",u),e.events.on("focus",u),e.events.$on(t(e.o_win),"resize","textarea",u,!0)}function u(){for(var t=0;t<e._stickyElements.length;t++)l(e._stickyElements[t])}function c(t){t.addClass("fr-sticky"),e.helpers.isIOS()&&t.addClass("fr-sticky-ios"),d()||e._stickyElements.push(t.get(0))}function p(){h()}return{_init:p,forSelection:r,addSticky:c,refresh:u,at:s,getBoundingRect:i}},t.extend(t.FE.DEFAULTS,{toolbarBottom:!1,toolbarButtons:["fullscreen","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting","selectAll","html"],toolbarButtonsXS:["bold","italic","fontFamily","fontSize","|","undo","redo"],toolbarButtonsSM:["bold","italic","underline","|","fontFamily","fontSize","insertLink","insertImage","table","|","undo","redo"],toolbarButtonsMD:["fullscreen","bold","italic","underline","fontFamily","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","-","insertLink","insertImage","insertVideo","insertFile","insertTable","undo","redo","clearFormatting"],toolbarContainer:null,toolbarInline:!1,toolbarSticky:!0,toolbarStickyOffset:0,toolbarVisibleWithoutSelection:!1}),t.FE.MODULES.toolbar=function(e){function i(t,e){for(var i=0;i<e.length;i++)"-"!=e[i]&&"|"!=e[i]&&t.indexOf(e[i])<0&&t.push(e[i])}function n(){var n=t.merge([],o());i(n,e.opts.toolbarButtonsXS||[]),i(n,e.opts.toolbarButtonsSM||[]),i(n,e.opts.toolbarButtonsMD||[]),i(n,e.opts.toolbarButtons);for(var r=n.length-1;r>=0;r--)"-"!=n[r]&&"|"!=n[r]&&n.indexOf(n[r])<r&&n.splice(r,1);var s=e.button.buildList(n,o());e.$tb.append(s),e.button.bindCommands(e.$tb)}function o(){var t=e.helpers.screenSize();return w[t]}function r(){var t=o();e.$tb.find(".fr-separator").remove(),e.$tb.find("> .fr-command").addClass("fr-hidden");for(var i=0;i<t.length;i++)if("|"==t[i]||"-"==t[i])e.$tb.append(e.button.buildList([t[i]]));else{var n=e.$tb.find('> .fr-command[data-cmd="'+t[i]+'"]'),r=null;n.next().hasClass("fr-dropdown-menu")&&(r=n.next()),n.removeClass("fr-hidden").appendTo(e.$tb),r&&r.appendTo(e.$tb)}}function s(){e.events.$on(t(e.o_win),"resize",r,!0),e.events.$on(t(e.o_win),"orientationchange",r,!0)}function a(i,n){setTimeout(function(){if(i&&i.which==t.FE.KEYCODE.ESC);else if(e.selection.inEditor()&&e.core.hasFocus()&&!e.popups.areVisible()&&(e.opts.toolbarVisibleWithoutSelection&&i&&"keyup"!=i.type||!e.selection.isCollapsed()&&!e.keys.isIME()||n)){if(e.$tb.data("instance",e),0==e.events.trigger("toolbar.show",[i]))return!1;e.opts.toolbarContainer||e.position.forSelection(e.$tb),e.$tb.show()}},0)}function l(t){return 0==e.events.trigger("toolbar.hide")?!1:void e.$tb.hide()}function d(){return 0==e.events.trigger("toolbar.show")?!1:void e.$tb.show()}function h(){e.events.on("window.mousedown",l),e.events.on("keydown",l),e.events.on("blur",l),e.events.on("window.mouseup",a),e.helpers.isMobile()?e.helpers.isIOS()||(e.events.on("window.touchend",a),e.browser.mozilla&&setInterval(a,200)):e.events.on("window.keyup",a),e.events.on("keydown",function(e){e&&e.which==t.FE.KEYCODE.ESC&&l()}),e.events.$on(e.$wp,"scroll.toolbar",a),e.events.on("commands.after",a),e.helpers.isMobile()&&(e.events.$on(e.$doc,"selectionchange",a),e.events.$on(e.$doc,"orientationchange",a))}function u(){e.opts.toolbarInline?(t(e.opts.scrollableContainer).append(e.$tb),e.$tb.data("container",t(e.opts.scrollableContainer)),e.$tb.addClass("fr-inline"),e.$tb.prepend('<span class="fr-arrow"></span>'),h(),e.opts.toolbarBottom=!1):(e.opts.toolbarBottom&&!e.helpers.isIOS()?(e.$box.append(e.$tb),e.$tb.addClass("fr-bottom"),e.$box.addClass("fr-bottom")):(e.opts.toolbarBottom=!1,e.$box.prepend(e.$tb),e.$tb.addClass("fr-top"),e.$box.addClass("fr-top")),e.$tb.addClass("fr-basic"),e.opts.toolbarSticky&&(e.opts.toolbarStickyOffset&&(e.opts.toolbarBottom?e.$tb.css("bottom",e.opts.toolbarStickyOffset):e.$tb.css("top",e.opts.toolbarStickyOffset)),e.position.addSticky(e.$tb)))}function c(){e.$tb.html("").removeData().remove()}function p(){e.$box.removeClass("fr-top fr-bottom fr-inline fr-basic"),e.$box.find(".fr-sticky-dummy").remove()}function f(){e.opts.theme&&e.$tb.addClass(e.opts.theme+"-theme"),e.opts.zIndex>1&&e.$tb.css("z-index",e.opts.zIndex+1),"auto"!=e.opts.direction&&e.$tb.removeClass("fr-ltr fr-rtl").addClass("fr-"+e.opts.direction),e.helpers.isMobile()?e.$tb.addClass("fr-mobile"):e.$tb.addClass("fr-desktop"),e.opts.toolbarContainer?(e.opts.toolbarInline&&(h(),l()),e.opts.toolbarBottom?e.$tb.addClass("fr-bottom"):e.$tb.addClass("fr-top")):u(),y=e.$tb.get(0).ownerDocument,b="defaultView"in y?y.defaultView:y.parentWindow,n(),s(),e.events.$on(e.$tb,e._mousedown+" "+e._mouseup,function(t){var e=t.originalEvent?t.originalEvent.target||t.originalEvent.originalTarget:null;return e&&"INPUT"!=e.tagName?(t.stopPropagation(),t.preventDefault(),!1):void 0},!0)}function m(){return e.$wp?(e.opts.toolbarContainer?(e.shared.$tb?(e.$tb=e.shared.$tb,e.opts.toolbarInline&&h()):(e.shared.$tb=t('<div class="fr-toolbar"></div>'),e.$tb=e.shared.$tb,t(e.opts.toolbarContainer).append(e.$tb),f(),e.$tb.data("instance",e)),e.events.on("focus",function(){e.$tb.data("instance",e)},!0),e.opts.toolbarInline=!1):e.opts.toolbarInline?(e.$box.addClass("fr-inline"),e.shared.$tb?(e.$tb=e.shared.$tb,h()):(e.shared.$tb=t('<div class="fr-toolbar"></div>'),e.$tb=e.shared.$tb,f())):(e.$box.addClass("fr-basic"),e.$tb=t('<div class="fr-toolbar"></div>'),f(),e.$tb.data("instance",e)),e.events.on("destroy",p,!0),void e.events.on(e.opts.toolbarInline?"shared.destroy":"destroy",c,!0)):!1}function g(){!_&&e.$tb&&(e.$tb.find("> .fr-command").addClass("fr-disabled fr-no-refresh"),_=!0)}function v(){_&&e.$tb&&(e.$tb.find("> .fr-command").removeClass("fr-disabled fr-no-refresh"),_=!1),e.button.bulkRefresh()}var y,b,w=[];w[t.FE.XS]=e.opts.toolbarButtonsXS||e.opts.toolbarButtons,w[t.FE.SM]=e.opts.toolbarButtonsSM||e.opts.toolbarButtons,w[t.FE.MD]=e.opts.toolbarButtonsMD||e.opts.toolbarButtons,w[t.FE.LG]=e.opts.toolbarButtons;var _=!1;return{_init:m,hide:l,show:d,showInline:a,disable:g,enable:v}},t.FE.SHORTCUTS_MAP={69:{cmd:"show"},66:{cmd:"bold"},73:{cmd:"italic"},85:{cmd:"underline"},83:{cmd:"strikeThrough"},221:{cmd:"indent"},219:{cmd:"outdent"},90:{cmd:"undo"},"-90":{cmd:"redo"}},t.extend(t.FE.DEFAULTS,{shortcutsEnabled:["show","bold","italic","underline","strikeThrough","indent","outdent","undo","redo"]}),t.FE.RegisterShortcut=function(e,i,n,o){t.FE.SHORTCUTS_MAP[e*(o?-1:1)]={cmd:i,val:n},t.FE.DEFAULTS.shortcutsEnabled.push(i)},t.FE.MODULES.shortcuts=function(e){function i(i){if(!e.core.hasFocus())return!0;var n=i.which;if(e.keys.ctrlKey(i)&&(i.shiftKey&&t.FE.SHORTCUTS_MAP[-n]||!i.shiftKey&&t.FE.SHORTCUTS_MAP[n])){var o=t.FE.SHORTCUTS_MAP[n*(i.shiftKey?-1:1)].cmd;if(o&&e.opts.shortcutsEnabled.indexOf(o)>=0){var r,s=t.FE.SHORTCUTS_MAP[n*(i.shiftKey?-1:1)].val;if(o&&!s?r=e.$tb.find('.fr-command[data-cmd="'+o+'"]'):o&&s&&(r=e.$tb.find('.fr-command[data-cmd="'+o+'"][data-param1="'+s+'"]')),r.length)return i.preventDefault(),i.stopPropagation(),r.parents(".fr-toolbar").data("instance",e),"keydown"==i.type&&e.button.exec(r),!1;if(o&&e.commands[o])return i.preventDefault(),i.stopPropagation(),"keydown"==i.type&&e.commands[o](),!1}}}function n(){e.events.on("keydown",i,!0),e.events.on("keyup",i,!0)}return{_init:n}},t.FE.MODULES.snapshot=function(t){function e(t){for(var e=t.parentNode.childNodes,i=0,n=null,o=0;o<e.length;o++){if(n){var r=e[o].nodeType===Node.TEXT_NODE&&""===e[o].textContent,s=n.nodeType===Node.TEXT_NODE&&e[o].nodeType===Node.TEXT_NODE;r||s||i++}if(e[o]==t)return i;n=e[o]}}function i(i){var n=[];if(!i.parentNode)return[];for(;!t.node.isElement(i);)n.push(e(i)),i=i.parentNode;return n.reverse()}function n(t,e){for(;t&&t.nodeType===Node.TEXT_NODE;){var i=t.previousSibling;i&&i.nodeType==Node.TEXT_NODE&&(e+=i.textContent.length),t=i}return e}function o(t){return{scLoc:i(t.startContainer),scOffset:n(t.startContainer,t.startOffset),ecLoc:i(t.endContainer),ecOffset:n(t.endContainer,t.endOffset)}}function r(){var e={};if(t.events.trigger("snapshot.before"),e.html=t.$wp?t.$el.html():t.$oel.get(0).outerHTML,e.ranges=[],t.$wp&&t.selection.inEditor()&&t.core.hasFocus())for(var i=t.selection.ranges(),n=0;n<i.length;n++)e.ranges.push(o(i[n]));return t.events.trigger("snapshot.after"),e}function s(e){for(var i=t.$el.get(0),n=0;n<e.length;n++)i=i.childNodes[e[n]];return i}function a(e,i){try{var n=s(i.scLoc),o=i.scOffset,r=s(i.ecLoc),a=i.ecOffset,l=t.doc.createRange();l.setStart(n,o),l.setEnd(r,a),e.addRange(l)}catch(d){}}function l(e){t.$el.html()!=e.html&&t.$el.html(e.html);var i=t.selection.get();t.selection.clear(),t.events.focus(!0);for(var n=0;n<e.ranges.length;n++)a(i,e.ranges[n])}function d(e,i){return e.html!=i.html?!1:t.core.hasFocus()&&JSON.stringify(e.ranges)!=JSON.stringify(i.ranges)?!1:!0}return{get:r,restore:l,equal:d}},t.FE.MODULES.undo=function(t){function e(e){var i=e.which,n=t.keys.ctrlKey(e);n&&(90==i&&e.shiftKey&&e.preventDefault(),90==i&&e.preventDefault())}function i(){return 0===t.undo_stack.length||t.undo_index<=1?!1:!0}function n(){return t.undo_index==t.undo_stack.length?!1:!0}function o(e){return!t.undo_stack||t.undoing||t.$el.get(0).querySelectorAll(".fr-marker").length?!1:(r(),void("undefined"==typeof e?(e=t.snapshot.get(),t.undo_stack[t.undo_index-1]&&t.snapshot.equal(t.undo_stack[t.undo_index-1],e)||(t.undo_stack.push(e),t.undo_index++,e.html!=h&&(t.events.trigger("contentChanged"),h=e.html))):t.undo_index>0?t.undo_stack[t.undo_index-1]=e:(t.undo_stack.push(e),t.undo_index++)))}function r(){if(!t.undo_stack||t.undoing)return!1;
for(;t.undo_stack.length>t.undo_index;)t.undo_stack.pop()}function s(){if(t.undo_index>1){t.undoing=!0;var e=t.undo_stack[--t.undo_index-1];clearTimeout(t._content_changed_timer),t.snapshot.restore(e),t.popups.hideAll(),t.toolbar.enable(),t.events.trigger("contentChanged"),t.events.trigger("commands.undo"),t.undoing=!1}}function a(){if(t.undo_index<t.undo_stack.length){t.undoing=!0;var e=t.undo_stack[t.undo_index++];clearTimeout(t._content_changed_timer),t.snapshot.restore(e),t.popups.hideAll(),t.toolbar.enable(),t.events.trigger("contentChanged"),t.events.trigger("commands.redo"),t.undoing=!1}}function l(){t.undo_index=0,t.undo_stack=[]}function d(){l(),t.events.on("initialized",function(){h=t.html.get(!1,!0)}),t.events.on("blur",function(){t.undo.saveStep()}),t.events.on("keydown",e)}var h=null;return{_init:d,run:s,redo:a,canDo:i,canRedo:n,dropRedo:r,reset:l,saveStep:o}},t.FE.POPUP_TEMPLATES={"text.edit":"[_EDIT_]"},t.FE.RegisterTemplate=function(e,i){t.FE.POPUP_TEMPLATES[e]=i},t.FE.MODULES.popups=function(e){function i(i,n){n.is(":visible")||(n=t(e.opts.scrollableContainer)),n.is(C[i].data("container"))||(C[i].data("container",n),n.append(C[i]))}function n(n,o,a,l){if(s()&&e.$el.find(".fr-marker").length>0&&(e.events.disableBlur(),e.selection.restore()),c([n]),!C[n])return!1;t(".fr-dropdown.fr-active").removeClass("fr-active").parent(".fr-toolbar").css("zIndex",""),C[n].data("instance",e),e.$tb&&e.$tb.data("instance",e);var d=C[n].outerWidth(),h=(C[n].outerHeight(),r(n));C[n].addClass("fr-active").find("input, textarea").removeAttr("disabled");var u=C[n].data("container");u.is(e.$tb)&&e.$tb.css("zIndex",(e.opts.zIndex||1)+4),e.opts.toolbarInline&&u&&e.$tb&&u.get(0)==e.$tb.get(0)&&(i(n,e.opts.toolbarInline?t(e.opts.scrollableContainer):e.$box),a&&(a=e.$tb.offset().top-e.helpers.getPX(e.$tb.css("margin-top"))),o&&(o=e.$tb.offset().left+e.$tb.width()/2),e.$tb.hasClass("fr-above")&&a&&(a+=e.$tb.outerHeight()),l=0),u=C[n].data("container"),!e.opts.iframe||l||h||(o&&(o-=e.$iframe.offset().left),a&&(a-=e.$iframe.offset().top)),o&&(o-=d/2),e.opts.toolbarBottom&&u&&e.$tb&&u.get(0)==e.$tb.get(0)&&(C[n].addClass("fr-above"),a&&(a-=C[n].outerHeight())),C[n].removeClass("fr-active"),e.position.at(o,a,C[n],l||0),C[n].addClass("fr-active");var p=C[n].find("input:visible, textarea:visible").get(0);p&&(0==e.$el.find(".fr-marker").length&&e.core.hasFocus()&&e.selection.save(),e.events.disableBlur(),t(p).select().focus()),e.opts.toolbarInline&&e.toolbar.hide(),e.events.trigger("popups.show."+n)}function o(t,i){e.events.on("popups.show."+t,i)}function r(t){return C[t]&&C[t].hasClass("fr-active")&&e.core.sameInstance(C[t])||!1}function s(t){for(var e in C)if(C.hasOwnProperty(e)&&r(e)&&("undefined"==typeof t||C[e].data("instance")==t))return!0;return!1}function a(t){C[t]&&C[t].hasClass("fr-active")&&(C[t].removeClass("fr-active fr-above"),e.events.trigger("popups.hide."+t),e.$tb&&(e.opts.zIndex>1?e.$tb.css("zIndex",e.opts.zIndex+1):e.$tb.css("zIndex","")),e.events.disableBlur(),C[t].find("input, textarea, button").filter(":focus").blur(),C[t].find("input, textarea").attr("disabled","disabled"))}function l(t,i){e.events.on("popups.hide."+t,i)}function d(t){var i=C[t];if(i&&!i.data("inst"+e.id)){var n=y(t);b(n,t)}return i}function h(t,i){e.events.on("popups.refresh."+t,i)}function u(i){e.events.trigger("popups.refresh."+i);for(var n=C[i].find(".fr-command"),o=0;o<n.length;o++){var r=t(n[o]);0==r.parents(".fr-dropdown-menu").length&&e.button.refresh(r)}}function c(t){"undefined"==typeof t&&(t=[]);for(var e in C)C.hasOwnProperty(e)&&t.indexOf(e)<0&&a(e)}function p(){e.shared.exit_flag=!0}function f(){e.shared.exit_flag=!1}function m(){return e.shared.exit_flag}function g(i,n){var o=t.FE.POPUP_TEMPLATES[i];"function"==typeof o&&(o=o.apply(e));for(var r in n)n.hasOwnProperty(r)&&(o=o.replace("[_"+r.toUpperCase()+"_]",n[r]));return o}function v(i,n){var o=g(i,n),r=t('<div class="fr-popup'+(e.helpers.isMobile()?" fr-mobile":" fr-desktop")+(e.opts.toolbarInline?" fr-inline":"")+'"><span class="fr-arrow"></span>'+o+"</div>");e.opts.theme&&r.addClass(e.opts.theme+"-theme"),e.opts.zIndex>1&&e.$tb.css("z-index",e.opts.zIndex+2),"auto"!=e.opts.direction&&r.removeClass("fr-ltr fr-rtl").addClass("fr-"+e.opts.direction),r.find("input, textarea").attr("dir",e.opts.direction).attr("disabled","disabled");var s=t("body");return s.append(r),r.data("container",s),C[i]=r,e.button.bindCommands(r,!1),r}function y(i){var n=C[i];return{_windowResize:function(){var t=n.data("instance")||e;!t.helpers.isMobile()&&n.is(":visible")&&(t.events.disableBlur(),t.popups.hide(i),t.events.enableBlur())},_inputFocus:function(i){var o=n.data("instance")||e;if(i.preventDefault(),i.stopPropagation(),setTimeout(function(){o.events.enableBlur()},0),o.helpers.isMobile()){var r=t(o.o_win).scrollTop();setTimeout(function(){t(o.o_win).scrollTop(r)},0)}},_inputBlur:function(i){var o=n.data("instance")||e;document.activeElement!=this&&t(this).is(":visible")&&(o.events.blurActive()&&o.events.trigger("blur"),o.events.enableBlur())},_inputKeydown:function(o){var s=n.data("instance")||e,a=o.which;if(t.FE.KEYCODE.TAB==a){o.preventDefault();var l=n.find("input, textarea, button, select").filter(":visible").not(":disabled").toArray();l.sort(function(e,i){return o.shiftKey?t(e).attr("tabIndex")<t(i).attr("tabIndex"):t(e).attr("tabIndex")>t(i).attr("tabIndex")}),s.events.disableBlur();var d=l.indexOf(this)+1;d==l.length&&(d=0),t(l[d]).focus()}else if(t.FE.KEYCODE.ENTER==a)n.find(".fr-submit:visible").length>0&&(o.preventDefault(),o.stopPropagation(),s.events.disableBlur(),s.button.exec(n.find(".fr-submit:visible:first")));else{if(t.FE.KEYCODE.ESC==a)return o.preventDefault(),o.stopPropagation(),s.$el.find(".fr-marker")&&(s.events.disableBlur(),t(this).data("skip",!0),s.selection.restore(),s.events.enableBlur()),r(i)&&n.find(".fr-back:visible").length?s.button.exec(n.find(".fr-back:visible:first")):s.popups.hide(i),s.opts.toolbarInline&&s.toolbar.showInline(null,!0),!1;o.stopPropagation()}},_windowKeydown:function(o){if(!e.core.sameInstance(n))return!0;var s=n.data("instance")||e,a=o.which;if(t.FE.KEYCODE.ESC==a){if(r(i)&&s.opts.toolbarInline)return o.stopPropagation(),r(i)&&n.find(".fr-back:visible").length?s.button.exec(n.find(".fr-back:visible:first")):(s.popups.hide(i),s.toolbar.showInline(null,!0)),!1;r(i)&&n.find(".fr-back:visible").length?s.button.exec(n.find(".fr-back:visible:first")):s.popups.hide(i)}},_editorKeydown:function(o){var s=n.data("instance")||e;s.keys.ctrlKey(o)||o.which==t.FE.KEYCODE.ESC||(r(i)&&n.find(".fr-back:visible").length?s.button.exec(n.find(".fr-back:visible:first")):s.popups.hide(i))},_preventFocus:function(i){var o=n.data("instance")||e;o.events.disableBlur();var r=i.originalEvent?i.originalEvent.target||i.originalEvent.originalTarget:null,s="input, textarea, button, select, label, .fr-command";return r&&!t(r).is(s)&&0===t(r).parents(s).length?(i.stopPropagation(),!1):void(r&&t(r).is(s)&&i.stopPropagation())},_editorMouseup:function(t){n.is(":visible")&&m()&&n.find("input:focus, textarea:focus, button:focus, select:focus").filter(":visible").length>0&&e.events.disableBlur()},_windowMouseup:function(t){if(!e.core.sameInstance(n))return!0;var o=n.data("instance")||e;n.is(":visible")&&m()&&(t.stopPropagation(),o.markers.remove(),o.popups.hide(i),f())},_doPlaceholder:function(e){var i=t(this).next();0==i.length&&t(this).after("<span>"+t(this).attr("placeholder")+"</span>"),t(this).toggleClass("fr-not-empty",""!=t(this).val())},_repositionPopup:function(o){if(r(i)&&n.parent().get(0)==t(e.opts.scrollableContainer).get(0)){var s=n.offset().top-e.$wp.offset().top,a=(e.$wp.scrollTop(),e.$wp.outerHeight());s>a||0>s?n.addClass("fr-hidden"):n.removeClass("fr-hidden")}}}}function b(t,i){e.events.on("mouseup",t._editorMouseup,!0),e.$wp&&e.events.on("keydown",t._editorKeydown),e.events.on("blur",function(t){s()&&e.markers.remove(),c()}),e.$wp&&!e.helpers.isMobile()&&e.events.$on(e.$wp,"scroll.popup"+i,t._repositionPopup),e.events.on("window.keydown",t._windowKeydown),e.events.on("window.mouseup",t._windowMouseup,!0),C[i].data("inst"+e.id,!0),e.events.on("destroy",function(){e.core.sameInstance(C[i])&&C[i].removeClass("fr-active").appendTo("body")},!0)}function w(i,n){var o=v(i,n),r=y(i);return b(r,i),e.events.$on(o,"mousedown mouseup touchstart touchend touch","*",r._preventFocus,!0),e.events.$on(o,"focus","input, textarea, button, select",r._inputFocus,!0),e.events.$on(o,"blur","input, textarea, button, select",r._inputBlur,!0),e.events.$on(o,"keydown","input, textarea, button, select",r._inputKeydown,!0),e.events.$on(o,"keydown keyup change input","input, textarea",r._doPlaceholder,!0),e.helpers.isIOS()&&e.events.$on(o,"touchend","label",function(){t("#"+t(this).attr("for")).prop("checked",function(t,e){return!e})},!0),e.events.$on(t(e.o_win),"resize",r._windowResize,!0),o}function _(){for(var t in C)if(C.hasOwnProperty(t)){var e=C[t];e.html("").removeData().remove()}}function x(){e.events.on("shared.destroy",_,!0),e.events.on("window.mousedown",p),e.events.on("window.touchmove",f),e.events.on("mousedown",function(t){s()&&(t.stopPropagation(),e.$el.find(".fr-marker").remove(),p(),e.events.disableBlur())})}e.shared.popups||(e.shared.popups={});var C=e.shared.popups;return e.shared.exit_flag=!1,{_init:x,create:w,get:d,show:n,hide:a,onHide:l,hideAll:c,setContainer:i,refresh:u,onRefresh:h,onShow:o,isVisible:r,areVisible:s}},t.FE.MODULES.refresh=function(e){function i(t,i){try{e.doc.queryCommandState(i)===!0&&t.addClass("fr-active")}catch(n){}}function n(t){t.toggleClass("fr-disabled",!e.undo.canDo())}function o(t){t.toggleClass("fr-disabled",!e.undo.canRedo())}function r(t){if(t.hasClass("fr-no-refresh"))return!1;for(var i=e.selection.blocks(),n=0;n<i.length;n++){for(var o=i[n].previousSibling;o&&o.nodeType==Node.TEXT_NODE&&0===o.textContent.length;)o=o.previousSibling;if("LI"!=i[n].tagName||o)return t.removeClass("fr-disabled"),!0;t.addClass("fr-disabled")}}function s(i){if(i.hasClass("fr-no-refresh"))return!1;for(var n=e.selection.blocks(),o=0;o<n.length;o++){var r="rtl"==e.opts.direction||"rtl"==t(n[o]).css("direction")?"margin-right":"margin-left";if("LI"==n[o].tagName||"LI"==n[o].parentNode.tagName)return i.removeClass("fr-disabled"),!0;if(e.helpers.getPX(t(n[o]).css(r))>0)return i.removeClass("fr-disabled"),!0}i.addClass("fr-disabled")}return{"default":i,undo:n,redo:o,outdent:s,indent:r}},t.extend(t.FE.DEFAULTS,{editInPopup:!1}),t.FE.MODULES.textEdit=function(e){function i(){var t='<div id="fr-text-edit-'+e.id+'" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="'+e.language.translate("Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">'+e.language.translate("Update")+"</button></div></div>",i={edit:t};e.popups.create("text.edit",i)}function n(){var i,n=e.popups.get("text.edit");i="INPUT"===e.$el.prop("tagName")?e.$el.attr("placeholder"):e.$el.text(),n.find("input").val(i).trigger("change"),e.popups.setContainer("text.edit",t("body")),e.popups.show("text.edit",e.$el.offset().left+e.$el.outerWidth()/2,e.$el.offset().top+e.$el.outerHeight(),e.$el.outerHeight())}function o(){e.events.$on(e.$el,e._mouseup,function(t){setTimeout(function(){n()},10)})}function r(){var t=e.popups.get("text.edit"),i=t.find("input").val();0==i.length&&(i=e.opts.placeholderText),"INPUT"===e.$el.prop("tagName")?e.$el.attr("placeholder",i):e.$el.text(i),e.events.trigger("contentChanged"),e.popups.hide("text.edit")}function s(){e.opts.editInPopup&&(i(),o())}return{_init:s,update:r}},t.FE.RegisterCommand("updateText",{focus:!1,undo:!1,callback:function(){this.textEdit.update()}})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1}),t.FE.PLUGINS.paragraphFormat=function(e){function i(i,n){var o=e.html.defaultTag();if(n&&n.toLowerCase()!=o)if(i.find("ul, ol").length>0){var r=t("<"+n+">");i.prepend(r);for(var s=e.node.contents(i.get(0))[0];s&&["UL","OL"].indexOf(s.tagName)<0;){var a=s.nextSibling;r.append(s),s=a}}else i.html("<"+n+">"+i.html()+"</"+n+">")}function n(i,n){var o=e.html.defaultTag();n||(n='div class="fr-temp-div" data-empty="true"'),n.toLowerCase()==o?i.replaceWith(i.html()):i.replaceWith(t("<"+n+">").html(i.html()))}function o(i,n){var o=e.html.defaultTag();n||(n='div class="fr-temp-div"'+(e.node.isEmpty(i.get(0),!0)?' data-empty="true"':"")),n.toLowerCase()==o?(e.node.isEmpty(i.get(0),!0)||i.append("<br/>"),i.replaceWith(i.html())):i.replaceWith(t("<"+n+">").html(i.html()))}function r(i,n){n||(n='div class="fr-temp-div"'+(e.node.isEmpty(i.get(0),!0)?' data-empty="true"':"")),i.replaceWith(t("<"+n+" "+e.node.attributes(i.get(0))+">").html(i.html()))}function s(s){"N"==s&&(s=e.html.defaultTag()),e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();var a=e.selection.blocks();e.selection.save(),e.$el.find("pre").attr("skip",!0);for(var l=0;l<a.length;l++)if(a[l].tagName!=s&&!e.node.isList(a[l])){var d=t(a[l]);"LI"==a[l].tagName?i(d,s):"LI"==a[l].parentNode.tagName&&a[l]?n(d,s):["TD","TH"].indexOf(a[l].parentNode.tagName)>=0?o(d,s):r(d,s)}e.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){t(this).prev().append("<br>"+t(this).html()),t(this).remove()}),e.$el.find("pre").removeAttr("skip"),e.html.unwrap(),e.selection.restore()}function a(t,i){var n=e.selection.blocks();if(n.length){var o=n[0],r="N",s=e.html.defaultTag();o.tagName.toLowerCase()!=s&&o!=e.$el.get(0)&&(r=o.tagName),i.find('.fr-command[data-param1="'+r+'"]').addClass("fr-active")}else i.find('.fr-command[data-param1="N"]').addClass("fr-active")}function l(t){if(e.opts.paragraphFormatSelection){var i=e.selection.blocks();if(i.length){var n=i[0],o="N",r=e.html.defaultTag();n.tagName.toLowerCase()!=r&&n!=e.$el.get(0)&&(o=n.tagName),["LI","TD","TH"].indexOf(o)>=0&&(o="N"),t.find("> span").text(e.opts.paragraphFormat[o])}else t.find("> span").text(edior.opts.paragraphFormat.N)}}return{apply:s,refreshOnShow:a,refresh:l}},t.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(t){return t.opts.paragraphFormatSelection},defaultSelection:"Normal",displaySelectionWidth:100,html:function(){var t='<ul class="fr-dropdown-list">',e=this.opts.paragraphFormat;for(var i in e)e.hasOwnProperty(i)&&(t+="<li><"+i+' style="padding: 0 !important; margin: 0 !important;"><a class="fr-command" data-cmd="paragraphFormat" data-param1="'+i+'" title="'+this.language.translate(e[i])+'">'+this.language.translate(e[i])+"</a></"+i+"></li>");return t+="</ul>"},title:"Paragraph Format",callback:function(t,e){this.paragraphFormat.apply(e)},refresh:function(t){this.paragraphFormat.refresh(t)},refreshOnShow:function(t,e){this.paragraphFormat.refreshOnShow(t,e)},plugin:"paragraphFormat"}),t.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.FE.PLUGINS.align=function(e){function i(i){e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();for(var n=e.selection.blocks(),o=0;o<n.length;o++)t(n[o]).css("text-align",i).removeClass("fr-temp-div"),""===t(n[o]).attr("class")&&t(n[o]).removeAttr("class");e.selection.save(),e.html.unwrap(),e.selection.restore()}function n(i){var n=e.selection.blocks();if(n.length){var o=e.helpers.getAlignment(t(n[0]));i.find("> *:first").replaceWith(e.icon.create("align-"+o))}}function o(i,n){var o=e.selection.blocks();if(o.length){var r=e.helpers.getAlignment(t(o[0]));n.find('a.fr-command[data-param1="'+r+'"]').addClass("fr-active")}}return{apply:i,refresh:n,refreshOnShow:o}},t.FE.DefineIcon("align",{NAME:"align-left"}),t.FE.DefineIcon("align-left",{NAME:"align-left"}),t.FE.DefineIcon("align-right",{NAME:"align-right"}),t.FE.DefineIcon("align-center",{NAME:"align-center"}),t.FE.DefineIcon("align-justify",{NAME:"align-justify"}),t.FE.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.align.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command fr-title" data-cmd="align" data-param1="'+n+'" title="'+this.language.translate(i[n])+'">'+this.icon.create("align-"+n)+"</a></li>");return e+="</ul>"},callback:function(t,e){this.align.apply(e)},refresh:function(t){this.align.refresh(t)},refreshOnShow:function(t,e){this.align.refreshOnShow(t,e)},plugin:"align"})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),t.extend(t.FE.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),t.FE.PLUGINS.link=function(e){function i(){var i=e.image?e.image.get():null;if(!i&&e.$wp){var n=e.selection.element(),o=e.selection.endElement();return"A"!=n.tagName&&(n=t(n).parents("a:first").get(0)),"A"!=o.tagName&&(o=t(o).parents("a:first").get(0)),o&&o==n?n:null}return"A"==e.$el.get(0).tagName&&e.core.hasFocus()?e.$el.get(0):i&&i.get(0).parentNode&&"A"==i.get(0).parentNode.tagName?i.get(0).parentNode:void 0}function n(){var t=e.image?e.image.get():null,i=[];if(t)"A"==t.get(0).parentNode.tagName&&i.push(t.get(0).parentNode);else{var n,o,r,s;if(e.win.getSelection){var a=e.win.getSelection();if(a.getRangeAt&&a.rangeCount){s=e.doc.createRange();for(var l=0;l<a.rangeCount;++l)if(n=a.getRangeAt(l),o=n.commonAncestorContainer,o&&1!=o.nodeType&&(o=o.parentNode),o&&"a"==o.nodeName.toLowerCase())i.push(o);else{r=o.getElementsByTagName("a");for(var d=0;d<r.length;++d)s.selectNodeContents(r[d]),s.compareBoundaryPoints(n.END_TO_START,n)<1&&s.compareBoundaryPoints(n.START_TO_END,n)>-1&&i.push(r[d])}}}else if(e.doc.selection&&"Control"!=e.doc.selection.type)if(n=e.doc.selection.createRange(),o=n.parentElement(),"a"==o.nodeName.toLowerCase())i.push(o);else{r=o.getElementsByTagName("a"),s=e.doc.body.createTextRange();for(var h=0;h<r.length;++h)s.moveToElementText(r[h]),s.compareEndPoints("StartToEnd",n)>-1&&s.compareEndPoints("EndToStart",n)<1&&i.push(r[h])}}return i}function o(n){s(),setTimeout(function(){if(!n||n&&(1==n.which||"mouseup"!=n.type)){var o=i(),s=e.image?e.image.get():null;if(o&&!s){if(e.image){var a=e.node.contents(o);if(1==a.length&&"IMG"==a[0].tagName){var l=e.selection.ranges(0);return 0===l.startOffset&&0===l.endOffset?t(o).before(t.FE.MARKERS):t(o).after(t.FE.MARKERS),e.selection.restore(),!1}}n&&n.stopPropagation(),r(o)}}},e.helpers.isIOS()?100:0)}function r(i){var n=e.popups.get("link.edit");n||(n=a());var o=t(i);e.popups.isVisible("link.edit")||e.popups.refresh("link.edit"),e.popups.setContainer("link.edit",t(e.opts.scrollableContainer));var r=o.offset().left+t(i).outerWidth()/2,s=o.offset().top+o.outerHeight();e.popups.show("link.edit",r,s,o.outerHeight())}function s(){e.popups.hide("link.edit")}function a(){var t="";e.opts.linkEditButtons.length>1&&("A"==e.$el.get(0).tagName&&e.opts.linkEditButtons.indexOf("linkRemove")>=0&&e.opts.linkEditButtons.splice(e.opts.linkEditButtons.indexOf("linkRemove"),1),t='<div class="fr-buttons">'+e.button.buildList(e.opts.linkEditButtons)+"</div>");var n={buttons:t},o=e.popups.create("link.edit",n);return e.$wp&&e.events.$on(e.$wp,"scroll.link-edit",function(){i()&&e.popups.isVisible("link.edit")&&r(i())}),o}function l(){}function d(){var n=e.popups.get("link.insert"),o=i();if(o){var r,s,a=t(o),l=n.find('input.fr-link-attr[type="text"]'),d=n.find('input.fr-link-attr[type="checkbox"]');for(r=0;r<l.length;r++)s=t(l[r]),s.val(a.attr(s.attr("name")||""));for(d.prop("checked",!1),r=0;r<d.length;r++)s=t(d[r]),a.attr(s.attr("name"))==s.data("checked")&&s.prop("checked",!0);n.find('input.fr-link-attr[type="text"][name="text"]').val(a.text())}else n.find('input.fr-link-attr[type="text"]').val(""),n.find('input.fr-link-attr[type="checkbox"]').prop("checked",!1),n.find('input.fr-link-attr[type="text"][name="text"]').val(e.selection.text());n.find("input.fr-link-attr").trigger("change");var h=e.image?e.image.get():null;h?n.find('.fr-link-attr[name="text"]').parent().hide():n.find('.fr-link-attr[name="text"]').parent().show()}function h(){var i=e.$tb.find('.fr-command[data-cmd="insertLink"]'),n=e.popups.get("link.insert");if(n||(n=u()),!n.hasClass("fr-active"))if(e.popups.refresh("link.insert"),e.popups.setContainer("link.insert",e.$tb||t(e.opts.scrollableContainer)),i.is(":visible")){var o=i.offset().left+i.outerWidth()/2,r=i.offset().top+(e.opts.toolbarBottom?10:i.outerHeight()-10);e.popups.show("link.insert",o,r,i.outerHeight())}else e.position.forSelection(n),e.popups.show("link.insert")}function u(t){if(t)return e.popups.onRefresh("link.insert",d),e.popups.onHide("link.insert",l),!0;var n="";e.opts.linkInsertButtons.length>=1&&(n='<div class="fr-buttons">'+e.button.buildList(e.opts.linkInsertButtons)+"</div>");var o='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>',r="",s=0;r='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'+e.id+'">',r+='<div class="fr-input-line"><input name="href" type="text" class="fr-link-attr" placeholder="URL" tabIndex="'+ ++s+'"></div>',e.opts.linkText&&(r+='<div class="fr-input-line"><input name="text" type="text" class="fr-link-attr" placeholder="'+e.language.translate("Text")+'" tabIndex="'+ ++s+'"></div>');for(var a in e.opts.linkAttributes)if(e.opts.linkAttributes.hasOwnProperty(a)){var h=e.opts.linkAttributes[a];r+='<div class="fr-input-line"><input name="'+a+'" type="text" class="fr-link-attr" placeholder="'+e.language.translate(h)+'" tabIndex="'+ ++s+'"></div>'}e.opts.linkAlwaysBlank||(r+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'+e.id+'" tabIndex="'+ ++s+'"><span>'+o+'</span></span><label for="fr-link-target-'+e.id+'">'+e.language.translate("Open in new tab")+"</label></div>"),r+='<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="linkInsert" href="#" tabIndex="'+ ++s+'" type="button">'+e.language.translate("Insert")+"</button></div></div>";var u={buttons:n,input_layer:r},c=e.popups.create("link.insert",u);return e.$wp&&e.events.$on(e.$wp,"scroll.link-insert",function(){var t=e.image?e.image.get():null;t&&e.popups.isVisible("link.insert")&&w(),i&&e.popups.isVisible("link.insert")&&y()}),c}function c(){var n=i(),o=e.image?e.image.get():null;return e.events.trigger("link.beforeRemove",[n])===!1?!1:void(o&&n?(o.unwrap(),e.image.edit(o)):n&&(e.selection.save(),t(n).replaceWith(t(n).html()),e.selection.restore(),s()))}function p(){e.events.on("keyup",function(e){e.which!=t.FE.KEYCODE.ESC&&o(e)}),e.events.on("window.mouseup",o),e.helpers.isMobile()&&e.events.$on(e.$doc,"selectionchange",o),u(!0),"A"==e.$el.get(0).tagName&&e.$el.addClass("fr-view")}function f(i){var n,o,r=e.opts.linkList[i],s=e.popups.get("link.insert"),a=s.find('input.fr-link-attr[type="text"]'),l=s.find('input.fr-link-attr[type="checkbox"]');for(o=0;o<a.length;o++)n=t(a[o]),r[n.attr("name")]?n.val(r[n.attr("name")]):"text"!=n.attr("name")&&n.val("");for(o=0;o<l.length;o++)n=t(l[o]),n.prop("checked",n.data("checked")==r[n.attr("name")])}function m(){var i,n,o=e.popups.get("link.insert"),r=o.find('input.fr-link-attr[type="text"]'),s=o.find('input.fr-link-attr[type="checkbox"]'),a=r.filter('[name="href"]').val(),l=r.filter('[name="text"]').val(),d={};for(n=0;n<r.length;n++)i=t(r[n]),["href","text"].indexOf(i.attr("name"))<0&&(d[i.attr("name")]=i.val());for(n=0;n<s.length;n++)i=t(s[n]),i.is(":checked")?d[i.attr("name")]=i.data("checked"):d[i.attr("name")]=i.data("unchecked");var h=t(e.o_win).scrollTop();v(a,l,d),t(e.o_win).scrollTop(h)}function g(){if(!e.selection.isCollapsed()){e.selection.save();for(var i=e.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();i.length;){var n=t(i.pop());n.removeClass("fr-unprocessed");var o=e.node.deepestParent(n.get(0));if(o){var r=n.get(0),s="",a="";do r=r.parentNode,e.node.isBlock(r)||(s+=e.node.closeTagString(r),a=e.node.openTagString(r)+a);while(r!=o);var l=e.node.openTagString(n.get(0))+n.html()+e.node.closeTagString(n.get(0));n.replaceWith('<span id="fr-break"></span>');var d=t(o).html();d=d.replace(/<span id="fr-break"><\/span>/g,s+l+a),t(o).html(d)}i=e.$el.find(".fr-marker.fr-unprocessed").toArray()}e.selection.restore()}}function v(r,s,a){"undefined"==typeof a&&(a={});var l=e.image?e.image.get():null;l||"A"==e.$el.get(0).tagName?"A"==e.$el.get(0).tagName&&e.$el.focus():(e.selection.restore(),e.popups.hide("link.insert"));var d=r;if(e.opts.linkConvertEmailAddress){var h=/^[\w._]+@[a-zA-Z0-9_-]+?\.[a-zA-Z0-9]{2,3}$/i;h.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r)}if(0===r.indexOf("tel:")||0===r.indexOf("sms:")||0===r.indexOf("mailto:")||0===r.indexOf("notes:")||0===r.indexOf("data:image")||""===e.opts.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(r)||("/"==e.opts.linkAutoPrefix[e.opts.linkAutoPrefix.length-1]&&(r=r.replace(/^\/*/g,"")),r=e.opts.linkAutoPrefix+r),r=e.helpers.sanitizeURL(r),e.opts.linkAlwaysBlank&&(a.target="_blank"),e.opts.linkAlwaysNoFollow&&(a.rel="nofollow"),s=s||"",r===e.opts.linkAutoPrefix){var u=e.popups.get("link.insert");return u.find('input[name="href"]').addClass("fr-error"),e.events.trigger("link.bad",[d]),!1}var c,p=i();if(p){c=t(p);var f=e.node.rawAttributes(p);for(var m in f)f.hasOwnProperty(m)&&"class"!=m&&"style"!=m&&c.removeAttr(m);c.attr("href",r),s.length>0&&c.text()!=s&&!l&&c.text(s),l||c.prepend(t.FE.START_MARKER).append(t.FE.END_MARKER),c.attr(a),l||e.selection.restore()}else{l?l.wrap('<a href="'+r+'"></a>'):(e.doc.execCommand("unlink",!1,!1),e.selection.isCollapsed()?(s=0===s.length?d:s,e.html.insert('<a href="'+r+'">'+t.FE.START_MARKER+s+t.FE.END_MARKER+"</a>"),e.selection.restore()):s.length>0&&s!=e.selection.text()?(e.selection.remove(),e.html.insert('<a href="'+r+'">'+t.FE.START_MARKER+s+t.FE.END_MARKER+"</a>"),e.selection.restore()):(g(),e.doc.execCommand("createLink",!1,r)));for(var v=n(),y=0;y<v.length;y++)c=t(v[y]),c.attr(a),c.removeAttr("_moz_dirty");1==v.length&&e.$wp&&!l&&(t(v[0]).prepend(t.FE.START_MARKER).append(t.FE.END_MARKER),e.selection.restore())}if(l){var b=e.popups.get("link.insert");b.find("input:focus").blur(),e.image.edit(l)}else o()}function y(){s();var n=i();if(n){var o=e.popups.get("link.insert");o||(o=u()),e.popups.isVisible("link.insert")||(e.popups.refresh("link.insert"),e.selection.save(),e.helpers.isMobile()&&(e.events.disableBlur(),e.$el.blur(),e.events.enableBlur())),e.popups.setContainer("link.insert",t(e.opts.scrollableContainer));var r=(e.image?e.image.get():null)||t(n),a=r.offset().left+r.outerWidth()/2,l=r.offset().top+r.outerHeight();e.popups.show("link.insert",a,l,r.outerHeight())}}function b(){var t=e.image?e.image.get():null;if(t)e.image.back();else{e.events.disableBlur(),e.selection.restore(),e.events.enableBlur();var n=i();n&&e.$wp?(e.selection.restore(),s(),o()):"A"==e.$el.get(0).tagName?(e.$el.focus(),o()):(e.popups.hide("link.insert"),e.toolbar.showInline())}}function w(){var i=e.image?e.image.get():null;if(i){var n=e.popups.get("link.insert");n||(n=u()),d(!0),e.popups.setContainer("link.insert",t(e.opts.scrollableContainer));var o=i.offset().left+i.outerWidth()/2,r=i.offset().top+i.outerHeight();e.popups.show("link.insert",o,r,i.outerHeight())}}function _(n,r,s){"undefined"==typeof s&&(s=e.opts.linkMultipleStyles),"undefined"==typeof r&&(r=e.opts.linkStyles);var a=i();if(!a)return!1;if(!s){var l=Object.keys(r);l.splice(l.indexOf(n),1),t(a).removeClass(l.join(" "))}t(a).toggleClass(n),o()}return{_init:p,remove:c,showInsertPopup:h,usePredefined:f,insertCallback:m,insert:v,update:y,get:i,allSelected:n,back:b,imageLink:w,applyStyle:_}},t.FE.DefineIcon("insertLink",{NAME:"link"}),t.FE.RegisterShortcut(75,"insertLink"),t.FE.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),t.FE.DefineIcon("linkOpen",{NAME:"external-link"}),t.FE.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(t){var e=this.link.get();e?t.removeClass("fr-hidden"):t.addClass("fr-hidden")},callback:function(){var t=this.link.get();t&&this.o_win.open(t.href)}}),t.FE.DefineIcon("linkEdit",{NAME:"edit"}),t.FE.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,callback:function(){this.link.update()},refresh:function(t){var e=this.link.get();e?t.removeClass("fr-hidden"):t.addClass("fr-hidden")}}),t.FE.DefineIcon("linkRemove",{NAME:"unlink"}),t.FE.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(t){var e=this.link.get();e?t.removeClass("fr-hidden"):t.addClass("fr-hidden")}}),t.FE.DefineIcon("linkBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(t){var e=this.link.get(),i=this.image?this.image.get():null;i||e||this.opts.toolbarInline?(t.removeClass("fr-hidden"),t.next(".fr-separator").removeClass("fr-hidden")):(t.addClass("fr-hidden"),t.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.DefineIcon("linkList",{NAME:"search"}),t.FE.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var t='<ul class="fr-dropdown-list">',e=this.opts.linkList,i=0;i<e.length;i++)t+='<li><a class="fr-command" data-cmd="linkList" data-param1="'+i+'">'+(e[i].displayText||e[i].text)+"</a></li>";return t+="</ul>"},callback:function(t,e){this.link.usePredefined(e)}}),t.FE.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(t){var e=this.link.get();e?t.text(this.language.translate("Update")):t.text(this.language.translate("Insert"))}}),t.FE.DefineIcon("imageLink",{NAME:"link"}),t.FE.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,callback:function(){this.link.imageLink()},refresh:function(t){var e,i=this.link.get();i?(e=t.prev(),e.hasClass("fr-separator")&&e.removeClass("fr-hidden"),t.addClass("fr-hidden")):(e=t.prev(),e.hasClass("fr-separator")&&e.addClass("fr-hidden"),t.removeClass("fr-hidden"))}}),t.FE.DefineIcon("linkStyle",{NAME:"magic"}),t.FE.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var t='<ul class="fr-dropdown-list">',e=this.opts.linkStyles;for(var i in e)e.hasOwnProperty(i)&&(t+='<li><a class="fr-command" data-cmd="linkStyle" data-param1="'+i+'">'+this.language.translate(e[i])+"</a></li>");return t+="</ul>"},callback:function(t,e){this.link.applyStyle(e)},refreshOnShow:function(e,i){var n=this.link.get();if(n){var o=t(n);i.find(".fr-command").each(function(){var e=t(this).data("param1");t(this).toggleClass("fr-active",o.hasClass(e))})}}})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.POPUP_TEMPLATES,{"image.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]","image.edit":"[_BUTTONS_]","image.alt":"[_BUTTONS_][_ALT_LAYER_]","image.size":"[_BUTTONS_][_SIZE_LAYER_]"}),t.extend(t.FE.DEFAULTS,{imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize"],imageAltButtons:["imageBack","|"],imageSizeButtons:["imageBack","|"],imageUploadURL:"http://i.froala.com/upload",imageUploadParam:"file",imageUploadParams:{},imageUploadToS3:!1,imageUploadMethod:"POST",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif","svg+xml"],imageResize:!0,imageResizeWithPercent:!1,imageRoundPercent:!1,imageDefaultWidth:300,imageDefaultAlign:"center",imageDefaultDisplay:"block",imageSplitHTML:!1,imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered"},imageMove:!0,imageMultipleStyles:!0,imageTextNear:!0,imagePaste:!0,imageMinWidth:16,imageOutputSize:!1}),t.FE.PLUGINS.image=function(e){function i(){var t=e.popups.get("image.insert"),i=t.find(".fr-image-by-url-layer input");i.val(""),gt&&i.val(gt.attr("src")),i.trigger("change")}function n(){var t=e.$tb.find('.fr-command[data-cmd="insertImage"]'),i=e.popups.get("image.insert");if(i||(i=P()),v(),!i.hasClass("fr-active"))if(e.popups.refresh("image.insert"),e.popups.setContainer("image.insert",e.$tb),t.is(":visible")){var n=t.offset().left+t.outerWidth()/2,o=t.offset().top+(e.opts.toolbarBottom?10:t.outerHeight()-10);e.popups.show("image.insert",n,o,t.outerHeight())}else e.position.forSelection(i),e.popups.show("image.insert")}function o(){var i=e.popups.get("image.edit");i||(i=m()),e.popups.setContainer("image.edit",t(e.opts.scrollableContainer)),e.popups.refresh("image.edit");var n=gt.offset().left+gt.outerWidth()/2,o=gt.offset().top+gt.outerHeight();e.popups.show("image.edit",n,o,gt.outerHeight())}function r(){v()}function s(t){if(!t.hasClass("fr-dii")&&!t.hasClass("fr-dib")){var i=t.css("float");t.css("float","none"),"block"==t.css("display")?(t.css("float",i),e.opts.imageEditButtons.indexOf("imageAlign")>=0&&(0===parseInt(t.css("margin-left"),10)&&(t.attr("style")||"").indexOf("margin-right: auto")>=0?t.addClass("fr-fil"):0===parseInt(t.css("margin-right"),10)&&(t.attr("style")||"").indexOf("margin-left: auto")>=0&&t.addClass("fr-fir")),t.addClass("fr-dib")):(t.css("float",i),e.opts.imageEditButtons.indexOf("imageAlign")>=0&&("left"==t.css("float")?t.addClass("fr-fil"):"right"==t.css("float")&&t.addClass("fr-fir")),t.addClass("fr-dii")),t.css("margin",""),t.css("float",""),t.css("display",""),t.css("z-index",""),t.css("position",""),t.css("overflow",""),t.css("vertical-align","")}}function a(){for(var i="IMG"==e.$el.get(0).tagName?[e.$el.get(0)]:e.$el.get(0).querySelectorAll("img"),n=0;n<i.length;n++){var o=t(i[n]);(e.opts.imageEditButtons.indexOf("imageAlign")>=0||e.opts.imageEditButtons.indexOf("imageDisplay")>=0)&&s(o),o.attr("width")&&(o.css("width",o.width()),o.removeAttr("width")),e.opts.imageTextNear||o.removeClass("fr-dii").addClass("fr-dib"),e.opts.iframe&&o.on("load",e.size.syncIframe)}}function l(){var i,n=Array.prototype.slice.call(e.$el.get(0).querySelectorAll("img")),o=[];for(i=0;i<n.length;i++)o.push(n[i].getAttribute("src")),t(n[i]).toggleClass("fr-draggable",e.opts.imageMove);if(Ot)for(i=0;i<Ot.length;i++)o.indexOf(Ot[i].getAttribute("src"))<0&&e.events.trigger("image.removed",[t(Ot[i])]);Ot=n}function d(){vt||G();var i=e.$wp||t(e.opts.scrollableContainer);i.append(vt),vt.data("instance",e);var n=i.scrollTop()-("static"!=i.css("position")?i.offset().top:0),o=i.scrollLeft()-("static"!=i.css("position")?i.offset().left:0);o-=e.helpers.getPX(i.css("border-left-width")),n-=e.helpers.getPX(i.css("border-top-width")),vt.css("top",(e.opts.iframe?gt.offset().top:gt.offset().top+n)-1).css("left",(e.opts.iframe?gt.offset().left:gt.offset().left+o)-1).css("width",gt.get(0).getBoundingClientRect().width).css("height",gt.get(0).getBoundingClientRect().height).addClass("fr-active")}function h(t){return'<div class="fr-handler fr-h'+t+'"></div>'}function u(i){if(!e.core.sameInstance(vt))return!0;if(i.preventDefault(),i.stopPropagation(),e.$el.find("img.fr-error").left)return!1;e.undo.canDo()||e.undo.saveStep(),yt=t(this),yt.data("start-x",i.pageX||i.originalEvent.touches[0].pageX),yt.data("start-width",gt.width()),yt.data("start-height",gt.height());var n=gt.width();if(e.opts.imageResizeWithPercent){var o=gt.parentsUntil(e.$el,e.html.blockTagsQuery()).get(0)||e.$el.get(0);gt.css("width",(n/t(o).outerWidth()*100).toFixed(2)+"%")}else gt.css("width",n);bt.show(),e.popups.hideAll(),ot()}function c(i){if(!e.core.sameInstance(vt))return!0;if(yt&&gt){if(i.preventDefault(),e.$el.find("img.fr-error").left)return!1;var n=i.pageX||(i.originalEvent.touches?i.originalEvent.touches[0].pageX:null);if(!n)return!1;var o=yt.data("start-x"),r=n-o,s=yt.data("start-width");if((yt.hasClass("fr-hnw")||yt.hasClass("fr-hsw"))&&(r=0-r),e.opts.imageResizeWithPercent){var a=gt.parentsUntil(e.$el,e.html.blockTagsQuery()).get(0)||e.$el.get(0);s=((s+r)/t(a).outerWidth()*100).toFixed(2),e.opts.imageRoundPercent&&(s=Math.round(s)),gt.css("width",s+"%"),gt.css("height","").removeAttr("height")}else s+r>=e.opts.imageMinWidth&&gt.css("width",s+r),gt.css("height",yt.data("start-height")*gt.width()/yt.data("start-width"));d(),e.events.trigger("image.resize",[ft()])}}function p(t){if(!e.core.sameInstance(vt))return!0;if(yt&&gt){if(t&&t.stopPropagation(),e.$el.find("img.fr-error").left)return!1;yt=null,bt.hide(),d(),o(),e.undo.saveStep(),e.events.trigger("image.resizeEnd",[ft()])}}function f(t,i){e.edit.on(),gt&&gt.addClass("fr-error"),b(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("image.error",[{code:t,message:Dt[t]},i])}function m(t){if(t)return e.$wp&&e.events.$on(e.$wp,"scroll",function(){gt&&e.popups.isVisible("image.edit")&&o()}),!0;var i="";e.opts.imageEditButtons.length>1&&(i+='<div class="fr-buttons">',i+=e.button.buildList(e.opts.imageEditButtons),i+="</div>");var n={buttons:i},r=e.popups.create("image.edit",n);return r}function g(i){var n=e.popups.get("image.insert");if(n||(n=P()),e.popups.setContainer("image.insert",t(e.opts.scrollableContainer)),n.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),n.find(".fr-image-progress-bar-layer").addClass("fr-active"),n.find(".fr-buttons").hide(),gt){var o=gt.offset().left+gt.width()/2,r=gt.offset().top+gt.height();e.popups.show("image.insert",o,r,gt.outerHeight())}"undefined"==typeof i&&y("Uploading",0)}function v(t){var i=e.popups.get("image.insert");i&&(i.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),i.find(".fr-image-progress-bar-layer").removeClass("fr-active"),i.find(".fr-buttons").show(),(t||e.$el.find("img.fr-error").length)&&(e.events.focus(),e.$el.find("img.fr-error").remove(),e.undo.saveStep(),e.undo.run(),e.undo.dropRedo()))}function y(t,i){var n=e.popups.get("image.insert");if(n){var o=n.find(".fr-image-progress-bar-layer");o.find("h3").text(t+(i?" "+i+"%":"")),o.removeClass("fr-error"),i?(o.find("div").removeClass("fr-indeterminate"),o.find("div > span").css("width",i+"%")):o.find("div").addClass("fr-indeterminate")}}function b(t){var i=e.popups.get("image.insert"),n=i.find(".fr-image-progress-bar-layer");n.addClass("fr-error"),n.find("h3").text(t)}function w(){var t=e.popups.get("image.insert"),i=t.find(".fr-image-by-url-layer input");i.val().length>0&&(g(),y("Loading image"),C(e.helpers.sanitizeURL(i.val()),!0,[],gt),i.val(""),i.blur())}function _(t){et.call(t.get(0))}function x(){var i=t(this);e.popups.hide("image.insert"),i.removeClass("fr-uploading"),i.next().is("br")&&i.next().remove(),_(i),e.events.trigger("image.loaded",[i])}function C(t,i,n,o,r){e.edit.off(),y("Loading image");var s=new Image;s.onload=function(){var i,s;if(o){var a=o.data("fr-old-src");e.$wp?(i=o.clone().removeData("fr-old-src").removeClass("fr-uploading"),i.off("load"),a&&o.attr("src",a),o.replaceWith(i)):i=o;for(var d=i.get(0).attributes,h=0;h<d.length;h++){var u=d[h];0===u.nodeName.indexOf("data-")&&i.removeAttr(u.nodeName)}if("undefined"!=typeof n)for(s in n)n.hasOwnProperty(s)&&"link"!=s&&i.attr("data-"+s,n[s]);i.on("load",x),i.attr("src",t),e.edit.on(),l(),e.undo.saveStep(),e.events.trigger(a?"image.replaced":"image.inserted",[i,r])}else i=O(t,n,x),l(),e.undo.saveStep(),e.events.trigger("image.inserted",[i,r])},s.onerror=function(){f(_t)},s.src=t}function k(i){try{if(e.events.trigger("image.uploaded",[i],!0)===!1)return e.edit.on(),!1;var n=t.parseJSON(i);return n.link?n:(f(xt,i),!1)}catch(o){return f(kt,i),!1}}function E(i){try{var n=t(i).find("Location").text(),o=t(i).find("Key").text();return e.events.trigger("image.uploadedToS3",[n,o,i],!0)===!1?(e.edit.on(),!1):n}catch(r){return f(kt,i),!1}}function T(t){y("Loading image");var i=this.status,n=this.response,o=this.responseXML,r=this.responseText;try{if(e.opts.imageUploadToS3)if(201==i){var s=E(o);s&&C(s,!1,[],t,n||o)}else f(kt,n||o);else if(i>=200&&300>i){var a=k(r);a&&C(a.link,!1,a,t,n||r)}else f(Ct,n||r)}catch(l){f(kt,n||r)}}function S(){f(kt,this.response||this.responseText||this.responseXML)}function D(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;y("Uploading",e)}}function O(i,n,o){var r,s="";if(n&&"undefined"!=typeof n)for(r in n)n.hasOwnProperty(r)&&"link"!=r&&(s+=" data-"+r+'="'+n[r]+'"');var a=e.opts.imageDefaultWidth||"auto";a&&"auto"!=a&&(""+a).indexOf("px")<0&&(""+a).indexOf("%")<0&&(a+="px");var l=t('<img class="fr-di'+e.opts.imageDefaultDisplay[0]+("center"!=e.opts.imageDefaultAlign?" fr-fi"+e.opts.imageDefaultAlign[0]:"")+'" src="'+i+'"'+s+(a?' style="width: '+a+';"':"")+">");l.on("load",o),e.edit.on(),e.events.focus(!0),e.selection.restore(),e.undo.saveStep(),e.opts.imageSplitHTML?e.markers.split():e.markers.insert();var d=e.$el.find(".fr-marker");return d.replaceWith(l),e.html.wrap(),e.selection.clear(),l}function M(){e.edit.on(),v(!0)}function A(i,n,o){function r(){var o=t(this);o.off("load"),o.addClass("fr-uploading"),o.next().is("br")&&o.next().remove(),e.placeholder.refresh(),o.is(gt)||_(o),d(),g(),e.edit.off(),i.onload=function(){T.call(i,o)},i.onerror=S,i.upload.onprogress=D,i.onabort=M,o.off("abortUpload").on("abortUpload",function(){4!=i.readyState&&i.abort()}),i.send(n)}var s,a=new FileReader;a.addEventListener("load",function(){var t=a.result;if(a.result.indexOf("svg+xml")<0){for(var i=atob(a.result.split(",")[1]),n=[],o=0;o<i.length;o++)n.push(i.charCodeAt(o));t=window.URL.createObjectURL(new Blob([new Uint8Array(n)],{type:"image/jpeg"}))}gt?(gt.on("load",r),e.edit.on(),e.undo.saveStep(),gt.data("fr-old-src",gt.attr("src")),gt.attr("src",t)):s=O(t,null,r)},!1),a.readAsDataURL(o)}function N(t){if(e.events.trigger("image.beforeUpload",[t])===!1)return!1;if("undefined"!=typeof t&&t.length>0){var i=t[0];if(i.size>e.opts.imageMaxSize)return f(Et),!1;if(e.opts.imageAllowedTypes.indexOf(i.type.replace(/image\//g,""))<0)return f(Tt),!1;var n;if(e.drag_support.formdata&&(n=e.drag_support.formdata?new FormData:null),n){var o;if(e.opts.imageUploadToS3!==!1){n.append("key",e.opts.imageUploadToS3.keyStart+(new Date).getTime()+"-"+(i.name||"untitled")),n.append("success_action_status","201"),n.append("X-Requested-With","xhr"),n.append("Content-Type",i.type);for(o in e.opts.imageUploadToS3.params)e.opts.imageUploadToS3.params.hasOwnProperty(o)&&n.append(o,e.opts.imageUploadToS3.params[o])}for(o in e.opts.imageUploadParams)e.opts.imageUploadParams.hasOwnProperty(o)&&n.append(o,e.opts.imageUploadParams[o]);n.append(e.opts.imageUploadParam,i);var r=e.opts.imageUploadURL;e.opts.imageUploadToS3&&(r="https://"+e.opts.imageUploadToS3.region+".amazonaws.com/"+e.opts.imageUploadToS3.bucket);var s=e.core.getXHR(r,e.opts.imageUploadMethod);A(s,n,i)}}}function I(i){e.events.$on(i,"dragover dragenter",".fr-image-upload-layer",function(){return t(this).addClass("fr-drop"),!1}),e.events.$on(i,"dragleave dragend",".fr-image-upload-layer",function(){return t(this).removeClass("fr-drop"),!1}),e.events.$on(i,"drop",".fr-image-upload-layer",function(n){n.preventDefault(),n.stopPropagation(),t(this).removeClass("fr-drop");var o=n.originalEvent.dataTransfer;if(o&&o.files){var r=i.data("instance")||e;r.image.upload(o.files)}}),e.events.$on(i,"change",'.fr-image-upload-layer input[type="file"]',function(){if(this.files){var n=i.data("instance")||e;n.image.upload(this.files)}t(this).val("")})}function F(i){var n=i.originalEvent.dataTransfer;if(n&&n.files&&n.files.length){var o=n.files[0];if(o&&o.type&&e.opts.imageAllowedTypes.indexOf(o.type.replace(/image\//g,""))>=0){e.markers.remove(),e.markers.insertAtPoint(i.originalEvent),e.$el.find(".fr-marker").replaceWith(t.FE.MARKERS),e.popups.hideAll();var r=e.popups.get("image.insert");return r||(r=P()),e.popups.setContainer("image.insert",t(e.opts.scrollableContainer)),e.popups.show("image.insert",i.originalEvent.pageX,i.originalEvent.pageY),g(),N(n.files),i.preventDefault(),i.stopPropagation(),!1}}}function R(){var i,n,o=e.selection.ranges(0);o.collapsed&&o.startContainer.nodeType==Node.ELEMENT_NODE&&(o.startContainer.childNodes.length==o.startOffset?(i=o.startContainer.childNodes[o.startOffset-1],i&&"IMG"==i.tagName&&"block"==t(i).css("display")&&(n=e.node.blockParent(i),n&&e.html.defaultTag()?n.nextSibling||(t(n).after("<"+e.html.defaultTag()+"><br>"+t.FE.MARKERS+"</"+e.html.defaultTag()+">"),e.selection.restore()):n||(t(i).after("<br>"+t.FE.MARKERS),e.selection.restore()))):0===o.startOffset&&o.startContainer.childNodes.length>o.startOffset&&(i=o.startContainer.childNodes[o.startOffset],i&&"IMG"==i.tagName&&"block"==t(i).css("display")&&(n=e.node.blockParent(i),n&&e.html.defaultTag()?n.previousSibling||(t(n).before("<"+e.html.defaultTag()+"><br>"+t.FE.MARKERS+"</"+e.html.defaultTag()+">"),e.selection.restore()):n||(t(i).before(t.FE.MARKERS+"<br>"),e.selection.restore()))))}function L(){e.events.$on(e.$el,e._mousedown,"IMG"==e.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(i){return t(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length?!0:(e.selection.clear(),wt=!0,e.browser.msie&&(e.events.disableBlur(),e.$el.attr("contenteditable",!1)),e.draggable||i.preventDefault(),void i.stopPropagation())}),e.events.$on(e.$el,e._mouseup,"IMG"==e.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(i){return t(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length?!0:void(wt&&(wt=!1,i.stopPropagation(),e.browser.msie&&(e.$el.attr("contenteditable",!0),e.events.enableBlur())))}),e.events.on("drop",F),e.events.on("mousedown window.mousedown",nt),e.events.on("window.touchmove",ot),e.events.on("mouseup window.mouseup",function(){return gt?(it(),!1):void 0}),e.events.on("commands.mousedown",function(t){t.parents(".fr-toolbar").length>0&&it()}),e.events.on("mouseup",R),e.events.on("blur image.hideResizer commands.undo commands.redo element.dropped",function(){wt=!1,it(!0)})}function P(t){if(t)return e.popups.onRefresh("image.insert",i),e.popups.onHide("image.insert",r),!0;var n,o="";e.opts.imageInsertButtons.length>1&&(o='<div class="fr-buttons">'+e.button.buildList(e.opts.imageInsertButtons)+"</div>");var s=e.opts.imageInsertButtons.indexOf("imageUpload"),a=e.opts.imageInsertButtons.indexOf("imageByURL"),l="";s>=0&&(n=" fr-active",a>=0&&s>a&&(n=""),l='<div class="fr-image-upload-layer'+n+' fr-layer" id="fr-image-upload-layer-'+e.id+'"><strong>'+e.language.translate("Drop image")+"</strong><br>("+e.language.translate("or click")+')<div class="fr-form"><input type="file" accept="image/*" tabIndex="-1"></div></div>');var d="";a>=0&&(n=" fr-active",s>=0&&a>s&&(n=""),d='<div class="fr-image-by-url-layer'+n+' fr-layer" id="fr-image-by-url-layer-'+e.id+'"><div class="fr-input-line"><input type="text" placeholder="http://" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2">'+e.language.translate("Insert")+"</button></div></div>");var h='<div class="fr-image-progress-bar-layer fr-layer"><h3 class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-back" data-cmd="imageDismissError" tabIndex="2">OK</button></div></div>',u={buttons:o,upload_layer:l,by_url_layer:d,progress_bar:h},c=e.popups.create("image.insert",u);return e.$wp&&e.events.$on(e.$wp,"scroll",function(){gt&&e.popups.isVisible("image.insert")&&ut()}),I(c),c}function $(){if(gt){var t=e.popups.get("image.alt");t.find("input").val(gt.attr("alt")||"").trigger("change")}}function z(){var i=e.popups.get("image.alt");i||(i=B()),v(),e.popups.refresh("image.alt"),e.popups.setContainer("image.alt",t(e.opts.scrollableContainer));var n=gt.offset().left+gt.width()/2,o=gt.offset().top+gt.height();e.popups.show("image.alt",n,o,gt.outerHeight())}function B(t){if(t)return e.popups.onRefresh("image.alt",$),!0;var i="";i='<div class="fr-buttons">'+e.button.buildList(e.opts.imageAltButtons)+"</div>";var n="";n='<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'+e.id+'"><div class="fr-input-line"><input type="text" placeholder="'+e.language.translate("Alternate Text")+'" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2">'+e.language.translate("Update")+"</button></div></div>";var o={buttons:i,alt_layer:n},r=e.popups.create("image.alt",o);return e.$wp&&e.events.$on(e.$wp,"scroll.image-alt",function(){gt&&e.popups.isVisible("image.alt")&&z()}),r}function H(t){if(gt){var i=e.popups.get("image.alt");gt.attr("alt",t||i.find("input").val()||""),i.find("input:focus").blur(),_(gt)}}function j(){if(gt){var t=e.popups.get("image.size");t.find('input[name="width"]').val(gt.get(0).style.width).trigger("change"),t.find('input[name="height"]').val(gt.get(0).style.height).trigger("change")}}function W(){var i=e.popups.get("image.size");i||(i=U()),v(),e.popups.refresh("image.size"),e.popups.setContainer("image.size",t(e.opts.scrollableContainer));var n=gt.offset().left+gt.width()/2,o=gt.offset().top+gt.height();e.popups.show("image.size",n,o,gt.outerHeight())}function U(t){if(t)return e.popups.onRefresh("image.size",j),!0;var i="";i='<div class="fr-buttons">'+e.button.buildList(e.opts.imageSizeButtons)+"</div>";var n="";n='<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'+e.id+'"><div class="fr-image-group"><div class="fr-input-line"><input type="text" name="width" placeholder="'+e.language.translate("Width")+'" tabIndex="1"></div><div class="fr-input-line"><input type="text" name="height" placeholder="'+e.language.translate("Height")+'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2">'+e.language.translate("Update")+"</button></div></div>";var o={buttons:i,size_layer:n},r=e.popups.create("image.size",o);return e.$wp&&e.events.$on(e.$wp,"scroll.image-size",function(){gt&&e.popups.isVisible("image.size")&&W()}),r}function Y(t,i){if(gt){var n=e.popups.get("image.size");gt.css("width",t||n.find('input[name="width"]').val()),gt.css("height",i||n.find('input[name="height"]').val()),n.find("input:focus").blur(),_(gt)}}function q(t){var i,n,o=e.popups.get("image.insert");if(gt||e.opts.toolbarInline)gt&&(n=gt.offset().top+gt.outerHeight());else{var r=e.$tb.find('.fr-command[data-cmd="insertImage"]');i=r.offset().left+r.outerWidth()/2,n=r.offset().top+(e.opts.toolbarBottom?10:r.outerHeight()-10)}!gt&&e.opts.toolbarInline&&(n=o.offset().top-e.helpers.getPX(o.css("margin-top")),o.hasClass("fr-above")&&(n+=o.outerHeight())),o.find(".fr-layer").removeClass("fr-active"),o.find(".fr-"+t+"-layer").addClass("fr-active"),e.popups.show("image.insert",i,n,gt?gt.outerHeight():0)}function V(t){var i=e.popups.get("image.insert");i.find(".fr-image-upload-layer").hasClass("fr-active")&&t.addClass("fr-active")}function K(t){var i=e.popups.get("image.insert");i.find(".fr-image-by-url-layer").hasClass("fr-active")&&t.addClass("fr-active")}function G(){var i;e.shared.$image_resizer?(vt=e.shared.$image_resizer,bt=e.shared.$img_overlay,e.events.on("destroy",function(){vt.removeClass("fr-active").appendTo(t("body"))},!0)):(e.shared.$image_resizer=t('<div class="fr-image-resizer"></div>'),vt=e.shared.$image_resizer,e.events.$on(vt,"mousedown",function(t){t.stopPropagation()},!0),e.opts.imageResize&&(vt.append(h("nw")+h("ne")+h("sw")+h("se")),e.shared.$img_overlay=t('<div class="fr-image-overlay"></div>'),bt=e.shared.$img_overlay,i=vt.get(0).ownerDocument,t(i).find("body").append(bt))),e.events.on("shared.destroy",function(){vt.html("").removeData().remove(),e.opts.imageResize&&bt.remove()},!0),e.helpers.isMobile()||e.events.$on(t(e.o_win),"resize",function(){gt&&!gt.hasClass("fr-uploading")?it(!0):gt&&(d(),ut(),g(!1))}),e.opts.imageResize&&(i=vt.get(0).ownerDocument,e.events.$on(vt,e._mousedown,".fr-handler",u),e.events.$on(t(i),e._mousemove,c),e.events.$on(t(i.defaultView||i.parentWindow),e._mouseup,p),e.events.$on(bt,"mouseleave",p))}function X(i){i=i||gt,i&&e.events.trigger("image.beforeRemove",[i])!==!1&&(e.popups.hideAll(),it(!0),i.get(0)==e.$el.get(0)?i.removeAttr("src"):("A"==i.get(0).parentNode.tagName?(e.selection.setBefore(i.get(0).parentNode)||e.selection.setAfter(i.get(0).parentNode)||i.parent().after(t.FE.MARKERS),t(i.get(0).parentNode).remove()):(e.selection.setBefore(i.get(0))||e.selection.setAfter(i.get(0))||i.after(t.FE.MARKERS),i.remove()),e.html.fillEmptyBlocks(),e.selection.restore()),e.undo.saveStep())}function Q(){if(L(),"IMG"==e.$el.get(0).tagName&&e.$el.addClass("fr-view"),e.events.$on(e.$el,e.helpers.isMobile()&&!e.helpers.isWindowsPhone()?"touchend":"click","IMG"==e.$el.get(0).tagName?null:'img:not([contenteditable="false"])',et),e.helpers.isMobile()&&(e.events.$on(e.$el,"touchstart","IMG"==e.$el.get(0).tagName?null:'img:not([contenteditable="false"])',function(){Mt=!1}),e.events.$on(e.$el,"touchmove",function(){Mt=!0})),e.events.on("window.keydown keydown",function(i){var n=i.which;return!gt||n!=t.FE.KEYCODE.BACKSPACE&&n!=t.FE.KEYCODE.DELETE?gt&&n==t.FE.KEYCODE.ESC?(it(!0),i.preventDefault(),!1):gt&&!e.keys.ctrlKey(i)?(i.preventDefault(),!1):void 0:(i.preventDefault(),i.stopPropagation(),X(),!1)},!0),e.events.$on(t(e.o_win),"keydown",function(e){var i=e.which;return gt&&i==t.FE.KEYCODE.BACKSPACE?(e.preventDefault(),!1):void 0}),e.events.$on(e.$win,"keydown",function(e){var i=e.which;gt&&gt.hasClass("fr-uploading")&&i==t.FE.KEYCODE.ESC&&gt.trigger("abortUpload")}),e.events.on("paste.before",J),e.events.on("paste.beforeCleanup",tt),e.events.on("paste.after",Z),e.events.on("html.set",a),e.events.on("html.inserted",a),a(),e.events.on("html.get",function(t){return t=t.replace(/<(img)((?:[\w\W]*?))class="([\w\W]*?)(fr-uploading|fr-error)([\w\W]*?)"((?:[\w\W]*?))>/g,"")}),e.opts.imageOutputSize){var i;e.events.on("html.beforeGet",function(){i=e.$el.get(0).querySelectorAll("img");for(var n=0;n<i.length;n++)i[n].setAttribute("width",t(i[n]).width()),i[n].setAttribute("height",t(i[n]).height())}),e.events.on("html.afterGet",function(){for(var t=0;t<i.length;t++)i[t].removeAttribute("width"),i[t].removeAttribute("height")})}e.opts.iframe&&e.events.on("image.loaded",e.size.syncIframe),e.$wp&&(l(),e.events.on("contentChanged",l)),e.events.$on(t(e.o_win),"orientationchange.image",function(){setTimeout(function(){var t=ft();t&&_(t)},0)}),m(!0),P(!0),U(!0),B(!0),e.events.on("node.remove",function(t){return"IMG"==t.get(0).tagName?(X(t),!1):void 0})}function Z(){e.opts.imagePaste?e.$el.find("img[data-fr-image-pasted]").each(function(i,n){var r=e.opts.imageDefaultWidth||"auto";if("auto"!=r&&(r+=e.opts.imageResizeWithPercent?"%":"px"),t(n).css("width",r),t(n).removeClass("fr-dii fr-dib fr-fir fr-fil").addClass("fr-di"+e.opts.imageDefaultDisplay[0]+("center"!=e.opts.imageDefaultAlign?" fr-fi"+e.opts.imageDefaultAlign[0]:"")),0===n.src.indexOf("data:")){if(e.events.trigger("image.beforePasteUpload",[n])===!1)return!1;gt=t(n),d(),o(),ut(),g(),e.edit.off();for(var s=atob(t(n).attr("src").split(",")[1]),a=[],l=0;l<s.length;l++)a.push(s.charCodeAt(l));var h=new Blob([new Uint8Array(a)],{type:"image/jpeg"});N([h]),t(n).removeAttr("data-fr-image-pasted")}else 0!==n.src.indexOf("http")?(e.selection.save(),t(n).remove(),e.selection.restore()):t(n).removeAttr("data-fr-image-pasted")}):e.$el.find("img[data-fr-image-pasted]").remove()}function J(t){if(t&&t.clipboardData&&t.clipboardData.items&&t.clipboardData.items[0]){var i=t.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=function(t){var i=t.target.result,n=e.opts.imageDefaultWidth||"auto";n&&"auto"!=n&&(""+n).indexOf("px")<0&&(""+n).indexOf("%")<0&&(n+="px"),e.html.insert('<img data-fr-image-pasted="true" class="fr-di'+e.opts.imageDefaultDisplay[0]+("center"!=e.opts.imageDefaultAlign?" fr-fi"+e.opts.imageDefaultAlign[0]:"")+'" src="'+i+'"'+(n?' style="width: '+n+';"':"")+">"),e.events.trigger("paste.after")},n.readAsDataURL(i),!1}}}function tt(t){return t=t.replace(/<img /gi,'<img data-fr-image-pasted="true" ')}function et(i){if(t(this).parents('[contenteditable="false"]:not(.fr-element):not(body)').length)return!0;if(i&&"touchend"==i.type&&Mt)return!0;if(i&&e.edit.isDisabled())return i.stopPropagation(),i.preventDefault(),!1;for(var n=0;n<t.FE.INSTANCES.length;n++)t.FE.INSTANCES[n]!=e&&t.FE.INSTANCES[n].events.trigger("image.hideResizer");e.toolbar.disable(),i&&(i.stopPropagation(),i.preventDefault()),e.helpers.isMobile()&&(e.events.disableBlur(),e.$el.blur(),e.events.enableBlur()),e.opts.iframe&&e.size.syncIframe(),gt=t(this),ct(),d(),o(),e.selection.clear(),e.button.bulkRefresh(),e.events.trigger("video.hideResizer")}function it(t){gt&&(rt()||t===!0)&&(e.toolbar.enable(),vt.removeClass("fr-active"),e.popups.hide("image.edit"),gt=null,ot())}function nt(){At=!0}function ot(){At=!1}function rt(){return At}function st(t){gt.removeClass("fr-fir fr-fil"),"left"==t?gt.addClass("fr-fil"):"right"==t&&gt.addClass("fr-fir"),d(),o()}function at(t){gt&&(gt.hasClass("fr-fil")?t.find("> *:first").replaceWith(e.icon.create("align-left")):gt.hasClass("fr-fir")?t.find("> *:first").replaceWith(e.icon.create("align-right")):t.find("> *:first").replaceWith(e.icon.create("align-justify")))}function lt(t,e){if(gt){var i="justify";gt.hasClass("fr-fil")?i="left":gt.hasClass("fr-fir")&&(i="right"),e.find('.fr-command[data-param1="'+i+'"]').addClass("fr-active")}}function dt(t){gt.removeClass("fr-dii fr-dib"),"inline"==t?gt.addClass("fr-dii"):"block"==t&&gt.addClass("fr-dib"),d(),o()}function ht(t,e){var i="block";gt.hasClass("fr-dii")&&(i="inline"),e.find('.fr-command[data-param1="'+i+'"]').addClass("fr-active")}function ut(){var i=e.popups.get("image.insert");i||(i=P()),e.popups.isVisible("image.insert")||(v(),e.popups.refresh("image.insert"),e.popups.setContainer("image.insert",t(e.opts.scrollableContainer)));var n=gt.offset().left+gt.width()/2,o=gt.offset().top+gt.height();e.popups.show("image.insert",n,o,gt.outerHeight())}function ct(){if(gt){e.selection.clear();var t=e.doc.createRange();t.selectNode(gt.get(0));var i=e.selection.get();i.addRange(t)}}function pt(){gt?(t(".fr-popup input:focus").blur(),_(gt)):(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("image.insert"),e.toolbar.showInline())}function ft(){return gt}function mt(t,i,n){if("undefined"==typeof i&&(i=e.opts.imageStyles),"undefined"==typeof n&&(n=e.opts.imageMultipleStyles),!gt)return!1;if(!n){var o=Object.keys(i);o.splice(o.indexOf(t),1),gt.removeClass(o.join(" "))}gt.toggleClass(t),_(gt)}var gt,vt,yt,bt,wt=!1,_t=1,xt=2,Ct=3,kt=4,Et=5,Tt=6,St=7,Dt={};Dt[_t]="Image cannot be loaded from the passed link.",Dt[xt]="No link in upload response.",Dt[Ct]="Error during file upload.",Dt[kt]="Parsing response failed.",Dt[Et]="File is too large.",Dt[Tt]="Image file type is invalid.",Dt[St]="Files can be uploaded only to same domain in IE 8 and IE 9.";var Ot,Mt,At=!1;return{_init:Q,showInsertPopup:n,showLayer:q,refreshUploadButton:V,refreshByURLButton:K,upload:N,insertByURL:w,align:st,refreshAlign:at,refreshAlignOnShow:lt,display:dt,refreshDisplayOnShow:ht,replace:ut,back:pt,get:ft,insert:C,showProgressBar:g,remove:X,hideProgressBar:v,applyStyle:mt,showAltPopup:z,showSizePopup:W,setAlt:H,setSize:Y,exitEdit:it,edit:_}},t.FE.DefineIcon("insertImage",{NAME:"image"}),t.FE.RegisterShortcut(80,"insertImage"),t.FE.RegisterCommand("insertImage",{title:"Insert Image",undo:!1,focus:!0,refershAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("image.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("image.insert")):this.image.showInsertPopup()},plugin:"image"}),t.FE.DefineIcon("imageUpload",{NAME:"upload"}),t.FE.RegisterCommand("imageUpload",{title:"Upload Image",undo:!1,focus:!1,callback:function(){this.image.showLayer("image-upload")},refresh:function(t){this.image.refreshUploadButton(t)}}),t.FE.DefineIcon("imageByURL",{NAME:"link"}),t.FE.RegisterCommand("imageByURL",{title:"By URL",undo:!1,focus:!1,callback:function(){this.image.showLayer("image-by-url")},refresh:function(t){this.image.refreshByURLButton(t)}}),t.FE.RegisterCommand("imageInsertByURL",{title:"Insert Image",undo:!0,refreshAfterCallback:!1,callback:function(){this.image.insertByURL()},refresh:function(t){var e=this.image.get();e?t.text(this.language.translate("Replace")):t.text(this.language.translate("Insert"))}}),t.FE.DefineIcon("imageDisplay",{NAME:"star"}),t.FE.RegisterCommand("imageDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(t,e){this.image.display(e)},refresh:function(t){this.opts.imageTextNear||t.addClass("fr-hidden")},refreshOnShow:function(t,e){this.image.refreshDisplayOnShow(t,e)}}),t.FE.DefineIcon("imageAlign",{NAME:"align-center"}),t.FE.RegisterCommand("imageAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",justify:"None",right:"Align Right"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.imageAlign.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command fr-title" data-cmd="imageAlign" data-param1="'+n+'" title="'+this.language.translate(i[n])+'">'+this.icon.create("align-"+n)+"</a></li>");return e+="</ul>"},callback:function(t,e){this.image.align(e)},refresh:function(t){this.image.refreshAlign(t)},refreshOnShow:function(t,e){this.image.refreshAlignOnShow(t,e)}}),t.FE.DefineIcon("imageReplace",{NAME:"exchange"}),t.FE.RegisterCommand("imageReplace",{title:"Replace",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.image.replace()}}),t.FE.DefineIcon("imageRemove",{NAME:"trash"}),t.FE.RegisterCommand("imageRemove",{title:"Remove",callback:function(){this.image.remove()}}),t.FE.DefineIcon("imageBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("imageBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.image.back()},refresh:function(t){var e=this.image.get();e||this.opts.toolbarInline?(t.removeClass("fr-hidden"),t.next(".fr-separator").removeClass("fr-hidden")):(t.addClass("fr-hidden"),t.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.RegisterCommand("imageDismissError",{title:"OK",undo:!1,callback:function(){this.image.hideProgressBar(!0)}}),t.FE.DefineIcon("imageStyle",{NAME:"magic"}),t.FE.RegisterCommand("imageStyle",{title:"Style",type:"dropdown",html:function(){var t='<ul class="fr-dropdown-list">',e=this.opts.imageStyles;for(var i in e)e.hasOwnProperty(i)&&(t+='<li><a class="fr-command" data-cmd="imageStyle" data-param1="'+i+'">'+this.language.translate(e[i])+"</a></li>");return t+="</ul>"},callback:function(t,e){this.image.applyStyle(e)},refreshOnShow:function(e,i){var n=this.image.get();n&&i.find(".fr-command").each(function(){var e=t(this).data("param1");t(this).toggleClass("fr-active",n.hasClass(e))})}}),t.FE.DefineIcon("imageAlt",{NAME:"info"}),t.FE.RegisterCommand("imageAlt",{undo:!1,focus:!1,title:"Alternate Text",callback:function(){this.image.showAltPopup()}}),t.FE.RegisterCommand("imageSetAlt",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setAlt()}}),t.FE.DefineIcon("imageSize",{NAME:"arrows-alt"}),t.FE.RegisterCommand("imageSize",{undo:!1,focus:!1,
title:"Change Size",callback:function(){this.image.showSizePopup()}}),t.FE.RegisterCommand("imageSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.image.setSize()}})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.POPUP_TEMPLATES,{"file.insert":"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]"}),t.extend(t.FE.DEFAULTS,{fileUploadURL:"http://i.froala.com/upload",fileUploadParam:"file",fileUploadParams:{},fileUploadToS3:!1,fileUploadMethod:"POST",fileMaxSize:10485760,fileAllowedTypes:["*"],fileInsertButtons:["fileBack","|"],fileUseSelectedText:!1}),t.FE.PLUGINS.file=function(e){function i(){var t=e.$tb.find('.fr-command[data-cmd="insertFile"]'),i=e.popups.get("file.insert");if(i||(i=y()),o(),!i.hasClass("fr-active")){e.popups.refresh("file.insert"),e.popups.setContainer("file.insert",e.$tb);var n=t.offset().left+t.outerWidth()/2,r=t.offset().top+(e.opts.toolbarBottom?0:t.outerHeight());e.popups.show("file.insert",n,r,t.outerHeight())}}function n(){var t=e.popups.get("file.insert");t&&(t.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),t.find(".fr-file-progress-bar-layer").addClass("fr-active"),t.find(".fr-buttons").hide(),r("Uploading",0))}function o(t){var i=e.popups.get("file.insert");i&&(i.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),i.find(".fr-file-progress-bar-layer").removeClass("fr-active"),i.find(".fr-buttons").show(),t&&e.popups.show("file.insert",null,null))}function r(t,i){var n=e.popups.get("file.insert");if(n){var o=n.find(".fr-file-progress-bar-layer");o.find("h3").text(t+(i?" "+i+"%":"")),o.removeClass("fr-error"),i?(o.find("div").removeClass("fr-indeterminate"),o.find("div > span").css("width",i+"%")):o.find("div").addClass("fr-indeterminate")}}function s(t){var i=e.popups.get("file.insert"),n=i.find(".fr-file-progress-bar-layer");n.addClass("fr-error"),n.find("h3").text(t)}function a(t,i,n){e.edit.on(),e.events.focus(!0),e.selection.restore(),e.html.insert('<a href="'+t+'" id="fr-inserted-file" class="fr-file">'+(i||e.selection.text())+"</a>");var o=e.$el.find("#fr-inserted-file");o.removeAttr("id"),e.popups.hide("file.insert"),e.undo.saveStep(),e.events.trigger("file.inserted",[o,n])}function l(i){try{if(e.events.trigger("file.uploaded",[i],!0)===!1)return e.edit.on(),!1;var n=t.parseJSON(i);return n.link?n:(p(E,i),!1)}catch(o){return p(S,i),!1}}function d(i){try{var n=t(i).find("Location").text(),o=t(i).find("Key").text();return e.events.trigger("file.uploadedToS3",[n,o,i],!0)===!1?(e.edit.on(),!1):n}catch(r){return p(S,i),!1}}function h(t){var i=this.status,n=this.response,o=this.responseXML,r=this.responseText;try{if(e.opts.fileUploadToS3)if(201==i){var s=d(o);s&&a(s,t,n||o)}else p(S,n||o);else if(i>=200&&300>i){var h=l(r);h&&a(h.link,t,n||r)}else p(T,n||r)}catch(u){p(S,n||r)}}function u(){p(S,this.response||this.responseText||this.responseXML)}function c(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;r("Uploading",e)}}function p(t,i){e.edit.on(),s(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("file.error",[{code:t,message:A[t]},i])}function f(){e.edit.on(),o(!0)}function m(t){if(e.events.trigger("file.beforeUpload",[t])===!1)return!1;if("undefined"!=typeof t&&t.length>0){var i=t[0];if(i.size>e.opts.fileMaxSize)return p(D),!1;if(e.opts.fileAllowedTypes.indexOf("*")<0&&e.opts.fileAllowedTypes.indexOf(i.type.replace(/file\//g,""))<0)return p(O),!1;var o;if(e.drag_support.formdata&&(o=e.drag_support.formdata?new FormData:null),o){var r;if(e.opts.fileUploadToS3!==!1){o.append("key",e.opts.fileUploadToS3.keyStart+(new Date).getTime()+"-"+(i.name||"untitled")),o.append("success_action_status","201"),o.append("X-Requested-With","xhr"),o.append("Content-Type",i.type);for(r in e.opts.fileUploadToS3.params)e.opts.fileUploadToS3.params.hasOwnProperty(r)&&o.append(r,e.opts.fileUploadToS3.params[r])}for(r in e.opts.fileUploadParams)e.opts.fileUploadParams.hasOwnProperty(r)&&o.append(r,e.opts.fileUploadParams[r]);o.append(e.opts.fileUploadParam,i);var s=e.opts.fileUploadURL;e.opts.fileUploadToS3&&(s="https://"+e.opts.fileUploadToS3.region+".amazonaws.com/"+e.opts.fileUploadToS3.bucket);var a=e.core.getXHR(s,e.opts.fileUploadMethod);a.onload=function(){h.call(a,[e.opts.fileUseSelectedText?null:i.name])},a.onerror=u,a.upload.onprogress=c,a.onabort=f,n(),e.edit.off();var l=e.popups.get("file.insert");l&&l.off("abortUpload").on("abortUpload",function(){4!=a.readyState&&a.abort()}),a.send(o)}}}function g(i){e.events.$on(i,"dragover dragenter",".fr-file-upload-layer",function(){return t(this).addClass("fr-drop"),!1},!0),e.events.$on(i,"dragleave dragend",".fr-file-upload-layer",function(){return t(this).removeClass("fr-drop"),!1},!0),e.events.$on(i,"drop",".fr-file-upload-layer",function(n){n.preventDefault(),n.stopPropagation(),t(this).removeClass("fr-drop");var o=n.originalEvent.dataTransfer;if(o&&o.files){var r=i.data("instance")||e;r.file.upload(o.files)}},!0),e.events.$on(i,"change",'.fr-file-upload-layer input[type="file"]',function(){if(this.files){var n=i.data("instance")||e;n.file.upload(this.files)}t(this).val("")},!0)}function v(){o()}function y(t){if(t)return e.popups.onHide("file.insert",v),!0;var i="";i='<div class="fr-buttons">'+e.button.buildList(e.opts.fileInsertButtons)+"</div>";var n="";n='<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'+e.id+'"><strong>'+e.language.translate("Drop file")+"</strong><br>("+e.language.translate("or click")+')<div class="fr-form"><input type="file" name="'+e.opts.fileUploadParam+'" accept="/*" tabIndex="-1"></div></div>';var o='<div class="fr-file-progress-bar-layer fr-layer"><h3 class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command" data-cmd="fileDismissError" tabIndex="2">OK</button></div></div>',r={buttons:i,upload_layer:n,progress_bar:o},s=e.popups.create("file.insert",r);return g(s),s}function b(i){return t(i).hasClass("fr-file")?e.events.trigger("file.unlink",[i]):void 0}function w(i){var o=i.originalEvent.dataTransfer;if(o&&o.files&&o.files.length){var r=o.files[0];if(r&&"undefined"!=typeof r.type&&r.type.indexOf("image")<0&&(e.opts.fileAllowedTypes.indexOf(r.type)>=0||e.opts.fileAllowedTypes.indexOf("*")>=0)){e.markers.remove(),e.markers.insertAtPoint(i.originalEvent),e.$el.find(".fr-marker").replaceWith(t.FE.MARKERS),e.popups.hideAll();var s=e.popups.get("file.insert");return s||(s=y()),e.popups.setContainer("file.insert",t(e.opts.scrollableContainer)),e.popups.show("file.insert",i.originalEvent.pageX,i.originalEvent.pageY),n(),m(o.files),i.preventDefault(),i.stopPropagation(),!1}}}function _(){e.events.on("drop",w),e.events.$on(e.$win,"keydown",function(i){var n=i.which,o=e.popups.get("file.insert");o&&n==t.FE.KEYCODE.ESC&&o.trigger("abortUpload")})}function x(){e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("file.insert"),e.toolbar.showInline()}function C(){_(),e.events.on("link.beforeRemove",b),y(!0)}var k=1,E=2,T=3,S=4,D=5,O=6,M=7,A={};return A[k]="File cannot be loaded from the passed link.",A[E]="No link in upload response.",A[T]="Error during file upload.",A[S]="Parsing response failed.",A[D]="File is too large.",A[O]="File file type is invalid.",A[M]="Files can be uploaded only to same domain in IE 8 and IE 9.",{_init:C,showInsertPopup:i,upload:m,insert:a,back:x,hideProgressBar:o}},t.FE.DefineIcon("insertFile",{NAME:"file-o"}),t.FE.RegisterCommand("insertFile",{title:"Upload File",undo:!1,focus:!0,refershAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("file.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("file.insert")):this.file.showInsertPopup()},plugin:"file"}),t.FE.DefineIcon("fileBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("fileBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.file.back()},refresh:function(t){this.opts.toolbarInline?(t.removeClass("fr-hidden"),t.next(".fr-separator").removeClass("fr-hidden")):(t.addClass("fr-hidden"),t.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.RegisterCommand("fileDismissError",{title:"OK",callback:function(){this.file.hideProgressBar(!0)}})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.FE.PLUGINS.lists=function(e){function i(t){return'<span class="fr-open-'+t.toLowerCase()+'"></span>'}function n(t){return'<span class="fr-close-'+t.toLowerCase()+'"></span>'}function o(e,i){for(var n=[],o=0;o<e.length;o++){var r=e[o].parentNode;"LI"==e[o].tagName&&r.tagName!=i&&n.indexOf(r)<0&&n.push(r)}for(o=n.length-1;o>=0;o--){var s=t(n[o]);s.replaceWith("<"+i.toLowerCase()+">"+s.html()+"</"+i.toLowerCase()+">")}}function r(i,n){o(i,n);for(var r=e.html.defaultTag(),s=0;s<i.length;s++)"LI"!=i[s].tagName&&(r&&i[s].tagName.toLowerCase()==r?t(i[s]).replaceWith("<"+n+"><li"+e.node.attributes(i[s])+">"+t(i[s]).html()+"</li></"+n+">"):t(i[s]).wrap("<"+n+"><li></li></"+n+">"));e.clean.lists()}function s(o){var r,s;for(r=o.length-1;r>=0;r--)for(s=r-1;s>=0;s--)if(t(o[s]).find(o[r]).length||o[s]==o[r]){o.splice(r,1);break}var a=[];for(r=0;r<o.length;r++){var l=t(o[r]),d=o[r].parentNode;l.before(n(d.tagName)),"LI"==d.parentNode.tagName?(l.before(n("LI")),l.after(i("LI"))):(e.node.isEmpty(l.get(0),!0)||0!==l.find(e.html.blockTagsQuery()).length||l.append("<br>"),l.append(i("LI")),l.prepend(n("LI"))),l.after(i(d.tagName)),"LI"==d.parentNode.tagName&&(d=d.parentNode.parentNode),a.indexOf(d)<0&&a.push(d)}for(r=0;r<a.length;r++){var h=t(a[r]),u=h.html();u=u.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),u=u.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),h.replaceWith(e.node.openTagString(h.get(0))+u+e.node.closeTagString(h.get(0)))}e.$el.find("li:empty").remove(),e.$el.find("ul:empty, ol:empty").remove(),e.clean.lists(),e.html.wrap()}function a(t,e){for(var i=!0,n=0;n<t.length;n++){if("LI"!=t[n].tagName)return!1;t[n].parentNode.tagName!=e&&(i=!1)}return i}function l(t){e.selection.save(),e.html.wrap(!0,!0,!0,!0),e.selection.restore();for(var i=e.selection.blocks(),n=0;n<i.length;n++)"LI"!=i[n].tagName&&"LI"==i[n].parentNode.tagName&&(i[n]=i[n].parentNode);e.selection.save(),a(i,t)?s(i):r(i,t),e.html.unwrap(),e.selection.restore()}function d(i,n){var o=t(e.selection.element());if(o.get(0)!=e.$el.get(0)){var r=o.get(0);"LI"!=r.tagName&&(r=o.parents("li").get(0)),r&&r.parentNode.tagName==n&&e.$el.get(0).contains(r.parentNode)&&i.addClass("fr-active")}}function h(i){e.selection.save();for(var n=0;n<i.length;n++){var o=i[n].previousSibling;if(o){var r=t(i[n]).find("> ul, > ol").get(0);if(r){for(var s=t("<li>").prependTo(t(r)),a=e.node.contents(i[n])[0];a&&!e.node.isList(a);){var l=a.nextSibling;s.append(a),a=l}t(o).append(t(r)),t(i[n]).remove()}else{var d=t(o).find("> ul, > ol").get(0);if(d)t(d).append(t(i[n]));else{var h=t("<"+i[n].parentNode.tagName+">");t(o).append(h),h.append(t(i[n]))}}}}e.clean.lists(),e.selection.restore()}function u(t){e.selection.save(),s(t),e.selection.restore()}function c(t){if("indent"==t||"outdent"==t){for(var i=!1,n=e.selection.blocks(),o=[],r=0;r<n.length;r++)"LI"==n[r].tagName?(i=!0,o.push(n[r])):"LI"==n[r].parentNode.tagName&&(i=!0,o.push(n[r].parentNode));i&&("indent"==t?h(o):u(o))}}function p(){e.events.on("commands.after",c),e.events.on("keydown",function(i){if(i.which==t.FE.KEYCODE.TAB){for(var n,o=e.selection.blocks(),r=[],s=0;s<o.length;s++)"LI"==o[s].tagName?(n=!0,r.push(o[s])):"LI"==o[s].parentNode.tagName&&(n=!0,r.push(o[s].parentNode));if(n)return i.preventDefault(),i.stopPropagation(),i.shiftKey?u(r):h(r),!1}},!0)}return{_init:p,format:l,refresh:d}},t.FE.RegisterCommand("formatUL",{title:"Unordered List",refresh:function(t){this.lists.refresh(t,"UL")},callback:function(){this.lists.format("UL")},plugin:"lists"}),t.FE.RegisterCommand("formatOL",{title:"Ordered List",refresh:function(t){this.lists.refresh(t,"OL")},callback:function(){this.lists.format("OL")},plugin:"lists"}),t.FE.DefineIcon("formatUL",{NAME:"list-ul"}),t.FE.DefineIcon("formatOL",{NAME:"list-ol"})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_]"}),t.extend(t.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),t.FE.PLUGINS.table=function(e){function i(){var t=e.$tb.find('.fr-command[data-cmd="insertTable"]'),i=e.popups.get("table.insert");if(i||(i=s()),!i.hasClass("fr-active")){e.popups.refresh("table.insert"),e.popups.setContainer("table.insert",e.$tb);var n=t.offset().left+t.outerWidth()/2,o=t.offset().top+(e.opts.toolbarBottom?10:t.outerHeight()-10);e.popups.show("table.insert",n,o,t.outerHeight())}}function n(){var i=S();if(i){var n=e.popups.get("table.edit");n||(n=l()),e.popups.setContainer("table.edit",t(e.opts.scrollableContainer));var o=F(i),r=(o.left+o.right)/2,s=o.bottom;e.popups.show("table.edit",r,s,o.bottom-o.top),st().length>1&&(e.toolbar.disable(),e.$el.removeClass("fr-no-selection"),e.edit.on(),e.selection.setAtEnd(e.$el.find(".fr-selected-cell:last").get(0)),e.selection.restore(),e.button.bulkRefresh())}}function o(){var i=S();if(i){var n=e.popups.get("table.colors");n||(n=d()),e.popups.setContainer("table.colors",t(e.opts.scrollableContainer));var o=F(i),r=(o.left+o.right)/2,s=o.bottom;u(),e.popups.show("table.colors",r,s,o.bottom-o.top)}}function r(){0===st().length&&e.toolbar.enable()}function s(i){if(i)return e.popups.onHide("table.insert",function(){e.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),!0;var n="";e.opts.tableInsertButtons.length>0&&(n='<div class="fr-buttons">'+e.button.buildList(e.opts.tableInsertButtons)+"</div>");var o={buttons:n,rows_columns:a()},r=e.popups.create("table.insert",o);return e.events.$on(r,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(i){var n=t(i.currentTarget),o=n.data("row"),r=n.data("col"),s=n.parent();s.siblings(".fr-table-size-info").html(o+" &times; "+r),s.find("> span").removeClass("hover");for(var a=1;a<=e.opts.tableInsertMaxSize;a++)for(var l=0;l<=e.opts.tableInsertMaxSize;l++){var d=s.find('> span[data-row="'+a+'"][data-col="'+l+'"]');o>=a&&r>=l?d.addClass("hover"):o+1>=a||2>=a&&!e.helpers.isMobile()?d.css("display","inline-block"):a>2&&!e.helpers.isMobile()&&d.css("display","none")}},!0),r}function a(){for(var t='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',i=1;i<=e.opts.tableInsertMaxSize;i++){for(var n=1;n<=e.opts.tableInsertMaxSize;n++){var o="inline-block";i>2&&!e.helpers.isMobile()&&(o="none");var r="fr-table-cell ";1==i&&1==n&&(r+=" hover"),t+='<span class="fr-command '+r+'" data-cmd="tableInsert" data-row="'+i+'" data-col="'+n+'" data-param1="'+i+'" data-param2="'+n+'" style="display: '+o+';"><span></span></span>'}t+='<div class="new-line"></div>'}return t+="</div></div>"}function l(t){if(t)return e.popups.onHide("table.edit",r),!0;var i="";e.opts.tableEditButtons.length>0&&(i='<div class="fr-buttons">'+e.button.buildList(e.opts.tableEditButtons)+"</div>");var o={buttons:i},s=e.popups.create("table.edit",o);return e.events.$on(e.$wp,"scroll.table-edit",function(){e.popups.isVisible("table.edit")&&n()}),s}function d(){var t="";e.opts.tableColorsButtons.length>0&&(t='<div class="fr-buttons fr-table-colors-buttons">'+e.button.buildList(e.opts.tableColorsButtons)+"</div>");var i={buttons:t,colors:h()},n=e.popups.create("table.colors",i);return e.events.$on(e.$wp,"scroll.table-colors",function(){e.popups.isVisible("table.colors")&&o()}),n}function h(){for(var t='<div class="fr-table-colors">',i=0;i<e.opts.tableColors.length;i++)0!==i&&i%e.opts.tableColorsStep===0&&(t+="<br>"),t+="REMOVE"!=e.opts.tableColors[i]?'<span class="fr-command" style="background: '+e.opts.tableColors[i]+';" data-cmd="tableCellBackgroundColor" data-param1="'+e.opts.tableColors[i]+'"></span>':'<span class="fr-command" data-cmd="tableCellBackgroundColor" data-param1="REMOVE" title="'+e.language.translate("Clear Formatting")+'"><i class="fa fa-eraser"></i></span>';return t+="</div>"}function u(){var t=e.popups.get("table.colors"),i=e.$el.find(".fr-selected-cell:first");t.find(".fr-selected-color").removeClass("fr-selected-color"),t.find('span[data-param1="'+e.helpers.RGBToHex(i.css("background-color"))+'"]').addClass("fr-selected-color")}function c(i,n){var o,r,s='<table style="width: 100%;"><tbody>',a=100/n;for(o=0;i>o;o++){for(s+="<tr>",r=0;n>r;r++)s+='<td style="width: '+a.toFixed(4)+'%;">',0===o&&0===r&&(s+=t.FE.MARKERS),s+="<br></td>";s+="</tr>"}s+="</tbody></table>",e.html.insert(s),e.selection.restore()}function p(){if(st().length>0){var t=at();e.selection.setBefore(t.get(0))||e.selection.setAfter(t.get(0)),e.selection.restore(),e.popups.hide("table.edit"),t.remove()}}function f(){var e=at();if(e.length>0&&0===e.find("th").length){var i,o="<thead><tr>",r=0;for(e.find("tr:first > td").each(function(){var e=t(this);r+=parseInt(e.attr("colspan"),10)||1}),i=0;r>i;i++)o+="<th><br></th>";o+="</tr></thead>",e.prepend(o),n()}}function m(){var t=at(),i=t.find("thead");if(i.length>0)if(0===t.find("tbody tr").length)p();else if(i.remove(),st().length>0)n();else{e.popups.hide("table.edit");var o=t.find("tbody tr:first td:first").get(0);o&&(e.selection.setAtEnd(o),e.selection.restore())}}function g(i){var o=at();if(o.length>0){if(e.$el.find("th.fr-selected-cell").length>0&&"above"==i)return;var r,s,a=S(),l=N(a);s="above"==i?l.min_i:l.max_i;var d="<tr>";for(r=0;r<a[s].length;r++)if("below"==i&&s<a.length-1&&a[s][r]==a[s+1][r]||"above"==i&&s>0&&a[s][r]==a[s-1][r]){if(0===r||r>0&&a[s][r]!=a[s][r-1]){var h=t(a[s][r]);h.attr("rowspan",parseInt(h.attr("rowspan"),10)+1)}}else d+="<td><br></td>";d+="</tr>";var u=t(o.find("tr").not(o.find("table tr")).get(s));"below"==i?u.after(d):"above"==i&&(u.before(d),e.popups.isVisible("table.edit")&&n())}}function v(){var i=at();if(i.length>0){var n,o,r,s=S(),a=N(s);if(0===a.min_i&&a.max_i==s.length-1)p();else{for(n=a.max_i;n>=a.min_i;n--){for(r=t(i.find("tr").not(i.find("table tr")).get(n)),o=0;o<s[n].length;o++)if(0===o||s[n][o]!=s[n][o-1]){var l=t(s[n][o]);if(parseInt(l.attr("rowspan"),10)>1){var d=parseInt(l.attr("rowspan"),10)-1;1==d?l.removeAttr("rowspan"):l.attr("rowspan",d)}if(n<s.length-1&&s[n][o]==s[n+1][o]&&(0===n||s[n][o]!=s[n-1][o])){for(var h=s[n][o],u=o;u>0&&s[n][u]==s[n][u-1];)u--;0===u?t(i.find("tr").not(i.find("table tr")).get(n+1)).prepend(h):t(s[n+1][u-1]).after(h)}}var c=r.parent();r.remove(),0===c.find("tr").length&&c.remove(),s=S(i)}a.min_i>0?e.selection.setAtEnd(s[a.min_i-1][0]):e.selection.setAtEnd(s[0][0]),e.selection.restore(),e.popups.hide("table.edit")}}}function y(i){var o=at();if(o.length>0){var r,s=S(),a=N(s);r="before"==i?a.min_j:a.max_j;var l,d=100/s[0].length,h=100/(s[0].length+1);o.find("th, td").each(function(){l=t(this),l.data("old-width",l.outerWidth()/o.outerWidth()*100)}),o.find("tr").not(o.find("table tr")).each(function(e){for(var n,o=t(this),a=0,l=0;r>a-1;){if(n=o.find("> th, > td").get(l),!n){n=null;break}n==s[e][a]?(a+=parseInt(t(n).attr("colspan"),10)||1,l++):(a+=parseInt(t(s[e][a]).attr("colspan"),10)||1,"after"==i&&(n=0===l?-1:o.find("> th, > td").get(l-1)))}var u=t(n);if("after"==i&&a-1>r||"before"==i&&r>0&&s[e][r]==s[e][r-1]){if(0===e||e>0&&s[e][r]!=s[e-1][r]){var c=parseInt(u.attr("colspan"),10)+1;u.attr("colspan",c),u.css("width",(u.data("old-width")*h/d+h).toFixed(4)+"%"),u.removeData("old-width")}}else{var p;p=o.find("th").length>0?'<th style="width: '+h.toFixed(4)+'%;"><br></th>':'<td style="width: '+h.toFixed(4)+'%;"><br></td>',-1==n?o.prepend(p):null==n?o.append(p):"before"==i?u.before(p):"after"==i&&u.after(p)}}),o.find("th, td").each(function(){l=t(this),l.data("old-width")&&(l.css("width",(l.data("old-width")*h/d).toFixed(4)+"%"),l.removeData("old-width"))}),e.popups.isVisible("table.edit")&&n()}}function b(){var i=at();if(i.length>0){var n,o,r,s=S(),a=N(s);if(0===a.min_j&&a.max_j==s[0].length-1)p();else{var l=100/s[0].length,d=100/(s[0].length-a.max_j+a.min_j-1);for(i.find("th, td").each(function(){r=t(this),r.hasClass("fr-selected-cell")||r.data("old-width",r.outerWidth()/i.outerWidth()*100)}),o=a.max_j;o>=a.min_j;o--)for(n=0;n<s.length;n++)if(0===n||s[n][o]!=s[n-1][o])if(r=t(s[n][o]),parseInt(r.attr("colspan"),10)>1){var h=parseInt(r.attr("colspan"),10)-1;1==h?r.removeAttr("colspan"):r.attr("colspan",h),r.css("width",((r.data("old-width")-Z(o,s))*d/l).toFixed(4)+"%"),r.removeData("old-width")}else{var u=t(r.parent().get(0));r.remove(),0===u.find("> th, > td").length&&(0===u.prev().length||0===u.next().length||u.prev().find("> th[rowspan], > td[rowspan]").length<u.prev().find("> th, > td").length)&&u.remove()}a.min_j>0?e.selection.setAtEnd(s[a.min_i][a.min_j-1]):e.selection.setAtEnd(s[a.min_i][0]),e.selection.restore(),e.popups.hide("table.edit"),i.find("th, td").each(function(){r=t(this),r.data("old-width")&&(r.css("width",(r.data("old-width")*d/l).toFixed(4)+"%"),r.removeData("old-width"))})}}}function w(){if(st().length>1&&(0===e.$el.find("th.fr-selected-cell").length||0===e.$el.find("td.fr-selected-cell").length)){var i,o,r,s=S(),a=N(s),l=e.$el.find(".fr-selected-cell"),d=t(l[0]),h=d.parent(),u=h.find(".fr-selected-cell"),c=d.closest("table"),p=d.html(),f=0;for(i=0;i<u.length;i++)f+=t(u[i]).outerWidth();for(d.css("width",(f/h.outerWidth()*100).toFixed(4)+"%"),a.min_j<a.max_j&&d.attr("colspan",a.max_j-a.min_j+1),a.min_i<a.max_i&&d.attr("rowspan",a.max_i-a.min_i+1),i=1;i<l.length;i++)o=t(l[i]),"<br>"!=o.html()&&""!==o.html()&&(p+="<br>"+o.html()),o.remove();d.html(p),e.selection.setAtEnd(d.get(0)),e.selection.restore(),e.toolbar.enable();var m=c.find("tr:empty");for(i=m.length-1;i>=0;i--)r=t(m[i]),(0===r.prev().length||0===r.next().length||r.prev().find("> th[rowspan], > td[rowspan]").length<r.prev().find("> th, > td").length)&&r.remove();n()}}function _(){if(1==st().length){var i=e.$el.find(".fr-selected-cell"),n=i.parent(),o=i.closest("table"),r=parseInt(i.attr("rowspan"),10),s=S(),a=D(i.get(0),s),l=i.clone().html("<br>");if(r>1){var d=Math.ceil(r/2);d>1?i.attr("rowspan",d):i.removeAttr("rowspan"),r-d>1?l.attr("rowspan",r-d):l.removeAttr("rowspan");for(var h=a.row+d,u=0===a.col?a.col:a.col-1;u>=0&&(s[h][u]==s[h][u-1]||h>0&&s[h][u]==s[h-1][u]);)u--;-1==u?t(o.find("tr").not(o.find("table tr")).get(h)).prepend(l):t(s[h][u]).after(l)}else{var c,p=t("<tr>").append(l);for(c=0;c<s[0].length;c++)if(0===c||s[a.row][c]!=s[a.row][c-1]){var f=t(s[a.row][c]);f.is(i)||f.attr("rowspan",(parseInt(f.attr("rowspan"),10)||1)+1)}n.after(p)}M(),e.popups.hide("table.edit")}}function x(){if(1==st().length){var i=e.$el.find(".fr-selected-cell"),n=parseInt(i.attr("colspan"),10)||1,o=i.parent().outerWidth(),r=i.outerWidth(),s=i.clone().html("<br>"),a=S(),l=D(i.get(0),a);if(n>1){var d=Math.ceil(n/2);r=J(l.col,l.col+d-1,a)/o*100;var h=J(l.col+d,l.col+n-1,a)/o*100;d>1?i.attr("colspan",d):i.removeAttr("colspan"),n-d>1?s.attr("colspan",n-d):s.removeAttr("colspan"),i.css("width",r.toFixed(4)+"%"),s.css("width",h.toFixed(4)+"%")}else{var u;for(u=0;u<a.length;u++)if(0===u||a[u][l.col]!=a[u-1][l.col]){var c=t(a[u][l.col]);if(!c.is(i)){var p=(parseInt(c.attr("colspan"),10)||1)+1;c.attr("colspan",p)}}r=r/o*100/2,i.css("width",r.toFixed(4)+"%"),s.css("width",r.toFixed(4)+"%")}i.after(s),M(),e.popups.hide("table.edit")}}function C(t){"REMOVE"!=t?e.$el.find(".fr-selected-cell").css("background-color",e.helpers.HEXtoRGB(t)):e.$el.find(".fr-selected-cell").css("background-color","")}function k(t){e.$el.find(".fr-selected-cell").css("vertical-align",t)}function E(t){e.$el.find(".fr-selected-cell").css("text-align",t)}function T(t,e,i,n){if(e.length>0){if(!i){var o=Object.keys(n);o.splice(o.indexOf(t),1),e.removeClass(o.join(" "))}e.toggleClass(t)}}function S(e){e=e||null;var i=[];if(null==e&&st().length>0&&(e=at()),e){var n=t(e);return n.find("tr").not(n.find("table tr")).each(function(e,n){var o=t(n),r=0;o.find("> th, > td").each(function(n,o){for(var s=t(o),a=parseInt(s.attr("colspan"),10)||1,l=parseInt(s.attr("rowspan"),10)||1,d=e;e+l>d;d++)for(var h=r;r+a>h;h++)i[d]||(i[d]=[]),i[d][h]?r++:i[d][h]=o;r+=a})}),i}}function D(t,e){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)if(e[i][n]==t)return{row:i,col:n}}function O(t,e,i){for(var n=t+1,o=e+1;n<i.length;){if(i[n][e]!=i[t][e]){n--;break}n++}for(n==i.length&&n--;o<i[t].length;){if(i[t][o]!=i[t][e]){o--;break}o++}return o==i[t].length&&o--,{row:n,col:o}}function M(){var i=e.$el.find(".fr-selected-cell");i.length>0&&i.each(function(){var e=t(this);e.removeClass("fr-selected-cell"),""===e.attr("class")&&e.removeAttr("class")})}function A(){setTimeout(function(){e.selection.clear(),e.$el.addClass("fr-no-selection"),e.edit.off(),e.$el.blur()},0)}function N(t){var i,n=t.length,o=0,r=t[0].length,s=0,a=e.$el.find(".fr-selected-cell");for(i=0;i<a.length;i++){var l=D(a[i],t),d=O(l.row,l.col,t);n=Math.min(l.row,n),o=Math.max(d.row,o),r=Math.min(l.col,r),s=Math.max(d.col,s)}return{min_i:n,max_i:o,min_j:r,max_j:s}}function I(e,i,n,o,r){var s,a,l,d,h=e,u=i,c=n,p=o;for(s=h;u>=s;s++)((parseInt(t(r[s][c]).attr("rowspan"),10)||1)>1||(parseInt(t(r[s][c]).attr("colspan"),10)||1)>1)&&(l=D(r[s][c],r),d=O(l.row,l.col,r),h=Math.min(l.row,h),u=Math.max(d.row,u),c=Math.min(l.col,c),p=Math.max(d.col,p)),((parseInt(t(r[s][p]).attr("rowspan"),10)||1)>1||(parseInt(t(r[s][p]).attr("colspan"),10)||1)>1)&&(l=D(r[s][p],r),d=O(l.row,l.col,r),h=Math.min(l.row,h),u=Math.max(d.row,u),c=Math.min(l.col,c),p=Math.max(d.col,p));for(a=c;p>=a;a++)((parseInt(t(r[h][a]).attr("rowspan"),10)||1)>1||(parseInt(t(r[h][a]).attr("colspan"),10)||1)>1)&&(l=D(r[h][a],r),d=O(l.row,l.col,r),h=Math.min(l.row,h),u=Math.max(d.row,u),c=Math.min(l.col,c),p=Math.max(d.col,p)),((parseInt(t(r[u][a]).attr("rowspan"),10)||1)>1||(parseInt(t(r[u][a]).attr("colspan"),10)||1)>1)&&(l=D(r[u][a],r),d=O(l.row,l.col,r),h=Math.min(l.row,h),u=Math.max(d.row,u),c=Math.min(l.col,c),p=Math.max(d.col,p));return h==e&&u==i&&c==n&&p==o?{min_i:e,max_i:i,min_j:n,max_j:o}:I(h,u,c,p,r)}function F(e){var i=N(e),n=t(e[i.min_i][i.min_j]),o=t(e[i.min_i][i.max_j]),r=t(e[i.max_i][i.min_j]),s=n.offset().left,a=o.offset().left+o.outerWidth(),l=n.offset().top,d=r.offset().top+r.outerHeight();return{left:s,right:a,top:l,bottom:d}}function R(e,i){if(t(e).is(i))M(),t(e).addClass("fr-selected-cell");else{A();var n=S(),o=D(e,n),r=D(i,n),s=I(Math.min(o.row,r.row),Math.max(o.row,r.row),Math.min(o.col,r.col),Math.max(o.col,r.col),n);M();for(var a=s.min_i;a<=s.max_i;a++)for(var l=s.min_j;l<=s.max_j;l++)t(n[a][l]).addClass("fr-selected-cell")}}function L(i){var n=null,o=t(i.target);return"TD"==i.target.tagName||"TH"==i.target.tagName?n=i.target:o.closest("td").length>0?n=o.closest("td").get(0):o.closest("th").length>0&&(n=o.closest("th").get(0)),0===e.$el.find(n).length?null:n}function P(){M(),e.popups.hide("table.edit")}function $(i){var n=L(i);if(st().length>0&&!n&&P(),1==i.which){if(ut=!0,n){st().length>0&&!i.shiftKey&&P(),i.stopPropagation(),e.events.trigger("image.hideResizer"),e.events.trigger("video.hideResizer"),ht=!0;var o=n.tagName.toLowerCase();i.shiftKey&&e.$el.find(o+".fr-selected-cell").length>0?t(e.$el.find(o+".fr-selected-cell").closest("table")).is(t(n).closest("table"))?R(ct,n):A():((e.keys.ctrlKey(i)||i.shiftKey)&&A(),ct=n,R(ct,ct))}}else 3==i.which&&n&&P()}function z(i){if(1==i.which){if(ut=!1,ht){ht=!1;var o=L(i);o||1!=st().length?st().length>0&&(e.selection.isCollapsed()?n():M()):M()}else e.$tb.is(i.target)||e.$tb.is(t(i.target).closest(e.$tb.get(0)))||(e.$el.get(0).querySelectorAll(".fr-selected-cell").length>0&&e.toolbar.enable(),M());if(ft){ft=!1,lt.removeClass("fr-moving"),e.$el.removeClass("fr-no-selection"),e.edit.on();var r=parseFloat(lt.css("left"))+e.opts.tableResizerOffset;e.opts.iframe&&(r-=e.$iframe.offset().left),lt.data("release-position",r),lt.removeData("max-left"),lt.removeData("max-right"),Q(i),W()}}}function B(i){if(ht===!0){var n=t(i.currentTarget);if(n.closest("table").is(at())){if("TD"==i.currentTarget.tagName&&0===e.$el.find("th.fr-selected-cell").length)return void R(ct,i.currentTarget);if("TH"==i.currentTarget.tagName&&0===e.$el.find("td.fr-selected-cell").length)return void R(ct,i.currentTarget)}A()}}function H(t){(37==t.which||38==t.which||39==t.which||40==t.which)&&st().length>0&&P()}function j(){e.shared.$table_resizer||(e.shared.$table_resizer=t('<div class="fr-table-resizer"><div></div></div>')),lt=e.shared.$table_resizer,e.events.$on(lt,"mousedown",function(t){return e.core.sameInstance(lt)?(st().length>0&&P(),1==t.which?(ft=!0,lt.addClass("fr-moving"),A(),lt.find("div").css("opacity",1),!1):void 0):!0}),e.events.$on(lt,"mousemove",function(t){return e.core.sameInstance(lt)?void(ft&&(e.opts.iframe&&(t.pageX-=e.$iframe.offset().left),tt(t))):!0}),e.events.on("shared.destroy",function(){lt.html("").removeData().remove()},!0),e.events.on("destroy",function(){e.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),lt.hide().appendTo(t("body"))},!0)}function W(){lt&&(lt.find("div").css("opacity",0),lt.css("top",0),lt.css("left",0),lt.css("height",0),lt.find("div").css("height",0),lt.hide())}function U(){dt&&dt.removeClass("fr-visible").css("left","-9999px")}function Y(i,n){var o=t(n),r=o.closest("table");if(n&&"TD"!=n.tagName&&"TH"!=n.tagName&&(o.closest("td").length>0?n=o.closest("td"):o.closest("th").length>0&&(n=o.closest("th"))),!n||"TD"!=n.tagName&&"TH"!=n.tagName)lt&&o.get(0)!=lt.get(0)&&o.parent().get(0)!=lt.get(0)&&e.core.sameInstance(lt)&&W();else{if(o=t(n),0===e.$el.find(o).length)return!1;var s=o.offset().left-1,a=s+o.outerWidth();if(Math.abs(i.pageX-s)<=e.opts.tableResizerOffset||Math.abs(a-i.pageX)<=e.opts.tableResizerOffset){var l,d,h,u,c,p=S(r),f=D(n,p),m=O(f.row,f.col,p),g=r.offset().top,v=r.outerHeight()-1;if(f.col>0&&i.pageX-s<=e.opts.tableResizerOffset){h=s;var y=t(p[f.row][f.col-1]);u=1==(parseInt(y.attr("colspan"),10)||1)?y.offset().left-1+e.opts.tableResizingLimit:s-Z(f.col-1,p)+e.opts.tableResizingLimit,c=1==(parseInt(o.attr("colspan"),10)||1)?s+o.outerWidth()-e.opts.tableResizingLimit:s+Z(f.col,p)-e.opts.tableResizingLimit,l=f.col-1,d=f.col}else if(a-i.pageX<=e.opts.tableResizerOffset)if(h=a,m.col<p[m.row].length&&p[m.row][m.col+1]){var b=t(p[m.row][m.col+1]);u=1==(parseInt(o.attr("colspan"),10)||1)?s+e.opts.tableResizingLimit:a-Z(m.col,p)+e.opts.tableResizingLimit,c=1==(parseInt(b.attr("colspan"),10)||1)?a+b.outerWidth()-e.opts.tableResizingLimit:a+Z(f.col+1,p)-e.opts.tableResizingLimit,l=m.col,d=m.col+1}else{l=m.col,d=null;var w=r.parent();u=r.offset().left-1+p[0].length*e.opts.tableResizingLimit,c=w.offset().left-1+w.width()+parseFloat(w.css("padding-left"))}lt||j(),lt.data("table",r),lt.data("first",l),lt.data("second",d),lt.data("instance",e),e.$wp.append(lt);var _=h-e.win.pageXOffset-e.opts.tableResizerOffset,x=g-e.win.pageYOffset;e.opts.iframe&&(_+=e.$iframe.offset().left-t(e.o_win).scrollLeft(),x+=e.$iframe.offset().top-t(e.o_win).scrollTop(),u+=e.$iframe.offset().left,c+=e.$iframe.offset().left),lt.data("max-left",u),lt.data("max-right",c),lt.data("origin",h-e.win.pageXOffset),lt.css("top",x),lt.css("left",_),lt.css("height",v),lt.find("div").css("height",v),lt.css("padding-left",e.opts.tableResizerOffset),lt.css("padding-right",e.opts.tableResizerOffset),lt.show()}else e.core.sameInstance(lt)&&W()}}function q(i,n){if(e.$box.find(".fr-line-breaker").is(":visible"))return!1;dt||nt(),e.$box.append(dt),dt.data("instance",e);var o=t(n),r=o.find("tr:first"),s=i.pageX,a=0,l=0;e.opts.iframe&&(a+=e.$iframe.offset().left-t(e.o_win).scrollLeft(),l+=e.$iframe.offset().top-t(e.o_win).scrollTop());var d;r.find("th, td").each(function(){var i=t(this);return i.offset().left<=s&&s<i.offset().left+i.outerWidth()/2?(d=parseInt(dt.find("a").css("width"),10),dt.css("top",l+i.offset().top-e.win.pageYOffset-d-5),dt.css("left",a+i.offset().left-e.win.pageXOffset-d/2),dt.data("selected-cell",i),dt.data("position","before"),dt.addClass("fr-visible"),!1):i.offset().left+i.outerWidth()/2<=s&&s<i.offset().left+i.outerWidth()?(d=parseInt(dt.find("a").css("width"),10),dt.css("top",l+i.offset().top-e.win.pageYOffset-d-5),dt.css("left",a+i.offset().left+i.outerWidth()-e.win.pageXOffset-d/2),dt.data("selected-cell",i),dt.data("position","after"),dt.addClass("fr-visible"),!1):void 0})}function V(i,n){if(e.$box.find(".fr-line-breaker").is(":visible"))return!1;dt||nt(),e.$box.append(dt),dt.data("instance",e);var o=t(n),r=i.pageY,s=0,a=0;e.opts.iframe&&(s+=e.$iframe.offset().left-t(e.o_win).scrollLeft(),a+=e.$iframe.offset().top-t(e.o_win).scrollTop());var l;o.find("tr").each(function(){var i=t(this);return i.offset().top<=r&&r<i.offset().top+i.outerHeight()/2?(l=parseInt(dt.find("a").css("width"),10),dt.css("top",a+i.offset().top-e.win.pageYOffset-l/2),dt.css("left",s+i.offset().left-e.win.pageXOffset-l-5),dt.data("selected-cell",i.find("td:first")),dt.data("position","above"),dt.addClass("fr-visible"),!1):i.offset().top+i.outerHeight()/2<=r&&r<i.offset().top+i.outerHeight()?(l=parseInt(dt.find("a").css("width"),10),dt.css("top",a+i.offset().top+i.outerHeight()-e.win.pageYOffset-l/2),dt.css("left",s+i.offset().left-e.win.pageXOffset-l-5),dt.data("selected-cell",i.find("td:first")),dt.data("position","below"),dt.addClass("fr-visible"),!1):void 0})}function K(i,n){if(0===st().length){var o,r,s;if(n&&("HTML"==n.tagName||"BODY"==n.tagName||e.node.isElement(n)))for(o=1;o<=e.opts.tableInsertHelperOffset;o++){if(r=e.doc.elementFromPoint(i.pageX-e.win.pageXOffset,i.pageY-e.win.pageYOffset+o),t(r).hasClass("fr-tooltip"))return!0;if(r&&("TH"==r.tagName||"TD"==r.tagName||"TABLE"==r.tagName)&&(t(r).parents(".fr-wrapper").length||e.opts.iframe))return q(i,r.closest("table")),!0;if(s=e.doc.elementFromPoint(i.pageX-e.win.pageXOffset+o,i.pageY-e.win.pageYOffset),t(s).hasClass("fr-tooltip"))return!0;if(s&&("TH"==s.tagName||"TD"==s.tagName||"TABLE"==s.tagName)&&(t(s).parents(".fr-wrapper").length||e.opts.iframe))return V(i,s.closest("table")),!0}e.core.sameInstance(dt)&&U()}}function G(t){pt=null;var i=e.doc.elementFromPoint(t.pageX-e.win.pageXOffset,t.pageY-e.win.pageYOffset);(!e.popups.areVisible()||e.popups.areVisible()&&e.popups.isVisible("table.edit"))&&Y(t,i),e.popups.areVisible()||e.$tb.hasClass("fr-inline")&&e.$tb.is(":visible")||K(t,i)}function X(){if(ft){var i=lt.data("table"),n=i.offset().top-e.win.pageYOffset;e.opts.iframe&&(n+=e.$iframe.offset().top-t(e.o_win).scrollTop()),lt.css("top",n)}}function Q(){var i=lt.data("origin"),n=lt.data("release-position");if(i!==n){var o=lt.data("first"),r=lt.data("second"),s=lt.data("table"),a=s.outerWidth();if(null!==o&&null!==r){var l,d,h,u=S(s),c=[],p=[],f=[],m=[];for(l=0;l<u.length;l++)d=t(u[l][o]),h=t(u[l][r]),c[l]=d.outerWidth(),f[l]=h.outerWidth(),p[l]=c[l]/a*100,m[l]=f[l]/a*100;for(l=0;l<u.length;l++){d=t(u[l][o]),h=t(u[l][r]);var g=(p[l]*(c[l]+n-i)/c[l]).toFixed(4);d.css("width",g+"%"),h.css("width",(p[l]+m[l]-g).toFixed(4)+"%")}}else{var v,y=s.parent(),b=a/y.width()*100;v=null==o?(a-n+i)/a*b:(a+n-i)/a*b,s.css("width",Math.round(v).toFixed(4)+"%")}}lt.removeData("origin"),lt.removeData("release-position"),lt.removeData("first"),lt.removeData("second"),lt.removeData("table"),e.undo.saveStep()}function Z(e,i){var n,o=t(i[0][e]).outerWidth();for(n=1;n<i.length;n++)o=Math.min(o,t(i[n][e]).outerWidth());return o}function J(t,e,i){var n,o=0;for(n=t;e>=n;n++)o+=Z(n,i);return o}function tt(t){if(st().length>1&&ut&&A(),ut===!1&&ht===!1&&ft===!1)pt&&clearTimeout(pt),pt=setTimeout(G,30,t);else if(ft){var i=t.pageX-e.win.pageXOffset;e.opts.iframe&&(i+=e.$iframe.offset().left);var n=lt.data("max-left"),o=lt.data("max-right");i>=n&&o>=i?lt.css("left",i-e.opts.tableResizerOffset):n>i&&parseFloat(lt.css("left"),10)>n-e.opts.tableResizerOffset?lt.css("left",n-e.opts.tableResizerOffset):i>o&&parseFloat(lt.css("left"),10)<o-e.opts.tableResizerOffset&&lt.css("left",o-e.opts.tableResizerOffset)}else ut&&U()}function et(i){e.node.isEmpty(i.get(0))?i.prepend(t.FE.MARKERS):i.prepend(t.FE.START_MARKER).append(t.FE.END_MARKER)}function it(i){var n=i.which;if(n==t.FE.KEYCODE.TAB&&0===e.opts.tabSpaces){var o;if(st().length>0)o=e.$el.find(".fr-selected-cell:last");else{var r=e.selection.element();"TD"==r.tagName||"TH"==r.tagName?o=t(r):t(r).closest("td").length>0?o=t(r).closest("td"):t(r).closest("th").length>0&&(o=t(r).closest("th"))}o&&(i.preventDefault(),P(),i.shiftKey?o.prev().length>0?et(o.prev()):o.closest("tr").length>0&&o.closest("tr").prev().length>0?et(o.closest("tr").prev().find("td:last")):o.closest("tbody").length>0&&o.closest("table").find("thead tr").length>0&&et(o.closest("table").find("thead tr th:last")):o.next().length>0?et(o.next()):o.closest("tr").length>0&&o.closest("tr").next().length>0?et(o.closest("tr").next().find("td:first")):o.closest("thead").length>0&&o.closest("table").find("tbody tr").length>0?et(o.closest("table").find("tbody tr td:first")):(o.addClass("fr-selected-cell"),g("below"),M(),et(o.closest("tr").next().find("td:first"))),e.selection.restore())}}function nt(){e.shared.$ti_helper||(e.shared.$ti_helper=t('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabindex="-1" title="'+e.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),e.events.bindClick(e.shared.$ti_helper,"a",function(){var t=dt.data("selected-cell"),i=dt.data("position"),n=dt.data("instance")||e;"before"==i?(t.addClass("fr-selected-cell"),n.table.insertColumn(i),t.removeClass("fr-selected-cell")):"after"==i?(t.addClass("fr-selected-cell"),n.table.insertColumn(i),t.removeClass("fr-selected-cell")):"above"==i?(t.addClass("fr-selected-cell"),n.table.insertRow(i),t.removeClass("fr-selected-cell")):"below"==i&&(t.addClass("fr-selected-cell"),n.table.insertRow(i),t.removeClass("fr-selected-cell")),U()}),e.events.on("shared.destroy",function(){e.shared.$ti_helper.html("").removeData().remove()},!0),e.events.$on(e.shared.$ti_helper,"mousemove",function(t){t.stopPropagation()},!0),e.events.$on(t(e.o_win),"scroll",function(){U()},!0),e.events.$on(e.$wp,"scroll",function(){U()},!0)),dt=e.shared.$ti_helper,e.tooltip.bind(e.$box,".fr-insert-helper > a.fr-floating-btn")}function ot(){if(!e.$wp)return!1;if(!e.helpers.isMobile()){ut=!1,ht=!1,ft=!1,e.events.$on(e.$el,"mousedown",$),e.popups.onShow("image.edit",function(){M(),ut=!1,ht=!1}),e.popups.onShow("link.edit",function(){M(),ut=!1,ht=!1}),e.events.on("commands.mousedown",function(t){t.parents(".fr-toolbar").length>0&&M()}),e.events.$on(e.$el,"mouseenter","th, td",B),e.events.$on(e.$win,"mouseup",z),e.opts.iframe&&e.events.$on(t(e.o_win),"mouseup",z),e.events.$on(e.$el,"keydown",H),e.events.$on(e.$win,"mousemove",tt),e.events.$on(t(e.o_win),"scroll",X),e.events.on("contentChanged",function(){st().length>0&&(n(),e.$el.find("img").on("load.selected-cells",function(){t(this).off("load.selected-cells"),st().length>0&&n()}))}),e.events.$on(t(e.o_win),"resize",function(){M()}),e.events.on("keydown",function(i){var n=e.$el.get(0).querySelectorAll(".fr-selected-cell");if(n.length>0){if(i.which==t.FE.KEYCODE.ESC&&e.popups.isVisible("table.edit"))return M(),e.popups.hide("table.edit"),i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),!1;if(n.length>1)return i.preventDefault(),!1}},!0);var i;e.events.on("html.beforeGet",function(){i=e.$el.find(".fr-selected-cell"),i.removeClass("fr-selected-cell")}),e.events.on("html.get",function(t){return t=t.replace(/<(td|th)((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/(td|th)>/g,"<$1$2$3>$4</$5>")}),e.events.on("html.afterGet",function(){i.addClass("fr-selected-cell")}),s(!0),l(!0)}e.events.on("keydown",it,!0)}function rt(){st().length>0?n():(e.popups.hide("table.insert"),e.toolbar.showInline())}function st(){return e.$el.get(0).querySelectorAll(".fr-selected-cell")}function at(){var i=st();if(i.length){for(var n=i[0];n&&"TABLE"!=n.tagName&&n.parentNode!=e.$el.get(0);)n=n.parentNode;return t(n&&"TABLE"==n.tagName?n:[])}}var lt,dt,ht,ut,ct,pt,ft;return{_init:ot,insert:c,remove:p,insertRow:g,deleteRow:v,insertColumn:y,deleteColumn:b,mergeCells:w,splitCellVertically:x,splitCellHorizontally:_,addHeader:f,removeHeader:m,setBackground:C,showInsertPopup:i,showEditPopup:n,showColorsPopup:o,back:rt,verticalAlign:k,horizontalAlign:E,applyStyle:T,selectedTable:at,selectedCells:st}},t.FE.DefineIcon("insertTable",{NAME:"table"}),t.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),t.FE.RegisterCommand("tableInsert",{callback:function(t,e,i){this.table.insert(e,i),this.popups.hide("table.insert")}}),t.FE.DefineIcon("tableHeader",{NAME:"header"}),t.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,callback:function(){var t=this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]');t.hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(t){var e=this.table.selectedTable();e.length>0&&(0===e.find("th").length?t.removeClass("fr-active"):t.addClass("fr-active"))}}),t.FE.DefineIcon("tableRows",{NAME:"bars"}),t.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.tableRows.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="tableRows" data-param1="'+n+'" title="'+this.language.translate(i[n])+'">'+this.language.translate(i[n])+"</a></li>");return e+="</ul>"},callback:function(t,e){"above"==e||"below"==e?this.table.insertRow(e):this.table.deleteRow()}}),t.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),t.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.tableColumns.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="tableColumns" data-param1="'+n+'" title="'+this.language.translate(i[n])+'">'+this.language.translate(i[n])+"</a></li>");return e+="</ul>"},callback:function(t,e){"before"==e||"after"==e?this.table.insertColumn(e):this.table.deleteColumn()}}),t.FE.DefineIcon("tableCells",{NAME:"square-o"}),t.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.tableCells.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="tableCells" data-param1="'+n+'" title="'+this.language.translate(i[n])+'">'+this.language.translate(i[n])+"</a></li>");return e+="</ul>"},callback:function(t,e){"merge"==e?this.table.mergeCells():"vertical-split"==e?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(t,e){this.$el.find(".fr-selected-cell").length>1?(e.find('a[data-param1="vertical-split"]').addClass("fr-disabled"),e.find('a[data-param1="horizontal-split"]').addClass("fr-disabled"),e.find('a[data-param1="merge"]').removeClass("fr-disabled")):(e.find('a[data-param1="merge"]').addClass("fr-disabled"),e.find('a[data-param1="vertical-split"]').removeClass("fr-disabled"),
e.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled"))}}),t.FE.DefineIcon("tableRemove",{NAME:"trash"}),t.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),t.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),t.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var t='<ul class="fr-dropdown-list">',e=this.opts.tableStyles;for(var i in e)e.hasOwnProperty(i)&&(t+='<li><a class="fr-command" data-cmd="tableStyle" data-param1="'+i+'" title="'+this.language.translate(e[i])+'">'+this.language.translate(e[i])+"</a></li>");return t+="</ul>"},callback:function(t,e){this.table.applyStyle(e,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(e,i){var n=this.$el.find(".fr-selected-cell").closest("table");n&&i.find(".fr-command").each(function(){var e=t(this).data("param1");t(this).toggleClass("fr-active",n.hasClass(e))})}}),t.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),t.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,callback:function(){this.table.showColorsPopup()}}),t.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(t,e){this.table.setBackground(e)}}),t.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),t.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(t){0!==this.table.selectedCells().length||this.opts.toolbarInline?(t.removeClass("fr-hidden"),t.next(".fr-separator").removeClass("fr-hidden")):(t.addClass("fr-hidden"),t.next(".fr-separator").addClass("fr-hidden"))}}),t.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v"}),t.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.tableCellVerticalAlign.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command" data-cmd="tableCellVerticalAlign" data-param1="'+n.toLowerCase()+'" title="'+this.language.translate(i[n])+'">'+this.language.translate(n)+"</a></li>");return e+="</ul>"},callback:function(t,e){this.table.verticalAlign(e)},refreshOnShow:function(t,e){e.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active")}}),t.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),t.FE.DefineIcon("align-left",{NAME:"align-left"}),t.FE.DefineIcon("align-right",{NAME:"align-right"}),t.FE.DefineIcon("align-center",{NAME:"align-center"}),t.FE.DefineIcon("align-justify",{NAME:"align-justify"}),t.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e='<ul class="fr-dropdown-list">',i=t.FE.COMMANDS.tableCellHorizontalAlign.options;for(var n in i)i.hasOwnProperty(n)&&(e+='<li><a class="fr-command fr-title" data-cmd="tableCellHorizontalAlign" data-param1="'+n+'" title="'+this.language.translate(i[n])+'">'+this.icon.create("align-"+n)+"</a></li>");return e+="</ul>"},callback:function(t,e){this.table.horizontalAlign(e)},refresh:function(e){var i=this.table.selectedCells();i.length&&e.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(t(i[0]))))},refreshOnShow:function(t,e){e.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active")}}),t.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),t.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var t='<ul class="fr-dropdown-list">',e=this.opts.tableCellStyles;for(var i in e)e.hasOwnProperty(i)&&(t+='<li><a class="fr-command" data-cmd="tableCellStyle" data-param1="'+i+'" title="'+this.language.translate(e[i])+'">'+this.language.translate(e[i])+"</a></li>");return t+="</ul>"},callback:function(t,e){this.table.applyStyle(e,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(e,i){var n=this.$el.find(".fr-selected-cell:first");n&&i.find(".fr-command").each(function(){var e=t(this).data("param1");t(this).toggleClass("fr-active",n.hasClass(e))})}})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.DEFAULTS,{dragInline:!0}),t.FE.PLUGINS.draggable=function(e){function i(i){return t(i.target).hasClass("fr-draggable")?(t(i.target).addClass("fr-dragging"),e.opts.dragInline?e.$el.attr("contenteditable",!0):e.$el.attr("contenteditable",!1),e.opts.toolbarInline&&e.toolbar.hide(),e.undo.canDo()||e.undo.saveStep(),e.browser.msie||e.browser.edge||e.selection.clear(),void i.originalEvent.dataTransfer.setData("text","Froala")):(i.preventDefault(),!1)}function n(t){return!(t&&("HTML"==t.tagName||"BODY"==t.tagName||e.node.isElement(t)))}function o(t,i,n){e.opts.iframe&&(t+=e.$iframe.offset().top,i+=e.$iframe.offset().left),c.offset().top!=t&&c.css("top",t),c.offset().left!=i&&c.css("left",i),c.width()!=n&&c.css("width",n)}function r(i){var r=e.doc.elementFromPoint(i.originalEvent.pageX-e.win.pageXOffset,i.originalEvent.pageY-e.win.pageYOffset);if(!n(r)){for(var s=0,a=r;!n(a)&&a==r&&i.originalEvent.pageY-e.win.pageYOffset-s>0;)s++,a=e.doc.elementFromPoint(i.originalEvent.pageX-e.win.pageXOffset,i.originalEvent.pageY-e.win.pageYOffset-s);(!n(a)||c&&0===e.$el.find(a).length&&a!=c.get(0))&&(a=null);for(var l=0,d=r;!n(d)&&d==r&&i.originalEvent.pageY-e.win.pageYOffset+l<t(e.doc).height();)l++,d=e.doc.elementFromPoint(i.originalEvent.pageX-e.win.pageXOffset,i.originalEvent.pageY-e.win.pageYOffset+l);(!n(d)||c&&0===e.$el.find(d).length&&d!=c.get(0))&&(d=null),r=null==d&&a?a:d&&null==a?d:d&&a?l>s?a:d:null}if(t(r).hasClass("fr-drag-helper"))return!1;if(r&&!e.node.isBlock(r)&&(r=e.node.blockParent(r)),r&&["TD","TH","TR","THEAD","TBODY"].indexOf(r.tagName)>=0&&(r=t(r).parents("table").get(0)),r&&["LI"].indexOf(r.tagName)>=0&&(r=t(r).parents("UL, OL").get(0)),r&&!t(r).hasClass("fr-drag-helper")){c||(t.FE.$draggable_helper||(t.FE.$draggable_helper=t('<div class="fr-drag-helper"></div>')),c=t.FE.$draggable_helper,e.events.on("shared.destroy",function(){c.html("").removeData().remove()},!0));var h,u=i.originalEvent.pageY;h=u<t(r).offset().top+t(r).outerHeight()/2?!0:!1;var p=t(r),f=0;h||0!==p.next().length?(h||(p=p.next()),"before"==c.data("fr-position")&&p.is(c.data("fr-tag"))||(p.prev().length>0&&(f=parseFloat(p.prev().css("margin-bottom"))||0),f=Math.max(f,parseFloat(p.css("margin-top"))||0),o(p.offset().top-f/2-e.$box.offset().top,p.offset().left-e.win.pageXOffset-e.$box.offset().left,p.width()),c.data("fr-position","before"))):"after"==c.data("fr-position")&&p.is(c.data("fr-tag"))||(f=parseFloat(p.css("margin-bottom"))||0,o(p.offset().top+t(r).height()+f/2-e.$box.offset().top,p.offset().left-e.win.pageXOffset-e.$box.offset().left,p.width()),c.data("fr-position","after")),c.data("fr-tag",p),c.addClass("fr-visible"),c.appendTo(e.$box)}else c&&e.$box.find(c).length>0&&c.removeClass("fr-visible")}function s(t){t.originalEvent.dataTransfer.dropEffect="move",e.opts.dragInline?d()||!e.browser.msie&&!e.browser.edge||t.preventDefault():(t.preventDefault(),r(t))}function a(t){t.originalEvent.dataTransfer.dropEffect="move",e.opts.dragInline||t.preventDefault()}function l(t){e.$el.attr("contenteditable",!0);var i=e.$el.find(".fr-dragging");c&&c.hasClass("fr-visible")&&e.$box.find(c).length?h(t):i.length&&(t.preventDefault(),t.stopPropagation(),c&&!c.hasClass("fr-visible")&&i.removeClass("fr-dragging")),c&&e.$box.find(c).length&&c.removeClass("fr-visible")}function d(){for(var e=null,i=0;i<t.FE.INSTANCES.length;i++)if(e=t.FE.INSTANCES[i].$el.find(".fr-dragging"),e.length)return e.get(0)}function h(i){for(var n,o,r=0;r<t.FE.INSTANCES.length;r++)if(n=t.FE.INSTANCES[r].$el.find(".fr-dragging"),n.length){o=t.FE.INSTANCES[r];break}if(n.length){if(i.preventDefault(),i.stopPropagation(),c&&c.hasClass("fr-visible")&&e.$box.find(c).length)c.data("fr-tag")[c.data("fr-position")]('<span class="fr-marker"></span>'),c.removeClass("fr-visible");else{var s=e.markers.insertAtPoint(i.originalEvent);if(s===!1)return!1}if(e.popups.hideAll(),o==e||e.undo.canDo()||e.undo.saveStep(),e.core.isEmpty())e.$el.html(n);else{var a=e.$el.find(".fr-marker");a.replaceWith(n),n.after(t.FE.MARKERS),e.selection.restore()}return n.removeClass("fr-dragging"),e.$el.find(e.html.emptyBlockTagsQuery()).remove(),e.html.wrap(),e.undo.saveStep(),o!=e&&(o.popups.hideAll(),o.$el.find(e.html.emptyBlockTagsQuery()).remove(),o.html.wrap(),o.undo.saveStep(),o.events.trigger("element.dropped")),e.opts.iframe&&e.size.syncIframe(),e.events.trigger("element.dropped",[n]),!1}}function u(){e.opts.enter==t.FE.ENTER_BR&&(e.opts.dragInline=!0),e.events.on("dragstart",i,!0),e.events.on("dragover",s,!0),e.events.on("dragenter",a,!0),e.events.on("document.dragend",l,!0),e.events.on("document.drop",l,!0),e.events.on("drop",h,!0),e.events.on("html.get",function(t){return t=t.replace(/<(div)((?:[\w\W]*?))class="([\w\W]*?)fr-drag-helper([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/(div)>/g,"")})}var c;return{_init:u}}}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.FE.PLUGINS.codeBeautifier=function(){function t(t,i){function n(t){return t.replace(/^\s+/g,"")}function o(t){return t.replace(/\s+$/g,"")}function s(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=l,this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:w,in_array:function(t,e){for(var i=0;i<e.length;i++)if(t==e[i])return!0;return!1}},this.is_whitespace=function(t){for(var e=0;e<t.length;t++)if(!this.Utils.in_array(t.charAt(e),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var t="";if(t=this.input.charAt(this.pos),this.Utils.in_array(t,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(t,this.Utils.whitespace);)f&&"\n"==t&&this.newlines<=m&&(this.newlines+=1),this.pos++,t=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(t){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,t),this.print_indentation(t)):(this.line_char_count++,t.push(" "))},this.get_content=function(){for(var t="",e=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(e);else{if(g){var i=this.input.substr(this.pos,3);if("{{#"==i||"{{/"==i)break;if("{{!"==i)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos==this.input.length)return["","TK_EOF"];var e="",i=new RegExp("</"+t+"\\s*>","igm");i.lastIndex=this.pos;var n=i.exec(this.input),o=n?n.index:this.input.length;return this.pos<o&&(e=this.input.substring(this.pos,o),this.pos=o),e},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!=e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1==this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.indent_to_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!=e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]])}},this.get_tag=function(t){var e,i,n,o="",r=[],s="",a=!1,l=!0,d=this.pos,u=this.line_char_count;t=void 0!==t?t:!1;do{if(this.pos>=this.input.length)return t&&(this.pos=d,this.line_char_count=u),r.length?r.join(""):["","TK_EOF"];if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace))a=!0;else{if(("'"==o||'"'==o)&&(o+=this.get_unformatted(o),a=!0),"="==o&&(a=!1),r.length&&"="!=r[r.length-1]&&">"!=o&&a){if(this.space_or_wrap(r),a=!1,!l&&"force"==v&&"/"!=o){this.print_newline(!0,r),this.print_indentation(r);for(var c=0;y>c;c++)r.push(h)}for(var f=0;f<r.length;f++)if(" "==r[f]){l=!1;break}}if(g&&"<"==n&&o+this.input.charAt(this.pos)=="{{"&&(o+=this.get_unformatted("}}"),r.length&&" "!=r[r.length-1]&&"<"!=r[r.length-1]&&(o=" "+o),a=!0),"<"!=o||n||(e=this.pos-1,n="<"),g&&!n&&r.length>=2&&"{"==r[r.length-1]&&"{"==r[r.length-2]&&(e="#"==o||"/"==o||"!"==o?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(o),r[1]&&("!"==r[1]||"?"==r[1]||"%"==r[1])){r=[this.get_comment(e)];break}if(g&&r[1]&&"{"==r[1]&&r[2]&&"!"==r[2]){r=[this.get_comment(e)];break}if(g&&"{"==n&&r.length>2&&"}"==r[r.length-2]&&"}"==r[r.length-1])break}}while(">"!=o);var m,b,w=r.join("");m=-1!=w.indexOf(" ")?w.indexOf(" "):"{"==w[0]?w.indexOf("}"):w.indexOf(">"),b="<"!=w[0]&&g?"#"==w[2]?3:2:1;var _=w.substring(b,m).toLowerCase();return"/"==w.charAt(w.length-2)||this.Utils.in_array(_,this.Utils.single_token)?t||(this.tag_type="SINGLE"):g&&"{"==w[0]&&"else"==_?t||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(_,p)?(s=this.get_unformatted("</"+_+">",w),r.push(s),i=this.pos-1,this.tag_type="SINGLE"):"script"==_&&(-1==w.search("type")||w.search("type")>-1&&w.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?t||(this.record_tag(_),this.tag_type="SCRIPT"):"style"==_&&(-1==w.search("type")||w.search("type")>-1&&w.search("text/css")>-1)?t||(this.record_tag(_),this.tag_type="STYLE"):"!"==_.charAt(0)?t||(this.tag_type="SINGLE",this.traverse_whitespace()):t||("/"==_.charAt(0)?(this.retrieve_tag(_.substring(1)),this.tag_type="END"):(this.record_tag(_),"html"!=_.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(_,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),t&&(this.pos=d,this.line_char_count=u),r.join("")},this.get_comment=function(t){var e="",i=">",n=!1;this.pos=t;var o=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(e+=o,e[e.length-1]!=i[i.length-1]||-1==e.indexOf(i));)!n&&e.length<10&&(0===e.indexOf("<![if")?(i="<![endif]>",n=!0):0===e.indexOf("<![cdata[")?(i="]]>",n=!0):0===e.indexOf("<![")?(i="]>",n=!0):0===e.indexOf("<!--")?(i="-->",n=!0):0===e.indexOf("{{!")?(i="}}",n=!0):0===e.indexOf("<?")?(i="?>",n=!0):0===e.indexOf("<%")&&(i="%>",n=!0)),o=this.input.charAt(this.pos),this.pos++;return e},this.get_unformatted=function(t,e){if(e&&-1!=e.toLowerCase().indexOf(t))return"";var i="",n="",o=0,r=!0;do{if(this.pos>=this.input.length)return n;if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"==i||"\r"==i){n+="\n",this.line_char_count=0;continue}}n+=i,this.line_char_count++,r=!0,g&&"{"==i&&n.length&&"{"==n[n.length-2]&&(n+=this.get_unformatted("}}"),o=n.length)}while(-1==n.toLowerCase().indexOf(t,o));return n},this.get_token=function(){var t;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var e=this.last_token.substr(7);return t=this.get_contents_to(e),"string"!=typeof t?t:[t,"TK_"+e]}if("CONTENT"==this.current_mode)return t=this.get_content(),"string"!=typeof t?t:[t,"TK_CONTENT"];if("TAG"==this.current_mode){if(t=this.get_tag(),"string"!=typeof t)return t;var i="TK_TAG_"+this.tag_type;return[t,i]}},this.get_full_indent=function(t){return t=this.indent_level+t||0,1>t?"":new Array(t+1).join(this.indent_string)},this.is_unformatted=function(t,e){if(!this.Utils.in_array(t,e))return!1;if("a"!=t.toLowerCase()||!this.Utils.in_array("a",e))return!0;var i=this.get_tag(!0),n=(i||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!n||this.Utils.in_array(n,e)?!0:!1},this.printer=function(t,e,i,r,s){this.input=t||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=i,this.brace_style=s,this.indent_level=0,this.wrap_line_length=r,this.line_char_count=0;for(var a=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){this.line_char_count=0,e&&e.length&&(t||"\n"!=e[e.length-1])&&("\n"!=e[e.length-1]&&(e[e.length-1]=o(e[e.length-1])),e.push("\n"))},this.print_indentation=function(t){for(var e=0;e<this.indent_level;e++)t.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(t){(!this.is_whitespace(t)||this.output.length)&&((t||""!==t)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),t=n(t)),this.print_token_raw(t))},this.print_token_raw=function(t){this.newlines>0&&(t=o(t)),t&&""!==t&&(t.length>1&&"\n"==t[t.length-1]?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var e=0;e<this.newlines;e++)this.print_newline(e>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var a,l,d,h,u,c,p,f,m,g,v,y,b,w;for(i=i||{},void 0!==i.wrap_line_length&&0!==parseInt(i.wrap_line_length,10)||void 0===i.max_char||0===parseInt(i.max_char,10)||(i.wrap_line_length=i.max_char),l=void 0===i.indent_inner_html?!1:i.indent_inner_html,d=void 0===i.indent_size?4:parseInt(i.indent_size,10),h=void 0===i.indent_char?" ":i.indent_char,c=void 0===i.brace_style?"collapse":i.brace_style,u=0===parseInt(i.wrap_line_length,10)?32786:parseInt(i.wrap_line_length||250,10),p=i.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],f=void 0===i.preserve_newlines?!0:i.preserve_newlines,m=f?isNaN(parseInt(i.max_preserve_newlines,10))?32786:parseInt(i.max_preserve_newlines,10):0,g=void 0===i.indent_handlebars?!1:i.indent_handlebars,v=void 0===i.wrap_attributes?"auto":i.wrap_attributes,y=void 0===i.wrap_attributes_indent_size?d:parseInt(i.wrap_attributes_indent_size,10)||d,b=void 0===i.end_with_newline?!1:i.end_with_newline,w=Array.isArray(i.extra_liners)?i.extra_liners.concat():"string"==typeof i.extra_liners?i.extra_liners.split(","):"head,body,/html".split(","),i.indent_with_tabs&&(h="	",d=1),a=new s,a.printer(t,h,d,u,c);;){var _=a.get_token();if(a.token_text=_[0],a.token_type=_[1],"TK_EOF"==a.token_type)break;switch(a.token_type){case"TK_TAG_START":a.print_newline(!1,a.output),a.print_token(a.token_text),a.indent_content&&(a.indent(),a.indent_content=!1),a.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":a.print_newline(!1,a.output),a.print_token(a.token_text),a.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==a.last_token&&""===a.last_text){var x=a.token_text.match(/\w+/)[0],C=null;a.output.length&&(C=a.output[a.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null==C||C[1]!=x&&!a.Utils.in_array(C[1],p))&&a.print_newline(!1,a.output)}a.print_token(a.token_text),a.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var k=a.token_text.match(/^\s*<([a-z-]+)/i);k&&a.Utils.in_array(k[1],p)||a.print_newline(!1,a.output),a.print_token(a.token_text),a.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":a.print_token(a.token_text),a.indent_content&&(a.indent(),a.indent_content=!1),a.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":a.print_token(a.token_text),a.current_mode="TAG";break;case"TK_CONTENT":a.print_token(a.token_text),a.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==a.token_text){a.print_newline(!1,a.output);var E,T=a.token_text,S=1;"TK_SCRIPT"==a.token_type?E="function"==typeof r&&r:"TK_STYLE"==a.token_type&&(E="function"==typeof e&&e),"keep"==i.indent_scripts?S=0:"separate"==i.indent_scripts&&(S=-a.indent_level);var D=a.get_full_indent(S);if(E)T=E(T.replace(/^\s*/,D),i);else{var O=T.match(/^\s*/)[0],M=O.match(/[^\n\r]*$/)[0].split(a.indent_string).length-1,A=a.get_full_indent(S-M);T=T.replace(/^\s*/,D).replace(/\r\n|\r|\n/g,"\n"+A).replace(/\s+$/,"")}T&&(a.print_token_raw(T),a.print_newline(!0,a.output))}a.current_mode="TAG";break;default:""!==a.token_text&&a.print_token(a.token_text)}a.last_token=a.token_type,a.last_text=a.token_text}var N=a.output.join("").replace(/[\r\n\t ]+$/,"");return b&&(N+="\n"),N}function e(t,e){function i(){return _=t.charAt(++C),_||""}function n(e){var n="",o=C;return e&&s(),n=t.charAt(C+1)||"",C=o-1,i(),n}function o(e){for(var n=C;i();)if("\\"===_)i();else{if(-1!==e.indexOf(_))break;if("\n"===_)break}return t.substring(n,C+1)}function r(t){var e=C,n=o(t);return C=e-1,i(),n}function s(){for(var t="";x.test(n());)i(),t+=_;return t}function a(){var t="";for(_&&x.test(_)&&(t=_);x.test(i());)t+=_;return t}function l(e){var o=C;for(e="/"===n(),i();i();){if(!e&&"*"===_&&"/"===n()){i();break}if(e&&"\n"===_)return t.substring(o,C)}return t.substring(o,C)+_}function d(e){return t.substring(C-e.length,C).toLowerCase()===e}function h(){for(var e=0,i=C+1;i<t.length;i++){var n=t.charAt(i);if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0==e)return!1;e-=1}else if(";"===n||"}"===n)return!1}return!1}function u(){S++,E+=T}function c(){S--,E=E.slice(0,-m)}var p={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},f={"@media":!0,"@supports":!0,"@document":!0};e=e||{},t=t||"",t=t.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var m=e.indent_size||4,g=e.indent_char||" ",v=void 0===e.selector_separator_newline?!0:e.selector_separator_newline,y=void 0===e.end_with_newline?!1:e.end_with_newline,b=void 0===e.newline_between_rules?!0:e.newline_between_rules,w=e.eol?e.eol:"\n";"string"==typeof m&&(m=parseInt(m,10)),e.indent_with_tabs&&(g="	",m=1),w=w.replace(/\\r/,"\r").replace(/\\n/,"\n");var _,x=/^\s+$/,C=-1,k=0,E=t.match(/^[\t ]*/)[0],T=new Array(m+1).join(g),S=0,D=0,O={};O["{"]=function(t){O.singleSpace(),M.push(t),O.newLine()},O["}"]=function(t){O.newLine(),M.push(t),O.newLine()},O._lastCharWhitespace=function(){return x.test(M[M.length-1])},O.newLine=function(t){M.length&&(t||"\n"===M[M.length-1]||O.trim(),M.push("\n"),E&&M.push(E))},O.singleSpace=function(){M.length&&!O._lastCharWhitespace()&&M.push(" ")},O.preserveSingleSpace=function(){P&&O.singleSpace()},O.trim=function(){for(;O._lastCharWhitespace();)M.pop()};for(var M=[],A=!1,N=!1,I=!1,F="",R="";;){var L=a(),P=""!==L,$=-1!==L.indexOf("\n");if(R=F,F=_,!_)break;if("/"===_&&"*"===n()){var z=0===S;($||z)&&O.newLine(),M.push(l()),O.newLine(),z&&O.newLine(!0)}else if("/"===_&&"/"===n())$||"{"===R||O.trim(),O.singleSpace(),M.push(l()),O.newLine();else if("@"===_){O.preserveSingleSpace(),M.push(_);var B=r(": ,;{}()[]/='\"");B.match(/[ :]$/)&&(i(),B=o(": ").replace(/\s$/,""),M.push(B),O.singleSpace()),B=B.replace(/\s$/,""),B in p&&(D+=1,B in f&&(I=!0))}else"#"===_&&"{"===n()?(O.preserveSingleSpace(),M.push(o("}"))):"{"===_?"}"===n(!0)?(s(),i(),O.singleSpace(),M.push("{}"),O.newLine(),b&&0===S&&O.newLine(!0)):(u(),O["{"](_),I?(I=!1,A=S>D):A=S>=D):"}"===_?(c(),O["}"](_),A=!1,N=!1,D&&D--,b&&0===S&&O.newLine(!0)):":"===_?(s(),!A&&!I||d("&")||h()?":"===n()?(i(),M.push("::")):M.push(":"):(N=!0,M.push(":"),O.singleSpace())):'"'===_||"'"===_?(O.preserveSingleSpace(),M.push(o(_))):";"===_?(N=!1,M.push(_),O.newLine()):"("===_?d("url")?(M.push(_),s(),i()&&(")"!==_&&'"'!==_&&"'"!==_?M.push(o(")")):C--)):(k++,O.preserveSingleSpace(),M.push(_),s()):")"===_?(M.push(_),k--):","===_?(M.push(_),s(),v&&!N&&1>k?O.newLine():O.singleSpace()):"]"===_?M.push(_):"["===_?(O.preserveSingleSpace(),M.push(_)):"="===_?(s(),_="=",M.push(_)):(O.preserveSingleSpace(),M.push(_))}var H="";return E&&(H+=E),H+=M.join("").replace(/[\r\n\t ]+$/,""),y&&(H+="\n"),"\n"!=w&&(H=H.replace(/[\n]/g,w)),H}function i(t,e){for(var i=0;i<e.length;i+=1)if(e[i]===t)return!0;return!1}function n(t){return t.replace(/^\s+|\s+$/g,"")}function o(t){return t.replace(/^\s+/g,"")}function r(t,e){var i=new s(t,e);return i.beautify()}function s(t,e){function r(t,e){var i=0;t&&(i=t.indentation_level,!W.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level));var n={mode:e,parent:t,last_text:t?t.last_text:"",last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,line_indent_level:t?t.line_indent_level:i,start_line_index:W.get_line_number(),ternary_depth:0};return n}function s(t){var e=t.newlines,i=et.keep_array_indentation&&b(X.mode);if(i)for(n=0;e>n;n+=1)p(n>0);else if(et.max_preserve_newlines&&e>et.max_preserve_newlines&&(e=et.max_preserve_newlines),et.preserve_newlines&&t.newlines>1){p();for(var n=1;e>n;n+=1)p(!0)}q=t,tt[q.type]()}function a(t){t=t.replace(/\x0d/g,"");for(var e=[],i=t.indexOf("\n");-1!==i;)e.push(t.substring(0,i)),t=t.substring(i+1),i=t.indexOf("\n");return t.length&&e.push(t),e}function c(t){if(t=void 0===t?!1:t,!W.just_added_newline())if(et.preserve_newlines&&q.wanted_newline||t)p(!1,!0);else if(et.wrap_line_length){var e=W.current_line.get_character_count()+q.text.length+(W.space_before_token?1:0);e>=et.wrap_line_length&&p(!1,!0)}}function p(t,e){if(!e&&";"!==X.last_text&&","!==X.last_text&&"="!==X.last_text&&"TK_OPERATOR"!==V)for(;X.mode===u.Statement&&!X.if_block&&!X.do_block;)_();W.add_new_line(t)&&(X.multiline_frame=!0)}function f(){W.just_added_newline()&&(et.keep_array_indentation&&b(X.mode)&&q.wanted_newline?(W.current_line.push(q.whitespace_before),W.space_before_token=!1):W.set_indent(X.indentation_level)&&(X.line_indent_level=X.indentation_level))}function m(t){return W.raw?void W.add_raw_token(q):(et.comma_first&&"TK_COMMA"===V&&W.just_added_newline()&&","===W.previous_line.last()&&(W.previous_line.pop(),f(),W.add_token(","),W.space_before_token=!0),t=t||q.text,f(),void W.add_token(t))}function g(){X.indentation_level+=1}function v(){X.indentation_level>0&&(!X.parent||X.indentation_level>X.parent.indentation_level)&&(X.indentation_level-=1)}function y(t){X?(Z.push(X),Q=X):Q=r(null,t),X=r(Q,t)}function b(t){return t===u.ArrayLiteral}function w(t){return i(t,[u.Expression,u.ForInitializer,u.Conditional])}function _(){Z.length>0&&(Q=X,X=Z.pop(),Q.mode===u.Statement&&W.remove_redundant_indentation(Q))}function x(){return X.parent.mode===u.ObjectLiteral&&X.mode===u.Statement&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===V&&i(X.last_text,["get","set"]))}function C(){return"TK_RESERVED"===V&&i(X.last_text,["var","let","const"])&&"TK_WORD"===q.type||"TK_RESERVED"===V&&"do"===X.last_text||"TK_RESERVED"===V&&"return"===X.last_text&&!q.wanted_newline||"TK_RESERVED"===V&&"else"===X.last_text&&("TK_RESERVED"!==q.type||"if"!==q.text)||"TK_END_EXPR"===V&&(Q.mode===u.ForInitializer||Q.mode===u.Conditional)||"TK_WORD"===V&&X.mode===u.BlockStatement&&!X.in_case&&"--"!==q.text&&"++"!==q.text&&"function"!==K&&"TK_WORD"!==q.type&&"TK_RESERVED"!==q.type||X.mode===u.ObjectLiteral&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===V&&i(X.last_text,["get","set"]))?(y(u.Statement),g(),"TK_RESERVED"===V&&i(X.last_text,["var","let","const"])&&"TK_WORD"===q.type&&(X.declaration_statement=!0),x()||c("TK_RESERVED"===q.type&&i(q.text,["do","for","if","while"])),!0):!1}function k(t,e){for(var i=0;i<t.length;i++){var o=n(t[i]);if(o.charAt(0)!==e)return!1}return!0}function E(t,e){for(var i,n=0,o=t.length;o>n;n++)if(i=t[n],i&&0!==i.indexOf(e))return!1;return!0}function T(t){return i(t,["case","return","do","if","throw","else"])}function S(t){var e=U+(t||0);return 0>e||e>=it.length?null:it[e]}function D(){C();var t=u.Expression;if("["===q.text){if("TK_WORD"===V||")"===X.last_text)return"TK_RESERVED"===V&&i(X.last_text,Y.line_starters)&&(W.space_before_token=!0),y(t),m(),g(),void(et.space_in_paren&&(W.space_before_token=!0));t=u.ArrayLiteral,b(X.mode)&&("["===X.last_text||","===X.last_text&&("]"===K||"}"===K))&&(et.keep_array_indentation||p())}else"TK_RESERVED"===V&&"for"===X.last_text?t=u.ForInitializer:"TK_RESERVED"===V&&i(X.last_text,["if","while"])&&(t=u.Conditional);";"===X.last_text||"TK_START_BLOCK"===V?p():"TK_END_EXPR"===V||"TK_START_EXPR"===V||"TK_END_BLOCK"===V||"."===X.last_text?c(q.wanted_newline):"TK_RESERVED"===V&&"("===q.text||"TK_WORD"===V||"TK_OPERATOR"===V?"TK_RESERVED"===V&&("function"===X.last_word||"typeof"===X.last_word)||"*"===X.last_text&&"function"===K?et.space_after_anon_function&&(W.space_before_token=!0):"TK_RESERVED"!==V||!i(X.last_text,Y.line_starters)&&"catch"!==X.last_text||et.space_before_conditional&&(W.space_before_token=!0):W.space_before_token=!0,"("===q.text&&"TK_RESERVED"===V&&"await"===X.last_word&&(W.space_before_token=!0),"("===q.text&&("TK_EQUALS"===V||"TK_OPERATOR"===V)&&(x()||c()),y(t),m(),et.space_in_paren&&(W.space_before_token=!0),g()}function O(){for(;X.mode===u.Statement;)_();X.multiline_frame&&c("]"===q.text&&b(X.mode)&&!et.keep_array_indentation),et.space_in_paren&&("TK_START_EXPR"!==V||et.space_in_empty_paren?W.space_before_token=!0:(W.trim(),W.space_before_token=!1)),"]"===q.text&&et.keep_array_indentation?(m(),_()):(_(),m()),W.remove_redundant_indentation(Q),X.do_while&&Q.mode===u.Conditional&&(Q.mode=u.Expression,X.do_block=!1,X.do_while=!1)}function M(){var t=S(1),e=S(2);y(e&&(":"===e.text&&i(t.type,["TK_STRING","TK_WORD","TK_RESERVED"])||i(t.text,["get","set"])&&i(e.type,["TK_WORD","TK_RESERVED"]))?i(K,["class","interface"])?u.BlockStatement:u.ObjectLiteral:u.BlockStatement);var n=!t.comments_before.length&&"}"===t.text,o=n&&"function"===X.last_word&&"TK_END_EXPR"===V;"expand"===et.brace_style||"none"===et.brace_style&&q.wanted_newline?"TK_OPERATOR"!==V&&(o||"TK_EQUALS"===V||"TK_RESERVED"===V&&T(X.last_text)&&"else"!==X.last_text)?W.space_before_token=!0:p(!1,!0):"TK_OPERATOR"!==V&&"TK_START_EXPR"!==V?"TK_START_BLOCK"===V?p():W.space_before_token=!0:b(Q.mode)&&","===X.last_text&&("}"===K?W.space_before_token=!0:p()),m(),g()}function A(){for(;X.mode===u.Statement;)_();var t="TK_START_BLOCK"===V;"expand"===et.brace_style?t||p():t||(b(X.mode)&&et.keep_array_indentation?(et.keep_array_indentation=!1,p(),et.keep_array_indentation=!0):p()),_(),m()}function N(){if("TK_RESERVED"===q.type&&X.mode!==u.ObjectLiteral&&i(q.text,["set","get"])&&(q.type="TK_WORD"),"TK_RESERVED"===q.type&&X.mode===u.ObjectLiteral){var t=S(1);":"==t.text&&(q.type="TK_WORD")}if(C()||!q.wanted_newline||w(X.mode)||"TK_OPERATOR"===V&&"--"!==X.last_text&&"++"!==X.last_text||"TK_EQUALS"===V||!et.preserve_newlines&&"TK_RESERVED"===V&&i(X.last_text,["var","let","const","set","get"])||p(),X.do_block&&!X.do_while){if("TK_RESERVED"===q.type&&"while"===q.text)return W.space_before_token=!0,m(),W.space_before_token=!0,void(X.do_while=!0);p(),X.do_block=!1}if(X.if_block)if(X.else_block||"TK_RESERVED"!==q.type||"else"!==q.text){for(;X.mode===u.Statement;)_();X.if_block=!1,X.else_block=!1}else X.else_block=!0;if("TK_RESERVED"===q.type&&("case"===q.text||"default"===q.text&&X.in_case_statement))return p(),(X.case_body||et.jslint_happy)&&(v(),X.case_body=!1),m(),X.in_case=!0,void(X.in_case_statement=!0);if("TK_RESERVED"===q.type&&"function"===q.text&&((i(X.last_text,["}",";"])||W.just_added_newline()&&!i(X.last_text,["[","{",":","=",","]))&&(W.just_added_blankline()||q.comments_before.length||(p(),p(!0))),"TK_RESERVED"===V||"TK_WORD"===V?"TK_RESERVED"===V&&i(X.last_text,["get","set","new","return","export","async"])?W.space_before_token=!0:"TK_RESERVED"===V&&"default"===X.last_text&&"export"===K?W.space_before_token=!0:p():"TK_OPERATOR"===V||"="===X.last_text?W.space_before_token=!0:(X.multiline_frame||!w(X.mode)&&!b(X.mode))&&p()),("TK_COMMA"===V||"TK_START_EXPR"===V||"TK_EQUALS"===V||"TK_OPERATOR"===V)&&(x()||c()),"TK_RESERVED"===q.type&&i(q.text,["function","get","set"]))return m(),void(X.last_word=q.text);if(J="NONE","TK_END_BLOCK"===V?"TK_RESERVED"===q.type&&i(q.text,["else","catch","finally"])?"expand"===et.brace_style||"end-expand"===et.brace_style||"none"===et.brace_style&&q.wanted_newline?J="NEWLINE":(J="SPACE",W.space_before_token=!0):J="NEWLINE":"TK_SEMICOLON"===V&&X.mode===u.BlockStatement?J="NEWLINE":"TK_SEMICOLON"===V&&w(X.mode)?J="SPACE":"TK_STRING"===V?J="NEWLINE":"TK_RESERVED"===V||"TK_WORD"===V||"*"===X.last_text&&"function"===K?J="SPACE":"TK_START_BLOCK"===V?J="NEWLINE":"TK_END_EXPR"===V&&(W.space_before_token=!0,J="NEWLINE"),"TK_RESERVED"===q.type&&i(q.text,Y.line_starters)&&")"!==X.last_text&&(J="else"===X.last_text||"export"===X.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===q.type&&i(q.text,["else","catch","finally"]))if("TK_END_BLOCK"!==V||"expand"===et.brace_style||"end-expand"===et.brace_style||"none"===et.brace_style&&q.wanted_newline)p();else{W.trim(!0);var e=W.current_line;"}"!==e.last()&&p(),W.space_before_token=!0}else"NEWLINE"===J?"TK_RESERVED"===V&&T(X.last_text)?W.space_before_token=!0:"TK_END_EXPR"!==V?"TK_START_EXPR"===V&&"TK_RESERVED"===q.type&&i(q.text,["var","let","const"])||":"===X.last_text||("TK_RESERVED"===q.type&&"if"===q.text&&"else"===X.last_text?W.space_before_token=!0:p()):"TK_RESERVED"===q.type&&i(q.text,Y.line_starters)&&")"!==X.last_text&&p():X.multiline_frame&&b(X.mode)&&","===X.last_text&&"}"===K?p():"SPACE"===J&&(W.space_before_token=!0);m(),X.last_word=q.text,"TK_RESERVED"===q.type&&"do"===q.text&&(X.do_block=!0),"TK_RESERVED"===q.type&&"if"===q.text&&(X.if_block=!0)}function I(){for(C()&&(W.space_before_token=!1);X.mode===u.Statement&&!X.if_block&&!X.do_block;)_();m()}function F(){C()?W.space_before_token=!0:"TK_RESERVED"===V||"TK_WORD"===V?W.space_before_token=!0:"TK_COMMA"===V||"TK_START_EXPR"===V||"TK_EQUALS"===V||"TK_OPERATOR"===V?x()||c():p(),m()}function R(){C(),X.declaration_statement&&(X.declaration_assignment=!0),W.space_before_token=!0,m(),W.space_before_token=!0}function L(){return X.declaration_statement?(w(X.parent.mode)&&(X.declaration_assignment=!1),m(),void(X.declaration_assignment?(X.declaration_assignment=!1,p(!1,!0)):(W.space_before_token=!0,et.comma_first&&c()))):(m(),void(X.mode===u.ObjectLiteral||X.mode===u.Statement&&X.parent.mode===u.ObjectLiteral?(X.mode===u.Statement&&_(),p()):(W.space_before_token=!0,et.comma_first&&c())))}function P(){if(C(),"TK_RESERVED"===V&&T(X.last_text))return W.space_before_token=!0,void m();if("*"===q.text&&"TK_DOT"===V)return void m();if(":"===q.text&&X.in_case)return X.case_body=!0,g(),m(),p(),void(X.in_case=!1);if("::"===q.text)return void m();"TK_OPERATOR"===V&&c();var t=!0,e=!0;i(q.text,["--","++","!","~"])||i(q.text,["-","+"])&&(i(V,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||i(X.last_text,Y.line_starters)||","===X.last_text)?(t=!1,e=!1,!q.wanted_newline||"--"!==q.text&&"++"!==q.text||p(!1,!0),";"===X.last_text&&w(X.mode)&&(t=!0),"TK_RESERVED"===V?t=!0:"TK_END_EXPR"===V?t=!("]"===X.last_text&&("--"===q.text||"++"===q.text)):"TK_OPERATOR"===V&&(t=i(q.text,["--","-","++","+"])&&i(X.last_text,["--","-","++","+"]),i(q.text,["+","-"])&&i(X.last_text,["--","++"])&&(e=!0)),X.mode!==u.BlockStatement&&X.mode!==u.Statement||"{"!==X.last_text&&";"!==X.last_text||p()):":"===q.text?0===X.ternary_depth?t=!1:X.ternary_depth-=1:"?"===q.text?X.ternary_depth+=1:"*"===q.text&&"TK_RESERVED"===V&&"function"===X.last_text&&(t=!1,e=!1),W.space_before_token=W.space_before_token||t,m(),W.space_before_token=e}function $(){if(W.raw)return W.add_raw_token(q),void(q.directives&&"end"===q.directives.preserve&&(et.test_output_raw||(W.raw=!1)));if(q.directives)return p(!1,!0),m(),"start"===q.directives.preserve&&(W.raw=!0),void p(!1,!0);if(!h.newline.test(q.text)&&!q.wanted_newline)return W.space_before_token=!0,m(),void(W.space_before_token=!0);var t,e=a(q.text),i=!1,n=!1,r=q.whitespace_before,s=r.length;for(p(!1,!0),e.length>1&&(k(e.slice(1),"*")?i=!0:E(e.slice(1),r)&&(n=!0)),m(e[0]),t=1;t<e.length;t++)p(!1,!0),i?m(" "+o(e[t])):n&&e[t].length>s?m(e[t].substring(s)):W.add_token(e[t]);p(!1,!0)}function z(){q.wanted_newline?p(!1,!0):W.trim(!0),W.space_before_token=!0,m(),p(!1,!0)}function B(){C(),"TK_RESERVED"===V&&T(X.last_text)?W.space_before_token=!0:c(")"===X.last_text&&et.break_chained_methods),m()}function H(){m(),"\n"===q.text[q.text.length-1]&&p()}function j(){for(;X.mode===u.Statement;)_()}var W,U,Y,q,V,K,G,X,Q,Z,J,tt,et,it=[],nt="";for(tt={TK_START_EXPR:D,TK_END_EXPR:O,TK_START_BLOCK:M,TK_END_BLOCK:A,TK_WORD:N,TK_RESERVED:N,TK_SEMICOLON:I,TK_STRING:F,TK_EQUALS:R,TK_OPERATOR:P,TK_COMMA:L,TK_BLOCK_COMMENT:$,TK_COMMENT:z,TK_DOT:B,TK_UNKNOWN:H,TK_EOF:j},e=e?e:{},et={},void 0!==e.braces_on_own_line&&(et.brace_style=e.braces_on_own_line?"expand":"collapse"),et.brace_style=e.brace_style?e.brace_style:et.brace_style?et.brace_style:"collapse","expand-strict"===et.brace_style&&(et.brace_style="expand"),et.indent_size=e.indent_size?parseInt(e.indent_size,10):4,et.indent_char=e.indent_char?e.indent_char:" ",et.eol=e.eol?e.eol:"\n",et.preserve_newlines=void 0===e.preserve_newlines?!0:e.preserve_newlines,et.break_chained_methods=void 0===e.break_chained_methods?!1:e.break_chained_methods,et.max_preserve_newlines=void 0===e.max_preserve_newlines?0:parseInt(e.max_preserve_newlines,10),et.space_in_paren=void 0===e.space_in_paren?!1:e.space_in_paren,et.space_in_empty_paren=void 0===e.space_in_empty_paren?!1:e.space_in_empty_paren,et.jslint_happy=void 0===e.jslint_happy?!1:e.jslint_happy,et.space_after_anon_function=void 0===e.space_after_anon_function?!1:e.space_after_anon_function,et.keep_array_indentation=void 0===e.keep_array_indentation?!1:e.keep_array_indentation,et.space_before_conditional=void 0===e.space_before_conditional?!0:e.space_before_conditional,et.unescape_strings=void 0===e.unescape_strings?!1:e.unescape_strings,et.wrap_line_length=void 0===e.wrap_line_length?0:parseInt(e.wrap_line_length,10),et.e4x=void 0===e.e4x?!1:e.e4x,et.end_with_newline=void 0===e.end_with_newline?!1:e.end_with_newline,et.comma_first=void 0===e.comma_first?!1:e.comma_first,et.test_output_raw=void 0===e.test_output_raw?!1:e.test_output_raw,et.jslint_happy&&(et.space_after_anon_function=!0),e.indent_with_tabs&&(et.indent_char="	",et.indent_size=1),et.eol=et.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),G="";et.indent_size>0;)G+=et.indent_char,et.indent_size-=1;var ot=0;if(t&&t.length){for(;" "===t.charAt(ot)||"	"===t.charAt(ot);)nt+=t.charAt(ot),ot+=1;t=t.substring(ot)}V="TK_START_BLOCK",K="",W=new l(G,nt),W.raw=et.test_output_raw,Z=[],y(u.BlockStatement),this.beautify=function(){var e,i;for(Y=new d(t,et,G),it=Y.tokenize(),U=0;e=S();){for(var n=0;n<e.comments_before.length;n++)s(e.comments_before[n]);s(e),K=X.last_text,V=e.type,X.last_text=e.text,U+=1}return i=W.get_code(),et.end_with_newline&&(i+="\n"),"\n"!=et.eol&&(i=i.replace(/[\n]/g,et.eol)),i}}function a(t){var e=0,i=-1,n=[],o=!0;this.set_indent=function(n){e=t.baseIndentLength+n*t.indent_length,i=n},this.get_character_count=function(){return e},this.is_empty=function(){return o},this.last=function(){return this._empty?null:n[n.length-1]},this.push=function(t){n.push(t),e+=t.length,o=!1},this.pop=function(){var t=null;return o||(t=n.pop(),e-=t.length,o=0===n.length),t},this.remove_indent=function(){i>0&&(i-=1,e-=t.indent_length)},this.trim=function(){for(;" "===this.last();)n.pop(),e-=1;o=0===n.length},this.toString=function(){var e="";return this._empty||(i>=0&&(e=t.indent_cache[i]),e+=n.join("")),e}}function l(t,e){e=e||"",this.indent_cache=[e],this.baseIndentLength=e.length,this.indent_length=t.length,this.raw=!1;var i=[];this.baseIndentString=e,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new a(this),i.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return i.length},this.add_new_line=function(t){return 1===this.get_line_number()&&this.just_added_newline()?!1:t||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1},this.get_code=function(){var t=i.join("\n").replace(/[\r\n\t ]+$/,"");return t},this.set_indent=function(t){if(i.length>1){for(;t>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(t),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.add_outputline();this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1},this.add_token=function(t){this.add_space_before_token(),this.current_line.push(t)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(t){if(!t.multiline_frame&&t.mode!==u.ForInitializer&&t.mode!==u.Conditional)for(var e=t.start_line_index,n=i.length;n>e;)i[e].remove_indent(),e++},this.trim=function(n){for(n=void 0===n?!1:n,this.current_line.trim(t,e);n&&i.length>1&&this.current_line.is_empty();)i.pop(),this.current_line=i[i.length-1],this.current_line.trim();this.previous_line=i.length>1?i[i.length-2]:null},this.just_added_newline=function(){
return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===i.length)return!0;var t=i[i.length-2];return t.is_empty()}return!1}}function d(t,e,o){function r(t){if(!t.match(k))return null;var e={};E.lastIndex=0;for(var i=E.exec(t);i;)e[i[1]]=i[2],i=E.exec(t);return e}function s(){var o,s=[];if(m=0,g="",b>=w)return["","TK_EOF"];var k;k=y.length?y[y.length-1]:new c("TK_START_BLOCK","{");var E=t.charAt(b);for(b+=1;i(E,l);){if(h.newline.test(E)?("\n"!==E||"\r"!==t.charAt(b-2))&&(m+=1,s=[]):s.push(E),b>=w)return["","TK_EOF"];E=t.charAt(b),b+=1}if(s.length&&(g=s.join("")),d.test(E)){var D=!0,O=!0,M=d;for("0"===E&&w>b&&/[Xxo]/.test(t.charAt(b))?(D=!1,O=!1,E+=t.charAt(b),b+=1,M=/[o]/.test(t.charAt(b))?u:p):(E="",b-=1);w>b&&M.test(t.charAt(b));)E+=t.charAt(b),b+=1,D&&w>b&&"."===t.charAt(b)&&(E+=t.charAt(b),b+=1,D=!1),O&&w>b&&/[Ee]/.test(t.charAt(b))&&(E+=t.charAt(b),b+=1,w>b&&/[+-]/.test(t.charAt(b))&&(E+=t.charAt(b),b+=1),O=!1,D=!1);return[E,"TK_WORD"]}if(h.isIdentifierStart(t.charCodeAt(b-1))){if(w>b)for(;h.isIdentifierChar(t.charCodeAt(b))&&(E+=t.charAt(b),b+=1,b!==w););return"TK_DOT"===k.type||"TK_RESERVED"===k.type&&i(k.text,["set","get"])||!i(E,_)?[E,"TK_WORD"]:"in"===E?[E,"TK_OPERATOR"]:[E,"TK_RESERVED"]}if("("===E||"["===E)return[E,"TK_START_EXPR"];if(")"===E||"]"===E)return[E,"TK_END_EXPR"];if("{"===E)return[E,"TK_START_BLOCK"];if("}"===E)return[E,"TK_END_BLOCK"];if(";"===E)return[E,"TK_SEMICOLON"];if("/"===E){var A="";if("*"===t.charAt(b)){b+=1,x.lastIndex=b;var N=x.exec(t);A="/*"+N[0],b+=N[0].length;var I=r(A);return I&&"start"===I.ignore&&(T.lastIndex=b,N=T.exec(t),A+=N[0],b+=N[0].length),A=A.replace(h.lineBreak,"\n"),[A,"TK_BLOCK_COMMENT",I]}if("/"===t.charAt(b)){b+=1,C.lastIndex=b;var N=C.exec(t);return A="//"+N[0],b+=N[0].length,[A,"TK_COMMENT"]}}if("`"===E||"'"===E||'"'===E||("/"===E||e.e4x&&"<"===E&&t.slice(b-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===k.type&&i(k.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===k.type&&")"===k.text&&k.parent&&"TK_RESERVED"===k.parent.type&&i(k.parent.text,["if","while","for"])||i(k.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var F=E,R=!1,L=!1;if(o=E,"/"===F)for(var P=!1;w>b&&(R||P||t.charAt(b)!==F)&&!h.newline.test(t.charAt(b));)o+=t.charAt(b),R?R=!1:(R="\\"===t.charAt(b),"["===t.charAt(b)?P=!0:"]"===t.charAt(b)&&(P=!1)),b+=1;else if(e.e4x&&"<"===F){var $=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,z=t.slice(b-1),B=$.exec(z);if(B&&0===B.index){for(var H=B[2],j=0;B;){var W=!!B[1],U=B[2],Y=!!B[B.length-1]||"![CDATA["===U.slice(0,8);if(U!==H||Y||(W?--j:++j),0>=j)break;B=$.exec(z)}var q=B?B.index+B[0].length:z.length;return z=z.slice(0,q),b+=q-1,z=z.replace(h.lineBreak,"\n"),[z,"TK_STRING"]}}else for(;w>b&&(R||t.charAt(b)!==F&&("`"===F||!h.newline.test(t.charAt(b))));)(R||"`"===F)&&h.newline.test(t.charAt(b))?("\r"===t.charAt(b)&&"\n"===t.charAt(b+1)&&(b+=1),o+="\n"):o+=t.charAt(b),R?(("x"===t.charAt(b)||"u"===t.charAt(b))&&(L=!0),R=!1):R="\\"===t.charAt(b),b+=1;if(L&&e.unescape_strings&&(o=a(o)),w>b&&t.charAt(b)===F&&(o+=F,b+=1,"/"===F))for(;w>b&&h.isIdentifierStart(t.charCodeAt(b));)o+=t.charAt(b),b+=1;return[o,"TK_STRING"]}if("#"===E){if(0===y.length&&"!"===t.charAt(b)){for(o=E;w>b&&"\n"!==E;)E=t.charAt(b),o+=E,b+=1;return[n(o)+"\n","TK_UNKNOWN"]}var V="#";if(w>b&&d.test(t.charAt(b))){do E=t.charAt(b),V+=E,b+=1;while(w>b&&"#"!==E&&"="!==E);return"#"===E||("["===t.charAt(b)&&"]"===t.charAt(b+1)?(V+="[]",b+=2):"{"===t.charAt(b)&&"}"===t.charAt(b+1)&&(V+="{}",b+=2)),[V,"TK_WORD"]}}if("<"===E&&("?"===t.charAt(b)||"%"===t.charAt(b))){S.lastIndex=b-1;var K=S.exec(t);if(K)return E=K[0],b+=E.length-1,E=E.replace(h.lineBreak,"\n"),[E,"TK_STRING"]}if("<"===E&&"<!--"===t.substring(b-1,b+3)){for(b+=3,E="<!--";!h.newline.test(t.charAt(b))&&w>b;)E+=t.charAt(b),b++;return v=!0,[E,"TK_COMMENT"]}if("-"===E&&v&&"-->"===t.substring(b-1,b+2))return v=!1,b+=2,["-->","TK_COMMENT"];if("."===E)return[E,"TK_DOT"];if(i(E,f)){for(;w>b&&i(E+t.charAt(b),f)&&(E+=t.charAt(b),b+=1,!(b>=w)););return","===E?[E,"TK_COMMA"]:"="===E?[E,"TK_EQUALS"]:[E,"TK_OPERATOR"]}return[E,"TK_UNKNOWN"]}function a(t){for(var e,i=!1,n="",o=0,r="",s=0;i||o<t.length;)if(e=t.charAt(o),o++,i){if(i=!1,"x"===e)r=t.substr(o,2),o+=2;else{if("u"!==e){n+="\\"+e;continue}r=t.substr(o,4),o+=4}if(!r.match(/^[0123456789abcdefABCDEF]+$/))return t;if(s=parseInt(r,16),s>=0&&32>s){n+="x"===e?"\\x"+r:"\\u"+r;continue}if(34===s||39===s||92===s)n+="\\"+String.fromCharCode(s);else{if("x"===e&&s>126&&255>=s)return t;n+=String.fromCharCode(s)}}else"\\"===e?i=!0:n+=e;return n}var l="\n\r	 ".split(""),d=/[0-9]/,u=/[01234567]/,p=/[0123456789abcdefABCDEF]/,f="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var m,g,v,y,b,w,_=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),x=/([\s\S]*?)((?:\*\/)|$)/g,C=/([^\n\r\u2028\u2029]*)/g,k=/\/\* beautify( \w+[:]\w+)+ \*\//g,E=/ (\w+)[:](\w+)/g,T=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,S=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){w=t.length,b=0,v=!1,y=[];for(var e,i,n,o=null,r=[],a=[];!i||"TK_EOF"!==i.type;){for(n=s(),e=new c(n[1],n[0],m,g);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=n[2]),a.push(e),n=s(),e=new c(n[1],n[0],m,g);a.length&&(e.comments_before=a,a=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=i,r.push(o),o=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&o&&("]"===e.text&&"["===o.text||")"===e.text&&"("===o.text||"}"===e.text&&"{"===o.text)&&(e.parent=o.parent,o=r.pop()),y.push(e),i=e}return y}}var h={};!function(t){var e="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",i="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",n=new RegExp("["+e+"]"),o=new RegExp("["+e+i+"]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(t){return 65>t?36===t||64===t:91>t?!0:97>t?95===t:123>t?!0:t>=170&&n.test(String.fromCharCode(t))},t.isIdentifierChar=function(t){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:t>=170&&o.test(String.fromCharCode(t))}}(h);var u={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},c=function(t,e,i,n,o,r){this.type=t,this.text=e,this.comments_before=[],this.newlines=i||0,this.wanted_newline=i>0,this.whitespace_before=n||"",this.parent=null,this.directives=null};return{run:t}}}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){"use strict";t.extend(t.FE.DEFAULTS,{codeMirror:!0,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2}}),t.FE.PLUGINS.codeView=function(e){function i(){return e.$box.hasClass("fr-code-view")}function n(){return u?u.getValue():h.val()}function o(t){var i=n();e.html.set(i),e.$el.blur(),e.$tb.find(" > .fr-command").not(t).removeClass("fr-disabled"),t.removeClass("fr-active"),e.events.focus(!0),e.placeholder.refresh(),e.undo.saveStep()}function r(t,i){h||l(),!u&&e.opts.codeMirror&&"undefined"!=typeof CodeMirror&&(u=CodeMirror.fromTextArea(h.get(0),e.opts.codeMirrorOptions)),e.undo.saveStep(),e.html.cleanEmptyTags(),e.html.cleanWhiteTags(!0),e.core.hasFocus()&&(e.core.isEmpty()||(e.selection.save(),e.$el.find('.fr-marker[data-type="true"]:first').replaceWith('<span class="fr-tmp fr-sm">F</span>'),e.$el.find('.fr-marker[data-type="false"]:last').replaceWith('<span class="fr-tmp fr-em">F</span>')),e.$el.blur());var n=e.html.get(!1,!0);e.$el.find("span.fr-tmp").remove(),n=n.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM"),n=n.replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),e.codeBeautifier&&(n=e.codeBeautifier.run(n,{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"	",indent_size:1,wrap_line_length:0}));var o,r;if(u){o=n.indexOf("FROALA-SM"),r=n.indexOf("FROALA-EM"),o>r?o=r:r-=9,n=n.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"");var s=n.substring(0,o).length-n.substring(0,o).replace(/\n/g,"").length,a=n.substring(0,r).length-n.substring(0,r).replace(/\n/g,"").length;o=n.substring(0,o).length-n.substring(0,n.substring(0,o).lastIndexOf("\n")+1).length,r=n.substring(0,r).length-n.substring(0,n.substring(0,r).lastIndexOf("\n")+1).length,u.setSize(null,Math.max(i,150)),u.setValue(n),u.focus(),u.setSelection({line:s,ch:o},{line:a,ch:r}),u.refresh(),u.clearHistory()}else o=n.indexOf("FROALA-SM"),r=n.indexOf("FROALA-EM")-9,h.css("height",i),(e.opts.height||e.opts.heightMax)&&h.css("max-height",e.opts.height||e.opts.heightMax),h.val(n.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")),h.focus(),h.get(0).setSelectionRange(o,r);e.$tb.find(" > .fr-command").not(t).addClass("fr-disabled"),t.addClass("fr-active"),!e.helpers.isMobile()&&e.opts.toolbarInline&&e.toolbar.hide()}function s(t){"undefined"==typeof t&&(t=!i());var n=e.$tb.find('.fr-command[data-cmd="html"]');if(t){e.popups.hideAll();var s=e.$wp.outerHeight();e.$box.toggleClass("fr-code-view",!0),r(n,s)}else e.$box.toggleClass("fr-code-view",!1),o(n)}function a(){i()&&(s(e.$tb.find('button[data-cmd="html"]')),h.val("").removeData().remove()),c&&c.remove()}function l(){h=t('<textarea class="fr-code" tabindex="-1">'),e.$wp.append(h),h.attr("dir",e.opts.direction),e.opts.toolbarInline&&(c=t('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'+(e.helpers.isMobile()?"":" fr-desktop")+'" role="button" tabindex="-1"><i class="fa fa-code"></i></button>'),e.$box.append(c),e.events.bindClick(e.$box,"a.html-switch",function(){s(!1)}));var o=function(){return!i()};e.events.on("buttons.refresh",o),e.events.on("copy",o,!0),e.events.on("cut",o,!0),e.events.on("paste",o,!0),e.events.on("destroy",a,!0),e.events.on("html.set",function(){i()&&s(!0)}),e.events.on("form.submit",function(){i()&&(e.html.set(n()),e.events.trigger("contentChanged",[],!0))},!0)}function d(){return e.$wp?void 0:!1}var h,u,c;return{_init:d,toggle:s,isActive:i,get:n}},t.FE.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),t.FE.DefineIcon("html",{NAME:"code"})}),/*!
 * froala_editor v2.2.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2016 Froala Labs
 */
$.FE.LANGUAGE.fi={translation:{"Type something":"Kirjoita jotain",Bold:"Lihavointi",Italic:"Kursivointi",Underline:"Alleviivaus",Strikethrough:"Yliviivaus",Insert:"Lis\xe4\xe4",Delete:"Poista",Cancel:"Peruuta",OK:"Ok",Back:"Takaisin",Remove:"Poista",More:"Lis\xe4\xe4",Update:"P\xe4ivitys",Style:"Tyyli","Font Family":"Fontti","Font Size":"Fonttikoko",Colors:"V\xe4rit",Background:"Taustan",Text:"Tekstin","Paragraph Format":"Muotoilut",Normal:"Normaali",Code:"Koodi","Heading 1":"Otsikko 1","Heading 2":"Otsikko 2","Heading 3":"Otsikko 3","Heading 4":"Otsikko 4","Paragraph Style":"Kappaleen tyyli","Inline Style":"Linjassa tyyli",Align:"Tasaa","Align Left":"Tasaa vasemmalle","Align Center":"Keskit\xe4","Align Right":"Tasaa oikealle","Align Justify":"Tasaa",None:"Ei mit\xe4\xe4n","Ordered List":"J\xe4rjestetty lista","Unordered List":"J\xe4rjest\xe4m\xe4t\xf6n lista","Decrease Indent":"Sisenn\xe4","Increase Indent":"Loitonna","Insert Link":"Lis\xe4\xe4 linkki","Open in new tab":"Avaa uudessa v\xe4lilehdess\xe4","Open Link":"Avaa linkki","Edit Link":"Muokkaa linkki",Unlink:"Poista linkki","Choose Link":"Valitse linkki","Insert Image":"Lis\xe4\xe4 kuva","Upload Image":"Lataa kuva","By URL":"Mukaan URL",Browse:"Selailla","Drop image":"Pudota kuva","or click":"tai napsauta","Manage Images":"Hallitse kuvia",Loading:"Lastaus",Deleting:"Poistaminen",Tags:"Tagit","Are you sure? Image will be deleted.":"Oletko varma? Kuva poistetaan.",Replace:"Vaihda",Uploading:"Lataaminen","Loading image":"Lastaus kuva",Display:"N\xe4ytt\xe4",Inline:"Linjassa","Break Text":"Rikkoa teksti","Alternate Text":"Vaihtoehtoinen teksti","Change Size":"Muuta kokoa",Width:"Leveys",Height:"Korkeus","Something went wrong. Please try again.":"Jotain meni pieleen. Yrit\xe4 uudelleen.","Insert Video":"Lis\xe4\xe4 video","Embedded Code":"Upotettu koodi","Insert Table":"Lis\xe4\xe4 taulukko","Table Header":"Taulukko yl\xe4tunniste","Remove Table":"Poista taulukko","Table Style":"Taulukko tyyli","Horizontal Align":"Vaakasuora tasaa",Row:"Rivi","Insert row above":"Lis\xe4\xe4 rivi ennen","Insert row below":"Lis\xe4\xe4 rivi j\xe4lkeen","Delete row":"Poista rivi",Column:"Sarake","Insert column before":"Lis\xe4\xe4 sarake ennen","Insert column after":"Lis\xe4\xe4 sarake j\xe4lkeen","Delete column":"Poista sarake",Cell:"Solu","Merge cells":"Yhdist\xe4 solut","Horizontal split":"Jaa vaakasuora","Vertical split":"Jaa pystysuora","Cell Background":"Solun tausta","Vertical Align":"Pystysuora tasaa",Top:"Alku",Middle:"Keskimm\xe4inen",Bottom:"Pohja","Align Top":"Tasaa alkuun","Align Middle":"Tasaa keskimm\xe4inen","Align Bottom":"Tasaa pohja","Cell Style":"Solun tyyli","Upload File":"Lataa tiedosto","Drop file":"Pudota tiedosto",Emoticons:"Hymi\xf6it\xe4","Grinning face":"Virnisteli kasvot","Grinning face with smiling eyes":"Virnisteli kasvot hymyilev\xe4t silm\xe4t","Face with tears of joy":"Kasvot ilon kyyneleit\xe4","Smiling face with open mouth":"Hymyilev\xe4 kasvot suu auki","Smiling face with open mouth and smiling eyes":"Hymyilev\xe4 kasvot suu auki ja hymyilee silm\xe4t","Smiling face with open mouth and cold sweat":"Hymyilev\xe4 kasvot suu auki ja kylm\xe4 hiki","Smiling face with open mouth and tightly-closed eyes":"Hymyilev\xe4 kasvot suu auki ja tiiviisti suljettu silm\xe4t","Smiling face with halo":"Hymyilev\xe4 kasvot Halo","Smiling face with horns":"Hymyilev\xe4 kasvot sarvet","Winking face":"Silm\xe4niskut kasvot","Smiling face with smiling eyes":"Hymyilev\xe4 kasvot hymyilev\xe4t silm\xe4t","Face savoring delicious food":"Kasvot maistella herkullista ruokaa","Relieved face":"Vapautettu kasvot","Smiling face with heart-shaped eyes":"Hymyilev\xe4t kasvot syd\xe4men muotoinen silm\xe4t","Smiling face with sunglasses":"Hymyilev\xe4 kasvot aurinkolasit","Smirking face":"Hym\xe4t\xe4\xe4 kasvot","Neutral face":"Neutraali kasvot","Expressionless face":"Ilmeet\xf6n kasvot","Unamused face":"Ei huvittanut kasvo","Face with cold sweat":"Kasvot kylm\xe4 hiki","Pensive face":"Mietteli\xe4s kasvot","Confused face":"Sekava kasvot","Confounded face":"Sekoitti kasvot","Kissing face":"Suudella kasvot","Face throwing a kiss":"Kasvo heitt\xe4\xe4 suudelma","Kissing face with smiling eyes":"Suudella kasvot hymyilev\xe4t silm\xe4t","Kissing face with closed eyes":"Suudella kasvot silm\xe4t ummessa","Face with stuck out tongue":"Kasvot ojensi kieli","Face with stuck out tongue and winking eye":"Kasvot on juuttunut pois kielen ja silm\xe4niskuja silm\xe4","Face with stuck out tongue and tightly-closed eyes":"Kasvot on juuttunut pois kielen ja tiiviisti suljettuna silm\xe4t","Disappointed face":"Pettynyt kasvot","Worried face":"Huolissaan kasvot","Angry face":"Vihainen kasvot","Pouting face":"Pouting kasvot","Crying face":"Itku kasvot","Persevering face":"Pitk\xe4j\xe4nteinen kasvot","Face with look of triumph":"Kasvot ilme Triumph","Disappointed but relieved face":"Pettynyt mutta helpottunut kasvot","Frowning face with open mouth":"Frowning kasvot suu auki","Anguished face":"Tuskainen kasvot","Fearful face":"Pelokkuus kasvot","Weary face":"V\xe4synyt kasvot","Sleepy face":"Unelias kasvot","Tired face":"V\xe4synyt kasvot","Grimacing face":"Irvist\xe4en kasvot","Loudly crying face":"\xe4\xe4nekk\xe4\xe4sti itku kasvot","Face with open mouth":"Kasvot suu auki","Hushed face":"Hiljentynyt kasvot","Face with open mouth and cold sweat":"Kasvot suu auki ja kylm\xe4 hiki","Face screaming in fear":"Kasvot huutaa pelosta","Astonished face":"H\xe4mm\xe4stynyt kasvot","Flushed face":"Kasvojen punoitus","Sleeping face":"Nukkuva kasvot","Dizzy face":"Huimausta kasvot","Face without mouth":"Kasvot ilman suuhun","Face with medical mask":"Kasvot l\xe4\xe4ketieteen naamio",Break:"Rikkoa",Subscript:"Alaindeksi",Superscript:"Yl\xe4indeksi",Fullscreen:"Koko n\xe4ytt\xf6","Insert Horizontal Line":"Lis\xe4\xe4 vaakasuora viiva","Clear Formatting":"Poista muotoilu",Undo:"Peru",Redo:"Tee uudelleen","Select All":"Valitse kaikki","Code View":"Koodi n\xe4kym\xe4",Quote:"Lainaus",Increase:"Lis\xe4t\xe4",Decrease:"Pienenn\xe4","Quick Insert":"Nopea insertti"},direction:"ltr"},/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var t,e,i,n,o,r,s,a,l=[].slice,d={}.hasOwnProperty,h=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,o,r;if(n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(o=0,r=i.length;r>o;o++)e=i[o],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,o,r,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[t],!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(o=r=0,s=n.length;s>r;o=++r)if(i=n[o],i===e){n.splice(o,1);break}return this},t}(),t=function(t){function i(t,e){var o,r,s;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,o=null!=(s=i.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,o,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=i.getElements(this.options.clickable,"clickable")),this.init()}var n,o;return h(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return s},forceFallback:!1,fallback:function(){var t,e,n,o,r,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),o=0,r=s.length;r>o;o++)t=s[o],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),n=e.getElementsByTagName("span")[0],n&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,o,r,s,a,l,d,h,u,c,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),u=t.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=u.length;l>r;r++)e=u[r],e.textContent=this._renameFilename(t.name);for(c=t.previewElement.querySelectorAll("[data-dz-size]"),s=0,d=c.length;d>s;s++)e=c[s],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),p=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,h=p.length;h>a;a++)o=p[a],f.push(o.addEventListener("click",n));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,o,r;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),r=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,o=r.length;o>n;n++)i=r[n],i.alt=t.name,i.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,o,r,s;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=t.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],n=0,o=r.length;o>n;n++)i=r[n],s.push(i.textContent=e);return s}},errormultiple:s,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(t,e,i){var n,o,r,s,a;if(t.previewElement){for(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],o=0,r=s.length;r>o;o++)n=s[o],"PROGRESS"===n.nodeName?a.push(n.value=e):a.push(n.style.width=""+e+"%");return a}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:s,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:s,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,o,r,s;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],r=0,s=i.length;s>r;r++){e=i[r];for(t in e)o=e[t],n[t]=o}return n},i.prototype.getAcceptedFiles=function(){var t,e,i,n,o;for(n=this.files,o=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted&&o.push(t);return o},i.prototype.getRejectedFiles=function(){var t,e,i,n,o;for(n=this.files,o=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted||o.push(t);return o},i.prototype.getFilesWithStatus=function(t){var e,i,n,o,r;for(o=this.files,r=[],i=0,n=o.length;n>i;i++)e=o[i],e.status===t&&r.push(e);return r},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getAddedFiles=function(){return this.getFilesWithStatus(i.ADDED)},i.prototype.getActiveFiles=function(){var t,e,n,o,r;for(o=this.files,r=[],e=0,n=o.length;n>e;e++)t=o[e],(t.status===i.UPLOADING||t.status===i.QUEUED)&&r.push(t);return r},i.prototype.init=function(){var t,e,n,o,r,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,o,r;if(i=t.hiddenFileInput.files,i.length)for(o=0,r=i.length;r>o;o++)e=i[o],t.addFile(e);return t.emit("addedfiles",i),n()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,o=0,r=a.length;r>o;o++)t=a[o],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){return 0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(o){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return(e!==t.element||n.target===t.element||i.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,n,o,r,s,a;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),r=0,s=a.length;s>r;r++)e=a[r],n+=e.upload.bytesSent,i+=e.upload.total;o=100*n/i}else o=100;return this.emit("totaluploadprogress",o,i,n)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype._renameFilename=function(t){return"function"!=typeof this.options.renameFilename?t:this.options.renameFilename(t)},i.prototype.getFallbackForm=function(){var t,e,n,o;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(n),"FORM"!==this.element.tagName?(o=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:e)},i.prototype.getExistingFallback=function(){var t,e,i,n,o,r;for(e=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},r=["div","form"],n=0,o=r.length;o>n;n++)if(i=r[n],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,n,o,r,s;for(r=this.listeners,s=[],n=0,o=r.length;o>n;n++)t=r[n],s.push(function(){var n,o;n=t.events,o=[];for(e in n)i=n[e],o.push(t.element.addEventListener(e,i,!1));return o}());return s},i.prototype.removeEventListeners=function(){var t,e,i,n,o,r,s;for(r=this.listeners,s=[],n=0,o=r.length;o>n;n++)t=r[n],s.push(function(){var n,o;n=t.events,o=[];for(e in n)i=n[e],o.push(t.element.removeEventListener(e,i,!1));return o}());return s},i.prototype.disable=function(){var t,e,i,n,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(this.cancelUpload(t));return o},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,n,o,r,s,a,l;if(n=0,o="b",t>0){for(s=["TB","GB","MB","KB","b"],i=a=0,l=s.length;l>a;i=++a)if(r=s[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),o=r;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+o},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;n>i;i++)e=t[i],o.push(this.addFile(e));return o},i.prototype._addFilesFromItems=function(t){var e,i,n,o,r;for(r=[],n=0,o=t.length;o>n;n++)i=t[n],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?r.push(this.addFile(i.getAsFile())):e.isDirectory?r.push(this._addFilesFromDirectory(e,e.name)):r.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?r.push(this.addFile(i.getAsFile())):r.push(void 0);return r},i.prototype._addFilesFromDirectory=function(t,e){var i,n,o;return i=t.createReader(),n=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(o=function(t){return function(){return i.readEntries(function(i){var n,r,s;if(i.length>0){for(r=0,s=i.length;s>r;r++)n=i[r],n.isFile?n.file(function(i){return t.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+e+"/"+i.name,t.addFile(i))}):n.isDirectory&&t._addFilesFromDirectory(n,""+e+"/"+n.name);o()}return null},n)}}(this))()},i.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(t){return t.status===i.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(t){var e,n,o,r;for(null==t&&(t=!1),r=this.files.slice(),n=0,o=r.length;o>n;n++)e=r[n],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},i.prototype.createThumbnailFromUrl=function(t,e,i,n){var o;return o=document.createElement("img"),n&&(o.crossOrigin=n),o.onload=function(e){return function(){var n,s,a,l,d,h,u,c;return t.width=o.width,t.height=o.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),n=document.createElement("canvas"),s=n.getContext("2d"),n.width=a.trgWidth,n.height=a.trgHeight,r(s,o,null!=(d=a.srcX)?d:0,null!=(h=a.srcY)?h:0,a.srcWidth,a.srcHeight,null!=(u=a.trgX)?u:0,null!=(c=a.trgY)?c:0,a.trgWidth,a.trgHeight),l=n.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i?i():void 0}}(this),null!=i&&(o.onerror=i),o.src=e},i.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;e>t;){if(!n.length)return;this.processFile(n.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,n,o;for(n=0,o=t.length;o>n;n++)e=t[n],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,n,o,r;for(o=this.files,r=[],i=0,n=o.length;n>i;i++)e=o[i],e.xhr===t&&r.push(e);return r}.call(this)},i.prototype.cancelUpload=function(t){var e,n,o,r,s,a,l;if(t.status===i.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),o=0,s=n.length;s>o;o++)e=n[o],e.status=i.CANCELED;for(t.xhr.abort(),r=0,a=n.length;a>r;r++)e=n[r],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=t.status)===i.ADDED||l===i.QUEUED)&&(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},o=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,r,s,a,l,d,h,u,c,p,f,m,g,v,y,b,w,_,x,C,k,E,T,S,D,O,M,A,N,I,F,R,L,P;for(x=new XMLHttpRequest,C=0,S=t.length;S>C;C++)e=t[C],e.xhr=x;m=o(this.options.method,t),w=o(this.options.url,t),x.open(m,w,!0),x.withCredentials=!!this.options.withCredentials,y=null,s=function(i){return function(){var n,o,r;for(r=[],n=0,o=t.length;o>n;n++)e=t[n],r.push(i._errorProcessing(t,y||i.options.dictResponseError.replace("{{statusCode}}",x.status),x));return r}}(this),b=function(i){return function(n){var o,r,s,a,l,d,h,u,c;if(null!=n)for(r=100*n.loaded/n.total,s=0,d=t.length;d>s;s++)e=t[s],e.upload={progress:r,total:n.total,bytesSent:n.loaded};else{for(o=!0,r=100,a=0,h=t.length;h>a;a++)e=t[a],(100!==e.upload.progress||e.upload.bytesSent!==e.upload.total)&&(o=!1),e.upload.progress=r,e.upload.bytesSent=e.upload.total;if(o)return}for(c=[],l=0,u=t.length;u>l;l++)e=t[l],c.push(i.emit("uploadprogress",e,r,e.upload.bytesSent));return c}}(this),x.onload=function(e){return function(n){var o;if(t[0].status!==i.CANCELED&&4===x.readyState){if(y=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(r){n=r,y="Invalid JSON response from server."}return b(),200<=(o=x.status)&&300>o?e._finished(t,y,n):s()}}}(this),x.onerror=function(e){return function(){return t[0].status!==i.CANCELED?s():void 0}}(this),v=null!=(N=x.upload)?N:x,v.onprogress=b,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(d,this.options.headers);for(a in d)l=d[a],l&&x.setRequestHeader(a,l);if(r=new FormData,this.options.params){I=this.options.params;for(f in I)_=I[f],r.append(f,_)}for(k=0,D=t.length;D>k;k++)e=t[k],this.emit("sending",e,x,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,x,r),"FORM"===this.element.tagName)for(F=this.element.querySelectorAll("input, textarea, select, button"),E=0,O=F.length;O>E;E++)if(u=F[E],c=u.getAttribute("name"),p=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(R=u.options,T=0,M=R.length;M>T;T++)g=R[T],g.selected&&r.append(c,g.value);else(!p||"checkbox"!==(L=p.toLowerCase())&&"radio"!==L||u.checked)&&r.append(c,u.value);for(h=A=0,P=t.length-1;P>=0?P>=A:A>=P;h=P>=0?++A:--A)r.append(this._getParamName(h),t[h],this._renameFilename(t[h].name));return this.submitRequest(x,r,t)},i.prototype.submitRequest=function(t,e,i){return t.send(e)},i.prototype._finished=function(t,e,n){var o,r,s;for(r=0,s=t.length;s>r;r++)o=t[r],o.status=i.SUCCESS,this.emit("success",o,e,n),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(t,e,n){var o,r,s;for(r=0,s=t.length;s>r;r++)o=t[r],o.status=i.ERROR,this.emit("error",o,e,n),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i}(e),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,o,r,s;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,o,r;for(r=[],i=0,o=t.length;o>i;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?r.push(n.push(e)):r.push(void 0);return r},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],o=0,r=n.length;r>o;o++)i=n[o],t.optionsForElement(i)!==!1?s.push(new t(i)):s.push(void 0);return s},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,o,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=t.blacklistedBrowsers,n=0,o=r.length;o>n;n++)i=r[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var i,n,o,r;for(r=[],n=0,o=t.length;o>n;n++)i=t[n],i!==e&&r.push(i);return r},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,o,r,s,a,l,d;if(t instanceof Array){o=[];try{for(r=0,a=t.length;a>r;r++)n=t[r],o.push(this.getElement(n,e))}catch(h){i=h,o=null}}else if("string"==typeof t)for(o=[],d=document.querySelectorAll(t),s=0,l=d.length;l>s;s++)n=d[s],o.push(n);else null!=t.nodeType&&(o=[t]);if(null==o||!o.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,o,r,s;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),r=0,s=e.length;s>r;r++)if(o=e[r],o=o.trim(),"."===o.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(t){var e,i,n,o,r,s,a,l,d,h;for(a=t.naturalWidth,s=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=s,n=i.getContext("2d"),n.drawImage(t,0,0),o=n.getImageData(0,0,1,s).data,h=0,r=s,l=s;l>h;)e=o[4*(l-1)+3],0===e?r=l:h=l,l=r+h>>1;
return d=l/s,0===d?1:d},r=function(t,e,i,n,r,s,a,l,d,h){var u;return u=o(e),t.drawImage(e,i,n,r,s,a,l,d,h/u)},n=function(t,e){var i,n,o,r,s,a,l,d,h;if(o=!1,h=!0,n=t.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",r=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?t:n)[l](a+i.type,r,!1),!o&&(o=!0)?e.call(t,i.type||i):void 0):void 0},s=function(){var t;try{d.doScroll("left")}catch(e){return t=e,void setTimeout(s,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{h=!t.frameElement}catch(u){}h&&s()}return n[i](a+"DOMContentLoaded",r,!1),n[i](a+"readystatechange",r,!1),t[i](a+"load",r,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},n(window,t._autoDiscoverFunction)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(t){var e,i,n,o,r,s,a="Close",l="BeforeClose",d="AfterClose",h="BeforeAppend",u="MarkupParse",c="Open",p="Change",f="mfp",m="."+f,g="mfp-ready",v="mfp-removing",y="mfp-prevent-close",b=function(){},w=!!window.jQuery,_=t(window),x=function(t,i){e.ev.on(f+t+m,i)},C=function(e,i,n,o){var r=document.createElement("div");return r.className="mfp-"+e,n&&(r.innerHTML=n),o?i&&i.appendChild(r):(r=t(r),i&&r.appendTo(i)),r},k=function(i,n){e.ev.triggerHandler(f+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},E=function(i){return i===s&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),s=i),e.currTemplate.closeBtn},T=function(){t.magnificPopup.instance||(e=new b,e.init(),t.magnificPopup.instance=e)},S=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};b.prototype={constructor:b,init:function(){var i=navigator.appVersion;e.isIE7=-1!==i.indexOf("MSIE 7."),e.isIE8=-1!==i.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=S(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var o;if(i.isObj===!1){e.items=i.items.toArray(),e.index=0;var s,a=i.items;for(o=0;o<a.length;o++)if(s=a[o],s.parsed&&(s=s.el[0]),s===i.el[0]){e.index=o;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],r="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=C("bg").on("click"+m,function(){e.close()}),e.wrap=C("wrap").attr("tabindex",-1).on("click"+m,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=C("container",e.wrap)),e.contentContainer=C("content"),e.st.preloader&&(e.preloader=C("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(o=0;o<l.length;o++){var d=l[o];d=d.charAt(0).toUpperCase()+d.slice(1),e["init"+d].call(e)}k("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(x(u,function(t,e,i,n){i.close_replaceWith=E(n.type)}),r+=" mfp-close-btn-in"):e.wrap.append(E())),e.st.alignTop&&(r+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:_.scrollTop(),position:"absolute"}),(e.st.fixedBgPos===!1||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+m,function(t){27===t.keyCode&&e.close()}),_.on("resize"+m,function(){e.updateSize()}),e.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&e.wrap.addClass(r);var h=e.wH=_.height(),p={};if(e.fixedContentPos&&e._hasScrollBar(h)){var f=e._getScrollbarSize();f&&(p.marginRight=f)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):p.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),k("BuildControls"),t("html").css(p),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(g),e._setFocus()):e.bgOverlay.addClass(g),n.on("focusin"+m,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(h),k(c),i},close:function(){e.isOpen&&(k(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(v),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){k(a);var i=v+" "+g+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var o={marginRight:""};e.isIE7?t("body, html").css("overflow",""):o.overflow="",t("html").css(o)}n.off("keyup"+m+" focusin"+m),e.ev.off(m),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&e.currTemplate[e.currItem.type]!==!0||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,k(d)},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||_.height();e.fixedContentPos||e.wrap.css("height",e.wH),k("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(k("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var r=e.st[n]?e.st[n].markup:!1;k("FirstMarkupParse",r),r?e.currTemplate[n]=t(r):e.currTemplate[n]=!0}o&&o!==i.type&&e.container.removeClass("mfp-"+o+"-holder");var s=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(s,n),i.preloaded=!0,k(p,i),o=i.type,e.container.prepend(e.contentContainer),k("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&e.currTemplate[i]===!0?e.content.find(".mfp-close").length||e.content.append(E()):e.content=t:e.content="",k(h),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,o=e.items[i];if(o.tagName?o={el:t(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var r=e.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){n=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||e.st.type||"inline",o.index=i,o.parsed=!0,e.items[i]=o,k("ElementParse",o),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var o="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(o).on(o,n)):(i.isObj=!1,i.delegate?t.off(o).on(o,i.delegate,n):(i.items=t,t.off(o).on(o,n)))},_openClick:function(i,n,o){var r=void 0!==o.midClick?o.midClick:t.magnificPopup.defaults.midClick;if(r||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var s=void 0!==o.disableOn?o.disableOn:t.magnificPopup.defaults.disableOn;if(s)if(t.isFunction(s)){if(!s.call(e))return!0}else if(_.width()<s)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),o.el=t(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),e.open(o)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var o={status:t,text:n};k("UpdateStatus",o),t=o.status,n=o.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(y)){var n=e.st.closeOnContentClick,o=e.st.closeOnBgClick;if(n&&o)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(o&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||_.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){return i.target===e.wrap[0]||t.contains(e.wrap[0],i.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,i,n){var o;n.data&&(i=t.extend(n.data,i)),k(u,[e,i,n]),t.each(i,function(t,i){if(void 0===i||i===!1)return!0;if(o=t.split("_"),o.length>1){var n=e.find(m+"-"+o[0]);if(n.length>0){var r=o[1];"replaceWith"===r?n[0]!==i[0]&&n.replaceWith(i):"img"===r?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(o[1],i)}}else e.find(m+"-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(e,i){return T(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(i){T();var n=t(this);if("string"==typeof i)if("open"===i){var o,r=w?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?o=r.items[s]:(o=n,r.delegate&&(o=o.find(r.delegate)),o=o.eq(s)),e._openClick({mfpEl:o},n,r)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),w?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var D,O,M,A="inline",N=function(){M&&(O.after(M.addClass(D)).detach(),M=null)};t.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(A),x(a+"."+A,function(){N()})},getInline:function(i,n){if(N(),i.src){var o=e.st.inline,r=t(i.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(O||(D=o.hiddenClass,O=C(D),D="mfp-"+D),M=r.after(O).detach().removeClass(D)),e.updateStatus("ready")}else e.updateStatus("error",o.tNotFound),r=t("<div>");return i.inlineElement=r,r}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var I,F="ajax",R=function(){I&&t(document.body).removeClass(I)},L=function(){R(),e.req&&e.req.abort()};t.magnificPopup.registerModule(F,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(F),I=e.st.ajax.cursor,x(a+"."+F,L),x("BeforeChange."+F,L)},getAjax:function(i){I&&t(document.body).addClass(I),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,o,r){var s={data:n,xhr:r};k("ParseAjax",s),e.appendContent(t(s.data),F),i.finished=!0,R(),e._setFocus(),setTimeout(function(){e.wrap.addClass(g)},16),e.updateStatus("ready"),k("AjaxContentAdded")},error:function(){R(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var P,$=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),x(c+n,function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)}),x(a+n,function(){i.cursor&&t(document.body).removeClass(i.cursor),_.off("resize"+m)}),x("Resize"+n,e.resizeImage),e.isLowIE&&x("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,P&&clearInterval(P),t.isCheckingImgSize=!1,k("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],o=function(r){P&&clearInterval(P),P=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(P),i++,void(3===i?o(10):40===i?o(50):100===i&&o(500)))},r)};o(1)},getImage:function(i,n){var o=0,r=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,k("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):s()))},s=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=e.st.image,l=n.find(".mfp-img");if(l.length){var d=document.createElement("img");d.className="mfp-img",i.el&&i.el.find("img").length&&(d.alt=i.el.find("img").attr("alt")),i.img=t(d).on("load.mfploader",r).on("error.mfploader",s),d.src=i.src,l.is("img")&&(i.img=i.img.clone()),d=i.img[0],d.naturalWidth>0?i.hasSize=!0:d.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:$(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(P&&clearInterval(P),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var z,B=function(){return void 0===z&&(z=void 0!==document.createElement("p").style.MozTransform),z};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var o,r,s=i.duration,d=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=n,e.css(o),e},h=function(){e.content.css("visibility","visible")};x("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.content.css("visibility","hidden"),t=e._getItemToZoom(),!t)return void h();r=d(t),r.css(e._getOffset()),e.wrap.append(r),o=setTimeout(function(){r.css(e._getOffset(!0)),o=setTimeout(function(){h(),setTimeout(function(){r.remove(),t=r=null,k("ZoomAnimationEnded")},16)},s)},16)}}),x(l+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.st.removalDelay=s,!t){if(t=e._getItemToZoom(),!t)return;r=d(t)}r.css(e._getOffset(!0)),e.wrap.append(r),e.content.css("visibility","hidden"),setTimeout(function(){r.css(e._getOffset())},16)}}),x(a+n,function(){e._allowZoom()&&(h(),r&&r.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return e.currItem.hasSize?e.currItem.img:!1},_getOffset:function(i){var n;n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var o=n.offset(),r=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);o.top-=t(window).scrollTop()-r;var a={width:n.width(),height:(w?n.innerHeight():n[0].offsetHeight)-s-r};return B()?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var H="iframe",j="//about:blank",W=function(t){if(e.currTemplate[H]){var i=e.currTemplate[H].find("iframe");i.length&&(t||(i[0].src=j),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(H),x("BeforeChange",function(t,e,i){e!==i&&(e===H?W():i===H&&W(!0))}),x(a+"."+H,function(){W()})},getIframe:function(i,n){var o=i.src,r=e.st.iframe;t.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var s={};return r.srcAction&&(s[r.srcAction]=o),e._parseMarkup(n,s,i),e.updateStatus("ready"),n}}});var U=function(t){var i=e.items.length;return t>i-1?t-i:0>t?i+t:t},Y=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,o=".mfp-gallery",s=Boolean(t.fn.mfpFastClick);return e.direction=!0,i&&i.enabled?(r+=" mfp-gallery",x(c+o,function(){i.navigateByImgClick&&e.wrap.on("click"+o,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),n.on("keydown"+o,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),x("UpdateStatus"+o,function(t,i){i.text&&(i.text=Y(i.text,e.currItem.index,e.items.length))}),x(u+o,function(t,n,o,r){var s=e.items.length;o.counter=s>1?Y(i.tCounter,r.index,s):""}),x("BuildControls"+o,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,o=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(y),r=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(y),a=s?"mfpFastClick":"click";o[a](function(){e.prev()}),r[a](function(){e.next()}),e.isIE7&&(C("b",o[0],!1,!0),C("a",o[0],!1,!0),C("b",r[0],!1,!0),C("a",r[0],!1,!0)),e.container.append(o.add(r))}}),x(p+o,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void x(a+o,function(){n.off(o),e.wrap.off("click"+o),e.arrowLeft&&s&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null})):!1},next:function(){e.direction=!0,e.index=U(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=U(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),o=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?o:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:o);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=U(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),k("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,k("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var q="retina";t.magnificPopup.registerModule(q,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;i=isNaN(i)?i():i,i>1&&(x("ImageHasSize."+q,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),x("ElementParse."+q,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),function(){var e=1e3,i="ontouchstart"in window,n=function(){_.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;t.fn.mfpFastClick=function(o){return t(this).each(function(){var s,a=t(this);if(i){var l,d,h,u,c,p;a.on("touchstart"+r,function(t){u=!1,p=1,c=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],d=c.clientX,h=c.clientY,_.on("touchmove"+r,function(t){c=t.originalEvent?t.originalEvent.touches:t.touches,p=c.length,c=c[0],(Math.abs(c.clientX-d)>10||Math.abs(c.clientY-h)>10)&&(u=!0,n())}).on("touchend"+r,function(t){n(),u||p>1||(s=!0,t.preventDefault(),clearTimeout(l),l=setTimeout(function(){s=!1},e),o())})})}a.on("click"+r,function(){s||o()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+r+" click"+r),i&&_.off("touchmove"+r+" touchend"+r)}}(),T()}),/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=n(String(t||"").toLowerCase()),!t||!t.length)return[];var e,i,r,a,l=[],d=t.split(/ +/);for(e=0,i=d.length;i>e;e++){if(r=o(d[e]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(r=r.replace(new RegExp(a,"g"),s[a]));l.push({string:d[e],regex:new RegExp(r,"i")})}return l},t.prototype.iterator=function(t,e){var i;i=r(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;i>e;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},i.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var i,n,o,r;i=this,t=i.prepareSearch(t,e),o=t.tokens,n=t.options.fields,r=o.length;var s=function(t,e){var i,n;return t?(t=String(t||""),n=t.search(e.regex),-1===n?0:(i=e.string.length/t.length,0===n&&(i+=.5),i)):0},a=function(){var t=n.length;return t?1===t?function(t,e){return s(e[n[0]],t)}:function(e,i){for(var o=0,r=0;t>o;o++)r+=s(i[n[o]],e);return r/t}:function(){return 0}}();return r?1===r?function(t){return a(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;r>i;i++){if(e=a(o[i],t),0>=e)return 0;n+=e}return n/r}:function(t){for(var e=0,i=0;r>e;e++)i+=a(o[e],t);return i/r}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var n,o,r,s,a,l,d,h,u,c,p;if(r=this,t=r.prepareSearch(t,i),p=!t.query&&i.sort_empty||i.sort,u=function(t,e){return"$score"===t?e.score:r.items[e.id][t]},a=[],p)for(n=0,o=p.length;o>n;n++)(t.query||"$score"!==p[n].field)&&a.push(p[n]);if(t.query){for(c=!0,n=0,o=a.length;o>n;n++)if("$score"===a[n].field){c=!1;break}c&&a.unshift({field:"$score",direction:"desc"})}else for(n=0,o=a.length;o>n;n++)if("$score"===a[n].field){a.splice(n,1);break}for(h=[],n=0,o=a.length;o>n;n++)h.push("desc"===a[n].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,d=h[0],function(t,i){return d*e(u(s,t),u(s,i))}):function(t,i){var n,o,r;for(n=0;l>n;n++)if(r=a[n].field,o=h[n]*e(u(r,t),u(r,i)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=i({},e);var n=e.fields,o=e.sort,s=e.sort_empty;return n&&!r(n)&&(e.fields=[n]),o&&!r(o)&&(e.sort=[o]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var i,n,o,r,s=this;return n=this.prepareSearch(t,e),e=n.options,t=n.query,r=e.score||s.getScoreFunction(n),t.length?s.iterator(s.items,function(t,o){i=r(t),(e.filter===!1||i>0)&&n.items.push({score:i,id:o})}):s.iterator(s.items,function(t,e){n.items.push({score:1,id:e})}),o=s.getSortFunction(n,e),o&&n.items.sort(o),n.total=n.items.length,"number"==typeof e.limit&&(n.items=n.items.slice(0,e.limit)),n};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:e>t?-1:0:(t=a(String(t||"")),e=a(String(e||"")),t>e?1:e>t?-1:0)},i=function(t,e){var i,n,o,r;for(i=1,n=arguments.length;n>i;i++)if(r=arguments[i])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},n=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\u0100\u0101\u0105\u0104]",c:"[c\xc7\xe7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\xd1\xf1\u0148\u0147\u0144\u0143]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc\u016f\u016e\u016a\u016b]",y:"[y\u0178\xff\xfd\xdd]",z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},a=function(){var t,e,i,n,o="",r={};for(i in s)if(s.hasOwnProperty(i))for(n=s[i].substring(2,s[i].length-1),o+=n,t=0,e=n.length;e>t;t++)r[n.charAt(t)]=i;var a=new RegExp("["+o+"]","g");return function(t){return t.replace(a,function(t){return r[t]}).toLowerCase()}}();return t}),/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var i,n,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(i=0,n=t.length;n>i;i++)"string"==typeof t[i]?s.push(t[i]):(r.plugins.settings[t[i].name]=t[i].options,s.push(t[i].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var i=this,n=i.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=o.fn.apply(i,[i.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]},t.define=function(e,i){t.plugins[e]={name:e,fn:i}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),/**
 * selectize.js (v0.12.1)
 * Copyright (c) 20132015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,i){"use strict";var n=function(t,e){if("string"!=typeof e||e.length){var i="string"==typeof e?new RegExp(e,"i"):e,n=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(i);if(o>=0&&t.data.length>0){var r=t.data.match(i),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var d=0;d<t.childNodes.length;++d)d+=n(t.childNodes[d]);return e};return t.each(function(){n(this)})}},o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=o.prototype[e[i]]};var r=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,d=37,h=38,u=80,c=39,p=40,f=78,m=8,g=46,v=16,y=r?91:17,b=r?18:17,w=9,_=1,x=2,C=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,k=function(t){return"undefined"!=typeof t},E=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},T=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},S=function(t){return(t+"").replace(/\$/g,"$$$$")},D={};D.before=function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},D.after=function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}};var O=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},M=function(t,e){var i;return function(){var n=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,o)},e)}},A=function(t,e,i){var n,o=t.trigger,r={};t.trigger=function(){var i=arguments[0];return-1===e.indexOf(i)?o.apply(t,arguments):void(r[i]=arguments)},i.apply(t,[]),t.trigger=o;for(n in r)r.hasOwnProperty(n)&&o.apply(t,r[n])},N=function(t,e,i,n){t.on(e,i,function(e){for(var i=e.target;i&&i.parentNode!==t[0];)i=i.parentNode;return e.currentTarget=i,n.apply(this,[e])})},I=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e},F=function(t,e,i){var n,o,r={};if(i)for(n=0,o=i.length;o>n;n++)r[i[n]]=t.css(i[n]);else r=t.css();e.css(r)},R=function(e,i){if(!e)return 0;var n=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");F(i,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=n.width();return n.remove(),o},L=function(t){var e=null,i=function(i,n){var o,r,s,a,l,d,h,u;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||t.data("grow")!==!1)&&(o=t.val(),i.type&&"keydown"===i.type.toLowerCase()&&(r=i.keyCode,s=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===g||r===m?(u=I(t[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):r===m&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):r===g&&"undefined"!=typeof u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):s&&(d=i.shiftKey,h=String.fromCharCode(i.keyCode),h=d?h.toUpperCase():h.toLowerCase(),o+=h)),a=t.attr("placeholder"),!o&&a&&(o=a),l=R(o,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",i),i()},P=function(i,n){var o,r,s,a,l=this;a=i[0],a.selectize=l;var d=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=d?d.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||i.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?_:x,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++P.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:M(l.onSearchChange,n.loadThrottle)}),l.sifter=new e(this.options,{diacritics:n.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;r>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;r>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(P),i.mixin(P),t.extend(P.prototype,{setup:function(){var e,i,n,o,s,a,l,d,h,u=this,c=u.settings,p=u.eventNS,f=t(window),m=t(document),g=u.$input;if(l=u.settings.mode,d=g.attr("class")||"",e=t("<div>").addClass(c.wrapperClass).addClass(d).addClass(l),i=t("<div>").addClass(c.inputClass).addClass("items").appendTo(e),n=t('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",g.is(":disabled")?"-1":u.tabIndex),a=t(c.dropdownParent||e),o=t("<div>").addClass(c.dropdownClass).addClass(l).hide().appendTo(a),s=t("<div>").addClass(c.dropdownContentClass).appendTo(o),u.settings.copyClassesToDropdown&&o.addClass(d),e.css({width:g[0].style.width}),u.plugins.names.length&&(h="plugin-"+u.plugins.names.join(" plugin-"),e.addClass(h),o.addClass(h)),(null===c.maxItems||c.maxItems>1)&&u.tagType===_&&g.attr("multiple","multiple"),u.settings.placeholder&&n.attr("placeholder",c.placeholder),!u.settings.splitOn&&u.settings.delimiter){var w=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}g.attr("autocorrect")&&n.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&n.attr("autocapitalize",g.attr("autocapitalize")),u.$wrapper=e,u.$control=i,u.$control_input=n,u.$dropdown=o,u.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return u.onOptionHover.apply(u,arguments)}),o.on("mousedown click","[data-selectable]",function(){return u.onOptionSelect.apply(u,arguments)}),N(i,"mousedown","*:not(input)",function(){return u.onItemSelect.apply(u,arguments)}),L(n),i.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),n.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keyup:function(){return u.onKeyUp.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},blur:function(){return u.onBlur.apply(u,arguments)},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),m.on("keydown"+p,function(t){u.isCmdDown=t[r?"metaKey":"ctrlKey"],u.isCtrlDown=t[r?"altKey":"ctrlKey"],u.isShiftDown=t.shiftKey}),m.on("keyup"+p,function(t){t.keyCode===b&&(u.isCtrlDown=!1),t.keyCode===v&&(u.isShiftDown=!1),t.keyCode===y&&(u.isCmdDown=!1)}),m.on("mousedown"+p,function(t){if(u.isFocused){if(t.target===u.$dropdown[0]||t.target.parentNode===u.$dropdown[0])return!1;u.$control.has(t.target).length||t.target===u.$control[0]||u.blur(t.target)}}),f.on(["scroll"+p,"resize"+p].join(" "),function(){u.isOpen&&u.positionDropdown.apply(u,arguments)}),f.on("mousemove"+p,function(){u.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(u.$wrapper),t.isArray(c.items)&&(u.setValue(c.items),delete c.items),C&&g.on("invalid"+p,function(t){t.preventDefault(),u.isInvalid=!0,u.refreshState()}),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,g.is(":disabled")&&u.disable(),u.on("change",this.onChange),g.data("selectize",u),g.addClass("selectized"),u.trigger("initialize"),c.preload===!0&&u.onSearchChange("")},setupTemplates:function(){var e=this,i=e.settings.labelField,n=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var i=this,n=e.isDefaultPrevented();t(e.target);if(i.isFocused){if(e.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var i=this;i.isFull()||i.isInputHidden||i.isLocked?e.preventDefault():i.settings.splitOn&&setTimeout(function(){for(var e=t.trim(i.$control_input.val()||"").split(i.settings.splitOn),n=0,o=e.length;o>n;n++)i.createItem(e[n])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==w&&t.preventDefault());switch(t.keyCode){case s:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case f:if(!t.ctrlKey||t.altKey)break;case p:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case u:if(!t.ctrlKey||t.altKey)break;case h:if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,-1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case a:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case d:return void e.advanceSelection(-1,t);case c:return void e.advanceSelection(1,t);case w:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case m:case g:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var i=e.$control_input.val()||"";e.lastValue!==i&&(e.lastValue=i,e.onSearchChange(i),e.refreshOptions(),e.trigger("type",i))},onSearchChange:function(t){var e=this,i=e.settings.load;i&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(n){i.apply(e,[t,n])})))},onFocus:function(t){var e=this,i=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),(e||document.body).focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var i,n,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),n=t(e.currentTarget),n.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(i=n.attr("data-value"),"undefined"!=typeof i&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(i),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(i))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,i=e.val()!==t;i&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===_&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var i=e?[]:["change"];A(this,i,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,i){var n,o,r,s,a,l,d,h,u=this;if("single"!==u.settings.mode){if(e=t(e),!e.length)return t(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if(n=i&&i.type.toLowerCase(),"mousedown"===n&&u.isShiftDown&&u.$activeItems.length){for(h=u.$control.children(".active:last"),s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[h[0]]),a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[e[0]]),s>a&&(d=s,s=a,a=d),o=s;a>=o;o++)l=u.$control[0].childNodes[o],-1===u.$activeItems.indexOf(l)&&(t(l).addClass("active"),u.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&u.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(r=u.$activeItems.indexOf(e[0]),u.$activeItems.splice(r,1),e.removeClass("active")):u.$activeItems.push(e.addClass("active")[0]):(t(u.$activeItems).removeClass("active"),u.$activeItems=[e.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(e,i,n){var o,r,s,a,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,e=t(e),e.length&&(d.$activeOption=e.addClass("active"),(i||!k(i))&&(o=d.$dropdown_content.height(),r=d.$activeOption.outerHeight(!0),i=d.$dropdown_content.scrollTop()||0,s=d.$activeOption.offset().top-d.$dropdown_content.offset().top+i,a=s,l=s-o+r,s+r>o+i?d.$dropdown_content.stop().animate({scrollTop:l},n?d.settings.scrollDuration:0):i>s&&d.$dropdown_content.stop().animate({scrollTop:a},n?d.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var i,n,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&(o=r.settings.score.apply(this,[e]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,n=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=n):n=t.extend(!0,{},r.currentResults),s.hideSelected)for(i=n.items.length-1;i>=0;i--)-1!==r.items.indexOf(E(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(e){var i,o,r,s,a,l,d,h,u,c,p,f,m,g,v,y;"undefined"==typeof e&&(e=!0);var b=this,w=t.trim(b.$control_input.val()),_=b.search(w),x=b.$dropdown_content,C=b.$activeOption&&E(b.$activeOption.attr("data-value"));for(s=_.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],i=0;s>i;i++)for(d=b.options[_.items[i].id],h=b.render("option",d),u=d[b.settings.optgroupField]||"",c=t.isArray(u)?u:[u],o=0,r=c&&c.length;r>o;o++)u=c[o],b.optgroups.hasOwnProperty(u)||(u=""),a.hasOwnProperty(u)||(a[u]=[],l.push(u)),a[u].push(h);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){var i=b.optgroups[t].$order||0,n=b.optgroups[e].$order||0;return i-n}),p=[],i=0,s=l.length;s>i;i++)u=l[i],b.optgroups.hasOwnProperty(u)&&a[u].length?(f=b.render("optgroup_header",b.optgroups[u])||"",f+=a[u].join(""),p.push(b.render("optgroup",t.extend({},b.optgroups[u],{html:f})))):p.push(a[u].join(""));if(x.html(p.join("")),b.settings.highlight&&_.query.length&&_.tokens.length)for(i=0,s=_.tokens.length;s>i;i++)n(x,_.tokens[i].regex);if(!b.settings.hideSelected)for(i=0,s=b.items.length;s>i;i++)b.getOption(b.items[i]).addClass("selected");m=b.canCreate(w),m&&(x.prepend(b.render("option_create",{input:w})),y=t(x[0].childNodes[0])),b.hasOptions=_.items.length>0||m,b.hasOptions?(_.items.length>0?(v=C&&b.getOption(C),v&&v.length?g=v:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):x.find("[data-selectable]:first"))):g=y,b.setActiveOption(g),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var i,n,o,r=this;if(t.isArray(e))for(i=0,n=e.length;n>i;i++)r.addOption(e[i]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=E(t[this.settings.valueField]);return!e||this.options.hasOwnProperty(e)?!1:(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=E(t[this.settings.optgroupValueField]);return e?(t.$order=t.$order||++this.order,this.optgroups[e]=t,e):!1},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,i){var n,o,r,s,a,l,d,h=this;if(e=E(e),r=E(i[h.settings.valueField]),null!==e&&h.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");d=h.options[e].$order,r!==e&&(delete h.options[e],s=h.items.indexOf(e),-1!==s&&h.items.splice(s,1,r)),i.$order=i.$order||d,h.options[r]=i,a=h.renderCache.item,l=h.renderCache.option,a&&(delete a[e],delete a[r]),l&&(delete l[e],delete l[r]),-1!==h.items.indexOf(r)&&(n=h.getItem(e),o=t(h.render("item",i)),n.hasClass("active")&&o.addClass("active"),n.replaceWith(o)),h.lastQuery=null,h.isOpen&&h.refreshOptions(!1)}},removeOption:function(t,e){var i=this;t=E(t);var n=i.renderCache.item,o=i.renderCache.option;n&&delete n[t],o&&delete o[t],delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,i){var n=this.$dropdown.find("[data-selectable]"),o=n.index(e)+i;return o>=0&&o<n.length?n.eq(o):t()},getElementWithValue:function(e,i){if(e=E(e),"undefined"!=typeof e&&null!==e)for(var n=0,o=i.length;o>n;n++)if(i[n].getAttribute("data-value")===e)return t(i[n]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,i){for(var n=t.isArray(e)?e:[e],o=0,r=n.length;r>o;o++)this.isPending=r-1>o,this.addItem(n[o],i)},addItem:function(e,i){var n=i?[]:["change"];A(this,n,function(){var n,o,r,s,a,l=this,d=l.settings.mode;return e=E(e),-1!==l.items.indexOf(e)?void("single"===d&&l.close()):void(l.options.hasOwnProperty(e)&&("single"===d&&l.clear(i),"multi"===d&&l.isFull()||(n=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(n),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==d),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,n),l.updateOriginalInput({silent:i})))))})},removeItem:function(t,e){var i,n,o,r=this;i="object"==typeof t?t:r.getItem(t),t=E(i.attr("data-value")),n=r.items.indexOf(t),-1!==n&&(i.remove(),i.hasClass("active")&&(o=r.$activeItems.indexOf(i[0]),r.$activeItems.splice(o,1)),r.items.splice(n,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(t)&&r.removeOption(t,e),n<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:e}),r.positionDropdown(),r.trigger("item_remove",t,i))},createItem:function(e,i){var n=this,o=n.caretPos;e=e||t.trim(n.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(e))return r(),!1;n.lock();var s="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},a=O(function(t){if(n.unlock(),!t||"object"!=typeof t)return r();var e=E(t[n.settings.valueField]);return"string"!=typeof e?r():(n.setTextboxValue(""),n.addOption(t),n.setCaret(o),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),void r(t))}),l=s.apply(this,[e,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var t,e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",t)),e.refreshClasses()},refreshClasses:function(){var e=this,i=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!i&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,o,r=this;if(t=t||{},r.tagType===_){for(n=[],e=0,i=r.items.length;i>e;e++)o=r.options[r.items[e]][r.settings.labelField]||"",n.push('<option value="'+T(r.items[e])+'" selected="selected">'+T(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),r.$input.html(n.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&t.hideInput(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(e):t(this.$control[0].childNodes[i]).before(e),this.setCaret(i+1)},deleteSelection:function(e){var i,n,o,r,s,a,l,d,h,u=this;if(o=e&&e.keyCode===m?-1:1,r=I(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),s=[],u.$activeItems.length){for(h=u.$control.children(".active:"+(o>0?"last":"first")),a=u.$control.children(":not(input)").index(h),o>0&&a++,i=0,n=u.$activeItems.length;n>i;i++)s.push(t(u.$activeItems[i]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(0>o&&0===r.start&&0===r.length?s.push(u.items[u.caretPos-1]):o>0&&r.start===u.$control_input.val().length&&s.push(u.items[u.caretPos]));if(!s.length||"function"==typeof u.settings.onDelete&&u.settings.onDelete.apply(u,[s])===!1)return!1;for("undefined"!=typeof a&&u.setCaret(a);s.length;)u.removeItem(s.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(d=u.getOption(l),d.length&&u.setActiveOption(d)),!0},advanceSelection:function(t,e){var i,n,o,r,s,a,l=this;0!==t&&(l.rtl&&(t*=-1),i=t>0?"last":"first",n=I(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=0>t?0===n.start&&0===n.length:n.start===r,s&&!r&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+i),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var i,n,o=this;0!==t&&(i=t>0?"next":"prev",o.isShiftDown?(n=o.$control_input[i](),n.length&&(o.hideInput(),o.setActiveItem(n),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var i=this;if(e="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,e)),!i.isPending){var n,o,r,s;for(r=i.$control.children(":not(input)"),n=0,o=r.length;o>n;n++)s=t(r[n]).detach(),e>n?i.$control_input.before(s):i.$control.append(s)}i.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,i=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(i),t(document).off(i),t(document.body).off(i),delete e.$input[0].selectize},render:function(t,e){var i,n,o="",r=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===t||"item"===t)&&(i=E(e[s.settings.valueField]),r=!!i),r&&(k(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(i))?s.renderCache[t][i]:(o=s.settings.render[t].apply(this,[e,T]),("option"===t||"option_create"===t)&&(o=o.replace(a,"<$1 data-selectable")),"optgroup"===t&&(n=e[s.settings.optgroupValueField]||"",o=o.replace(a,'<$1 data-group="'+S(T(n))+'"')),("option"===t||"item"===t)&&(o=o.replace(a,'<$1 data-value="'+S(T(i||""))+'"')),r&&(s.renderCache[t][i]=o),o)},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var i=e.settings.createFilter;return t.length&&("function"!=typeof i||i.apply(e,[t]))&&("string"!=typeof i||new RegExp(i).test(t))&&(!(i instanceof RegExp)||i.test(t))}}),P.count=0,P.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var i=t.fn.selectize.defaults,n=t.extend({},i,e),o=n.dataAttr,r=n.labelField,s=n.valueField,a=n.optgroupField,l=n.optgroupLabelField,d=n.optgroupValueField,h=function(e,i){var a,l,d,h,u=e.attr(o);if(u)for(i.options=JSON.parse(u),a=0,l=i.options.length;l>a;a++)i.items.push(i.options[a][s]);else{var c=t.trim(e.val()||"");if(!n.allowEmptyOption&&!c.length)return;for(d=c.split(n.delimiter),a=0,l=d.length;l>a;a++)h={},h[r]=d[a],h[s]=d[a],i.options.push(h);i.items=d}},u=function(e,i){var h,u,c,p,f=i.options,m={},g=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,o){e=t(e);var l=E(e.attr("value"));if(l||n.allowEmptyOption)if(m.hasOwnProperty(l)){if(o){var d=m[l][a];d?t.isArray(d)?d.push(o):m[l][a]=[d,o]:m[l][a]=o}}else{var h=g(e)||{};h[r]=h[r]||e.text(),h[s]=h[s]||l,h[a]=h[a]||o,m[l]=h,f.push(h),e.is(":selected")&&i.items.push(l)}},y=function(e){var n,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=g(e)||{},s[l]=r,s[d]=r,i.optgroups.push(s)),a=t("option",e),n=0,o=a.length;o>n;n++)v(a[n],r)};for(i.maxItems=e.attr("multiple")?null:1,p=e.children(),h=0,u=p.length;u>h;h++)c=p[h].tagName.toLowerCase(),"optgroup"===c?y(p[h]):"option"===c&&v(p[h])};return this.each(function(){if(!this.selectize){var o,r=t(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||n.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?u(r,l):h(r,l),o=new P(r,t.extend(!0,{},i,l,e))}})},t.fn.selectize.defaults=P.defaults,t.fn.selectize.support={validity:C},P.define("drag_drop",function(e){
if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var t=i.lock;return function(){var e=i.$control.data("sortable");return e&&e.disable(),t.apply(i,arguments)}}(),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(e)}})}}()}}),P.define("dropdown_header",function(e){var i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=function(){var n=i.setup;return function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)}}()}),P.define("optgroup_columns",function(e){var i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,i){var n=e.closest("[data-group]").find("[data-selectable]"),o=n.index(e)+i;return o>=0&&o<n.length?n.eq(o):t()},this.onKeyDown=function(){var t=i.onKeyDown;return function(e){var n,o,r,s;return!this.isOpen||e.keyCode!==d&&e.keyCode!==c?t.apply(this,arguments):(i.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),n=s.find("[data-selectable]").index(this.$activeOption),s=e.keyCode===d?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,n)),void(o.length&&this.setActiveOption(o)))}}();var n=function(){var t,e=n.width,i=document;return"undefined"==typeof e&&(t=i.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=n.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e},o=function(){var o,r,s,a,l,d,h;if(h=t("[data-group]",i.$dropdown_content),r=h.length,r&&i.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;r>o;o++)s=Math.max(s,h.eq(o).height());h.css({height:s})}e.equalizeWidth&&(d=i.$dropdown_content.innerWidth()-n(),a=Math.round(d/r),h.css({width:a}),r>1&&(l=d-a*(r-1),h.eq(r-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(D.after(this,"positionDropdown",o),D.after(this,"refreshOptions",o))}),P.define("remove_button",function(e){if("single"!==this.settings.mode){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var i=this,n='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+T(e.title)+'">'+e.label+"</a>",o=function(t,e){var i=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,i)+e+t.substring(i)};this.setup=function(){var r=i.setup;return function(){if(e.append){var s=i.settings.render.item;i.settings.render.item=function(t){return o(s.apply(this,arguments),n)}}r.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}}),P.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var i=e.onKeyDown;return function(e){var n,o;return e.keyCode===m&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1,n>=0&&n<this.items.length)?(o=this.options[this.items[n]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):i.apply(this,arguments)}}()}),P}),/*
 * Metadata - jQuery plugin for parsing metadata from elements
 *
 * Copyright (c) 2006 John Resig, Yehuda Katz, Jrn Zaefferer, Paul McLanahan
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/(\{.*\})/,single:"metadata"},setType:function(t,e){this.defaults.type=t,this.defaults.name=e},get:function(elem,opts){var data,m,e,attr,settings=$.extend({},this.defaults,opts);if(settings.single.length||(settings.single="metadata"),data=$.data(elem,settings.single))return data;if(data="{}","class"===settings.type)m=settings.cre.exec(elem.className),m&&(data=m[1]);else if("elem"===settings.type){if(!elem.getElementsByTagName)return void 0;e=elem.getElementsByTagName(settings.name),e.length&&(data=$.trim(e[0].innerHTML))}else void 0!==elem.getAttribute&&(attr=elem.getAttribute(settings.name),attr&&(data=attr));return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(t){return $.metadata.get(this[0],t)}}(jQuery),function(t){"use strict";var e=t.tablesorter={version:"2.25.4",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(i,n){if(!i||!i.tHead||0===i.tBodies.length||i.hasInitialized===!0)return void(n.debug&&(i.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",i)));var o="",r=t(i),s=t.metadata;i.hasInitialized=!1,i.isProcessing=!0,i.config=n,t.data(i,"tablesorter",n),n.debug&&(console[console.group?"group":"log"]("Initializing tablesorter"),t.data(i,"startoveralltimer",new Date)),n.supportsDataObject=function(t){return t[0]=parseInt(t[0],10),t[0]>1||1===t[0]&&parseInt(t[1],10)>=4}(t.fn.jquery.split(".")),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(r.attr("class"))||(o=""!==n.theme?" tablesorter-"+n.theme:""),n.table=i,n.$table=r.addClass(e.css.table+" "+n.tableClass+o).attr("role","grid"),n.$headers=r.find(n.selectorHeaders),n.namespace?n.namespace="."+n.namespace.replace(e.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.$table.children().children("tr").attr("role","row"),n.$tbodies=r.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&(o=n.$table.children("caption")[0],o.id||(o.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",o.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",e.buildHeaders(n),e.fixColumnWidth(i),e.addWidgetFromClass(i),e.applyWidgetOptions(i),e.setupParsers(n),n.totalRows=0,n.delayInit||e.buildCache(n),e.bindEvents(i,n.$headers,!0),e.bindMethods(n),n.supportsDataObject&&"undefined"!=typeof r.data().sortlist?n.sortList=r.data().sortlist:s&&r.metadata()&&r.metadata().sortlist&&(n.sortList=r.metadata().sortlist),e.applyWidget(i,!0),n.sortList.length>0?e.sortOn(n,n.sortList,{},!n.initWidgets):(e.setHeadersCss(n),n.initWidgets&&e.applyWidget(i,!1)),n.showProcessing&&r.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(t){clearTimeout(n.timerProcessing),e.isProcessing(i),"sortBegin"===t.type&&(n.timerProcessing=setTimeout(function(){e.isProcessing(i,!0)},500))}),i.hasInitialized=!0,i.isProcessing=!1,n.debug&&(console.log("Overall initialization time: "+e.benchmark(t.data(i,"startoveralltimer"))),n.debug&&console.groupEnd&&console.groupEnd()),r.triggerHandler("tablesorter-initialized",i),"function"==typeof n.initialized&&n.initialized(i)},bindMethods:function(i){var n=i.$table,o=i.namespace,r="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(o+" ");n.unbind(r.replace(e.regex.spaces," ")).bind("sortReset"+o,function(t,i){t.stopPropagation(),e.sortReset(this.config,i)}).bind("updateAll"+o,function(t,i,n){t.stopPropagation(),e.updateAll(this.config,i,n)}).bind("update"+o+" updateRows"+o,function(t,i,n){t.stopPropagation(),e.update(this.config,i,n)}).bind("updateHeaders"+o,function(t,i){t.stopPropagation(),e.updateHeaders(this.config,i)}).bind("updateCell"+o,function(t,i,n,o){t.stopPropagation(),e.updateCell(this.config,i,n,o)}).bind("addRows"+o,function(t,i,n,o){t.stopPropagation(),e.addRows(this.config,i,n,o)}).bind("updateComplete"+o,function(){this.isUpdating=!1}).bind("sorton"+o,function(t,i,n,o){t.stopPropagation(),e.sortOn(this.config,i,n,o)}).bind("appendCache"+o,function(i,n,o){i.stopPropagation(),e.appendCache(this.config,o),t.isFunction(n)&&n(this)}).bind("updateCache"+o,function(t,i,n){t.stopPropagation(),e.updateCache(this.config,i,n)}).bind("applyWidgetId"+o,function(t,i){t.stopPropagation(),e.applyWidgetId(this,i)}).bind("applyWidgets"+o,function(t,i){t.stopPropagation(),e.applyWidget(this,i)}).bind("refreshWidgets"+o,function(t,i,n){t.stopPropagation(),e.refreshWidgets(this,i,n)}).bind("removeWidget"+o,function(t,i,n){t.stopPropagation(),e.removeWidget(this,i,n)}).bind("destroy"+o,function(t,i,n){t.stopPropagation(),e.destroy(this,i,n)}).bind("resetToLoadState"+o,function(n){n.stopPropagation(),e.removeWidget(this,!0,!1),i=t.extend(!0,e.defaults,i.originalSettings),this.hasInitialized=!1,e.setup(this,i)})},bindEvents:function(i,n,o){i=t(i)[0];var r,s=i.config,a=s.namespace,l=null;o!==!0&&(n.addClass(a.slice(1)+"_extra_headers"),r=t.fn.closest?n.closest("table")[0]:n.parents("table")[0],r&&"TABLE"===r.nodeName&&r!==i&&t(r).addClass(a.slice(1)+"_extra_table")),r=(s.pointerDown+" "+s.pointerUp+" "+s.pointerClick+" sort keyup ").replace(e.regex.spaces," ").split(" ").join(a+" "),n.find(s.selectorSort).add(n.filter(s.selectorSort)).unbind(r).bind(r,function(i,o){var r,a,d,h=t(i.target),u=" "+i.type+" ";if(!(1!==(i.which||i.button)&&!u.match(" "+s.pointerClick+" | sort | keyup ")||" keyup "===u&&i.which!==e.keyCodes.enter||u.match(" "+s.pointerClick+" ")&&"undefined"!=typeof i.which||u.match(" "+s.pointerUp+" ")&&l!==i.target&&o!==!0)){if(u.match(" "+s.pointerDown+" "))return l=i.target,d=h.jquery.split("."),void("1"===d[0]&&d[1]<4&&i.preventDefault());if(l=null,e.regex.formElements.test(i.target.nodeName)||h.hasClass(s.cssNoSort)||h.parents("."+s.cssNoSort).length>0||h.parents("button").length>0)return!s.cancelSelection;s.delayInit&&e.isEmptyObject(s.cache)&&e.buildCache(s),r=t.fn.closest?t(this).closest("th, td"):/TH|TD/.test(this.nodeName)?t(this):t(this).parents("th, td"),d=n.index(r),s.last.clickedIndex=0>d?r.attr("data-column"):d,a=s.$headers[s.last.clickedIndex],a&&!a.sortDisabled&&e.initSort(s,a,i)}}),s.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(i){var n,o,r,s;for(i.headerList=[],i.headerContent=[],i.sortVars=[],i.debug&&(r=new Date),i.columns=e.computeColumnIndex(i.$table.children("thead, tfoot").children("tr")),o=i.cssIcon?'<i class="'+(i.cssIcon===e.css.icon?e.css.icon:i.cssIcon+" "+e.css.icon)+'"></i>':"",i.$headers=t(t.map(i.$table.find(i.selectorHeaders),function(n,r){var s,a,l,d,h,u=t(n);if(!u.parent().hasClass(i.cssIgnoreRow))return s=e.getColumnData(i.table,i.headers,r,!0),i.headerContent[r]=u.html(),""===i.headerTemplate||u.find("."+e.css.headerIn).length||(d=i.headerTemplate.replace(e.regex.templateContent,u.html()).replace(e.regex.templateIcon,u.find("."+e.css.icon).length?"":o),i.onRenderTemplate&&(a=i.onRenderTemplate.apply(u,[r,d]),a&&"string"==typeof a&&(d=a)),u.html('<div class="'+e.css.headerIn+'">'+d+"</div>")),i.onRenderHeader&&i.onRenderHeader.apply(u,[r,i,i.$table]),l=parseInt(u.attr("data-column"),10),n.column=l,h=e.getData(u,s,"sortInitialOrder")||i.sortInitialOrder,i.sortVars[l]={count:-1,order:e.getOrder(h)?[1,0,2]:[0,1,2],lockedOrder:!1},h=e.getData(u,s,"lockedOrder")||!1,"undefined"!=typeof h&&h!==!1&&(i.sortVars[l].lockedOrder=!0,i.sortVars[l].order=e.getOrder(h)?[1,1,1]:[0,0,0]),i.headerList[r]=n,u.addClass(e.css.header+" "+i.cssHeader).parent().addClass(e.css.headerRow+" "+i.cssHeaderRow).attr("role","row"),i.tabIndex&&u.attr("tabindex",0),n})),i.$headerIndexed=[],s=0;s<i.columns;s++)e.isEmptyObject(i.sortVars[s])&&(i.sortVars[s]={}),n=i.$headers.filter('[data-column="'+s+'"]'),i.$headerIndexed[s]=n.length?n.not(".sorter-false").length?n.not(".sorter-false").filter(":last"):n.filter(":last"):t();i.$table.find(i.selectorHeaders).attr({scope:"col",role:"columnheader"}),e.updateHeader(i),i.debug&&(console.log("Built headers:"+e.benchmark(r)),console.log(i.$headers))},addInstanceMethods:function(i){t.extend(e.instanceMethods,i)},setupParsers:function(t,i){var n,o,r,s,a,l,d,h,u,c,p,f,m,g,v=t.table,y=0,b={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),m="undefined"==typeof i?t.$tbodies:i,g=m.length,0===g)return t.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(t.debug&&(f=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),o={extractors:[],parsers:[]};g>y;){if(n=m[y].rows,n.length)for(a=0,s=t.columns,l=0;s>l;l++){if(d=t.$headerIndexed[a],d&&d.length&&(h=e.getColumnData(v,t.headers,a),p=e.getParserById(e.getData(d,h,"extractor")),c=e.getParserById(e.getData(d,h,"sorter")),u="false"===e.getData(d,h,"parser"),t.empties[a]=(e.getData(d,h,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[a]=(e.getData(d,h,"string")||t.stringTo||"max").toLowerCase(),u&&(c=e.getParserById("no-parser")),p||(p=!1),c||(c=e.detectParserForColumn(t,n,-1,a)),t.debug&&(b["("+a+") "+d.text()]={parser:c.id,extractor:p?p.id:"none",string:t.strings[a],empty:t.empties[a]}),o.parsers[a]=c,o.extractors[a]=p,r=d[0].colSpan-1,r>0))for(a+=r,s+=r;r+1>0;)o.parsers[a-r]=c,o.extractors[a-r]=p,r--;a++}y+=o.parsers.length?g:1}t.debug&&(e.isEmptyObject(b)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](b),console.log("Completed detecting parsers"+e.benchmark(f)),console.groupEnd&&console.groupEnd()),t.parsers=o.parsers,t.extractors=o.extractors},addParser:function(t){var i,n=e.parsers.length,o=!0;for(i=0;n>i;i++)e.parsers[i].id.toLowerCase()===t.id.toLowerCase()&&(o=!1);o&&e.parsers.push(t)},getParserById:function(t){if("false"==t)return!1;var i,n=e.parsers.length;for(i=0;n>i;i++)if(e.parsers[i].id.toLowerCase()===t.toString().toLowerCase())return e.parsers[i];return!1},detectParserForColumn:function(i,n,o,r){for(var s,a,l,d=e.parsers.length,h=!1,u="",c=!0;""===u&&c;)o++,l=n[o],l&&50>o?l.className.indexOf(e.cssIgnoreRow)<0&&(h=n[o].cells[r],u=e.getElementText(i,h,r),a=t(h),i.debug&&console.log("Checking if value was empty on row "+o+", column: "+r+': "'+u+'"')):c=!1;for(;--d>=0;)if(s=e.parsers[d],s&&"text"!==s.id&&s.is&&s.is(u,i.table,h,a))return s;return e.getParserById("text")},getElementText:function(i,n,o){if(!n)return"";var r,s=i.textExtraction||"",a=n.jquery?n:t(n);return"string"==typeof s?"basic"===s&&"undefined"!=typeof(r=a.attr(i.textAttribute))?t.trim(r):t.trim(n.textContent||a.text()):"function"==typeof s?t.trim(s(a[0],i.table,o)):"function"==typeof(r=e.getColumnData(i.table,s,o))?t.trim(r(a[0],i.table,o)):t.trim(a[0].textContent||a.text())},getParsedText:function(t,i,n,o){"undefined"==typeof o&&(o=e.getElementText(t,i,n));var r=""+o,s=t.parsers[n],a=t.extractors[n];return s&&(a&&"function"==typeof a.format&&(o=a.format(o,t.table,i,n)),r="no-parser"===s.id?"":s.format(""+o,t.table,i,n),t.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r},buildCache:function(i,n,o){var r,s,a,l,d,h,u,c,p,f,m,g,v,y,b,w,_,x,C,k,E,T,S=i.table,D=i.parsers;if(i.$tbodies=i.$table.children("tbody:not(."+i.cssInfoBlock+")"),u="undefined"==typeof o?i.$tbodies:o,i.cache={},i.totalRows=0,!D)return i.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(i.debug&&(g=new Date),i.showProcessing&&e.isProcessing(S,!0),h=0;h<u.length;h++){for(w=[],r=i.cache[h]={normalized:[]},v=u[h]&&u[h].rows.length||0,l=0;v>l;++l)if(y={child:[],raw:[]},c=t(u[h].rows[l]),p=[],c.hasClass(i.cssChildRow)&&0!==l)for(E=r.normalized.length-1,b=r.normalized[E][i.columns],b.$row=b.$row.add(c),c.prev().hasClass(i.cssChildRow)||c.prev().addClass(e.css.cssHasChild),f=c.children("th, td"),E=b.child.length,b.child[E]=[],x=0,k=i.columns,d=0;k>d;d++)m=f[d],m&&(b.child[E][d]=e.getParsedText(i,m,d),_=f[d].colSpan-1,_>0&&(x+=_,k+=_)),x++;else{for(y.$row=c,y.order=l,x=0,k=i.columns,d=0;k>d;++d){if(m=c[0].cells[d],m&&x<i.columns&&(C="undefined"!=typeof D[x],!C&&i.debug&&console.warn("No parser found for row: "+l+", column: "+d+'; cell containing: "'+t(m).text()+'"; does it have a header?'),s=e.getElementText(i,m,x),y.raw[x]=s,a=e.getParsedText(i,m,x,s),p[x]=a,C&&"numeric"===(D[x].type||"").toLowerCase()&&(w[x]=Math.max(Math.abs(a)||0,w[x]||0)),_=m.colSpan-1,_>0)){for(T=0;_>=T;)y.raw[x+T]=i.duplicateSpan||0===T?s:"",p[x+T]=i.duplicateSpan||0===T?s:"",T++;x+=_,k+=_}x++}p[i.columns]=y,r.normalized.push(p)}r.colMax=w,i.totalRows+=r.normalized.length}if(i.showProcessing&&e.isProcessing(S),i.debug){for(E=Math.min(5,i.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+i.totalRows+" rows (showing "+E+" rows in log)"+e.benchmark(g)),s={},d=0;d<i.columns;d++)for(x=0;E>x;x++)s["row: "+x]||(s["row: "+x]={}),s["row: "+x][i.$headerIndexed[d].text()]=i.cache[0].normalized[x][d];console[console.table?"table":"log"](s),console.groupEnd&&console.groupEnd()}t.isFunction(n)&&n(S)},getColumnText:function(i,n,o,r){i=t(i)[0];var s,a,l,d,h,u,c,p,f,m,g="function"==typeof o,v="all"===n,y={raw:[],parsed:[],$cell:[]},b=i.config;if(!e.isEmptyObject(b)){for(h=b.$tbodies.length,s=0;h>s;s++)for(l=b.cache[s].normalized,u=l.length,a=0;u>a;a++)d=l[a],(!r||d[b.columns].$row.is(r))&&(m=!0,p=v?d.slice(0,b.columns):d[n],d=d[b.columns],c=v?d.raw:d.raw[n],f=v?d.$row.children():d.$row.children().eq(n),g&&(m=o({tbodyIndex:s,rowIndex:a,parsed:p,raw:c,$row:d.$row,$cell:f})),m!==!1&&(y.parsed.push(p),y.raw.push(c),y.$cell.push(f)));return y}b.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(i){var n,o,r,s=i.sortList,a=s.length,l=e.css.sortNone+" "+i.cssNone,d=[e.css.sortAsc+" "+i.cssAsc,e.css.sortDesc+" "+i.cssDesc],h=[i.cssIconAsc,i.cssIconDesc,i.cssIconNone],u=["ascending","descending"],c=i.$table.find("tfoot tr").children("td, th").add(t(i.namespace+"_extra_headers")).removeClass(d.join(" "));for(i.$headers.removeClass(d.join(" ")).addClass(l).attr("aria-sort","none").find("."+e.css.icon).removeClass(h.join(" ")).addClass(h[2]),o=0;a>o;o++)if(2!==s[o][1]&&(n=i.$headers.filter(function(t){for(var n=!0,o=i.$headers.eq(t),r=parseInt(o.attr("data-column"),10),s=r+i.$headers[t].colSpan;s>r;r++)n=n?n||e.isValueInArray(r,i.sortList)>-1:!1;return n}),n=n.not(".sorter-false").filter('[data-column="'+s[o][0]+'"]'+(1===a?":last":"")),n.length)){for(r=0;r<n.length;r++)n[r].sortDisabled||n.eq(r).removeClass(l).addClass(d[s[o][1]]).attr("aria-sort",u[s[o][1]]).find("."+e.css.icon).removeClass(h[2]).addClass(h[s[o][1]]);c.length&&c.filter('[data-column="'+s[o][0]+'"]').removeClass(l).addClass(d[s[o][1]])}for(a=i.$headers.length,o=0;a>o;o++)e.setColumnAriaLabel(i,i.$headers.eq(o))},setColumnAriaLabel:function(i,n,o){if(n.length){var r=parseInt(n.attr("data-column"),10),s=n.hasClass(e.css.sortAsc)?"sortAsc":n.hasClass(e.css.sortDesc)?"sortDesc":"sortNone",a=t.trim(n.text())+": "+e.language[s];n.hasClass("sorter-false")||o===!1?a+=e.language.sortDisabled:(o=i.sortVars[r].order[(i.sortVars[r].count+1)%(i.sortReset?3:2)],a+=e.language[0===o?"nextAsc":1===o?"nextDesc":"nextNone"]),n.attr("aria-label",a)}},updateHeader:function(t){var i,n,o,r,s=t.table,a=t.$headers.length;for(i=0;a>i;i++)o=t.$headers.eq(i),r=e.getColumnData(s,t.headers,i,!0),n="false"===e.getData(o,r,"sorter")||"false"===e.getData(o,r,"parser"),e.setColumnSort(t,o,n)},setColumnSort:function(t,e,i){var n=t.table.id;e[0].sortDisabled=i,e[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),t.tabIndex&&(i?e.removeAttr("tabindex"):e.attr("tabindex","0")),n&&(i?e.removeAttr("aria-controls"):e.attr("aria-controls",n))},updateHeaderSortCount:function(i,n){var o,r,s,a,l,d,h,u,c=n||i.sortList,p=c.length;for(i.sortList=[],a=0;p>a;a++)if(h=c[a],o=parseInt(h[0],10),o<i.columns){switch(i.sortVars[o].order||(u=i.sortVars[o].order=e.getOrder(i.sortInitialOrder)?[1,0,2]:[0,1,2],i.sortVars[o].count=0),u=i.sortVars[o].order,r=(""+h[1]).match(/^(1|d|s|o|n)/),r=r?r[0]:""){case"1":case"d":r=1;break;case"s":r=l||0;break;case"o":d=u[(l||0)%(i.sortReset?3:2)],r=0===d?1:1===d?0:2;break;case"n":r=u[++i.sortVars[o].count%(i.sortReset?3:2)];break;default:r=0}l=0===a?r:l,s=[o,parseInt(r,10)||0],i.sortList.push(s),r=t.inArray(s[1],u),i.sortVars[o].count=r>=0?r:s[1]%(i.sortReset?3:2)}},updateAll:function(t,i,n){var o=t.table;o.isUpdating=!0,e.refreshWidgets(o,!0,!0),e.buildHeaders(t),e.bindEvents(o,t.$headers,!0),e.bindMethods(t),e.commonUpdate(t,i,n)},update:function(t,i,n){var o=t.table;o.isUpdating=!0,e.updateHeader(t),e.commonUpdate(t,i,n)},updateHeaders:function(t,i){t.table.isUpdating=!0,e.buildHeaders(t),e.bindEvents(t.table,t.$headers,!0),e.resortComplete(t,i)},updateCell:function(i,n,o,r){if(e.isEmptyObject(i.cache))return e.updateHeader(i),void e.commonUpdate(i,o,r);i.table.isUpdating=!0,i.$table.find(i.selectorRemove).remove();var s,a,l,d,h,u,c=i.$tbodies,p=t(n),f=c.index(t.fn.closest?p.closest("tbody"):p.parents("tbody").filter(":first")),m=i.cache[f],g=t.fn.closest?p.closest("tr"):p.parents("tr").filter(":first");if(n=p[0],c.length&&f>=0){if(l=c.eq(f).find("tr").index(g),h=m.normalized[l],u=g[0].cells.length,u!==i.columns)for(d=0,s=!1,a=0;u>a;a++)s||g[0].cells[a]===n?s=!0:d+=g[0].cells[a].colSpan;else d=p.index();s=e.getElementText(i,n,d),h[i.columns].raw[d]=s,s=e.getParsedText(i,n,d,s),h[d]=s,h[i.columns].$row=g,"numeric"===(i.parsers[d].type||"").toLowerCase()&&(m.colMax[d]=Math.max(Math.abs(s)||0,m.colMax[d]||0)),s="undefined"!==o?o:i.resort,s!==!1?e.checkResort(i,s,r):e.resortComplete(i,r)}else i.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),i.table.isUpdating=!1},addRows:function(i,n,o,r){var s,a,l,d,h,u,c,p,f,m,g,v,y="string"==typeof n&&1===i.$tbodies.length&&/<tr/.test(n||""),b=i.table;if(y)n=t(n),i.$tbodies.append(n);else if(!(n&&n instanceof jQuery&&(t.fn.closest?n.closest("table")[0]:n.parents("table")[0])===i.table))return i.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(b.isUpdating=!0,e.isEmptyObject(i.cache))e.updateHeader(i),e.commonUpdate(i,o,r);else{for(h=n.filter("tr").attr("role","row").length,l=i.$tbodies.index(n.parents("tbody").filter(":first")),i.parsers&&i.parsers.length||e.setupParsers(i),d=0;h>d;d++){for(p=0,c=n[d].cells.length,m=[],f={child:[],raw:[],$row:n.eq(d),order:i.cache[l].normalized.length},u=0;c>u;u++)g=n[d].cells[u],s=e.getElementText(i,g,p),f.raw[p]=s,a=e.getParsedText(i,g,p,s),m[p]=a,"numeric"===(i.parsers[p].type||"").toLowerCase()&&(i.cache[l].colMax[p]=Math.max(Math.abs(a)||0,i.cache[l].colMax[p]||0)),v=g.colSpan-1,v>0&&(p+=v),p++;m[i.columns]=f,i.cache[l].normalized.push(m)}e.checkResort(i,o,r)}},updateCache:function(t,i,n){t.parsers&&t.parsers.length||e.setupParsers(t,n),e.buildCache(t,i,n)},appendCache:function(t,i){var n,o,r,s,a,l,d,h=t.table,u=t.widgetOptions,c=t.$tbodies,p=[],f=t.cache;if(e.isEmptyObject(f))return t.appender?t.appender(h,p):h.isUpdating?t.$table.triggerHandler("updateComplete",h):"";for(t.debug&&(d=new Date),l=0;l<c.length;l++)if(r=c.eq(l),r.length){for(s=e.processTbody(h,r,!0),n=f[l].normalized,o=n.length,a=0;o>a;a++)p.push(n[a][t.columns].$row),t.appender&&(!t.pager||t.pager.removeRows&&u.pager_removeRows||t.pager.ajax)||s.append(n[a][t.columns].$row);e.processTbody(h,s,!1)}t.appender&&t.appender(h,p),t.debug&&console.log("Rebuilt table"+e.benchmark(d)),i||t.appender||e.applyWidget(h),h.isUpdating&&t.$table.triggerHandler("updateComplete",h)},commonUpdate:function(t,i,n){t.$table.find(t.selectorRemove).remove(),e.setupParsers(t),e.buildCache(t),e.checkResort(t,i,n)},initSort:function(i,n,o){if(i.table.isUpdating)return setTimeout(function(){e.initSort(i,n,o)},50);var r,s,a,l,d,h,u,c=!o[i.sortMultiSortKey],p=i.table,f=i.$headers.length,m=parseInt(t(n).attr("data-column"),10),g=i.sortVars[m].order;if(i.$table.triggerHandler("sortStart",p),i.sortVars[m].count=o[i.sortResetKey]?2:(i.sortVars[m].count+1)%(i.sortReset?3:2),i.sortRestart)for(a=0;f>a;a++)u=i.$headers.eq(a),h=parseInt(u.attr("data-column"),10),m!==h&&(c||u.hasClass(e.css.sortNone))&&(i.sortVars[h].count=-1);if(c){if(i.sortList=[],i.last.sortList=[],null!==i.sortForce)for(r=i.sortForce,s=0;s<r.length;s++)r[s][0]!==m&&i.sortList.push(r[s]);if(l=g[i.sortVars[m].count],2>l&&(i.sortList.push([m,l]),n.colSpan>1))for(s=1;s<n.colSpan;s++)i.sortList.push([m+s,l]),i.sortVars[m+s].count=t.inArray(l,g)}else if(i.sortList=t.extend([],i.last.sortList),e.isValueInArray(m,i.sortList)>=0)for(s=0;s<i.sortList.length;s++)h=i.sortList[s],h[0]===m&&(h[1]=g[i.sortVars[m].count],2===h[1]&&(i.sortList.splice(s,1),i.sortVars[m].count=-1));else if(l=g[i.sortVars[m].count],2>l&&(i.sortList.push([m,l]),n.colSpan>1))for(s=1;s<n.colSpan;s++)i.sortList.push([m+s,l]),i.sortVars[m+s].count=t.inArray(l,g);if(i.last.sortList=t.extend([],i.sortList),i.sortList.length&&i.sortAppend&&(r=t.isArray(i.sortAppend)?i.sortAppend:i.sortAppend[i.sortList[0][0]],!e.isEmptyObject(r)))for(s=0;s<r.length;s++)if(r[s][0]!==m&&e.isValueInArray(r[s][0],i.sortList)<0){if(l=r[s][1],d=(""+l).match(/^(a|d|s|o|n)/))switch(h=i.sortList[0][1],d[0]){case"d":l=1;break;case"s":l=h;break;case"o":l=0===h?1:0;break;case"n":l=(h+1)%(i.sortReset?3:2);break;default:l=0}i.sortList.push([r[s][0],l])}i.$table.triggerHandler("sortBegin",p),setTimeout(function(){e.setHeadersCss(i),e.multisort(i),e.appendCache(i),i.$table.triggerHandler("sortBeforeEnd",p),i.$table.triggerHandler("sortEnd",p)},1)},multisort:function(t){var i,n,o,r,s=t.table,a=0,l=t.textSorter||"",d=t.sortList,h=d.length,u=t.$tbodies.length;if(!t.serverSideSorting&&!e.isEmptyObject(t.cache)){for(t.debug&&(n=new Date),i=0;u>i;i++)o=t.cache[i].colMax,r=t.cache[i].normalized,r.sort(function(i,n){var r,u,c,p,f,m,g;for(r=0;h>r;r++){if(c=d[r][0],p=d[r][1],a=0===p,t.sortStable&&i[c]===n[c]&&1===h)return i[t.columns].order-n[t.columns].order;if(u=/n/i.test(e.getSortType(t.parsers,c)),u&&t.strings[c]?(u="boolean"==typeof e.string[t.strings[c]]?(a?1:-1)*(e.string[t.strings[c]]?-1:1):t.strings[c]?e.string[t.strings[c]]||0:0,f=t.numberSorter?t.numberSorter(i[c],n[c],a,o[c],s):e["sortNumeric"+(a?"Asc":"Desc")](i[c],n[c],u,o[c],c,t)):(m=a?i:n,g=a?n:i,f="function"==typeof l?l(m[c],g[c],a,c,s):"object"==typeof l&&l.hasOwnProperty(c)?l[c](m[c],g[c],a,c,s):e["sortNatural"+(a?"Asc":"Desc")](i[c],n[c],c,t)),f)return f}return i[t.columns].order-n[t.columns].order});t.debug&&console.log("Applying sort "+d.toString()+e.benchmark(n))}},resortComplete:function(e,i){e.table.isUpdating&&e.$table.triggerHandler("updateComplete",e.table),t.isFunction(i)&&i(e.table)},checkResort:function(i,n,o){var r=t.isArray(n)?n:i.sortList,s="undefined"==typeof n?i.resort:n;s===!1||i.serverSideSorting||i.table.isProcessing?(e.resortComplete(i,o),e.applyWidget(i.table,!1)):r.length?e.sortOn(i,r,function(){e.resortComplete(i,o)},!0):e.sortReset(i,function(){e.resortComplete(i,o),e.applyWidget(i.table,!1)})},sortOn:function(i,n,o,r){var s=i.table;i.$table.triggerHandler("sortStart",s),e.updateHeaderSortCount(i,n),e.setHeadersCss(i),i.delayInit&&e.isEmptyObject(i.cache)&&e.buildCache(i),i.$table.triggerHandler("sortBegin",s),e.multisort(i),e.appendCache(i,r),i.$table.triggerHandler("sortBeforeEnd",s),i.$table.triggerHandler("sortEnd",s),e.applyWidget(s),t.isFunction(o)&&o(s)},sortReset:function(i,n){i.sortList=[],e.setHeadersCss(i),e.multisort(i),e.appendCache(i),t.isFunction(n)&&n(i.table)},getSortType:function(t,e){return t&&t[e]?t[e].type||"":""},getOrder:function(t){return/^d/i.test(t)||1===t},sortNatural:function(t,i){if(t===i)return 0;var n,o,r,s,a,l,d=e.regex;if(d.hex.test(i)){if(n=parseInt(t.match(d.hex),16),o=parseInt(i.match(d.hex),16),o>n)return-1;if(n>o)return 1}for(n=t.replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),o=i.replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),l=Math.max(n.length,o.length),a=0;l>a;a++){if(r=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,s=isNaN(o[a])?o[a]||0:parseFloat(o[a])||0,isNaN(r)!==isNaN(s))return isNaN(r)?1:-1;if(typeof r!=typeof s&&(r+="",s+=""),s>r)return-1;if(r>s)return 1}return 0},sortNaturalAsc:function(t,i,n,o){if(t===i)return 0;var r=e.string[o.empties[n]||o.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===i&&0!==r?"boolean"==typeof r?r?1:-1:r||1:e.sortNatural(t,i)},sortNaturalDesc:function(t,i,n,o){if(t===i)return 0;var r=e.string[o.empties[n]||o.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===i&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:e.sortNatural(i,t)},sortText:function(t,e){return t>e?1:e>t?-1:0},getTextValue:function(t,e,i){if(i){var n,o=t?t.length:0,r=i+e;for(n=0;o>n;n++)r+=t.charCodeAt(n);return e*r}return 0},sortNumericAsc:function(t,i,n,o,r,s){if(t===i)return 0;var a=e.string[s.empties[r]||s.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(t)&&(t=e.getTextValue(t,n,o)),isNaN(i)&&(i=e.getTextValue(i,n,o)),t-i)},sortNumericDesc:function(t,i,n,o,r,s){if(t===i)return 0;var a=e.string[s.empties[r]||s.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(t)&&(t=e.getTextValue(t,n,o)),isNaN(i)&&(i=e.getTextValue(i,n,o)),i-t)},sortNumeric:function(t,e){return t-e},addWidget:function(t){e.widgets.push(t)},hasWidget:function(e,i){return e=t(e),e.length&&e[0].config&&e[0].config.widgetInit[i]||!1},getWidgetById:function(t){var i,n,o=e.widgets.length;for(i=0;o>i;i++)if(n=e.widgets[i],n&&n.id&&n.id.toLowerCase()===t.toLowerCase())return n},applyWidgetOptions:function(i){var n,o,r=i.config,s=r.widgets.length;if(s)for(n=0;s>n;n++)o=e.getWidgetById(r.widgets[n]),o&&o.options&&(r.widgetOptions=t.extend(!0,{},o.options,r.widgetOptions))},addWidgetFromClass:function(t){var i,n,o=t.config,r="^"+o.widgetClass.replace(e.regex.templateName,"(\\S+)+")+"$",s=new RegExp(r,"g"),a=(t.className||"").split(e.regex.spaces);if(a.length)for(i=a.length,n=0;i>n;n++)a[n].match(s)&&o.widgets.push(a[n].replace(s,"$1"))},applyWidgetId:function(i,n,o){i=t(i)[0];var r,s,a,l=i.config,d=l.widgetOptions,h=e.getWidgetById(n);h&&(a=h.id,r=!1,t.inArray(a,l.widgets)<0&&l.widgets.push(a),l.debug&&(s=new Date),(o||!l.widgetInit[a])&&(l.widgetInit[a]=!0,i.hasInitialized&&e.applyWidgetOptions(i),"function"==typeof h.init&&(r=!0,l.debug&&console[console.group?"group":"log"]("Initializing "+a+" widget"),h.init(i,h,l,d))),o||"function"!=typeof h.format||(r=!0,l.debug&&console[console.group?"group":"log"]("Updating "+a+" widget"),h.format(i,l,d,!1)),l.debug&&r&&(console.log("Completed "+(o?"initializing ":"applying ")+a+" widget"+e.benchmark(s)),console.groupEnd&&console.groupEnd()))},applyWidget:function(i,n,o){i=t(i)[0];var r,s,a,l,d,h=i.config,u=[];if(n===!1||!i.hasInitialized||!i.isApplyingWidgets&&!i.isUpdating){if(h.debug&&(d=new Date),e.addWidgetFromClass(i),clearTimeout(h.timerReady),h.widgets.length){for(i.isApplyingWidgets=!0,h.widgets=t.grep(h.widgets,function(e,i){return t.inArray(e,h.widgets)===i}),a=h.widgets||[],s=a.length,r=0;s>r;r++)l=e.getWidgetById(a[r]),l&&l.id&&(l.priority||(l.priority=10),u[r]=l);for(u.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),s=u.length,h.debug&&console[console.group?"group":"log"]("Start "+(n?"initializing":"applying")+" widgets"),r=0;s>r;r++)l=u[r],l&&l.id&&e.applyWidgetId(i,l.id,n);h.debug&&console.groupEnd&&console.groupEnd(),n||"function"!=typeof o||o(i)}h.timerReady=setTimeout(function(){i.isApplyingWidgets=!1,t.data(i,"lastWidgetApplication",new Date),h.$table.triggerHandler("tablesorter-ready")},10),h.debug&&(l=h.widgets.length,console.log("Completed "+(n===!0?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+e.benchmark(d)))}},removeWidget:function(i,n,o){i=t(i)[0];var r,s,a,l,d=i.config;if(n===!0)for(n=[],l=e.widgets.length,a=0;l>a;a++)s=e.widgets[a],s&&s.id&&n.push(s.id);else n=(t.isArray(n)?n.join(","):n||"").toLowerCase().split(/[\s,]+/);for(l=n.length,r=0;l>r;r++)s=e.getWidgetById(n[r]),a=t.inArray(n[r],d.widgets),a>=0&&o!==!0&&d.widgets.splice(a,1),s&&s.remove&&(d.debug&&console.log((o?"Refreshing":"Removing")+' "'+n[r]+'" widget'),s.remove(i,d,d.widgetOptions,o),d.widgetInit[n[r]]=!1)},refreshWidgets:function(i,n,o){i=t(i)[0];var r,s,a=i.config,l=a.widgets,d=e.widgets,h=d.length,u=[],c=function(e){t(e).triggerHandler("refreshComplete")};for(r=0;h>r;r++)s=d[r],s&&s.id&&(n||t.inArray(s.id,l)<0)&&u.push(s.id);e.removeWidget(i,u.join(","),!0),o!==!0?(e.applyWidget(i,n||!1,c),n&&e.applyWidget(i,!1,c)):c(i)},benchmark:function(t){return" ( "+((new Date).getTime()-t.getTime())+"ms )"},log:function(){console.log(arguments)},isEmptyObject:function(t){for(var e in t)return!1;return!0},isValueInArray:function(t,e){var i,n=e&&e.length||0;for(i=0;n>i;i++)if(e[i][0]===t)return i;return-1},formatFloat:function(i,n){if("string"!=typeof i||""===i)return i;var o,r=n&&n.config?n.config.usNumberFormat!==!1:"undefined"!=typeof n?n:!0;return i=r?i.replace(e.regex.comma,""):i.replace(e.regex.digitNonUS,"").replace(e.regex.comma,"."),e.regex.digitNegativeTest.test(i)&&(i=i.replace(e.regex.digitNegativeReplace,"-$1")),o=parseFloat(i),isNaN(o)?t.trim(i):o},isDigit:function(t){return isNaN(t)?e.regex.digitTest.test(t.toString().replace(e.regex.digitReplace,"")):""!==t},computeColumnIndex:function(e,i){var n,o,r,s,a,l,d,h,u,c,p=i&&i.columns||0,f=[],m=new Array(p);for(n=0;n<e.length;n++)for(l=e[n].cells,o=0;o<l.length;o++){for(a=l[o],d=a.parentNode.rowIndex,h=a.rowSpan||1,u=a.colSpan||1,"undefined"==typeof f[d]&&(f[d]=[]),r=0;r<f[d].length+1;r++)if("undefined"==typeof f[d][r]){c=r;break}for(p&&a.cellIndex===c||(a.setAttribute?a.setAttribute("data-column",c):t(a).attr("data-column",c)),r=d;d+h>r;r++)for("undefined"==typeof f[r]&&(f[r]=[]),m=f[r],s=c;c+u>s;s++)m[s]="x"}return m.length},fixColumnWidth:function(i){
i=t(i)[0];var n,o,r,s,a,l=i.config,d=l.$table.children("colgroup");if(d.length&&d.hasClass(e.css.colgroup)&&d.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(d=t('<colgroup class="'+e.css.colgroup+'">'),n=l.$table.width(),r=l.$tbodies.find("tr:first").children(":visible"),s=r.length,a=0;s>a;a++)o=parseInt(r.eq(a).width()/n*1e3,10)/10+"%",d.append(t("<col>").css("width",o));l.$table.prepend(d)}},getData:function(e,i,n){var o,r,s="",a=t(e);return a.length?(o=t.metadata?a.metadata():!1,r=" "+(a.attr("class")||""),"undefined"!=typeof a.data(n)||"undefined"!=typeof a.data(n.toLowerCase())?s+=a.data(n)||a.data(n.toLowerCase()):o&&"undefined"!=typeof o[n]?s+=o[n]:i&&"undefined"!=typeof i[n]?s+=i[n]:" "!==r&&r.match(" "+n+"-")&&(s=r.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),t.trim(s)):""},getColumnData:function(e,i,n,o,r){if("undefined"!=typeof i&&null!==i){e=t(e)[0];var s,a,l=e.config,d=r||l.$headers,h=l.$headerIndexed&&l.$headerIndexed[n]||d.filter('[data-column="'+n+'"]:last');if(i[n])return o?i[n]:i[d.index(h)];for(a in i)if("string"==typeof a&&(s=h.filter(a).add(h.find(a)),s.length))return i[a]}},isProcessing:function(i,n,o){i=t(i);var r=i[0].config,s=o||i.find("."+e.css.header);n?("undefined"!=typeof o&&r.sortList.length>0&&(s=s.filter(function(){return this.sortDisabled?!1:e.isValueInArray(parseFloat(t(this).attr("data-column")),r.sortList)>=0})),i.add(s).addClass(e.css.processing+" "+r.cssProcessing)):i.add(s).removeClass(e.css.processing+" "+r.cssProcessing)},processTbody:function(e,i,n){if(e=t(e)[0],n)return e.isProcessing=!0,i.before('<colgroup class="tablesorter-savemyplace"/>'),t.fn.detach?i.detach():i.remove();var o=t(e).find("colgroup.tablesorter-savemyplace");i.insertAfter(o),o.remove(),e.isProcessing=!1},clearTableBody:function(e){t(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(t){var i,n="[",o=e.characterEquivalents;if(!e.characterRegex){e.characterRegexArray={};for(i in o)"string"==typeof i&&(n+=o[i],e.characterRegexArray[i]=new RegExp("["+o[i]+"]","g"));e.characterRegex=new RegExp(n+"]")}if(e.characterRegex.test(t))for(i in o)"string"==typeof i&&(t=t.replace(e.characterRegexArray[i],i));return t},restoreHeaders:function(i){var n,o,r=t(i)[0].config,s=r.$table.find(r.selectorHeaders),a=s.length;for(n=0;a>n;n++)o=s.eq(n),o.find("."+e.css.headerIn).length&&o.html(r.headerContent[n])},destroy:function(i,n,o){if(i=t(i)[0],i.hasInitialized){e.removeWidget(i,!0,!1);var r,s=t(i),a=i.config,l=a.debug,d=s.find("thead:first"),h=d.find("tr."+e.css.headerRow).removeClass(e.css.headerRow+" "+a.cssHeaderRow),u=s.find("tfoot:first > tr").children("th, td");n===!1&&t.inArray("uitheme",a.widgets)>=0&&(s.triggerHandler("applyWidgetId",["uitheme"]),s.triggerHandler("applyWidgetId",["zebra"])),d.find("tr").not(h).remove(),r="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),s.removeData("tablesorter").unbind(r.replace(e.regex.spaces," ")),a.$headers.add(u).removeClass([e.css.header,a.cssHeader,a.cssAsc,a.cssDesc,e.css.sortAsc,e.css.sortDesc,e.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),h.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(e.regex.spaces," ")),e.restoreHeaders(i),s.toggleClass(e.css.table+" "+a.tableClass+" tablesorter-"+a.theme,n===!1),i.hasInitialized=!1,delete i.config.cache,"function"==typeof o&&o(i),l&&console.log("tablesorter has been removed")}}};t.fn.tablesorter=function(i){return this.each(function(){var n=this,o=t.extend(!0,{},e.defaults,i,e.instanceMethods);o.originalSettings=i,!n.hasInitialized&&e.buildTable&&"TABLE"!==this.nodeName?e.buildTable(n,o):e.setup(n,o)})},window.console&&window.console.log||(e.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var t=arguments.length>1?arguments:arguments[0];e.logs.push({date:Date.now(),log:t})}),e.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),e.addParser({id:"text",is:function(){return!0},format:function(i,n){var o=n.config;return i&&(i=t.trim(o.ignoreCase?i.toLocaleLowerCase():i),i=o.sortLocaleCompare?e.replaceAccents(i):i),i},type:"text"}),e.regex.nondigit=/[^\w,. \-()]/g,e.addParser({id:"digit",is:function(t){return e.isDigit(t)},format:function(i,n){var o=e.formatFloat((i||"").replace(e.regex.nondigit,""),n);return i&&"number"==typeof o?o:i?t.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.regex.currencyReplace=/[+\-,. ]/g,e.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,e.addParser({id:"currency",is:function(t){return t=(t||"").replace(e.regex.currencyReplace,""),e.regex.currencyTest.test(t)},format:function(i,n){var o=e.formatFloat((i||"").replace(e.regex.nondigit,""),n);return i&&"number"==typeof o?o:i?t.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,e.regex.urlProtocolReplace=/(https?|ftp|file):\/\//,e.addParser({id:"url",is:function(t){return e.regex.urlProtocolTest.test(t)},format:function(i){return i?t.trim(i.replace(e.regex.urlProtocolReplace,"")):i},parsed:!0,type:"text"}),e.regex.dash=/-/g,e.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,e.addParser({id:"isoDate",is:function(t){return e.regex.isoDate.test(t)},format:function(t,i){var n=t?new Date(t.replace(e.regex.dash,"/")):t;return n instanceof Date&&isFinite(n)?n.getTime():t},type:"numeric"}),e.regex.percent=/%/g,e.regex.percentTest=/(\d\s*?%|%\s*?\d)/,e.addParser({id:"percent",is:function(t){return e.regex.percentTest.test(t)&&t.length<15},format:function(t,i){return t?e.formatFloat(t.replace(e.regex.percent,""),i):t},type:"numeric"}),e.addParser({id:"image",is:function(t,e,i,n){return n.find("img").length>0},format:function(e,i,n){return t(n).find("img").attr(i.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),e.regex.dateReplace=/(\S)([AP]M)$/i,e.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,e.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,e.addParser({id:"usLongDate",is:function(t){return e.regex.usLongDateTest1.test(t)||e.regex.usLongDateTest2.test(t)},format:function(t,i){var n=t?new Date(t.replace(e.regex.dateReplace,"$1 $2")):t;return n instanceof Date&&isFinite(n)?n.getTime():t},type:"numeric"}),e.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,e.regex.shortDateReplace=/[\-.,]/g,e.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,e.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,e.convertFormat=function(t,i){t=(t||"").replace(e.regex.spaces," ").replace(e.regex.shortDateReplace,"/"),"mmddyyyy"===i?t=t.replace(e.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===i?t=t.replace(e.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===i&&(t=t.replace(e.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(t);return n instanceof Date&&isFinite(n)?n.getTime():""},e.addParser({id:"shortDate",is:function(t){return t=(t||"").replace(e.regex.spaces," ").replace(e.regex.shortDateReplace,"/"),e.regex.shortDateTest.test(t)},format:function(t,i,n,o){if(t){var r=i.config,s=r.$headerIndexed[o],a=s.length&&s.data("dateFormat")||e.getData(s,e.getColumnData(i,r.headers,o),"dateFormat")||r.dateFormat;return s.length&&s.data("dateFormat",a),e.convertFormat(t,a)||t}return t},type:"numeric"}),e.regex.timeTest=/^([1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,e.regex.timeMatch=/([1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,e.addParser({id:"time",is:function(t){return e.regex.timeTest.test(t)},format:function(t,i){var n,o=(t||"").match(e.regex.timeMatch),r=new Date(t),s=t&&(null!==o?o[0]:"00:00 AM"),a=s?new Date("2000/01/01 "+s.replace(e.regex.dateReplace,"$1 $2")):s;return a instanceof Date&&isFinite(a)?(n=r instanceof Date&&isFinite(r)?r.getTime():0,n?parseFloat(a.getTime()+"."+r.getTime()):a.getTime()):t},type:"numeric"}),e.addParser({id:"metadata",is:function(){return!1},format:function(e,i,n){var o=i.config,r=o.parserMetadataName?o.parserMetadataName:"sortValue";return t(n).metadata()[r]},type:"numeric"}),e.addWidget({id:"zebra",priority:90,format:function(e,i,n){var o,r,s,a,l,d,h,u=new RegExp(i.cssChildRow,"i"),c=i.$tbodies.add(t(i.namespace+"_extra_table").children("tbody:not(."+i.cssInfoBlock+")"));for(l=0;l<c.length;l++)for(s=0,o=c.eq(l).children("tr:visible").not(i.selectorRemove),h=o.length,d=0;h>d;d++)r=o.eq(d),u.test(r[0].className)||s++,a=s%2===0,r.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(t,i,n,o){if(!o){var r,s,a=i.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(r=0;r<a.length;r++)s=e.processTbody(t,a.eq(r),!0),s.children().removeClass(l),e.processTbody(t,s,!1)}}})}(jQuery),/*! tablesorter (FORK) - updated 02-15-2016 (v2.25.4)*/
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(t,e,i){"use strict";var n=t.tablesorter||{};n.storage=function(n,o,r,s){n=t(n)[0];var a,l,d,h=!1,u={},c=n.config,p=c&&c.widgetOptions,f=s&&s.useSessionStorage||p&&p.storage_useSessionStorage?"sessionStorage":"localStorage",m=t(n),g=s&&s.id||m.attr(s&&s.group||p&&p.storage_group||"data-table-group")||p&&p.storage_tableId||n.id||t(".tablesorter").index(m),v=s&&s.url||m.attr(s&&s.page||p&&p.storage_page||"data-table-page")||p&&p.storage_fixedUrl||c&&c.fixedUrl||e.location.pathname;if(f in e)try{e[f].setItem("_tmptest","temp"),h=!0,e[f].removeItem("_tmptest")}catch(y){c&&c.debug&&console.warn(f+" is not supported in this browser")}return t.parseJSON&&(h?u=t.parseJSON(e[f][o]||"null")||{}:(l=i.cookie.split(/[;\s|=]/),a=t.inArray(o,l)+1,u=0!==a?t.parseJSON(l[a]||"null")||{}:{})),(r||""===r)&&e.JSON&&JSON.hasOwnProperty("stringify")?(u[v]||(u[v]={}),u[v][g]=r,h?e[f][o]=JSON.stringify(u):(d=new Date,d.setTime(d.getTime()+31536e6),i.cookie=o+"="+JSON.stringify(u).replace(/\"/g,'"')+"; expires="+d.toGMTString()+"; path=/"),void 0):u&&u[v]?u[v][g]:""}}(jQuery,window,document),function(t){"use strict";var e=t.tablesorter||{};e.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},t.extend(e.css,{wrapper:"tablesorter-wrapper"}),e.addWidget({id:"uitheme",priority:10,format:function(i,n,o){var r,s,a,l,d,h,u,c,p,f,m,g,v=e.themes,y=n.$table.add(t(n.namespace+"_extra_table")),b=n.$headers.add(t(n.namespace+"_extra_headers")),w=n.theme||"jui",_=v[w]||{},x=t.trim([_.sortNone,_.sortDesc,_.sortAsc,_.active].join(" ")),C=t.trim([_.iconSortNone,_.iconSortDesc,_.iconSortAsc].join(" "));for(n.debug&&(l=new Date),y.hasClass("tablesorter-"+w)&&n.theme===n.appliedTheme&&o.uitheme_applied||(o.uitheme_applied=!0,p=v[n.appliedTheme]||{},g=!t.isEmptyObject(p),f=g?[p.sortNone,p.sortDesc,p.sortAsc,p.active].join(" "):"",m=g?[p.iconSortNone,p.iconSortDesc,p.iconSortAsc].join(" "):"",g&&(o.zebra[0]=t.trim(" "+o.zebra[0].replace(" "+p.even,"")),o.zebra[1]=t.trim(" "+o.zebra[1].replace(" "+p.odd,"")),n.$tbodies.children().removeClass([p.even,p.odd].join(" "))),_.even&&(o.zebra[0]+=" "+_.even),_.odd&&(o.zebra[1]+=" "+_.odd),y.children("caption").removeClass(p.caption||"").addClass(_.caption),u=y.removeClass((n.appliedTheme?"tablesorter-"+(n.appliedTheme||""):"")+" "+(p.table||"")).addClass("tablesorter-"+w+" "+(_.table||"")).children("tfoot"),n.appliedTheme=n.theme,u.length&&u.children("tr").removeClass(p.footerRow||"").addClass(_.footerRow).children("th, td").removeClass(p.footerCells||"").addClass(_.footerCells),b.removeClass((g?[p.header,p.hover,f].join(" "):"")||"").addClass(_.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(e){t(this)["mouseenter"===e.type?"addClass":"removeClass"](_.hover||"")}),b.each(function(){var i=t(this);i.find("."+e.css.wrapper).length||i.wrapInner('<div class="'+e.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),n.cssIcon&&b.find("."+e.css.icon).removeClass(g?[p.icons,m].join(" "):"").addClass(_.icons||""),y.hasClass("hasFilters")&&y.children("thead").children("."+e.css.filterRow).removeClass(g?p.filterRow||"":"").addClass(_.filterRow||"")),r=0;r<n.columns;r++)d=n.$headers.add(t(n.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+r+'"]'),h=e.css.icon?d.find("."+e.css.icon):t(),c=b.not(".sorter-false").filter('[data-column="'+r+'"]:last'),c.length&&(d.removeClass(x),h.removeClass(C),c[0].sortDisabled?h.removeClass(_.icons||""):(s=_.sortNone,a=_.iconSortNone,c.hasClass(e.css.sortAsc)?(s=[_.sortAsc,_.active].join(" "),a=_.iconSortAsc):c.hasClass(e.css.sortDesc)&&(s=[_.sortDesc,_.active].join(" "),a=_.iconSortDesc),d.addClass(s),h.addClass(a||"")));n.debug&&console.log("Applying "+w+" theme"+e.benchmark(l))},remove:function(t,i,n,o){if(n.uitheme_applied){var r=i.$table,s=i.appliedTheme||"jui",a=e.themes[s]||e.themes.jui,l=r.children("thead").children(),d=a.sortNone+" "+a.sortDesc+" "+a.sortAsc,h=a.iconSortNone+" "+a.iconSortDesc+" "+a.iconSortAsc;r.removeClass("tablesorter-"+s+" "+a.table),n.uitheme_applied=!1,o||(r.find(e.css.header).removeClass(a.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(a.hover+" "+d+" "+a.active).filter("."+e.css.filterRow).removeClass(a.filterRow),l.find("."+e.css.icon).removeClass(a.icons+" "+h))}}})}(jQuery),function(t){"use strict";var e=t.tablesorter||{};e.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,n,o){var r,s,a,l,d,h,u,c,p=n.$table,f=n.$tbodies,m=n.sortList,g=m.length,v=o&&o.columns||["primary","secondary","tertiary"],y=v.length-1;for(u=v.join(" "),s=0;s<f.length;s++)r=e.processTbody(i,f.eq(s),!0),a=r.children("tr"),a.each(function(){if(d=t(this),"none"!==this.style.display&&(h=d.children().removeClass(u),m&&m[0]&&(h.eq(m[0][0]).addClass(v[0]),g>1)))for(c=1;g>c;c++)h.eq(m[c][0]).addClass(v[c]||v[y])}),e.processTbody(i,r,!1);if(l=o.columns_thead!==!1?["thead tr"]:[],o.columns_tfoot!==!1&&l.push("tfoot tr"),l.length&&(a=p.find(l.join(",")).children().removeClass(u),g))for(c=0;g>c;c++)a.filter('[data-column="'+m[c][0]+'"]').addClass(v[c]||v[y])},remove:function(i,n,o){var r,s,a=n.$tbodies,l=(o.columns||["primary","secondary","tertiary"]).join(" ");for(n.$headers.removeClass(l),n.$table.children("tfoot").children("tr").children("th, td").removeClass(l),r=0;r<a.length;r++)s=e.processTbody(i,a.eq(r),!0),s.children("tr").each(function(){t(this).children().removeClass(l)}),e.processTbody(i,s,!1)}})}(jQuery),function(t){"use strict";var e,i,n=t.tablesorter||{},o=n.css,r=n.keyCodes;t.extend(o,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),t.extend(r,{backSpace:8,escape:27,space:32,left:37,down:40}),n.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(t,i,n){i.$table.hasClass("hasFilters")||e.init(t,i,n)},remove:function(e,i,r,s){var a,l,d=i.$table,h=i.$tbodies,u="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(i.namespace+"filter ");if(d.removeClass("hasFilters").unbind(u.replace(n.regex.spaces," ")).find("."+o.filterRow).remove(),!s){for(a=0;a<h.length;a++)l=n.processTbody(e,h.eq(a),!0),l.children().removeClass(r.filter_filteredRow).show(),n.processTbody(e,l,!1);r.filter_reset&&t(document).undelegate(r.filter_reset,"click"+i.namespace+"filter")}}}),e=n.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(n,o,r){if((i.orTest.test(o.iFilter)||i.orSplit.test(o.filter))&&!i.regex.test(o.filter)){var s,a,l,d,h=t.extend({},o),u=o.filter.split(i.orSplit),c=o.iFilter.split(i.orSplit),p=u.length;for(s=0;p>s;s++){h.nestedFilters=!0,h.filter=""+(e.parseFilter(n,u[s],o)||""),h.iFilter=""+(e.parseFilter(n,c[s],o)||""),l="("+(e.parseFilter(n,h.filter,o)||"")+")";try{if(d=new RegExp(o.isMatch?l:"^"+l+"$",n.widgetOptions.filter_ignoreCase?"i":""),a=d.test(h.exact)||e.processTypes(n,h,r))return a}catch(f){return null}}return a||!1}return null},and:function(n,o,r){if(i.andTest.test(o.filter)){var s,a,l,d,h,u=t.extend({},o),c=o.filter.split(i.andSplit),p=o.iFilter.split(i.andSplit),f=c.length;for(s=0;f>s;s++){u.nestedFilters=!0,u.filter=""+(e.parseFilter(n,c[s],o)||""),u.iFilter=""+(e.parseFilter(n,p[s],o)||""),d=("("+(e.parseFilter(n,u.filter,o)||"")+")").replace(i.wild01,"\\S{1}").replace(i.wild0More,"\\S*");try{h=new RegExp(o.isMatch?d:"^"+d+"$",n.widgetOptions.filter_ignoreCase?"i":""),l=h.test(u.exact)||e.processTypes(n,u,r),a=0===s?l:a&&l}catch(m){return null}}return a||!1}return null},regex:function(t,e){if(i.regex.test(e.filter)){var n,o=e.filter_regexCache[e.index]||i.regex.exec(e.filter),r=o instanceof RegExp;try{r||(e.filter_regexCache[e.index]=o=new RegExp(o[1],o[2])),n=o.test(e.exact)}catch(s){n=!1}return n}return null},operators:function(o,r){if(i.operTest.test(r.iFilter)&&""!==r.iExact){var s,a,l,d=o.table,h=r.parsed[r.index],u=n.formatFloat(r.iFilter.replace(i.operators,""),d),c=o.parsers[r.index]||{},p=u;return(h||"numeric"===c.type)&&(l=t.trim(""+r.iFilter.replace(i.operators,"")),a=e.parseFilter(o,l,r,!0),u="number"!=typeof a||""===a||isNaN(a)?u:a),!h&&"numeric"!==c.type||isNaN(u)||"undefined"==typeof r.cache?(l=isNaN(r.iExact)?r.iExact.replace(n.regex.nondigit,""):r.iExact,s=n.formatFloat(l,d)):s=r.cache,i.gtTest.test(r.iFilter)?a=i.gteTest.test(r.iFilter)?s>=u:s>u:i.ltTest.test(r.iFilter)&&(a=i.lteTest.test(r.iFilter)?u>=s:u>s),a||""!==p||(a=!0),a}return null},notMatch:function(n,o){if(i.notTest.test(o.iFilter)){var r,s=o.iFilter.replace("!",""),a=e.parseFilter(n,s,o)||"";return i.exact.test(a)?(a=a.replace(i.exact,""),""===a?!0:t.trim(a)!==o.iExact):(r=o.iExact.search(t.trim(a)),""===a?!0:!(n.widgetOptions.filter_startsWith?0===r:r>=0))}return null},exact:function(n,o){if(i.exact.test(o.iFilter)){var r=o.iFilter.replace(i.exact,""),s=e.parseFilter(n,r,o)||"";return o.anyMatch?t.inArray(s,o.rowArray)>=0:s==o.iExact}return null},range:function(t,o){if(i.toTest.test(o.iFilter)){var r,s,a,l,d=t.table,h=o.index,u=o.parsed[h],c=o.iFilter.split(i.toSplit);return s=c[0].replace(n.regex.nondigit,"")||"",a=n.formatFloat(e.parseFilter(t,s,o),d),s=c[1].replace(n.regex.nondigit,"")||"",l=n.formatFloat(e.parseFilter(t,s,o),d),(u||"numeric"===t.parsers[h].type)&&(r=t.parsers[h].format(""+c[0],d,t.$headers.eq(h),h),a=""===r||isNaN(r)?a:r,r=t.parsers[h].format(""+c[1],d,t.$headers.eq(h),h),l=""===r||isNaN(r)?l:r),!u&&"numeric"!==t.parsers[h].type||isNaN(a)||isNaN(l)?(s=isNaN(o.iExact)?o.iExact.replace(n.regex.nondigit,""):o.iExact,r=n.formatFloat(s,d)):r=o.cache,a>l&&(s=a,a=l,l=s),r>=a&&l>=r||""===a||""===l}return null},wild:function(t,n){if(i.wildOrTest.test(n.iFilter)){var o=""+(e.parseFilter(t,n.iFilter,n)||"");!i.wildTest.test(o)&&n.nestedFilters&&(o=n.isMatch?o:"^("+o+")$");try{return new RegExp(o.replace(i.wild01,"\\S{1}").replace(i.wild0More,"\\S*"),t.widgetOptions.filter_ignoreCase?"i":"").test(n.exact)}catch(r){return null}}return null},fuzzy:function(t,n){if(i.fuzzyTest.test(n.iFilter)){var o,r=0,s=n.iExact.length,a=n.iFilter.slice(1),l=e.parseFilter(t,a,n)||"";for(o=0;s>o;o++)n.iExact[o]===l[r]&&(r+=1);return r===l.length}return null}},init:function(r,s,a){n.language=t.extend(!0,{},{to:"to",or:"or",and:"and"},n.language);var l,d,h,u,c,p,f,m,g;if(s.$table.addClass("hasFilters"),s.lastSearch=[],a.filter_searchTimer=null,a.filter_initTimer=null,a.filter_formatterCount=0,a.filter_formatterInit=[],a.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',a.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',f="\\{"+i.query+"\\}",t.extend(i,{child:new RegExp(s.cssChildRow),filtered:new RegExp(a.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+n.language.or+"|-|"+n.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+n.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+n.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+n.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+n.language.and+"|&&)\\s+)","gi"),orTest:new RegExp("(\\||\\s+"+n.language.or+"\\s+)","i"),orSplit:new RegExp("(?:\\s+(?:"+n.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(f,"i"),igQuery:new RegExp(f,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),f=s.$headers.filter(".filter-false, .parser-false").length,a.filter_columnFilters!==!1&&f!==s.$headers.length&&e.buildRow(r,s,a),h="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(s.namespace+"filter "),s.$table.bind(h,function(i,n){return f=a.filter_hideEmpty&&t.isEmptyObject(s.cache)&&!(s.delayInit&&"appendCache"===i.type),s.$table.find("."+o.filterRow).toggleClass(a.filter_filteredRow,f),/(search|filter)/.test(i.type)||(i.stopPropagation(),e.buildDefault(r,!0)),"filterReset"===i.type?(s.$table.find("."+o.filter).add(a.filter_$externalFilters).val(""),e.searching(r,[])):"filterEnd"===i.type?e.buildDefault(r,!0):(n="search"===i.type?n:"updateComplete"===i.type?s.$table.data("lastSearch"):"",/(update|add)/.test(i.type)&&"updateComplete"!==i.type&&(s.lastCombinedFilter=null,s.lastSearch=[]),e.searching(r,n,!0)),!1}),a.filter_reset&&(a.filter_reset instanceof t?a.filter_reset.click(function(){s.$table.triggerHandler("filterReset")}):t(a.filter_reset).length&&t(document).undelegate(a.filter_reset,"click"+s.namespace+"filter").delegate(a.filter_reset,"click"+s.namespace+"filter",function(){s.$table.triggerHandler("filterReset")})),a.filter_functions)for(c=0;c<s.columns;c++)if(m=n.getColumnData(r,a.filter_functions,c))if(u=s.$headerIndexed[c].removeClass("filter-select"),g=!(u.hasClass("filter-false")||u.hasClass("parser-false")),l="",m===!0&&g)e.buildSelect(r,c);else if("object"==typeof m&&g){for(d in m)"string"==typeof d&&(l+=""===l?'<option value="">'+(u.data("placeholder")||u.attr("data-placeholder")||a.filter_placeholder.select||"")+"</option>":"",f=d,h=d,d.indexOf(a.filter_selectSourceSeparator)>=0&&(f=d.split(a.filter_selectSourceSeparator),h=f[1],f=f[0]),l+="<option "+(h===f?"":'data-function-name="'+d+'" ')+'value="'+f+'">'+h+"</option>");s.$table.find("thead").find("select."+o.filter+'[data-column="'+c+'"]').append(l),h=a.filter_selectSource,m="function"==typeof h?!0:n.getColumnData(r,h,c),m&&e.buildSelect(s.table,c,"",!0,u.hasClass(a.filter_onlyAvail))}e.buildDefault(r,!0),e.bindSearch(r,s.$table.find("."+o.filter),!0),a.filter_external&&e.bindSearch(r,a.filter_external),a.filter_hideFilters&&e.hideFilters(s),s.showProcessing&&(h="filterStart filterEnd ".split(" ").join(s.namespace+"filter "),s.$table.unbind(h.replace(n.regex.spaces," ")).bind(h,function(e,i){u=i?s.$table.find("."+o.header).filter("[data-column]").filter(function(){return""!==i[t(this).data("column")]}):"",n.isProcessing(r,"filterStart"===e.type,i?u:"")})),s.filteredRows=s.totalRows,h="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(s.namespace+"filter "),s.$table.unbind(h.replace(n.regex.spaces," ")).bind(h,function(){var t=this.config.widgetOptions;p=e.setDefaults(r,s,t)||[],p.length&&(s.delayInit&&""===p.join("")||n.setFilters(r,p,!0)),s.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){t.filter_initialized||e.filterInitComplete(s)},100)}),s.pager&&s.pager.initialized&&!a.filter_initialized&&(s.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){e.filterInitComplete(s)},100))},formatterUpdated:function(t,e){var i=t&&t.closest("table")[0].config.widgetOptions;i&&!i.filter_initialized&&(i.filter_formatterInit[e]=1)},filterInitComplete:function(i){var n,o,r=i.widgetOptions,s=0,a=function(){r.filter_initialized=!0,i.$table.triggerHandler("filterInit",i),e.findRows(i.table,i.$table.data("lastSearch")||[])};if(t.isEmptyObject(r.filter_formatter))a();else{for(o=r.filter_formatterInit.length,n=0;o>n;n++)1===r.filter_formatterInit[n]&&s++;clearTimeout(r.filter_initTimer),r.filter_initialized||s!==r.filter_formatterCount?r.filter_initialized||(r.filter_initTimer=setTimeout(function(){a()},500)):a()}},processFilters:function(t,e){var i,n=e?encodeURIComponent:decodeURIComponent,o=t.length;for(i=0;o>i;i++)t[i]&&(t[i]=n(t[i]));return t},setDefaults:function(i,o,r){var s,a,l,d,h,u=n.getFilters(i)||[];if(r.filter_saveFilters&&n.storage&&(a=n.storage(i,"tablesorter-filters")||[],s=t.isArray(a),s&&""===a.join("")||!s||(u=e.processFilters(a))),""===u.join(""))for(h=o.$headers.add(r.filter_$externalFilters).filter("["+r.filter_defaultAttrib+"]"),l=0;l<=o.columns;l++)d=l===o.columns?"all":l,u[l]=h.filter('[data-column="'+d+'"]').attr(r.filter_defaultAttrib)||u[l]||"";return o.$table.data("lastSearch",u),u},parseFilter:function(t,e,i,n){return n||i.parsed[i.index]?t.parsers[i.index].format(e,t.table,[],i.index):e},buildRow:function(i,r,s){var a,l,d,h,u,c,p,f,m,g=s.filter_cellFilter,v=r.columns,y=t.isArray(g),b='<tr role="row" class="'+o.filterRow+" "+r.cssIgnoreRow+'">';for(d=0;v>d;d++)r.$headerIndexed[d].length&&(m=r.$headerIndexed[d]&&r.$headerIndexed[d][0].colSpan||0,b+=m>1?'<td data-column="'+d+"-"+(d+m-1)+'" colspan="'+m+'"':'<td data-column="'+d+'"',b+=y?g[d]?' class="'+g[d]+'"':"":""!==g?' class="'+g+'"':"",b+="></td>");for(r.$filters=t(b+="</tr>").appendTo(r.$table.children("thead").eq(0)).children("td"),d=0;v>d;d++)c=!1,h=r.$headerIndexed[d],h&&h.length&&(a=e.getColumnElm(r,r.$filters,d),f=n.getColumnData(i,s.filter_functions,d),u=s.filter_functions&&f&&"function"!=typeof f||h.hasClass("filter-select"),l=n.getColumnData(i,r.headers,d),c="false"===n.getData(h[0],l,"filter")||"false"===n.getData(h[0],l,"parser"),u?b=t("<select>").appendTo(a):(f=n.getColumnData(i,s.filter_formatter,d),f?(s.filter_formatterCount++,b=f(a,d),b&&0===b.length&&(b=a.children("input")),b&&(0===b.parent().length||b.parent().length&&b.parent()[0]!==a[0])&&a.append(b)):b=t('<input type="search">').appendTo(a),b&&(m=h.data("placeholder")||h.attr("data-placeholder")||s.filter_placeholder.search||"",b.attr("placeholder",m))),b&&(p=(t.isArray(s.filter_cssFilter)?"undefined"!=typeof s.filter_cssFilter[d]?s.filter_cssFilter[d]||"":"":s.filter_cssFilter)||"",b.addClass(o.filter+" "+p).attr("data-column",a.attr("data-column")),c&&(b.attr("placeholder","").addClass(o.filterDisabled)[0].disabled=!0)))},bindSearch:function(i,o,s){if(i=t(i)[0],o=t(o),o.length){var a,l=i.config,d=l.widgetOptions,h=l.namespace+"filter",u=d.filter_$externalFilters;s!==!0&&(a=d.filter_anyColumnSelector+","+d.filter_multipleColumnSelector,d.filter_$anyMatch=o.filter(a),u&&u.length?d.filter_$externalFilters=d.filter_$externalFilters.add(o):d.filter_$externalFilters=o,n.setFilters(i,l.$table.data("lastSearch")||[],s===!1)),a="keypress keyup keydown search change input ".split(" ").join(h+" "),o.attr("data-lastSearchTime",(new Date).getTime()).unbind(a.replace(n.regex.spaces," ")).bind("keydown"+h,function(t){return t.which!==r.escape||d.filter_resetOnEsc?void 0:!1}).bind("keyup"+h,function(n){var o=parseInt(t(this).attr("data-column"),10);if(t(this).attr("data-lastSearchTime",(new Date).getTime()),n.which===r.escape)this.value=d.filter_resetOnEsc?"":l.lastSearch[o];else{if(d.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof d.filter_liveSearch&&this.value.length<d.filter_liveSearch||n.which!==r.enter&&n.which!==r.backSpace&&(n.which<r.space||n.which>=r.left&&n.which<=r.down)))return}e.searching(i,!0,!0)}).bind("search change keypress input ".split(" ").join(h+" "),function(n){var o=parseInt(t(this).attr("data-column"),10);(d.filter_initialized&&(n.which===r.enter||"search"===n.type||"change"===n.type&&this.value!==l.lastSearch[o])||"input"===n.type&&""===this.value)&&(n.preventDefault(),t(this).attr("data-lastSearchTime",(new Date).getTime()),e.searching(i,"keypress"!==n.type,!0))})}},searching:function(t,i,n){var o=t.config.widgetOptions;clearTimeout(o.filter_searchTimer),"undefined"==typeof i||i===!0?o.filter_searchTimer=setTimeout(function(){e.checkFilters(t,i,n)},o.filter_liveSearch?o.filter_searchDelay:10):e.checkFilters(t,i,n)},checkFilters:function(i,r,s){var a=i.config,l=a.widgetOptions,d=t.isArray(r),h=d?r:n.getFilters(i,!0),u=(h||[]).join("");return t.isEmptyObject(a.cache)?void(a.delayInit&&a.pager&&a.pager.initialized&&n.updateCache(a,function(){e.checkFilters(i,!1,s)})):(d&&(n.setFilters(i,h,!1,s!==!0),l.filter_initialized||(a.lastCombinedFilter="")),l.filter_hideFilters&&a.$table.find("."+o.filterRow).triggerHandler(""===u?"mouseleave":"mouseenter"),a.lastCombinedFilter!==u||r===!1?(r===!1&&(a.lastCombinedFilter=null,a.lastSearch=[]),h=h||[],h=Array.prototype.map?h.map(String):h.join("\ufffd").split("\ufffd"),l.filter_initialized&&a.$table.triggerHandler("filterStart",[h]),a.showProcessing?void setTimeout(function(){return e.findRows(i,h,u),!1},30):(e.findRows(i,h,u),!1)):void 0)},hideFilters:function(e,i){var r,s=(i||e.$table).find("."+o.filterRow).addClass(o.filterRowHide);s.bind("mouseenter mouseleave",function(i){var n=i,s=t(this);clearTimeout(r),r=setTimeout(function(){/enter|over/.test(n.type)?s.removeClass(o.filterRowHide):t(document.activeElement).closest("tr")[0]!==s[0]&&""===e.lastCombinedFilter&&s.addClass(o.filterRowHide)},200)}).find("input, select").bind("focus blur",function(i){var s=i,a=t(this).closest("tr");clearTimeout(r),r=setTimeout(function(){clearTimeout(r),""===n.getFilters(e.$table).join("")&&a.toggleClass(o.filterRowHide,"focus"!==s.type)},200)})},defaultFilter:function(e,n){if(""===e)return e;var o=i.iQuery,r=n.match(i.igQuery).length,s=r>1?t.trim(e).split(/\s/):[t.trim(e)],a=s.length-1,l=0,d=n;for(1>a&&r>1&&(s[1]=s[0]);o.test(d);)d=d.replace(o,s[l++]||""),o.test(d)&&a>l&&""!==(s[l]||"")&&(d=n.replace(o,d));return d},getLatestSearch:function(e){return e?e.sort(function(e,i){return t(i).attr("data-lastSearchTime")-t(e).attr("data-lastSearchTime")}):e||t()},findRange:function(t,e,i){var n,o,r,s,a,l,d,h,u,c=[];if(/^[0-9]+$/.test(e))return[parseInt(e,10)];if(!i&&/-/.test(e))for(o=e.match(/(\d+)\s*-\s*(\d+)/g),u=o?o.length:0,h=0;u>h;h++){for(r=o[h].split(/\s*-\s*/),s=parseInt(r[0],10)||0,a=parseInt(r[1],10)||t.columns-1,s>a&&(n=s,s=a,a=n),a>=t.columns&&(a=t.columns-1);a>=s;s++)c.push(s);e=e.replace(o[h],"")}if(!i&&/,/.test(e))for(l=e.split(/\s*,\s*/),u=l.length,d=0;u>d;d++)""!==l[d]&&(h=parseInt(l[d],10),h<t.columns&&c.push(h));if(!c.length)for(h=0;h<t.columns;h++)c.push(h);return c},getColumnElm:function(i,n,o){return n.filter(function(){var n=e.findRange(i,t(this).attr("data-column"));return t.inArray(o,n)>-1})},multipleColumns:function(i,n){var o=i.widgetOptions,r=o.filter_initialized||!n.filter(o.filter_anyColumnSelector).length,s=t.trim(e.getLatestSearch(n).attr("data-column")||"");return e.findRange(i,s,!r)},processTypes:function(i,n,o){var r,s=null,a=null;for(r in e.types)t.inArray(r,o.excludeMatch)<0&&null===a&&(a=e.types[r](i,n,o),null!==a&&(s=a));return s},processRow:function(o,r,s){var a,l,d,h,u,c=o.widgetOptions,p=!0,f=c.filter_$anyMatch&&c.filter_$anyMatch.length?e.multipleColumns(o,c.filter_$anyMatch):[];if(r.$cells=r.$row.children(),r.anyMatchFlag&&f.length>1){if(r.anyMatch=!0,r.isMatch=!0,r.rowArray=r.$cells.map(function(e){return t.inArray(e,f)>-1?(r.parsed[e]?u=r.cacheArray[e]:(u=r.rawArray[e],u=t.trim(c.filter_ignoreCase?u.toLowerCase():u),o.sortLocaleCompare&&(u=n.replaceAccents(u))),u):void 0}).get(),r.filter=r.anyMatchFilter,r.iFilter=r.iAnyMatchFilter,r.exact=r.rowArray.join(" "),r.iExact=c.filter_ignoreCase?r.exact.toLowerCase():r.exact,r.cache=r.cacheArray.slice(0,-1).join(" "),s.excludeMatch=s.noAnyMatch,l=e.processTypes(o,r,s),null!==l)p=l;else if(c.filter_startsWith)for(p=!1,f=Math.min(o.columns,r.rowArray.length);!p&&f>0;)f--,p=p||0===r.rowArray[f].indexOf(r.iFilter);else p=(r.iExact+r.childRowText).indexOf(r.iFilter)>=0;if(r.anyMatch=!1,r.filters.join("")===r.filter)return p}for(f=0;f<o.columns;f++)r.filter=r.filters[f],r.index=f,s.excludeMatch=s.excludeFilter[f],r.filter&&(r.cache=r.cacheArray[f],a=r.rawArray[f]||"",r.exact=o.sortLocaleCompare?n.replaceAccents(a):a,r.iExact=!i.type.test(typeof r.exact)&&c.filter_ignoreCase?r.exact.toLowerCase():r.exact,r.isMatch=o.$headerIndexed[r.index].hasClass("filter-match"),a=p,h=c.filter_columnFilters?o.$filters.add(o.$externalFilters).filter('[data-column="'+f+'"]').find("select option:selected").attr("data-function-name")||"":"",o.sortLocaleCompare&&(r.filter=n.replaceAccents(r.filter)),c.filter_defaultFilter&&i.iQuery.test(s.defaultColFilter[f])&&(r.filter=e.defaultFilter(r.filter,s.defaultColFilter[f])),r.iFilter=c.filter_ignoreCase?(r.filter||"").toLowerCase():r.filter,d=s.functions[f],l=null,d&&(d===!0?l=r.isMatch?(""+r.iExact).search(r.iFilter)>=0:r.filter===r.exact:"function"==typeof d?l=d(r.exact,r.cache,r.filter,f,r.$row,o,r):"function"==typeof d[h||r.filter]&&(u=h||r.filter,l=d[u](r.exact,r.cache,r.filter,f,r.$row,o,r))),null===l?(l=e.processTypes(o,r,s),null!==l?a=l:(u=(r.iExact+r.childRowText).indexOf(e.parseFilter(o,r.iFilter,r)),a=!c.filter_startsWith&&u>=0||c.filter_startsWith&&0===u)):a=l,p=a?p:!1);return p},findRows:function(o,r,s){if(o.config.lastCombinedFilter!==s&&o.config.widgetOptions.filter_initialized){var a,l,d,h,u,c,p,f,m,g,v,y,b,w,_,x,C,k,E,T,S,D,O,M,A=t.extend([],r),N=o.config,I=N.widgetOptions,F={anyMatch:!1,filters:r,filter_regexCache:[]},R={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:n.getColumnData(o,I.filter_defaultFilter,N.columns,!0)||""};for(F.parsed=[],m=0;m<N.columns;m++)F.parsed[m]=I.filter_useParsedData||N.parsers&&N.parsers[m]&&N.parsers[m].parsed||n.getData&&"parsed"===n.getData(N.$headerIndexed[m],n.getColumnData(o,N.headers,m),"filter")||N.$headerIndexed[m].hasClass("filter-parsed"),R.functions[m]=n.getColumnData(o,I.filter_functions,m)||N.$headerIndexed[m].hasClass("filter-select"),R.defaultColFilter[m]=n.getColumnData(o,I.filter_defaultFilter,m)||"",R.excludeFilter[m]=(n.getColumnData(o,I.filter_excludeFilter,m,!0)||"").split(/\s+/);for(N.debug&&(console.log("Filter: Starting filter widget search",r),_=new Date),N.filteredRows=0,N.totalRows=0,s=(A||[]).join(""),p=0;p<N.$tbodies.length;p++){if(f=n.processTbody(o,N.$tbodies.eq(p),!0),m=N.columns,l=N.cache[p].normalized,h=t(t.map(l,function(t){return t[m].$row.get()})),""===s||I.filter_serversideFiltering)h.removeClass(I.filter_filteredRow).not("."+N.cssChildRow).css("display","");else{if(h=h.not("."+N.cssChildRow),a=h.length,(I.filter_$anyMatch&&I.filter_$anyMatch.length||"undefined"!=typeof r[N.columns])&&(F.anyMatchFlag=!0,F.anyMatchFilter=""+(r[N.columns]||I.filter_$anyMatch&&e.getLatestSearch(I.filter_$anyMatch).val()||""),I.filter_columnAnyMatch)){for(T=F.anyMatchFilter.split(i.andSplit),S=!1,C=0;C<T.length;C++)D=T[C].split(":"),D.length>1&&(O=parseInt(D[0],10)-1,O>=0&&O<N.columns&&(r[O]=D[1],T.splice(C,1),C--,S=!0));S&&(F.anyMatchFilter=T.join(" && "))}if(E=I.filter_searchFiltered,y=N.lastSearch||N.$table.data("lastSearch")||[],E)for(C=0;m+1>C;C++)x=r[C]||"",E||(C=m),E=E&&y.length&&0===x.indexOf(y[C]||"")&&!i.alreadyFiltered.test(x)&&!i.exactTest.test(x)&&!(i.isNeg1.test(x)||i.isNeg2.test(x))&&!(""!==x&&N.$filters&&N.$filters.filter('[data-column="'+C+'"]').find("select").length&&!N.$headerIndexed[C].hasClass("filter-match"));for(k=h.not("."+I.filter_filteredRow).length,E&&0===k&&(E=!1),N.debug&&console.log("Filter: Searching through "+(E&&a>k?k:"all")+" rows"),F.anyMatchFlag&&(N.sortLocaleCompare&&(F.anyMatchFilter=n.replaceAccents(F.anyMatchFilter)),I.filter_defaultFilter&&i.iQuery.test(R.defaultAnyFilter)&&(F.anyMatchFilter=e.defaultFilter(F.anyMatchFilter,R.defaultAnyFilter),E=!1),F.iAnyMatchFilter=I.filter_ignoreCase&&N.ignoreCase?F.anyMatchFilter.toLowerCase():F.anyMatchFilter),c=0;a>c;c++)if(M=h[c].className,g=c&&i.child.test(M),!(g||E&&i.filtered.test(M))){if(F.$row=h.eq(c),F.cacheArray=l[c],d=F.cacheArray[N.columns],F.rawArray=d.raw,F.childRowText="",!I.filter_childByColumn){for(M="",v=d.child,C=0;C<v.length;C++)M+=" "+v[C].join(" ")||"";F.childRowText=I.filter_childRows?I.filter_ignoreCase?M.toLowerCase():M:""}if(b=!1,w=e.processRow(N,F,R),u=d.$row,x=w?!0:!1,v=d.$row.filter(":gt(0)"),I.filter_childRows&&v.length){if(I.filter_childByColumn)for(I.filter_childWithSibs||(v.addClass(I.filter_filteredRow),u=u.eq(0)),C=0;C<v.length;C++)F.$row=v.eq(C),F.cacheArray=d.child[C],F.rawArray=F.cacheArray,x=e.processRow(N,F,R),b=b||x,!I.filter_childWithSibs&&x&&v.eq(C).removeClass(I.filter_filteredRow);b=b||w}else b=x;u.toggleClass(I.filter_filteredRow,!b)[0].display=b?"":"none"}}N.filteredRows+=h.not("."+I.filter_filteredRow).length,N.totalRows+=h.length,n.processTbody(o,f,!1)}N.lastCombinedFilter=s,N.lastSearch=A,N.$table.data("lastSearch",A),I.filter_saveFilters&&n.storage&&n.storage(o,"tablesorter-filters",e.processFilters(A,!0)),N.debug&&console.log("Completed filter widget search"+n.benchmark(_)),I.filter_initialized&&(N.$table.triggerHandler("filterBeforeEnd",N),N.$table.triggerHandler("filterEnd",N)),setTimeout(function(){n.applyWidget(N.table)},0)}},getOptionSource:function(i,o,r){i=t(i)[0];var s=i.config,a=s.widgetOptions,l=!1,d=a.filter_selectSource,h=s.$table.data("lastSearch")||[],u="function"==typeof d?!0:n.getColumnData(i,d,o);if(r&&""!==h[o]&&(r=!1),u===!0)l=d(i,o,r);else{if(u instanceof t||"string"===t.type(u)&&u.indexOf("</option>")>=0)return u;t.isArray(u)?l=u:"object"===t.type(d)&&u&&(l=u(i,o,r))}return l===!1&&(l=e.getOptions(i,o,r)),e.processOptions(i,o,l)},processOptions:function(e,i,o){if(!t.isArray(o))return!1;e=t(e)[0];var r,s,a,l,d,h,u=e.config,c="undefined"!=typeof i&&null!==i&&i>=0&&i<u.columns,p=[];if(o=t.grep(o,function(e,i){return e.text?!0:t.inArray(e,o)===i}),c&&u.$headerIndexed[i].hasClass("filter-select-nosort"))return o;for(l=o.length,a=0;l>a;a++)s=o[a],h=s.text?s.text:s,d=(c&&u.parsers&&u.parsers.length&&u.parsers[i].format(h,e,[],i)||h).toString(),d=u.widgetOptions.filter_ignoreCase?d.toLowerCase():d,s.text?(s.parsed=d,p.push(s)):p.push({text:s,parsed:d});for(r=u.textSorter||"",p.sort(function(t,o){var s=t.parsed,a=o.parsed;return c&&"function"==typeof r?r(s,a,!0,i,e):c&&"object"==typeof r&&r.hasOwnProperty(i)?r[i](s,a,!0,i,e):n.sortNatural?n.sortNatural(s,a):!0}),o=[],l=p.length,a=0;l>a;a++)o.push(p[a]);return o},getOptions:function(e,i,o){e=t(e)[0];var r,s,a,l,d,h,u,c,p=e.config,f=p.widgetOptions,m=[];for(s=0;s<p.$tbodies.length;s++)for(d=p.cache[s],a=p.cache[s].normalized.length,r=0;a>r;r++)if(l=d.row?d.row[r]:d.normalized[r][p.columns].$row[0],!o||!l.className.match(f.filter_filteredRow))if(f.filter_useParsedData||p.parsers[i].parsed||p.$headerIndexed[i].hasClass("filter-parsed")){if(m.push(""+d.normalized[r][i]),f.filter_childRows&&f.filter_childByColumn)for(c=d.normalized[r][p.columns].$row.length-1,h=0;c>h;h++)m.push(""+d.normalized[r][p.columns].child[h][i])}else if(m.push(d.normalized[r][p.columns].raw[i]),f.filter_childRows&&f.filter_childByColumn)for(c=d.normalized[r][p.columns].$row.length,h=1;c>h;h++)u=d.normalized[r][p.columns].$row.eq(h).children().eq(i),m.push(""+n.getElementText(p,u,i));return m},buildSelect:function(n,r,s,a,l){if(n=t(n)[0],r=parseInt(r,10),n.config.cache&&!t.isEmptyObject(n.config.cache)){var d,h,u,c,p,f,m,g=n.config,v=g.widgetOptions,y=g.$headerIndexed[r],b='<option value="">'+(y.data("placeholder")||y.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",w=g.$table.find("thead").find("select."+o.filter+'[data-column="'+r+'"]').val();if(("undefined"==typeof s||""===s)&&(s=e.getOptionSource(n,r,l)),t.isArray(s)){for(d=0;d<s.length;d++)if(m=s[d],m.text){m["data-function-name"]="undefined"==typeof m.value?m.text:m.value,b+="<option";for(h in m)m.hasOwnProperty(h)&&"text"!==h&&(b+=" "+h+'="'+m[h]+'"');m.value||(b+=' value="'+m.text+'"'),b+=">"+m.text+"</option>"}else""+m!="[object Object]"&&(u=m=(""+m).replace(i.quote,"&quot;"),
h=u,u.indexOf(v.filter_selectSourceSeparator)>=0&&(c=u.split(v.filter_selectSourceSeparator),h=c[0],u=c[1]),b+=""!==m?"<option "+(h===u?"":'data-function-name="'+m+'" ')+'value="'+h+'">'+u+"</option>":"");s=[]}p=(g.$filters?g.$filters:g.$table.children("thead")).find("."+o.filter),v.filter_$externalFilters&&(p=p&&p.length?p.add(v.filter_$externalFilters):v.filter_$externalFilters),f=p.filter('select[data-column="'+r+'"]'),f.length&&(f[a?"html":"append"](b),t.isArray(s)||f.append(s).val(w),f.val(w))}},buildDefault:function(t,i){var o,r,s,a=t.config,l=a.widgetOptions,d=a.columns;for(o=0;d>o;o++)r=a.$headerIndexed[o],s=!(r.hasClass("filter-false")||r.hasClass("parser-false")),(r.hasClass("filter-select")||n.getColumnData(t,l.filter_functions,o)===!0)&&s&&e.buildSelect(t,o,"",i,r.hasClass(l.filter_onlyAvail))}},i=e.regex,n.getFilters=function(i,n,r,s){var a,l,d,h,u=!1,c=i?t(i)[0].config:"",p=c?c.widgetOptions:"";if(n!==!0&&p&&!p.filter_columnFilters||t.isArray(r)&&r.join("")===c.lastCombinedFilter)return t(i).data("lastSearch");if(c&&(c.$filters&&(l=c.$filters.find("."+o.filter)),p.filter_$externalFilters&&(l=l&&l.length?l.add(p.filter_$externalFilters):p.filter_$externalFilters),l&&l.length))for(u=r||[],a=0;a<c.columns+1;a++)h=a===c.columns?p.filter_anyColumnSelector+","+p.filter_multipleColumnSelector:'[data-column="'+a+'"]',d=l.filter(h),d.length&&(d=e.getLatestSearch(d),t.isArray(r)?(s&&d.length>1&&(d=d.slice(1)),a===c.columns&&(h=d.filter(p.filter_anyColumnSelector),d=h.length?h:d),d.val(r[a]).trigger("change"+c.namespace)):(u[a]=d.val()||"",a===c.columns?d.slice(1).filter('[data-column*="'+d.attr("data-column")+'"]').val(u[a]):d.slice(1).val(u[a])),a===c.columns&&d.length&&(p.filter_$anyMatch=d));return 0===u.length&&(u=!1),u},n.setFilters=function(i,o,r,s){var a=i?t(i)[0].config:"",l=n.getFilters(i,!0,o,s);return"undefined"==typeof r&&(r=!0),a&&r&&(a.lastCombinedFilter=null,a.lastSearch=[],e.searching(a.table,o,s),a.$table.triggerHandler("filterFomatterUpdate")),!!l}}(jQuery),function(t,e){"use strict";var i=t.tablesorter||{};t.extend(i.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),i.addHeaderResizeEvent=function(e,i,n){if(e=t(e)[0],e.config){var o={timer:250},r=t.extend({},o,n),s=e.config,a=s.widgetOptions,l=function(t){var e,i,n,o,r,l,d=s.$headers.length;for(a.resize_flag=!0,i=[],e=0;d>e;e++)n=s.$headers.eq(e),o=n.data("savedSizes")||[0,0],r=n[0].offsetWidth,l=n[0].offsetHeight,(r!==o[0]||l!==o[1])&&(n.data("savedSizes",[r,l]),i.push(n[0]));i.length&&t!==!1&&s.$table.triggerHandler("resize",[i]),a.resize_flag=!1};return l(!1),clearInterval(a.resize_timer),i?(a.resize_flag=!1,!1):void(a.resize_timer=setInterval(function(){a.resize_flag||l()},r.timer))}},i.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,o,r){if(!(o.$table.hasClass("hasStickyHeaders")||t.inArray("filter",o.widgets)>=0&&!o.$table.hasClass("hasFilters"))){var s,a,l,d,h=o.$table,u=t(r.stickyHeaders_attachTo),c=o.namespace+"stickyheaders ",p=t(r.stickyHeaders_yScroll||r.stickyHeaders_attachTo||e),f=t(r.stickyHeaders_xScroll||r.stickyHeaders_attachTo||e),m=h.children("thead:first"),g=m.children("tr").not(".sticky-false").children(),v=h.children("tfoot"),y=isNaN(r.stickyHeaders_offset)?t(r.stickyHeaders_offset):"",b=y.length?y.height()||0:parseInt(r.stickyHeaders_offset,10)||0,w=h.parent().closest("."+i.css.table).hasClass("hasStickyHeaders")?h.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],_=w.length?w.height():0,x=r.$sticky=h.clone().addClass("containsStickyHeaders "+i.css.sticky+" "+r.stickyHeaders+" "+o.namespace.slice(1)+"_extra_table").wrap('<div class="'+i.css.stickyWrap+'">'),C=x.parent().addClass(i.css.stickyHide).css({position:u.length?"absolute":"fixed",padding:parseInt(x.parent().parent().css("padding-left"),10),top:b+_,left:0,visibility:"hidden",zIndex:r.stickyHeaders_zIndex||2}),k=x.children("thead:first"),E="",T=0,S=function(t,i){var n,o,r,s,a,l=t.filter(":visible"),d=l.length;for(n=0;d>n;n++)s=i.filter(":visible").eq(n),a=l.eq(n),"border-box"===a.css("box-sizing")?o=a.outerWidth():"collapse"===s.css("border-collapse")?e.getComputedStyle?o=parseFloat(e.getComputedStyle(a[0],null).width):(r=parseFloat(a.css("border-width")),o=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-r):o=a.width(),s.css({width:o,"min-width":o,"max-width":o})},D=function(){b=y.length?y.height()||0:parseInt(r.stickyHeaders_offset,10)||0,T=0,C.css({left:u.length?parseInt(u.css("padding-left"),10)||0:h.offset().left-parseInt(h.css("margin-left"),10)-f.scrollLeft()-T,width:h.outerWidth()}),S(h,x),S(g,d)},O=function(e){if(h.is(":visible")){_=w.length?w.offset().top-p.scrollTop()+w.height():0;var n=h.offset(),o=t.isWindow(p[0]),r=t.isWindow(f[0]),s=(u.length?o?p.scrollTop():p.offset().top:p.scrollTop())+b+_,a=h.height()-(C.height()+(v.height()||0)),l=s>n.top&&s<n.top+a?"visible":"hidden",d={visibility:l};u.length&&(d.top=o?s-u.offset().top:u.scrollTop()),r&&(d.left=h.offset().left-parseInt(h.css("margin-left"),10)-f.scrollLeft()-T),w.length&&(d.top=(d.top||0)+b+_),C.removeClass(i.css.stickyVis+" "+i.css.stickyHide).addClass("visible"===l?i.css.stickyVis:i.css.stickyHide).css(d),(l!==E||e)&&(D(),E=l)}};if(u.length&&!u.css("position")&&u.css("position","relative"),x.attr("id")&&(x[0].id+=r.stickyHeaders_cloneId),x.find("thead:gt(0), tr.sticky-false").hide(),x.find("tbody, tfoot").remove(),x.find("caption").toggle(r.stickyHeaders_includeCaption),d=k.children().children(),x.css({height:0,width:0,margin:0}),d.find("."+i.css.resizer).remove(),h.addClass("hasStickyHeaders").bind("pagerComplete"+c,function(){D()}),i.bindEvents(n,k.children().children("."+i.css.header)),h.after(C),o.onRenderHeader)for(l=k.children("tr").children(),a=l.length,s=0;a>s;s++)o.onRenderHeader.apply(l.eq(s),[s,o,x]);f.add(p).unbind("scroll resize ".split(" ").join(c).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(c),function(t){O("resize"===t.type)}),o.$table.unbind("stickyHeadersUpdate"+c).bind("stickyHeadersUpdate"+c,function(){O(!0)}),r.stickyHeaders_addResizeEvent&&i.addHeaderResizeEvent(n),h.hasClass("hasFilters")&&r.filter_columnFilters&&(h.bind("filterEnd"+c,function(){var n=t(document.activeElement).closest("td"),s=n.parent().children().index(n);C.hasClass(i.css.stickyVis)&&r.stickyHeaders_filteredToTop&&(e.scrollTo(0,h.position().top),s>=0&&o.$filters&&o.$filters.eq(s).find("a, select, input").filter(":visible").focus())}),i.filter.bindSearch(h,d.find("."+i.css.filter)),r.filter_hideFilters&&i.filter.hideFilters(o,x)),h.triggerHandler("stickyHeadersInit")}},remove:function(n,o,r){var s=o.namespace+"stickyheaders ";o.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd stickyHeadersUpdate ".split(" ").join(s).replace(/\s+/g," ")).next("."+i.css.stickyWrap).remove(),r.$sticky&&r.$sticky.length&&r.$sticky.remove(),t(e).add(r.stickyHeaders_xScroll).add(r.stickyHeaders_yScroll).add(r.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(s).replace(/\s+/g," ")),i.addHeaderResizeEvent(n,!1)}})}(jQuery,window),function(t,e){"use strict";var i=t.tablesorter||{};t.extend(i.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),t(function(){var e="<style>body."+i.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+i.css.resizableContainer+" { position: relative; height: 1px; }."+i.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";t(e).appendTo("body")}),i.resizable={init:function(e,n){if(!e.$table.hasClass("hasResizable")){e.$table.addClass("hasResizable");var o,r,s,a,l,d=e.$table,h=d.parent(),u=parseInt(d.css("margin-top"),10),c=n.resizable_vars={useStorage:i.storage&&n.resizable!==!1,$wrap:h,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===h.css("overflow")||"scroll"===h.css("overflow")||"auto"===h.css("overflow-x")||"scroll"===h.css("overflow-x"),storedSizes:[]};for(i.resizableReset(e.table,!0),c.tableWidth=d.width(),c.fullWidth=Math.abs(h.width()-c.tableWidth)<20,c.useStorage&&c.overflow&&(i.storage(e.table,"tablesorter-table-original-css-width",c.tableWidth),l=i.storage(e.table,"tablesorter-table-resized-width")||"auto",i.resizable.setWidth(d,l,!0)),n.resizable_vars.storedSizes=a=(c.useStorage?i.storage(e.table,i.css.resizableStorage):[])||[],i.resizable.setWidths(e,n,a),i.resizable.updateStoredSizes(e,n),n.$resizable_container=t('<div class="'+i.css.resizableContainer+'">').css({top:u}).insertBefore(d),s=0;s<e.columns;s++)r=e.$headerIndexed[s],l=i.getColumnData(e.table,e.headers,s),o="false"===i.getData(r,l,"resizable"),o||t('<div class="'+i.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":s,unselectable:"on"}).data("header",r).bind("selectstart",!1);i.resizable.setHandlePosition(e,n),i.resizable.bindings(e,n)}},updateStoredSizes:function(t,e){var i,n,o=t.columns,r=e.resizable_vars;for(r.storedSizes=[],i=0;o>i;i++)n=t.$headerIndexed[i],r.storedSizes[i]=n.is(":visible")?n.width():0},setWidth:function(t,e,i){t.css({width:e,"min-width":i?e:"","max-width":i?e:""})},setWidths:function(e,n,o){var r,s,a=n.resizable_vars,l=t(e.namespace+"_extra_headers"),d=e.$table.children("colgroup").children("col");if(o=o||a.storedSizes||[],o.length){for(r=0;r<e.columns;r++)i.resizable.setWidth(e.$headerIndexed[r],o[r],a.overflow),l.length&&(s=l.eq(r).add(d.eq(r)),i.resizable.setWidth(s,o[r],a.overflow));s=t(e.namespace+"_extra_table"),s.length&&!i.hasWidget(e.table,"scroller")&&i.resizable.setWidth(s,e.$table.outerWidth(),a.overflow)}},setHandlePosition:function(e,n){var o,r=i.hasWidget(e.table,"scroller"),s=e.$table.height(),a=n.$resizable_container.children(),l=Math.floor(a.width()/2);r&&(s=0,e.$table.closest("."+i.css.scrollerWrap).children().each(function(){var e=t(this);s+=e.filter('[style*="height"]').length?e.height():e.children("table").height()})),o=e.$table.position().left,a.each(function(){var i=t(this),r=parseInt(i.attr("data-column"),10),a=e.columns-1,d=i.data("header");d&&(d.is(":visible")?(a>r||r===a&&n.resizable_addLastColumn)&&i.css({display:"inline-block",height:s,left:d.position().left-o+d.outerWidth()-l}):i.hide())})},toggleTextSelection:function(e,n,o){var r=e.namespace+"tsresize";n.resizable_vars.disabled=o,t("body").toggleClass(i.css.resizableNoSelect,o),o?t("body").attr("unselectable","on").bind("selectstart"+r,!1):t("body").removeAttr("unselectable").unbind("selectstart"+r)},bindings:function(n,o){var r=n.namespace+"tsresize";o.$resizable_container.children().bind("mousedown",function(e){var r,s=o.resizable_vars,a=t(n.namespace+"_extra_headers"),l=t(e.target).data("header");r=parseInt(l.attr("data-column"),10),s.$target=l=l.add(a.filter('[data-column="'+r+'"]')),s.target=r,s.$next=e.shiftKey||o.resizable_targetLast?l.parent().children().not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0),r=parseInt(s.$next.attr("data-column"),10),s.$next=s.$next.add(a.filter('[data-column="'+r+'"]')),s.next=r,s.mouseXPosition=e.pageX,i.resizable.updateStoredSizes(n,o),i.resizable.toggleTextSelection(n,o,!0)}),t(document).bind("mousemove"+r,function(t){var e=o.resizable_vars;e.disabled&&0!==e.mouseXPosition&&e.$target&&(o.resizable_throttle?(clearTimeout(e.timer),e.timer=setTimeout(function(){i.resizable.mouseMove(n,o,t)},isNaN(o.resizable_throttle)?5:o.resizable_throttle)):i.resizable.mouseMove(n,o,t))}).bind("mouseup"+r,function(){o.resizable_vars.disabled&&(i.resizable.toggleTextSelection(n,o,!1),i.resizable.stopResize(n,o),i.resizable.setHandlePosition(n,o))}),t(e).bind("resize"+r+" resizeEnd"+r,function(){i.resizable.setHandlePosition(n,o)}),n.$table.bind("columnUpdate"+r,function(){i.resizable.setHandlePosition(n,o)}).find("thead:first").add(t(n.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+r,function(){var t=0===o.resizable_vars.storedSizes.length;return i.resizableReset(n.table),i.resizable.setHandlePosition(n,o),o.resizable_vars.storedSizes=[],t})},mouseMove:function(e,n,o){if(0!==n.resizable_vars.mouseXPosition&&n.resizable_vars.$target){var r,s=0,a=n.resizable_vars,l=a.$next,d=a.storedSizes[a.target],h=o.pageX-a.mouseXPosition;if(a.overflow){if(d+h>0){for(a.storedSizes[a.target]+=h,i.resizable.setWidth(a.$target,a.storedSizes[a.target],!0),r=0;r<e.columns;r++)s+=a.storedSizes[r];i.resizable.setWidth(e.$table.add(t(e.namespace+"_extra_table")),s)}l.length||(a.$wrap[0].scrollLeft=e.$table.width())}else a.fullWidth?(a.storedSizes[a.target]+=h,a.storedSizes[a.next]-=h,i.resizable.setWidths(e,n)):(a.storedSizes[a.target]+=h,i.resizable.setWidths(e,n));a.mouseXPosition=o.pageX,e.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(t,e){var n=e.resizable_vars;i.resizable.updateStoredSizes(t,e),n.useStorage&&(i.storage(t.table,i.css.resizableStorage,n.storedSizes),i.storage(t.table,"tablesorter-table-resized-width",t.$table.width())),n.mouseXPosition=0,n.$target=n.$next=null,t.$table.triggerHandler("stickyHeadersUpdate")}},i.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1,resizable_fullWidth:null},init:function(t,e,n,o){i.resizable.init(n,o)},remove:function(e,n,o,r){if(o.$resizable_container){var s=n.namespace+"tsresize";n.$table.add(t(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+s),o.$resizable_container.remove(),i.resizable.toggleTextSelection(n,o,!1),i.resizableReset(e,r),t(document).unbind("mousemove"+s+" mouseup"+s)}}}),i.resizableReset=function(e,n){t(e).each(function(){var t,o,r=this.config,s=r&&r.widgetOptions,a=s.resizable_vars;if(e&&r&&r.$headerIndexed.length){for(a.overflow&&a.tableWidth&&(i.resizable.setWidth(r.$table,a.tableWidth,!0),a.useStorage&&i.storage(e,"tablesorter-table-resized-width","auto")),t=0;t<r.columns;t++)o=r.$headerIndexed[t],s.resizable_widths&&s.resizable_widths[t]?i.resizable.setWidth(o,s.resizable_widths[t],a.overflow):o.hasClass("resizable-false")||i.resizable.setWidth(o,"",a.overflow);r.$table.triggerHandler("stickyHeadersUpdate"),i.storage&&!n&&i.storage(this,i.css.resizableStorage,{})}})}}(jQuery,window),function(t){"use strict";var e=t.tablesorter||{};e.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(t,e,i,n){e.format(t,i,n,!0)},format:function(i,n,o,r){var s,a,l=n.$table,d=o.saveSort!==!1,h={sortList:n.sortList};n.debug&&(a=new Date),l.hasClass("hasSaveSort")?d&&i.hasInitialized&&e.storage&&(e.storage(i,"tablesorter-savesort",h),n.debug&&console.log("saveSort widget: Saving last sort: "+n.sortList+e.benchmark(a))):(l.addClass("hasSaveSort"),h="",e.storage&&(s=e.storage(i,"tablesorter-savesort"),h=s&&s.hasOwnProperty("sortList")&&t.isArray(s.sortList)?s.sortList:"",n.debug&&console.log('saveSort: Last sort loaded: "'+h+'"'+e.benchmark(a)),l.bind("saveSortReset",function(t){t.stopPropagation(),e.storage(i,"tablesorter-savesort","")})),r&&h&&h.length>0?n.sortList=h:i.hasInitialized&&h&&h.length>0&&e.sortOn(n,h))},remove:function(t,i){i.$table.removeClass("hasSaveSort"),e.storage&&e.storage(t,"tablesorter-savesort","")}})}(jQuery),t.tablesorter}),function(){var t=[].slice;!function(e,i){var n;return n=function(){function t(t,i){this.options=e.extend({},this.defaults,i),this.$container=e(t),this.$table=e(t).find("table"),this.$context=e(this.options.context),this.init()}return t.prototype.defaults={debug:!1,navSelector:"a[rel=next]",buffer:1e3,loading:null,success:null,error:null,context:i,state:{paused:!1,loading:!1}},t.prototype.init=function(){var t,e;return e=null,t=function(t){return function(){return t.check()}}(this),this.$context.scroll(function(){return e&&(clearTimeout(e),e=null),e=setTimeout(t,250)})},t.prototype._log=function(t){return this.options.debug&&"undefined"!=typeof console&&null!==console?console.log(t):void 0},t.prototype.check=function(){var t,e,i;return e=this.$container.find(this.options.navSelector),0===e.size()?this._log("No more pages to load"):(i=this.$context.scrollTop()+this.$context.height(),t=e.offset().top-i,this.options.state.paused?this._log("Paused"):this.options.state.loading?this._log("Waiting..."):t>this.options.buffer?this._log(t-this.options.buffer+"px remaining..."):this.next())},t.prototype.next=function(){return this.options.state.done?this._log("Loaded all pages"):(this._loading(),e.getScript(this.$container.find(this.options.navSelector).attr("href")).done(function(t){return function(){return t._success()}}(this)).fail(function(t){return function(){return t._error()}}(this)))},t.prototype._loading=function(){return this.options.state.loading=!0,this._log("Loading next page..."),"function"==typeof this.options.loading?this.$container.find(this.options.navSelector).each(this.options.loading):void 0},t.prototype._success=function(){return this.options.state.loading=!1,this._log("New page loaded!"),"function"==typeof this.options.success?this.$container.find(this.options.navSelector).each(this.options.success):void 0},t.prototype._error=function(){return this.options.state.loading=!1,this._log("Error loading new page :("),"function"==typeof this.options.error?this.$container.find(this.options.navSelector).each(this.options.error):void 0},t.prototype.pause=function(){return this.options.state.paused=!0,this._log("Scroll checks paused")},t.prototype.resume=function(){return this.options.state.paused=!1,this._log("Scroll checks resumed"),this.check()},t}(),e.fn.extend({infinitePages:function(){var i,o;return o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],this.each(function(){var t,r;return t=e(this),r=t.data("infinitepages"),r||t.data("infinitepages",r=new n(this,o)),"string"==typeof o?r[o].apply(r,i):void 0})}})}(window.jQuery,window)}.call(this),/*!
 * Datepicker for Bootstrap v1.5.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function r(t){return function(){return this[t].apply(this,arguments)}}function s(t){return t&&!isNaN(t.getTime())}function a(e,i){function n(t,e){return e.toLowerCase()}var o,r=t(e).data(),s={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in r)i.test(l)&&(o=l.replace(a,n),s[o]=r[l]);return s}function l(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var n=g[e];return t.each(m,function(t,e){e in n&&(i[e]=n[e])}),i}}var d=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new d;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this._process_options(i),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(o){this._o=t.extend({},this._o,o);var r=this.o=t.extend({},this._o),s=r.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=f.language)),r.language=s,r.startView){case 2:case"decade":r.startView=2;break;case 1:case"year":r.startView=1;break;default:r.startView=0}switch(r.minViewMode){case 1:case"months":r.minViewMode=1;break;case 2:case"years":r.minViewMode=2;break;default:r.minViewMode=0}switch(r.maxViewMode){case 0:case"days":r.maxViewMode=0;break;case 1:case"months":r.maxViewMode=1;break;default:r.maxViewMode=2}r.startView=Math.min(r.startView,r.maxViewMode),r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=v.parseFormat(r.format);if(r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,a,r.language):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,a,r.language):r.endDate=1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],t.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=t.map(r.daysOfWeekDisabled,function(t){return parseInt(t,10)}),r.daysOfWeekHighlighted=r.daysOfWeekHighlighted||[],t.isArray(r.daysOfWeekHighlighted)||(r.daysOfWeekHighlighted=r.daysOfWeekHighlighted.split(/[,\s]*/)),r.daysOfWeekHighlighted=t.map(r.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),r.datesDisabled=r.datesDisabled||[],!t.isArray(r.datesDisabled)){var l=[];l.push(v.parseDate(r.datesDisabled,a,r.language)),r.datesDisabled=l}r.datesDisabled=t.map(r.datesDisabled,function(t){return v.parseDate(t,a,r.language)});var d=String(r.orientation).toLowerCase().split(/\s+/g),h=r.orientation.toLowerCase();if(d=t.grep(d,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},h&&"auto"!==h)if(1===d.length)switch(d[0]){case"top":case"bottom":r.orientation.y=d[0];break;case"left":case"right":r.orientation.x=d[0]}else h=t.grep(d,function(t){return/^left|right$/.test(t)}),r.orientation.x=h[0]||"auto",h=t.grep(d,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=h[0]||"auto";else;if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),c=r.defaultViewDate.month||0,p=r.defaultViewDate.day||1;r.defaultViewDate=i(u,c,p)}else r.defaultViewDate=n();r.showOnFocus=r.showOnFocus!==e?r.showOnFocus:!0,r.zIndexOffset=r.zIndexOffset!==e?r.zIndexOffset:10},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,o,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(n=e,o=t[r][1]):3===t[r].length&&(n=t[r][1],o=t[r][2]),i.on(o,n)},_unapplyEvents:function(t){for(var i,n,o,r=0;r<t.length;r++)i=t[r][0],2===t[r].length?(o=e,n=t[r][1]):3===t[r].length&&(o=t[r][1],n=t[r][2]),i.off(n,o)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),o=this._utc_to_local(n);this.element.trigger({type:e,date:o,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,o=t(this.o.container),r=o.width(),s=o.scrollTop(),a=o.offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var d=Math.max.apply(Math,l)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=h.left-a.left,f=h.top-a.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-c)):h.left<0?(this.picker.addClass("datepicker-orient-left"),p-=h.left-n):p+e>r?(this.picker.addClass("datepicker-orient-right"),p=h.left+c-e):this.picker.addClass("datepicker-orient-left");var m,g=this.o.orientation.y;if("auto"===g&&(m=-s+f-i,g=0>m?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f-=i+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var v=r-(p+c);this.picker.css({top:f,right:v,zIndex:d})}else this.picker.css({top:f,left:p,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<r?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>r)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return o(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},fill:function(){var n,o=new Date(this.viewDate),r=o.getUTCFullYear(),s=o.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",c=g[this.o.language].clear||g.en.clear||"",p=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(r)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(r,s),p,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(c).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=i(r,s-1,28),m=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var b,w=[];f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),x=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),C=new Date(Number(C=i(x.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),k=(x-C)/864e5/7+1;w.push('<td class="cw">'+k+"</td>")}if(b=this.getClassNames(f),b.push("day"),this.o.beforeShowDay!==t.noop){var E=this.o.beforeShowDay(this._utc_to_local(f));E===e?E={}:"boolean"==typeof E?E={enabled:E}:"string"==typeof E&&(E={classes:E}),E.enabled===!1&&b.push("disabled"),E.classes&&(b=b.concat(E.classes.split(/\s+/))),E.tooltip&&(n=E.tooltip)}b=t.unique(b),w.push('<td class="'+b.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+f.getUTCDate()+"</td>"),n=null,f.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var T=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?"Months":r).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&T.eq(e.getUTCMonth()).addClass("active")}),(a>r||r>d)&&T.addClass("disabled"),r===a&&T.slice(0,l).addClass("disabled"),r===d&&T.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var S=this;t.each(T,function(e,i){if(!t(i).hasClass("disabled")){var n=new Date(r,e,1),o=S.o.beforeShowMonth(n);o===!1&&t(i).addClass("disabled")}})}w="",r=10*parseInt(r/10,10);var D=this.picker.find(".datepicker-years").find(".datepicker-switch").text(r+"-"+(r+9)).end().find("td");r-=1;for(var O,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),A=-1;11>A;A++){if(O=["year"],n=null,-1===A?O.push("old"):10===A&&O.push("new"),-1!==t.inArray(r,M)&&O.push("active"),(a>r||r>d)&&O.push("disabled"),this.o.beforeShowYear!==t.noop){var N=this.o.beforeShowYear(new Date(r,0,1));N===e?N={}:"boolean"==typeof N?N={enabled:N}:"string"==typeof N&&(N={classes:N}),N.enabled===!1&&O.push("disabled"),N.classes&&(O=O.concat(N.classes.split(/\s+/))),N.tooltip&&(n=N.tooltip)}w+='<span class="'+O.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+r+"</span>",r+=1}D.html(w)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var n,o,r,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=v.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(r=1,o=s.parent().find("span").index(s),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(n,o,r)),this.showMode()):this.showMode(-1)):(r=1,o=0,n=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,o,r)),this.showMode(-1)),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(r=parseInt(s.text(),10)||1,n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s.hasClass("old")?0===o?(o=11,n-=1):o-=1:s.hasClass("new")&&(11===o?(o=0,n+=1):o+=1),this._setDate(i(n,o,r)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!s(t))return this.o.defaultViewDate;if(!e)return t;var i,n,o=new Date(t.valueOf()),r=o.getUTCDate(),a=o.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)n=-1===e?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==i},i=a+e,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(r),n=function(){return i!==o.getUTCMonth()}}for(;n();)o.setUTCDate(--r),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void((40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation()));var e,i,o,r=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),o=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),o=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+e),o=new Date(s),o.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),o=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),o=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*e),o=new Date(s),o.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var u=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,p.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker");if("undefined"!=typeof i){var n=i.getUTCDate(),o=t.inArray(e.target,this.inputs),r=o-1,s=o+1,a=this.inputs.length;if(-1!==o){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[r])for(;r>=0&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[s])for(;a>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var c=t.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var o;if(this.each(function(){var e=t(this),r=e.data("datepicker"),s="object"==typeof i&&i;if(!r){var d=a(this,"date"),c=t.extend({},f,d,s),p=l(c.language),m=t.extend({},f,p,d,s);if(e.hasClass("input-daterange")||m.inputs){var g={inputs:m.inputs||e.find("input").toArray()};e.data("datepicker",r=new u(this,t.extend(m,g)))}else e.data("datepicker",r=new h(this,m))}"string"==typeof i&&"function"==typeof r[i]&&(o=r[i].apply(r,n))}),o===e||o instanceof h||o instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return o};t.fn.datepicker=p;var f=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1,title:""},m=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(n,o,r){function s(){var t=this.slice(0,c[d].length),e=c[d].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;if("string"==typeof o&&(o=v.parseFormat(o)),o.toValue)return o.toValue(n,o,r);var a,l,d,u=/([\-+]\d+)([dmwy])/,c=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,d=0;d<c.length;d++)switch(a=u.exec(c[d]),l=parseInt(a[1]),a[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=h.prototype.moveMonth.call(h.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=h.prototype.moveYear.call(h.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}c=n&&n.match(this.nonpunctuation)||[],n=new Date;var p,f,m={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var w=o.parts.slice();if(c.length!==w.length&&(w=t(w).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),c.length===w.length){var _;for(d=0,_=w.length;_>d;d++){if(p=parseInt(c[d],10),a=w[d],isNaN(p))switch(a){case"MM":f=t(g[r].months).filter(s),p=t.inArray(f[0],g[r].months)+1;break;case"M":f=t(g[r].monthsShort).filter(s),p=t.inArray(f[0],g[r].monthsShort)+1}m[a]=p}var x,C;for(d=0;d<y.length;d++)C=y[d],C in m&&!isNaN(m[C])&&(x=new Date(n),b[C](x,m[C]),isNaN(x)||(n=x))}return n},formatDate:function(e,i,n){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,n);var o={d:e.getUTCDate(),D:g[n].daysShort[e.getUTCDay()],DD:g[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[n].monthsShort[e.getUTCMonth()],MM:g[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var r=t.extend([],i.separators),s=0,a=i.parts.length;a>=s;s++)r.length&&e.push(r.shift()),e.push(o[i.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t.fn.datepicker.version="1.5.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),p.call(i,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}),function(t){t.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],daysShort:["sun","maa","tii","kes","tor","per","lau"],daysMin:["su","ma","ti","ke","to","pe","la"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"t\xe4n\xe4\xe4n",clear:"Tyhjenn\xe4",weekStart:1,format:"d.m.yyyy"}}(jQuery),window.UnobtrusiveFlash={},function(){function t(t){var e=new Date;e.setDate(e.getDate()-1);var i=window.location.hostname.split(".").reverse(),n=i.shift();$.each(i,function(i,o){n=o+"."+n,document.cookie=t+"=; path=/;expires="+e+"; domain="+n}),document.cookie=t+"=; path=/;expires="+e+"; domain="}function e(){var e=null;if(document.cookie&&""!==document.cookie){for(var i=document.cookie.split(";"),n="flash",o=null,r=0;r<i.length;r++){var s=jQuery.trim(i[r]);
if(s.substring(0,n.length+1)==n+"="&&(o=decodeURIComponent(s.substring(n.length+1).replace(/\+/g,"%20")),o.length>0))break}try{e=$.parseJSON(o)}catch(a){}t("flash")}return e}window.UnobtrusiveFlash.showFlash=function(t){null!==t&&$.each(t,function(t,e){$(window).trigger("rails:flash",{type:e[0],message:e[1]})})},window.UnobtrusiveFlash.showFlashFromCookies=function(){UnobtrusiveFlash.showFlash(e())};var i=e();$(window).load(function(){UnobtrusiveFlash.showFlash(i)}),$(document).on("page:change page:load",UnobtrusiveFlash.showFlashFromCookies),$(document).ajaxComplete(function(t,e,i){UnobtrusiveFlash.showFlashFromCookies()})}(),window.UnobtrusiveFlash.flashOptions={type:"notice",timeout:0},function(){UnobtrusiveFlash.showFlashMessage=function(t,e){e=$.extend(UnobtrusiveFlash.flashOptions,e),"notice"==e.type?e.type="info":"alert"==e.type?e.type="warning":"error"==e.type&&(e.type="danger");var i=$('<div class="alert alert-'+e.type+' fade in"><button type="button" class="close" data-dismiss="alert">&times;</button>'+t+"</div>"),n=$($(".unobtrusive-flash-container")[0]||$(".container")[0]||$(".container-fluid")[0]||$("body")[0]);n.prepend(i),i.hide().delay(300).slideDown(100),i.alert(),e.timeout>0&&setTimeout(function(){i.alert("close")},e.timeout)};var t=function(t,e){UnobtrusiveFlash.showFlashMessage(e.message,{type:e.type})};$(window).bind("rails:flash",t)}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,o,r,s,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)s[i]=str(i,l)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],o=str(n,l),o&&s.push(quote(n)+(gap?": ":":")+o));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(o=str(n,l),o&&s.push(quote(n)+(gap?": ":":")+o));return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/**
 * History.js Native Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t,e){"use strict";var i=t.History=t.History||{};if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(t){return t._uid||(t._uid=i.Adapter._uid++)},bind:function(t,e,n){var o=i.Adapter.uid(t);i.Adapter.handlers[o]=i.Adapter.handlers[o]||{},i.Adapter.handlers[o][e]=i.Adapter.handlers[o][e]||[],i.Adapter.handlers[o][e].push(n),t["on"+e]=function(t,e){return function(n){i.Adapter.trigger(t,e,n)}}(t,e)},trigger:function(t,e,n){n=n||{};var o,r,s=i.Adapter.uid(t);for(i.Adapter.handlers[s]=i.Adapter.handlers[s]||{},i.Adapter.handlers[s][e]=i.Adapter.handlers[s][e]||[],o=0,r=i.Adapter.handlers[s][e].length;r>o;++o)i.Adapter.handlers[s][e][o].apply(this,[n])},extractEventData:function(t,i){var n=i&&i[t]||e;return n},onDomLoad:function(e){var i=t.setTimeout(function(){e()},2e3);t.onload=function(){clearTimeout(i),e()}}},"undefined"!=typeof i.init&&i.init()}(window),/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t,e){"use strict";var i=t.document,n=t.setTimeout||n,o=t.clearTimeout||o,r=t.setInterval||r,s=t.History=t.History||{};if("undefined"!=typeof s.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");s.initHtml4=function(){return"undefined"!=typeof s.initHtml4.initialized?!1:(s.initHtml4.initialized=!0,s.enabled=!0,s.savedHashes=[],s.isLastHash=function(t){var e,i=s.getHashByIndex();return e=t===i},s.isHashEqual=function(t,e){return t=encodeURIComponent(t).replace(/%25/g,"%"),e=encodeURIComponent(e).replace(/%25/g,"%"),t===e},s.saveHash=function(t){return s.isLastHash(t)?!1:(s.savedHashes.push(t),!0)},s.getHashByIndex=function(t){var e=null;return e="undefined"==typeof t?s.savedHashes[s.savedHashes.length-1]:0>t?s.savedHashes[s.savedHashes.length+t]:s.savedHashes[t]},s.discardedHashes={},s.discardedStates={},s.discardState=function(t,e,i){var n,o=s.getHashByState(t);return n={discardedState:t,backState:i,forwardState:e},s.discardedStates[o]=n,!0},s.discardHash=function(t,e,i){var n={discardedHash:t,backState:i,forwardState:e};return s.discardedHashes[t]=n,!0},s.discardedState=function(t){var e,i=s.getHashByState(t);return e=s.discardedStates[i]||!1},s.discardedHash=function(t){var e=s.discardedHashes[t]||!1;return e},s.recycleState=function(t){var e=s.getHashByState(t);return s.discardedState(t)&&delete s.discardedStates[e],!0},s.emulated.hashChange&&(s.hashChangeInit=function(){s.checkerFunction=null;var e,n,o,a,l="",d=Boolean(s.getHash());return s.isInternetExplorer()?(e="historyjs-iframe",n=i.createElement("iframe"),n.setAttribute("id",e),n.setAttribute("src","#"),n.style.display="none",i.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),o="",a=!1,s.checkerFunction=function(){if(a)return!1;a=!0;var e=s.getHash(),i=s.getHash(n.contentWindow.document);return e!==l?(l=e,i!==e&&(o=i=e,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=s.escapeHash(e)),s.Adapter.trigger(t,"hashchange")):i!==o&&(o=i,d&&""===i?s.back():s.setHash(i,!1)),a=!1,!0}):s.checkerFunction=function(){var e=s.getHash()||"";return e!==l&&(l=e,s.Adapter.trigger(t,"hashchange")),!0},s.intervalList.push(r(s.checkerFunction,s.options.hashChangeInterval)),!0},s.Adapter.onDomLoad(s.hashChangeInit)),s.emulated.pushState&&(s.onHashChange=function(e){var i,n=e&&e.newURL||s.getLocationHref(),o=s.getHashByUrl(n),r=null,a=null;return s.isLastHash(o)?(s.busy(!1),!1):(s.doubleCheckComplete(),s.saveHash(o),o&&s.isTraditionalAnchor(o)?(s.Adapter.trigger(t,"anchorchange"),s.busy(!1),!1):(r=s.extractState(s.getFullUrl(o||s.getLocationHref()),!0),s.isLastSavedState(r)?(s.busy(!1),!1):(a=s.getHashByState(r),(i=s.discardedState(r))?(s.getHashByIndex(-2)===s.getHashByState(i.forwardState)?s.back(!1):s.forward(!1),!1):(s.pushState(r.data,r.title,encodeURI(r.url),!1),!0))))},s.Adapter.bind(t,"hashchange",s.onHashChange),s.pushState=function(e,i,n,o){if(n=encodeURI(n).replace(/%25/g,"%"),s.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(o!==!1&&s.busy())return s.pushQueue({scope:s,callback:s.pushState,args:arguments,queue:o}),!1;s.busy(!0);var r=s.createStateObject(e,i,n),a=s.getHashByState(r),l=s.getState(!1),d=s.getHashByState(l),h=s.getHash(),u=s.expectedStateId==r.id;return s.storeState(r),s.expectedStateId=r.id,s.recycleState(r),s.setTitle(r),a===d?(s.busy(!1),!1):(s.saveState(r),u||s.Adapter.trigger(t,"statechange"),s.isHashEqual(a,h)||s.isHashEqual(a,s.getShortUrl(s.getLocationHref()))||s.setHash(a,!1),s.busy(!1),!0)},s.replaceState=function(e,i,n,o){if(n=encodeURI(n).replace(/%25/g,"%"),s.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(o!==!1&&s.busy())return s.pushQueue({scope:s,callback:s.replaceState,args:arguments,queue:o}),!1;s.busy(!0);var r=s.createStateObject(e,i,n),a=s.getHashByState(r),l=s.getState(!1),d=s.getHashByState(l),h=s.getStateByIndex(-2);return s.discardState(l,r,h),a===d?(s.storeState(r),s.expectedStateId=r.id,s.recycleState(r),s.setTitle(r),s.saveState(r),s.Adapter.trigger(t,"statechange"),s.busy(!1)):s.pushState(r.data,r.title,r.url,!1),!0}),void(s.emulated.pushState&&s.getHash()&&!s.emulated.hashChange&&s.Adapter.onDomLoad(function(){s.Adapter.trigger(t,"hashchange")})))},"undefined"!=typeof s.init&&s.init()}(window),/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t,e){"use strict";var i=t.console||e,n=t.document,o=t.navigator,r=t.sessionStorage||!1,s=t.setTimeout,a=t.clearTimeout,l=t.setInterval,d=t.clearInterval,h=t.JSON,u=t.alert,c=t.History=t.History||{},p=t.history;try{r.setItem("TEST","1"),r.removeItem("TEST")}catch(f){r=!1}if(h.stringify=h.stringify||h.encode,h.parse=h.parse||h.decode,"undefined"!=typeof c.init)throw new Error("History.js Core has already been loaded...");c.init=function(t){return"undefined"==typeof c.Adapter?!1:("undefined"!=typeof c.initCore&&c.initCore(),"undefined"!=typeof c.initHtml4&&c.initHtml4(),!0)},c.initCore=function(f){if("undefined"!=typeof c.initCore.initialized)return!1;if(c.initCore.initialized=!0,c.options=c.options||{},c.options.hashChangeInterval=c.options.hashChangeInterval||100,c.options.safariPollInterval=c.options.safariPollInterval||500,c.options.doubleCheckInterval=c.options.doubleCheckInterval||500,c.options.disableSuid=c.options.disableSuid||!1,c.options.storeInterval=c.options.storeInterval||1e3,c.options.busyDelay=c.options.busyDelay||250,c.options.debug=c.options.debug||!1,c.options.initialTitle=c.options.initialTitle||n.title,c.options.html4Mode=c.options.html4Mode||!1,c.options.delayInit=c.options.delayInit||!1,c.intervalList=[],c.clearAllIntervals=function(){var t,e=c.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)d(e[t]);c.intervalList=null}},c.debug=function(){c.options.debug&&c.log.apply(c,arguments)},c.log=function(){var t,e,o,r,s,a=!("undefined"==typeof i||"undefined"==typeof i.log||"undefined"==typeof i.log.apply),l=n.getElementById("log");for(a?(r=Array.prototype.slice.call(arguments),t=r.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[t,r]):i.log.apply(i,[t,r])):t="\n"+arguments[0]+"\n",e=1,o=arguments.length;o>e;++e){if(s=arguments[e],"object"==typeof s&&"undefined"!=typeof h)try{s=h.stringify(s)}catch(d){}t+="\n"+s+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||u(t),!0},c.getInternetExplorerMajorVersion=function(){var t=c.getInternetExplorerMajorVersion.cached="undefined"!=typeof c.getInternetExplorerMajorVersion.cached?c.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return t>4?t:!1}();return t},c.isInternetExplorer=function(){var t=c.isInternetExplorer.cached="undefined"!=typeof c.isInternetExplorer.cached?c.isInternetExplorer.cached:Boolean(c.getInternetExplorerMajorVersion());return t},c.options.html4Mode?c.emulated={pushState:!0,hashChange:!0}:c.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent))),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in n)||c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8)},c.enabled=!c.emulated.pushState,c.bugs={setHash:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<7)},c.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},c.cloneObject=function(t){var e,i;return t?(e=h.stringify(t),i=h.parse(e)):i={},i},c.getRootUrl=function(){var t=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(t+=":"+n.location.port),t+="/"},c.getBaseHref=function(){var t=n.getElementsByTagName("base"),e=null,i="";return 1===t.length&&(e=t[0],i=e.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},c.getBaseUrl=function(){var t=c.getBaseHref()||c.getBasePageUrl()||c.getRootUrl();return t},c.getPageUrl=function(){var t,e=c.getState(!1,!1),i=(e||{}).url||c.getLocationHref();return t=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(t,e,i){return/\./.test(t)?t:t+"/"})},c.getBasePageUrl=function(){var t=c.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t,e,i){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},c.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e="undefined"==typeof e?!0:e,/[a-z]+\:\/\//.test(t)||(i="/"===n?c.getRootUrl()+t.replace(/^\/+/,""):"#"===n?c.getPageUrl().replace(/#.*/,"")+t:"?"===n?c.getPageUrl().replace(/[\?#].*/,"")+t:e?c.getBaseUrl()+t.replace(/^(\.\/)+/,""):c.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},c.getShortUrl=function(t){var e=t,i=c.getBaseUrl(),n=c.getRootUrl();return c.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),e="./"+e,e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},c.getLocationHref=function(t){return t=t||n,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},c.store={},c.idToState=c.idToState||{},c.stateToId=c.stateToId||{},c.urlToId=c.urlToId||{},c.storedStates=c.storedStates||[],c.savedStates=c.savedStates||[],c.normalizeStore=function(){c.store.idToState=c.store.idToState||{},c.store.urlToId=c.store.urlToId||{},c.store.stateToId=c.store.stateToId||{}},c.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var i=c.getLastSavedState();return!i&&e&&(i=c.createStateObject()),t&&(i=c.cloneObject(i),i.url=i.cleanUrl||i.url),i},c.getIdByState=function(t){var e,i=c.extractId(t.url);if(!i)if(e=c.getStateString(t),"undefined"!=typeof c.stateToId[e])i=c.stateToId[e];else if("undefined"!=typeof c.store.stateToId[e])i=c.store.stateToId[e];else{for(;;)if(i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof c.idToState[i]&&"undefined"==typeof c.store.idToState[i])break;c.stateToId[e]=i,c.idToState[i]=t}return i},c.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=c.getFullUrl(t.url?t.url:c.getLocationHref()),e.hash=c.getShortUrl(e.url),e.data=c.cloneObject(t.data),e.id=c.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!c.isEmptyObject(e.data),(e.title||i)&&c.options.disableSuid!==!0&&(e.hash=c.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=c.getFullUrl(e.hash),(c.emulated.pushState||c.bugs.safariPoll)&&c.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},c.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=c.normalizeState(n)},c.getStateById=function(t){t=String(t);var i=c.idToState[t]||c.store.idToState[t]||e;return i},c.getStateString=function(t){var e,i,n;return e=c.normalizeState(t),i={data:e.data,title:t.title,url:t.url},n=h.stringify(i)},c.getStateId=function(t){var e,i;return e=c.normalizeState(t),i=e.id},c.getHashByState=function(t){var e,i;return e=c.normalizeState(t),i=e.hash},c.extractId=function(t){var e,i,n,o;return o=-1!=t.indexOf("#")?t.split("#")[0]:t,i=/(.*)\&_suid=([0-9]+)$/.exec(o),n=i?i[1]||t:t,e=i?String(i[2]||""):"",e||!1},c.isTraditionalAnchor=function(t){var e=!/[\/\\.]/.test(t);return e},c.extractState=function(t,e){var i,n,o=null;return e=e||!1,i=c.extractId(t),i&&(o=c.getStateById(i)),o||(n=c.getFullUrl(t),i=c.getIdByUrl(n)||!1,i&&(o=c.getStateById(i)),o||!e||c.isTraditionalAnchor(t)||(o=c.createStateObject(null,null,n))),o},c.getIdByUrl=function(t){var i=c.urlToId[t]||c.store.urlToId[t]||e;return i},c.getLastSavedState=function(){return c.savedStates[c.savedStates.length-1]||e},c.getLastStoredState=function(){return c.storedStates[c.storedStates.length-1]||e},c.hasUrlDuplicate=function(t){var e,i=!1;return e=c.extractState(t.url),i=e&&e.id!==t.id},c.storeState=function(t){return c.urlToId[t.url]=t.id,c.storedStates.push(c.cloneObject(t)),t},c.isLastSavedState=function(t){var e,i,n,o=!1;return c.savedStates.length&&(e=t.id,i=c.getLastSavedState(),n=i.id,o=e===n),o},c.saveState=function(t){return c.isLastSavedState(t)?!1:(c.savedStates.push(c.cloneObject(t)),!0)},c.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?c.savedStates[c.savedStates.length-1]:0>t?c.savedStates[c.savedStates.length+t]:c.savedStates[t]},c.getCurrentIndex=function(){var t=null;return t=c.savedStates.length<1?0:c.savedStates.length-1},c.getHash=function(t){var e,i=c.getLocationHref(t);return e=c.getHashByUrl(i)},c.unescapeHash=function(t){var e=c.normalizeHash(t);return e=decodeURIComponent(e)},c.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},c.setHash=function(t,e){var i,o;return e!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.setHash,args:arguments,queue:e}),!1):(c.busy(!0),i=c.extractState(t,!0),i&&!c.emulated.pushState?c.pushState(i.data,i.title,i.url,!1):c.getHash()!==t&&(c.bugs.setHash?(o=c.getPageUrl(),c.pushState(null,null,o+"#"+t,!1)):n.location.hash=t),c)},c.escapeHash=function(e){var i=c.normalizeHash(e);return i=t.encodeURIComponent(i),c.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},c.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=c.unescapeHash(e)},c.setTitle=function(t){var e,i=t.title;i||(e=c.getStateByIndex(0),e&&e.url===t.url&&(i=e.title||c.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(o){}return n.title=i,c},c.queues=[],c.busy=function(t){if("undefined"!=typeof t?c.busy.flag=t:"undefined"==typeof c.busy.flag&&(c.busy.flag=!1),!c.busy.flag){a(c.busy.timeout);var e=function(){var t,i,n;if(!c.busy.flag)for(t=c.queues.length-1;t>=0;--t)i=c.queues[t],0!==i.length&&(n=i.shift(),c.fireQueueItem(n),c.busy.timeout=s(e,c.options.busyDelay))};c.busy.timeout=s(e,c.options.busyDelay)}return c.busy.flag},c.busy.flag=!1,c.fireQueueItem=function(t){return t.callback.apply(t.scope||c,t.args||[])},c.pushQueue=function(t){return c.queues[t.queue||0]=c.queues[t.queue||0]||[],c.queues[t.queue||0].push(t),c},c.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),c.busy()?c.pushQueue(t):c.fireQueueItem(t),c},c.clearQueue=function(){return c.busy.flag=!1,c.queues=[],c},c.stateChanged=!1,c.doubleChecker=!1,c.doubleCheckComplete=function(){return c.stateChanged=!0,c.doubleCheckClear(),c},c.doubleCheckClear=function(){return c.doubleChecker&&(a(c.doubleChecker),c.doubleChecker=!1),c},c.doubleCheck=function(t){return c.stateChanged=!1,c.doubleCheckClear(),c.bugs.ieDoubleCheck&&(c.doubleChecker=s(function(){return c.doubleCheckClear(),c.stateChanged||t(),!0},c.options.doubleCheckInterval)),c},c.safariStatePoll=function(){var e,i=c.extractState(c.getLocationHref());if(!c.isLastSavedState(i))return e=i,e||(e=c.createStateObject()),c.Adapter.trigger(t,"popstate"),c},c.back=function(t){return t!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.back,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.back(!1)}),p.go(-1),!0)},c.forward=function(t){return t!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.forward,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.forward(!1)}),p.go(1),!0)},c.go=function(t,e){var i;if(t>0)for(i=1;t>=i;++i)c.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=t;--i)c.back(e)}return c},c.emulated.pushState){var m=function(){};c.pushState=c.pushState||m,c.replaceState=c.replaceState||m}else c.onPopState=function(e,i){var n,o,r=!1,s=!1;return c.doubleCheckComplete(),(n=c.getHash())?(o=c.extractState(n||c.getLocationHref(),!0),o?c.replaceState(o.data,o.title,o.url,!1):(c.Adapter.trigger(t,"anchorchange"),c.busy(!1)),c.expectedStateId=!1,!1):(r=c.Adapter.extractEventData("state",e,i)||!1,s=r?c.getStateById(r):c.expectedStateId?c.getStateById(c.expectedStateId):c.extractState(c.getLocationHref()),s||(s=c.createStateObject(null,null,c.getLocationHref())),c.expectedStateId=!1,c.isLastSavedState(s)?(c.busy(!1),!1):(c.storeState(s),c.saveState(s),c.setTitle(s),c.Adapter.trigger(t,"statechange"),c.busy(!1),!0))},c.Adapter.bind(t,"popstate",c.onPopState),c.pushState=function(e,i,n,o){if(c.getHashByUrl(n)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:o}),!1;c.busy(!0);var r=c.createStateObject(e,i,n);return c.isLastSavedState(r)?c.busy(!1):(c.storeState(r),c.expectedStateId=r.id,p.pushState(r.id,r.title,r.url),c.Adapter.trigger(t,"popstate")),!0},c.replaceState=function(e,i,n,o){if(c.getHashByUrl(n)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:o}),!1;c.busy(!0);var r=c.createStateObject(e,i,n);return c.isLastSavedState(r)?c.busy(!1):(c.storeState(r),c.expectedStateId=r.id,p.replaceState(r.id,r.title,r.url),c.Adapter.trigger(t,"popstate")),!0};if(r){try{c.store=h.parse(r.getItem("History.store"))||{}}catch(g){c.store={}}c.normalizeStore()}else c.store={},c.normalizeStore();c.Adapter.bind(t,"unload",c.clearAllIntervals),c.saveState(c.storeState(c.extractState(c.getLocationHref(),!0))),r&&(c.onUnload=function(){var t,e,i;try{t=h.parse(r.getItem("History.store"))||{}}catch(n){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in c.idToState)c.idToState.hasOwnProperty(e)&&(t.idToState[e]=c.idToState[e]);for(e in c.urlToId)c.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=c.urlToId[e]);for(e in c.stateToId)c.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=c.stateToId[e]);c.store=t,c.normalizeStore(),i=h.stringify(t);try{r.setItem("History.store",i)}catch(o){if(o.code!==DOMException.QUOTA_EXCEEDED_ERR)throw o;r.length&&(r.removeItem("History.store"),r.setItem("History.store",i))}},c.intervalList.push(l(c.onUnload,c.options.storeInterval)),c.Adapter.bind(t,"beforeunload",c.onUnload),c.Adapter.bind(t,"unload",c.onUnload)),c.emulated.pushState||(c.bugs.safariPoll&&c.intervalList.push(l(c.safariStatePoll,c.options.safariPollInterval)),("Apple Computer, Inc."===o.vendor||"Mozilla"===(o.appCodeName||""))&&(c.Adapter.bind(t,"hashchange",function(){c.Adapter.trigger(t,"popstate")}),c.getHash()&&c.Adapter.onDomLoad(function(){c.Adapter.trigger(t,"hashchange")})))},c.options&&c.options.delayInit||c.init()}(window),function(){var t;t=function(){function t(){}return t.prototype.parse=function(t){return this._get_parser()(t)},t.prototype._get_parser=function(){return null!=this._document_parser?this._document_parser:this._document_parser=this._parser_factory()},t.prototype._parser_factory=function(){var e,i,n,o,r,s,a;i=function(e){return(new t).parseFromString(e,"text/html")},e=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return a=i("<html><body><p>test"),i}catch(r){return o=r,a=e("<html><body><p>test"),e}finally{if(1!==(null!=a&&null!=(s=a.body)?s.childNodes.length:void 0))return n}},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.DOMParser=t}.call(this),function(){var t;t=function(){function t(t,e,i){this.html=t,this.xhr=e,this.$target=i}return t._document_parser=null,t._get_document_parser=function(){return null!=t._document_parser?t._document_parser:t._document_parser=new window._Wiselinks.DOMParser},t.prototype.url=function(){return this.xhr.getResponseHeader("X-Wiselinks-Url")},t.prototype.assets_digest=function(){return this._is_full_document_response()?$('meta[name="assets-digest"]',this._get_doc()).attr("content"):this.xhr.getResponseHeader("X-Wiselinks-Assets-Digest")},t.prototype.content=function(){return null!=this._content?this._content:this._content=this._extract_content()},t.prototype.title=function(){return null!=this._title?this._title:this._title=this._extract_title()},t.prototype._extract_title=function(){return this._is_full_document_response()?$("title",this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Title")},t.prototype.description=function(){return null!=this._description?this._description:this._description=this._extract_description()},t.prototype._extract_description=function(){return this._is_full_document_response()?$('meta[name="description"]',this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Description")},t.prototype._extract_content=function(){return this._is_full_document_response()?this._get_doc_target_node().html():this.html},t.prototype._is_full_document_response=function(){return 1===this._get_doc_target_node().length},t.prototype._get_doc_target_node=function(){return null!=this.$doc_target_node?this.$doc_target_node:this.$doc_target_node=$(this.$target.selector,this._get_doc())},t.prototype._get_doc=function(){return null!=this._doc?this._doc:this._doc=t._get_document_parser().parse(this.html)},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Response=t}.call(this),function(){var t;t=function(){function t(t){this.options=null!=t?t:{}}return t.prototype.call=function(t,e){var i;return i=this,null!=this.redirected?void(this.redirected=null):(i._loading(t,e),$.ajax({url:e.url,headers:{"X-Wiselinks":e.data.render,"X-Wiselinks-Referer":e.data.referer},dataType:"html"}).done(function(e,n,o){return i._html_loaded(t,e,n,o)}).fail(function(n,o,r){return i._fail(t,o,e,r,n.status)}).always(function(n,o,r){return i._always(t,o,e)}))},t.prototype._normalize=function(t){return null!=t?t=t.replace(/\/+$/,""):void 0},t.prototype._assets_changed=function(t){return null!=this.options.assets_digest&&this.options.assets_digest!==t},t.prototype._redirect_to=function(t,e,i,n){return n&&n.readyState<4&&(n.onreadystatechange=$.noop,n.abort()),this.redirected=!0,$(document).trigger("page:redirected",[e,i.data.render,t]),History.replaceState(i.data,document.title,t)},t.prototype._loading=function(t,e){return $(document).trigger("page:loading",[t,e.data.render,decodeURI(e.url)])},t.prototype._done=function(t,e,i,n){return $(document).trigger("page:done",[t,e,decodeURI(i.url),n])},t.prototype._html_loaded=function(t,e,i,n){var o,r,s,a;return r=new window._Wiselinks.Response(e,n,t),a=this._normalize(r.url()),o=r.assets_digest(),this._assets_changed(o)?window.location.reload(!0):(s=History.getState(),null!=a&&a!==this._normalize(s.url)&&this._redirect_to(a,t,s,n),t.html(r.content()).promise().done(function(e){return function(){return e._title(r.title()),e._description(r.description()),e._done(t,i,s,r.content())}}(this)))},t.prototype._fail=function(t,e,i,n,o){return $(document).trigger("page:fail",[t,e,decodeURI(i.url),n,o])},t.prototype._always=function(t,e,i){return $(document).trigger("page:always",[t,e,decodeURI(i.url)])},t.prototype._title=function(t){return null!=t?($(document).trigger("page:title",decodeURI(t)),document.title=decodeURI(t)):void 0},t.prototype._description=function(t){return null!=t?($(document).trigger("page:description",decodeURI(t)),$('meta[name="description"]').attr("content",decodeURI(t))):void 0},t}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.RequestManager=t}.call(this),function(){var t;t=function(){function t(t,e){var i;this.$target=t,this.options=e,i=this,this.template_id=(new Date).getTime(),this.request_manager=new _Wiselinks.RequestManager(this.options),this.$target=i._wrap(this.$target),i._try_target(this.$target),History.emulated.pushState&&this.options.html4===!0&&-1===window.location.href.indexOf("#.")&&this.options.html4_normalize_path===!0&&window.location.pathname!==this.options.html4_root_path&&(window.location.href=window.location.protocol+"//"+window.location.host+this.options.html4_root_path+"#."+window.location.pathname),History.Adapter.bind(window,"statechange",function(t,e){var n;return n=History.getState(),i._template_id_changed(n)?i._call(i._reset_state(n)):i._call(n)}),$(document).on("click","a[data-push], a[data-replace]",function(t){var e;return(e=new _Wiselinks.Link(i,$(this))).allows_process(t)?(t.preventDefault(),e.process(),!1):void 0}),$(document).on("submit","form[data-push], form[data-replace]",function(t){var e;return(e=new _Wiselinks.Form(i,$(this)))?(t.preventDefault(),e.process(),!1):void 0})}return t.prototype.load=function(t,e,i){var n,o;return null==i&&(i="template"),"partial"!==i&&(this.template_id=(new Date).getTime()),o=null!=e?(n=this._wrap(e),this._try_target(n),n.selector):void 0,History.pushState({timestamp:(new Date).getTime(),template_id:this.template_id,render:i,target:o,referer:window.location.href},document.title,t)},t.prototype.reload=function(){return History.replaceState({timestamp:(new Date).getTime(),template_id:this.template_id,render:"template",referer:window.location.href},document.title,History.getState().url)},t.prototype._call=function(t){var e;return e=null!=t.data.target?$(t.data.target):this.$target,this.request_manager.call(e,t)},t.prototype._template_id_changed=function(t){return null==t.data.template_id||t.data.template_id!==this.template_id},t.prototype._make_state=function(t,e,i,n){return null==i&&(i="template"),{url:t,data:{target:e,render:i,referer:n}}},t.prototype._reset_state=function(t){return null==t.data&&(t.data={}),t.data.target=null,t.data.render="template",t},t.prototype._try_target=function(t){if(0===t.length&&"exception"===this.options.target_missing)throw new Error("[Wiselinks] Target missing: `"+t.selector+"`")},t.prototype._wrap=function(t){return $(t)},t}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Page=t}.call(this),function(){var t;t=function(){function t(t,e){this.page=t,this.$link=e}return t.prototype.allows_process=function(t){return!(this._cross_origin_link(t.currentTarget)||this._non_standard_click(t))},t.prototype.process=function(){var t;return t="partial"===this.$link.data("push")?"partial":"template",this.page.load(this.$link.attr("href"),this.$link.data("target"),t)},t.prototype._cross_origin_link=function(t){return this._different_protocol(t)||this._different_host(t)||this._different_port(t)},t.prototype._different_protocol=function(t){return":"===t.protocol||""===t.protocol?!1:location.protocol!==t.protocol},t.prototype._different_host=function(t){return""===t.host?!1:location.host.split(":")[0]!==t.host.split(":")[0]},t.prototype._different_port=function(t){var e;return e=location.port===t.port||""===location.port&&("80"===t.port||"443"===t.port),!e},t.prototype._non_standard_click=function(t){return t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},t}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Link=t}.call(this),function(){var t;t=function(){function t(t,e){this.page=t,this.$form=e}return t.prototype.process=function(){var t;return t=this,t._include_blank_url_params()?t.page.load(t._url(),t._target(),t._type()):t._without_blank_url_params(function(){return t.page.load(t._url(),t._target(),t._type())})},t.prototype._without_blank_url_params=function(t){var e,i;return i="select:not(:disabled),input:not(:disabled)",e=this.$form.find(i).filter(function(){return!$(this).val()}),e.attr("disabled",!0),t(),e.attr("disabled",!1)},t.prototype._params=function(){var t,e,i,n,o,r;for(t={},r=this.$form.serializeArray(),e=0,n=r.length;n>e;e++)i=r[e],"utf8"!==i.name&&(o=-1!==i.name.indexOf("[]",i.name.length-"[]".length)?i.name.substr(0,i.name.length-2):i.name,null!=t[o]?t[o]=t[o]+(","+i.value):t[o]=i.value);return t},t.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},t.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},t.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},t.prototype._target=function(){return this.$form.data("target")},t.prototype._url=function(){var t,e,i,n,o,r;return i=this,n=function(){var n;if(i._optimize_url_params()){e=[],n=this._params();for(t in n)r=n[t],e.push(t+"="+encodeURIComponent(r).replace(/%2C/g,","));return e.join("&")}return this.$form.serialize()}.call(this),o=this.$form.attr("action").replace(/\?.*$/,""),n.length>0&&(o+="?"+n),o},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=t}.call(this),function(){var t;t=function(){function t(t,e){null==t&&(t=$("body")),this.options=null!=e?e:{},this._try_jquery(),this.options=$.extend(this._defaults(),this.options),this.enabled()&&(this.options.disable_suid&&(History.options.disableSuid=!0),this.page=new _Wiselinks.Page(t,this.options))}return t.prototype.enabled=function(){return!History.emulated.pushState||this.options.html4===!0},t.prototype.load=function(t,e,i){return null==i&&(i="template"),this.page.load(t,e,i)},t.prototype.reload=function(){return this.page.reload()},t.prototype._defaults=function(){return{disable_suid:!0,html4:!0,html4_root_path:"/",html4_normalize_path:!0,target_missing:null,assets_digest:$("meta[name='assets-digest']").attr("content")}},t.prototype._try_jquery=function(){if(null==window.jQuery)throw new Error("[Wiselinks] jQuery is not loaded")},t}(),window.Wiselinks=t}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,i){return e>t?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,i,n){var o;return o="translate3d"===d.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},o.transition="all "+i+"ms "+n,o}function n(t,e){var i="string"==typeof t?t:s(t);return i.indexOf(" "+e+" ")>=0}function o(t,e){var i=s(t),o=i+e;n(i,e)||(t.className=o.substring(1))}function r(t,e){var i,o=s(t);n(t,e)&&(i=o.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.1.6";var d=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,i;for(e in t)i=t[e],void 0!==i&&t.hasOwnProperty(e)&&(d[e]=i);return this},l.status=null,l.set=function(e){var n=l.isStarted();e=t(e,d.minimum,1),l.status=1===e?null:e;var o=l.render(!n),r=o.querySelector(d.barSelector),s=d.speed,a=d.easing;return o.offsetWidth,h(function(t){""===d.positionUsing&&(d.positionUsing=l.getPositioningCSS()),u(r,i(e,s,a)),1===e?(u(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout(function(){u(o,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},s)},s)):setTimeout(t,s)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},d.trickleSpeed)};return d.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var i=l.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*d.trickleRate)},function(){var t=0,e=0;l.promise=function(i){return i&&"resolved"!=i.state()?(0==e&&l.start(),t++,e++,i.always(function(){e--,0==e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");o(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=d.template;var n,r=i.querySelector(d.barSelector),s=t?"-100":e(l.status||0),h=document.querySelector(d.parent);return u(r,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),d.showSpinner||(n=i.querySelector(d.spinnerSelector),n&&a(n)),h!=document.body&&o(h,"nprogress-custom-parent"),h.appendChild(i),i},l.remove=function(){r(document.documentElement,"nprogress-busy"),r(document.querySelector(d.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var h=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),u=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var i,n=o.length,r=t.charAt(0).toUpperCase()+t.slice(1);n--;)if(i=o[n]+r,i in e)return i;return t}function i(i){return i=t(i),r[i]||(r[i]=e(i))}function n(t,e,n){e=i(e),t.style[e]=n}var o=["Webkit","O","Moz","ms"],r={};return function(t,e){var i,o,r=arguments;if(2==r.length)for(i in e)o=e[i],void 0!==o&&e.hasOwnProperty(i)&&n(t,i,o);else n(t,r[1],r[2])}}();return l}),/*!
 * numbro.js
 * version : 1.7.1
 * author : Fretagsplatsen AB
 * license : MIT
 * http://www.foretagsplatsen.se
 */
function(){"use strict";function t(t){this._value=t}function e(t){var e,i="";for(e=0;t>e;e++)i+="0";return i}function i(t,i){var n,o,r,s,a,l,d,h;return h=t.toString(),n=h.split("e")[0],s=h.split("e")[1],o=n.split(".")[0],r=n.split(".")[1]||"",+s>0?h=o+r+e(s-r.length):(a=0>+o?"-0":"0",i>0&&(a+="."),d=e(-1*s-1),l=(d+Math.abs(o)+r).substr(0,i),h=a+l),+s>0&&i>0&&(h+="."+e(i)),h}function n(t,e,n,o){var r,s,a=Math.pow(10,e);return t.toString().indexOf("e")>-1?(s=i(t,e),"-"===s.charAt(0)&&+s>=0&&(s=s.substr(1))):s=(n(t+"e+"+e)/a).toFixed(e),o&&(r=new RegExp("0{1,"+o+"}$"),s=s.replace(r,"")),s}function o(t,e,i){var n,o=e.replace(/\{[^\{\}]*\}/g,"");return n=o.indexOf("$")>-1?s(t,e,i):o.indexOf("%")>-1?a(t,e,i):o.indexOf(":")>-1?l(t,e):h(t._value,e,i)}function r(t,e){var i,n,o,r,s,a=e,l=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],h=["KB","MB","GB","TB","PB","EB","ZB","YB"],u=!1;if(e.indexOf(":")>-1)t._value=d(e);else if(e===_)t._value=0;else{for("."!==y[w].delimiters.decimal&&(e=e.replace(/\./g,"").replace(y[w].delimiters.decimal,".")),i=new RegExp("[^a-zA-Z]"+y[w].abbreviations.thousand+"(?:\\)|(\\"+y[w].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+y[w].abbreviations.million+"(?:\\)|(\\"+y[w].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+y[w].abbreviations.billion+"(?:\\)|(\\"+y[w].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+y[w].abbreviations.trillion+"(?:\\)|(\\"+y[w].currency.symbol+")?(?:\\))?)?$"),s=0;s<=l.length&&!u;s++)e.indexOf(l[s])>-1?u=Math.pow(1024,s+1):e.indexOf(h[s])>-1&&(u=Math.pow(1e3,s+1));t._value=(u?u:1)*(a.match(i)?Math.pow(10,3):1)*(a.match(n)?Math.pow(10,6):1)*(a.match(o)?Math.pow(10,9):1)*(a.match(r)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=u?Math.ceil(t._value):t._value}return t._value}function s(t,e,i){var n,o,r=e,s=r.indexOf("$"),a=r.indexOf("("),l=r.indexOf("+"),d=r.indexOf("-"),u="",c="";if(-1===r.indexOf("$")?"infix"===y[w].currency.position?(c=y[w].currency.symbol,y[w].currency.spaceSeparated&&(c=" "+c+" ")):y[w].currency.spaceSeparated&&(u=" "):r.indexOf(" $")>-1?(u=" ",r=r.replace(" $","")):r.indexOf("$ ")>-1?(u=" ",r=r.replace("$ ","")):r=r.replace("$",""),o=h(t._value,r,i,c),-1===e.indexOf("$"))switch(y[w].currency.position){case"postfix":o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,u+y[w].currency.symbol),o=o.join("")):o=o+u+y[w].currency.symbol;break;case"infix":break;case"prefix":o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),n=Math.max(a,d)+1,o.splice(n,0,y[w].currency.symbol+u),o=o.join("")):o=y[w].currency.symbol+u+o;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else 1>=s?o.indexOf("(")>-1||o.indexOf("+")>-1||o.indexOf("-")>-1?(o=o.split(""),n=1,(a>s||l>s||d>s)&&(n=0),o.splice(n,0,y[w].currency.symbol+u),o=o.join("")):o=y[w].currency.symbol+u+o:o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,u+y[w].currency.symbol),o=o.join("")):o=o+u+y[w].currency.symbol;return o}function a(t,e,i){var n,o="",r=100*t._value;return e.indexOf(" %")>-1?(o=" ",e=e.replace(" %","")):e=e.replace("%",""),n=h(r,e,i),n.indexOf(")")>-1?(n=n.split(""),n.splice(-1,0,o+"%"),n=n.join("")):n=n+o+"%",n}function l(t){var e=Math.floor(t._value/60/60),i=Math.floor((t._value-60*e*60)/60),n=Math.round(t._value-60*e*60-60*i);return e+":"+(10>i?"0"+i:i)+":"+(10>n?"0"+n:n)}function d(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}function h(t,e,i,o){var r,s,a,l,d,h,u,c,p,f,m,g,v,b,x,C,k,E,T=!1,S=!1,D=!1,O="",M=!1,A=!1,N=!1,I=!1,F=!1,R="",L="",P=Math.abs(t),$=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],B="",H=!1,j=!1,W="";if(0===t&&null!==_)return _;if(!isFinite(t))return""+t;if(0===e.indexOf("{")){var U=e.indexOf("}");if(-1===U)throw Error('Format should also contain a "}"');g=e.slice(1,U),e=e.slice(U+1)}else g="";if(e.indexOf("}")===e.length-1){var Y=e.indexOf("{");if(-1===Y)throw Error('Format should also contain a "{"');v=e.slice(Y+1,-1),e=e.slice(0,Y+1)}else v="";var q;if(q=-1===e.indexOf(".")?e.match(/([0-9]+).*/):e.match(/([0-9]+)\..*/),E=null===q?-1:q[1].length,-1!==e.indexOf("-")&&(H=!0),e.indexOf("(")>-1?(T=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(S=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1){if(f=e.split(".")[0].match(/[0-9]+/g)||["0"],f=parseInt(f[0],10),M=e.indexOf("aK")>=0,A=e.indexOf("aM")>=0,N=e.indexOf("aB")>=0,I=e.indexOf("aT")>=0,F=M||A||N||I,e.indexOf(" a")>-1?(O=" ",e=e.replace(" a","")):e=e.replace("a",""),d=Math.floor(Math.log(P)/Math.LN10)+1,u=d%3,u=0===u?3:u,f&&0!==P&&(h=Math.floor(Math.log(P)/Math.LN10)+1-f,c=3*~~((Math.min(f,d)-u)/3),P/=Math.pow(10,c),-1===e.indexOf(".")&&f>3))for(e+="[.]",C=0===h?0:3*~~(h/3)-h,C=0>C?C+3:C,r=0;C>r;r++)e+="0";Math.floor(Math.log(Math.abs(t))/Math.LN10)+1!==f&&(P>=Math.pow(10,12)&&!F||I?(O+=y[w].abbreviations.trillion,t/=Math.pow(10,12)):P<Math.pow(10,12)&&P>=Math.pow(10,9)&&!F||N?(O+=y[w].abbreviations.billion,t/=Math.pow(10,9)):P<Math.pow(10,9)&&P>=Math.pow(10,6)&&!F||A?(O+=y[w].abbreviations.million,t/=Math.pow(10,6)):(P<Math.pow(10,6)&&P>=Math.pow(10,3)&&!F||M)&&(O+=y[w].abbreviations.thousand,t/=Math.pow(10,3)))}if(e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(R=" ",e=e.replace(" b","")):e=e.replace("b",""),l=0;l<=$.length;l++)if(s=Math.pow(1024,l),a=Math.pow(1024,l+1),t>=s&&a>t){R+=$[l],s>0&&(t/=s);break}if(e.indexOf("d")>-1)for(e.indexOf(" d")>-1?(R=" ",e=e.replace(" d","")):e=e.replace("d",""),l=0;l<=z.length;l++)if(s=Math.pow(1e3,l),a=Math.pow(1e3,l+1),t>=s&&a>t){R+=z[l],s>0&&(t/=s);break}if(e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(L=" ",e=e.replace(" o","")):e=e.replace("o",""),y[w].ordinal&&(L+=y[w].ordinal(t))),e.indexOf("[.]")>-1&&(D=!0,e=e.replace("[.]",".")),p=t.toString().split(".")[0],m=e.split(".")[1],b=e.indexOf(","),m){if(-1!==m.indexOf("*")?B=n(t,t.toString().split(".")[1].length,i):m.indexOf("[")>-1?(m=m.replace("]",""),m=m.split("["),B=n(t,m[0].length+m[1].length,i,m[1].length)):B=n(t,m.length,i),p=B.split(".")[0],B.split(".")[1].length){var V=o?O+o:y[w].delimiters.decimal;B=V+B.split(".")[1]}else B="";D&&0===Number(B.slice(1))&&(B="")}else p=n(t,0,i);return p.indexOf("-")>-1&&(p=p.slice(1),j=!0),p.length<E&&(p=new Array(E-p.length+1).join("0")+p),b>-1&&(p=p.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y[w].delimiters.thousands)),0===e.indexOf(".")&&(p=""),x=e.indexOf("("),k=e.indexOf("-"),W=k>x?(T&&j?"(":"")+(H&&j||!T&&j?"-":""):(H&&j||!T&&j?"-":"")+(T&&j?"(":""),g+W+(!j&&S&&0!==t?"+":"")+p+B+(L?L:"")+(O&&!o?O:"")+(R?R:"")+(T&&j?")":"")+v}function u(t,e){y[t]=e}function c(t){w=t;var e=y[t].defaults;e&&e.format&&g.defaultFormat(e.format),e&&e.currencyFormat&&g.defaultCurrencyFormat(e.currencyFormat)}function p(){return"undefined"!=typeof process&&void 0===process.browser&&("node"===process.title||"grunt"===process.title||"gulp"===process.title)&&"undefined"!=typeof require}function f(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function m(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var i=f(t),n=f(e);return i>n?i:n},-(1/0))}var g,v="1.7.1",y={},b=y,w="en-US",_=null,x="0,0",C="0$",k="undefined"!=typeof module&&module.exports,E={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}};g=function(e){return g.isNumbro(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=g.fn.unformat(e)),new t(Number(e))},g.version=v,g.isNumbro=function(e){return e instanceof t},g.setLanguage=function(t,e){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var i=t,n=t.split("-")[0],o=null;b[i]||(Object.keys(b).forEach(function(t){o||t.split("-")[0]!==n||(o=t)}),i=o||e||"en-US"),c(i)},g.setCulture=function(t,e){var i=t,n=t.split("-")[1],o=null;y[i]||(n&&Object.keys(y).forEach(function(t){o||t.split("-")[1]!==n||(o=t)}),i=o||e||"en-US"),c(i)},g.language=function(t,e){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!t)return w;if(t&&!e){if(!b[t])throw new Error("Unknown language : "+t);c(t)}return!e&&b[t]||u(t,e),g},g.culture=function(t,e){if(!t)return w;if(t&&!e){if(!y[t])throw new Error("Unknown culture : "+t);c(t)}return!e&&y[t]||u(t,e),g},g.languageData=function(t){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!t)return b[w];if(!b[t])throw new Error("Unknown language : "+t);return b[t]},g.cultureData=function(t){if(!t)return y[w];if(!y[t])throw new Error("Unknown culture : "+t);return y[t]},g.culture("en-US",E),g.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),b},g.cultures=function(){return y},g.zeroFormat=function(t){_="string"==typeof t?t:null},g.defaultFormat=function(t){x="string"==typeof t?t:"0.0"},g.defaultCurrencyFormat=function(t){C="string"==typeof t?t:"0$"},g.validate=function(t,e){var i,n,o,r,s,a,l,d;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),t.match(/^\d+$/))return!0;if(""===t)return!1;try{l=g.cultureData(e)}catch(h){l=g.cultureData(g.culture())}return o=l.currency.symbol,s=l.abbreviations,i=l.delimiters.decimal,n="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,d=t.match(/^[^\d]+/),null!==d&&(t=t.substr(1),d[0]!==o)?!1:(d=t.match(/[^\d]+$/),null!==d&&(t=t.slice(0,-1),d[0]!==s.thousand&&d[0]!==s.million&&d[0]!==s.billion&&d[0]!==s.trillion)?!1:(a=new RegExp(n+"{2}"),t.match(/[^\d.,]/g)?!1:(r=t.split(i),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(a):1===r[0].length?!!r[0].match(/^\d+$/)&&!r[0].match(a)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(a)&&!!r[1].match(/^\d+$/))))},g.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),g.loadCulturesInNode()},g.loadCulturesInNode=function(){var t=require("./languages");for(var e in t)e&&g.culture(e,t[e])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var i,n,o=this.length>>>0,r=!1;for(1<arguments.length&&(n=e,r=!0),i=0;o>i;++i)this.hasOwnProperty(i)&&(r?n=t(n,this[i],i,this):(n=this[i],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return n}),g.fn=t.prototype={clone:function(){return g(this)},format:function(t,e){return o(this,t?t:x,void 0!==e?e:Math.round)},formatCurrency:function(t,e){return s(this,t?t:C,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:r(this,t?t:x)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e){return t+i*e}var i=m.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/i,this},subtract:function(t){function e(t,e){return t-i*e}var i=m.call(null,this._value,t);return this._value=[t].reduce(e,this._value*i)/i,this},multiply:function(t){function e(t,e){var i=m(t,e),n=t*i;return n*=e*i,n/=i*i}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e){var i=m(t,e);return t*i/(e*i)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(g(this._value).subtract(t).value())}},p()&&g.loadCulturesInNode(),k?module.exports=g:("undefined"==typeof ender&&(this.numbro=g),"function"==typeof define&&define.amd&&define([],function(){return g}))}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Czech
 * locale: Czech Republic
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
function(){"use strict";var t={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"K\u010d",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Danish
 * locale: Denmark
 * author : Michael Storgaard : https://github.com/mstorgaard
 */
function(){"use strict";var t={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : German
 * locale: Switzerland
 * author : Michael Piefel : https://github.com/piefel (based on work from Marco Krage : https://github.com/sinky)
 */
function(){"use strict";var t={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : German
 * locale: Germany
 * author : Marco Krage : https://github.com/sinky
 *
 * Generally useful in Germany, Austria, Luxembourg, Belgium
 */
function(){"use strict";var t={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : English
 * locale: United Kingdom of Great Britain and Northern Ireland
 * author : Dan Ristic : https://github.com/dristic
 */
function(){"use strict";var t={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"\xa3",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : English
 * locale: South Africa
 * author : Stewart Scott https://github.com/stewart42
 */
function(){"use strict";var t={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"R",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Argentina
 * author : Hernan Garcia : https://github.com/hgarcia
 */
function(){"use strict";var t={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===e||3===e?"er":2===e?"do":7===e||0===e?"mo":8===e?"vo":9===e?"no":"to"},currency:{symbol:"$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Spain
 * author : Hernan Garcia : https://github.com/hgarcia
 */
function(){"use strict";var t={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===e||3===e?"er":2===e?"do":7===e||0===e?"mo":8===e?"vo":9===e?"no":"to"},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Estonian
 * locale: Estonia
 * author : Illimar Tambek : https://github.com/ragulka
 *
 * Note: in Estonian, abbreviations are always separated
 * from numbers with a space
 */
function(){"use strict";var t={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Farsi
 * locale: Iran
 * author : neo13 : https://github.com/neo13
 */
function(){"use strict";var t={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"\u060c",decimal:"."},abbreviations:{thousand:"\u0647\u0632\u0627\u0631",million:"\u0645\u06cc\u0644\u06cc\u0648\u0646",billion:"\u0645\u06cc\u0644\u06cc\u0627\u0631\u062f",trillion:"\u062a\u0631\u06cc\u0644\u06cc\u0648\u0646"},ordinal:function(){return"\u0627\u0645"},currency:{symbol:"\ufdfc"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Finnish
 * locale: Finland
 * author : Sami Saada : https://github.com/samitheberber
 */
function(){"use strict";var t={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Filipino (Pilipino)
 * locale: Philippines
 * author : Michael Abadilla : https://github.com/mjmaix
 */
function(){"use strict";var t={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"\u20b1"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : French
 * locale: Canada
 * author : Lo Renaud-Allaire : https://github.com/renaudleo
 */
function(){"use strict";var t={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(t){return 1===t?"er":"\xe8me"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : French
 * locale: Switzerland
 * author : Adam Draper : https://github.com/adamwdraper
 */
function(){"use strict";var t={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return 1===t?"er":"\xe8me"},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : French
 * locale: France
 * author : Adam Draper : https://github.com/adamwdraper
 */
function(){"use strict";var t={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){return 1===t?"er":"\xe8me"},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Hebrew
 * locale : IL
 * author : Eli Zehavi : https://github.com/eli-zehavi
 */
function(){"use strict";var t={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u05d0\u05dc\u05e3",million:"\u05de\u05dc\u05d9\u05d5\u05df",billion:"\u05d1\u05dc\u05d9\u05d5\u05df",trillion:"\u05d8\u05e8\u05d9\u05dc\u05d9\u05d5\u05df"},currency:{symbol:"\u20aa",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"\u20aa ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"\u20aa ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Hungarian
 * locale: Hungary
 * author : Peter Bakondy : https://github.com/pbakondy
 */
function(){"use strict";var t={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Italian
 * locale: Italy
 * author : Giacomo Trombi : http://cinquepunti.it
 */
function(){"use strict";var t={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"\xba"},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Japanese
 * locale: Japan
 * author : teppeis : https://github.com/teppeis
 */
function(){"use strict";var t={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u5343",million:"\u767e\u4e07",billion:"\u5341\u5104",trillion:"\u5146"},ordinal:function(){return"."},currency:{symbol:"\xa5",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Korean
 * author (numbro.js Version): Randy Wilander : https://github.com/rocketedaway
 * author (numeral.js Version) : Rich Daley : https://github.com/pedantic-git
 */
function(){"use strict";var t={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\ucc9c",million:"\ubc31\ub9cc",billion:"\uc2ed\uc5b5",trillion:"\uc77c\uc870"},ordinal:function(){return"."},currency:{symbol:"\u20a9"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Latvian
 * locale: Latvia
 * author : Lauris Bukis-Haberkorns : https://github.com/Lafriks
 */
function(){"use strict";var t={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" t\u016bkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language: Norwegian Bokml
 * locale: Norway
 * author : Benjamin Van Ryseghem
 */
function(){"use strict";var t={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Dutch
 * locale: Belgium
 * author : Dieter Luypaert : https://github.com/moeriki
 */
function(){"use strict";var t={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(t){var e=t%100;return 0!==t&&1>=e||8===e||e>=20?"ste":"de"},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Dutch
 * locale: Netherlands
 * author : Dave Clayton : https://github.com/davedx
 */
function(){"use strict";var t={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(t){var e=t%100;return 0!==t&&1>=e||8===e||e>=20?"ste":"de"},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Polish
 * locale : Poland
 * author : Dominik Bulaj : https://github.com/dominikbulaj
 */
function(){"use strict";var t={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" z\u0142",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Portuguese
 * locale : Brazil
 * author : Ramiro Varandas Jr : https://github.com/ramirovjr
 */
function(){"use strict";var t={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milh\xf5es",billion:"b",trillion:"t"},ordinal:function(){return"\xba"},currency:{symbol:"R$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Portuguese
 * locale : Portugal
 * author : Diogo Resende : https://github.com/dresende
 */
function(){"use strict";var t={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"\xba"},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Russian
 * locale : Russsia
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
function(){"use strict";var t={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u044b\u0441.",million:"\u043c\u043b\u043d",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"\u0440\u0443\u0431.",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Russian
 * locale : Ukraine
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
function(){"use strict";var t={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u044b\u0441.",million:"\u043c\u043b\u043d",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"\u20b4",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Slovak
 * locale : Slovakia
 * author : Ahmed Al Hafoudh : http://www.freevision.sk
 */
function(){"use strict";var t={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"\u20ac",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Swedish
 * locale : Sweden
 * author : Benjamin Van Ryseghem (benjamin.vanryseghem.com)
 */
function(){"use strict";var t={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Thai
 * locale : Thailand
 * author : Sathit Jittanupat : https://github.com/jojosati
 */
function(){"use strict";var t={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u0e1e\u0e31\u0e19",million:"\u0e25\u0e49\u0e32\u0e19",billion:"\u0e1e\u0e31\u0e19\u0e25\u0e49\u0e32\u0e19",trillion:"\u0e25\u0e49\u0e32\u0e19\u0e25\u0e49\u0e32\u0e19"},ordinal:function(){return"."},currency:{symbol:"\u0e3f",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Turkish
 * locale : Turkey
 * author : Ecmel Ercan : https://github.com/ecmel,
 *          Erhan Gundogan : https://github.com/erhangundogan,
 *          Burak Yiit Kaya: https://github.com/BYK
 */
function(){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"},e={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(e){if(0===e)return"'\u0131nc\u0131";var i=e%10,n=e%100-i,o=e>=100?100:null;return t[i]||t[n]||t[o]},currency:{symbol:"\u20ba",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Ukrainian
 * locale : Ukraine
 * author : Michael Piefel : https://github.com/piefel (with help from Tetyana Kuzmenko)
 */
function(){"use strict";var t={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u0438\u0441.",million:"\u043c\u043b\u043d",billion:"\u043c\u043b\u0440\u0434",trillion:"\u0431\u043b\u043d"},ordinal:function(){return""},currency:{symbol:"\u20b4",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : simplified chinese
 * locale : China
 * author : badplum : https://github.com/badplum
 */
function(){"use strict";var t={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u5343",million:"\u767e\u4e07",billion:"\u5341\u4ebf",trillion:"\u5146"},ordinal:function(){return"."},currency:{symbol:"\xa5",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Chinese (Taiwan)
 * author (numbro.js Version): Randy Wilander : https://github.com/rocketedaway
 * author (numeral.js Version) : Rich Daley : https://github.com/pedantic-git
 */
function(){"use strict";var t={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u5343",million:"\u767e\u842c",billion:"\u5341\u5104",trillion:"\u5146"},ordinal:function(){return"\u7b2c"},currency:{symbol:"NT$"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),/*!
 * SmartMenus jQuery Plugin - v1.0.0 - January 27, 2016
 * http://www.smartmenus.org/
 *
 * Copyright Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com
 *
 * Licensed MIT
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e){var r=".smartmenus_mouse";if(l||e)l&&e&&(t(document).unbind(r),l=!1);else{var d=!0,h=null;t(document).bind(n([["mousemove",function(e){var i={x:e.pageX,y:e.pageY,timeStamp:(new Date).getTime()};if(h){var n=Math.abs(h.x-i.x),r=Math.abs(h.y-i.y);if((n>0||r>0)&&2>=n&&2>=r&&i.timeStamp-h.timeStamp<=300&&(s=!0,d)){var a=t(e.target).closest("a");a.is("a")&&t.each(o,function(){return t.contains(this.$root[0],a[0])?(this.itemEnter({currentTarget:a[0]}),!1):void 0}),d=!1}}h=i}],[a?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(t){i(t.originalEvent)&&(s=!1)}]],r)),l=!0}}function i(t){return!/^(4|mouse)$/.test(t.pointerType)}function n(e,i){i||(i="");var n={};return t.each(e,function(t,e){n[e[0].split(" ").join(i+" ")+i]=e[1]}),n}var o=[],r=!!window.createPopup,s=!1,a="ontouchstart"in window,l=!1,d=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},h=window.cancelAnimationFrame||function(t){clearTimeout(t)};return t.SmartMenus=function(e,i){this.$root=t(e),this.opts=i,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in e.style||"webkitPerspective"in e.style,this.wasCollapsible=!1,this.init()},t.extend(t.SmartMenus,{hideAll:function(){t.each(o,function(){this.menuHideAll()})},destroy:function(){for(;o.length;)o[0].destroy();e(!0)},prototype:{init:function(i){var r=this;if(!i){o.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var s=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(n([["mouseover focusin",t.proxy(this.rootOver,this)],["mouseout focusout",t.proxy(this.rootOut,this)],["keydown",t.proxy(this.rootKeyDown,this)]],s)).delegate("a",n([["mouseenter",t.proxy(this.itemEnter,this)],["mouseleave",t.proxy(this.itemLeave,this)],["mousedown",t.proxy(this.itemDown,this)],["focus",t.proxy(this.itemFocus,this)],["blur",t.proxy(this.itemBlur,this)],["click",t.proxy(this.itemClick,this)]],s)),s+=this.rootId,this.opts.hideOnClick&&t(document).bind(n([["touchstart",t.proxy(this.docTouchStart,this)],["touchmove",t.proxy(this.docTouchMove,this)],["touchend",t.proxy(this.docTouchEnd,this)],["click",t.proxy(this.docClick,this)]],s)),t(window).bind(n([["resize orientationchange",t.proxy(this.winResize,this)]],s)),this.opts.subIndicators&&(this.$subArrow=t("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),e()}if(this.$firstSub=this.$root.find("ul").each(function(){r.menuInit(t(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var a=/(index|default)\.[^#\?\/]*/i,l=/#.*/,d=window.location.href.replace(a,""),h=d.replace(l,"");this.$root.find("a").each(function(){var e=this.href.replace(a,""),i=t(this);(e==d||e==h)&&(i.addClass("current"),r.opts.markCurrentTree&&i.parentsUntil("[data-smartmenus-id]","ul").each(function(){t(this).dataSM("parent-a").addClass("current")}))})}this.wasCollapsible=this.isCollapsible()},destroy:function(e){if(!e){var i=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(i).undelegate(i),i+=this.rootId,t(document).unbind(i),t(window).unbind(i),this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var n=this;this.$root.find("ul").each(function(){var e=t(this);e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove(),e.dataSM("shown-before")&&((n.opts.subMenusMinWidth||n.opts.subMenusMaxWidth)&&e.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove(),e.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(e.attr("id")||"").indexOf(n.accessIdPrefix)&&e.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each(function(){var e=t(this);0==e.attr("id").indexOf(n.accessIdPrefix)&&e.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),e||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),o.splice(t.inArray(this,o),1))},disable:function(e){if(!this.disabled){if(this.menuHideAll(),!e&&!this.opts.isPopup&&this.$root.is(":visible")){var i=this.$root.offset();this.$disableOverlay=t('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:i.top,left:i.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(e){return this.$touchScrollingSub?void(this.$touchScrollingSub=null):void((this.visibleSubMenus.length&&!t.contains(this.$root[0],e.target)||t(e.target).is("a"))&&this.menuHideAll())},docTouchEnd:function(e){if(this.lastTouch){if(this.visibleSubMenus.length&&(void 0===this.lastTouch.x2||this.lastTouch.x1==this.lastTouch.x2)&&(void 0===this.lastTouch.y2||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!t.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var i=this;this.hideTimeout=setTimeout(function(){i.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(t){if(this.lastTouch){var e=t.originalEvent.touches[0];this.lastTouch.x2=e.pageX,this.lastTouch.y2=e.pageY}},docTouchStart:function(t){var e=t.originalEvent.touches[0];this.lastTouch={x1:e.pageX,y1:e.pageY,target:e.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(e){for(var i=t(e).closest("ul");i.dataSM("in-mega");)i=i.parent().closest("ul");return i[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var i;"none"==t.css("display")&&(i={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var n=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),o=n&&(e?n.height||n.bottom-n.top:n.width||n.right-n.left);return o||0===o||(o=e?t[0].offsetHeight:t[0].offsetWidth),i&&t.hide().css(i),o},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",i=document.documentElement["client"+e],n=window["inner"+e];return n&&(i=Math.min(i,n)),i},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var e="fixed"==this.$root.css("position");return e||this.$root.parentsUntil("body").each(function(){return"fixed"==t(this).css("position")?(e=!0,!1):void 0}),e},isLinkInMegaMenu:function(e){return t(this.getClosestMenu(e[0])).hasClass("mega-menu")},isTouchMode:function(){return!s||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(e,i){var n=e.closest("ul"),o=n.dataSM("level");if(o>1&&(!this.activatedItems[o-2]||this.activatedItems[o-2][0]!=n.dataSM("parent-a")[0])){var r=this;t(n.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(n).each(function(){r.itemActivate(t(this).dataSM("parent-a"))})}if((!this.isCollapsible()||i)&&this.menuHideSubMenus(this.activatedItems[o-1]&&this.activatedItems[o-1][0]==e[0]?o:o-1),this.activatedItems[o-1]=e,this.$root.triggerHandler("activate.smapi",e[0])!==!1){var s=e.dataSM("sub");s&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(s)}},itemBlur:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&this.$root.triggerHandler("blur.smapi",i[0])},itemClick:function(e){var i=t(e.currentTarget);if(this.handleItemEvents(i)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==i.closest("ul")[0])return this.$touchScrollingSub=null,e.stopPropagation(),!1;if(this.$root.triggerHandler("click.smapi",i[0])===!1)return!1;var n=t(e.target).is("span.sub-arrow"),o=i.dataSM("sub"),r=o?2==o.dataSM("level"):!1;if(o&&!o.is(":visible")){if(this.opts.showOnClick&&r&&(this.clickActivated=!0),this.itemActivate(i),o.is(":visible"))return this.focusActivated=!0,!1}else if(this.isCollapsible()&&n)return this.itemActivate(i),this.menuHide(o),!1;return this.opts.showOnClick&&r||i.hasClass("disabled")||this.$root.triggerHandler("select.smapi",i[0])===!1?!1:void 0}},itemDown:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&i.dataSM("mousedown",!0)},itemEnter:function(e){var i=t(e.currentTarget);if(this.handleItemEvents(i)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var n=this;this.showTimeout=setTimeout(function(){n.itemActivate(i)},this.opts.showOnClick&&1==i.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",i[0])}},itemFocus:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&(!this.focusActivated||this.isTouchMode()&&i.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==i[0]||this.itemActivate(i,!0),this.$root.triggerHandler("focus.smapi",i[0]))},itemLeave:function(e){var i=t(e.currentTarget);this.handleItemEvents(i)&&(this.isTouchMode()||(i[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),i.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",i[0]))},menuHide:function(e){if(this.$root.triggerHandler("beforehide.smapi",e[0])!==!1&&(e.stop(!0,!0),"none"!=e.css("display"))){var i=function(){e.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,e,i):e.hide(this.opts.collapsibleHideDuration,i):this.opts.hideFunction?this.opts.hideFunction.call(this,e,i):e.hide(this.opts.hideDuration,i),e.dataSM("ie-shim")&&e.dataSM("ie-shim").remove().css({"-webkit-transform":"",transform:""}),e.dataSM("scroll")&&(this.menuScrollStop(e),e.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),e.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),e.attr({"aria-expanded":"false","aria-hidden":"true"});var n=e.dataSM("level");this.activatedItems.splice(n-1,1),this.visibleSubMenus.splice(t.inArray(e,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",e[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var t=this.opts.isPopup?1:0,e=this.visibleSubMenus.length-1;e>=t;e--)this.menuHide(this.visibleSubMenus[e]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(t){for(var e=this.activatedItems.length-1;e>=t;e--){var i=this.activatedItems[e].dataSM("sub");i&&this.menuHide(i)}},menuIframeShim:function(e){r&&this.opts.overlapControlsInIE&&!e.dataSM("ie-shim")&&e.dataSM("ie-shim",t("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(t){if(!t.dataSM("in-mega")){t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,i=t[0];(i=i.parentNode.parentNode)!=this.$root[0];)e++;var n=t.prevAll("a").eq(-1);n.length||(n=t.prevAll().find("a").eq(-1)),n.addClass("has-submenu").dataSM("sub",t),t.dataSM("parent-a",n).dataSM("level",e).parent().dataSM("sub",t);var o=n.attr("id")||this.accessIdPrefix+ ++this.idInc,r=t.attr("id")||this.accessIdPrefix+ ++this.idInc;n.attr({id:o,"aria-haspopup":"true","aria-controls":r,"aria-expanded":"false"}),t.attr({id:r,role:"group","aria-hidden":"true","aria-labelledby":o,"aria-expanded":"false"}),this.opts.subIndicators&&n[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(e){var i,o,r=e.dataSM("parent-a"),s=r.closest("li"),l=s.parent(),d=e.dataSM("level"),h=this.getWidth(e),u=this.getHeight(e),c=r.offset(),p=c.left,f=c.top,m=this.getWidth(r),g=this.getHeight(r),v=t(window),y=v.scrollLeft(),b=v.scrollTop(),w=this.getViewportWidth(),_=this.getViewportHeight(),x=l.parent().is("[data-sm-horizontal-sub]")||2==d&&!l.hasClass("sm-vertical"),C=this.opts.rightToLeftSubMenus&&!s.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&s.is("[data-sm-reverse]"),k=2==d?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,E=2==d?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(x?(i=C?m-h-k:k,o=this.opts.bottomToTopSubMenus?-u-E:g+E):(i=C?k-h:m-k,o=this.opts.bottomToTopSubMenus?g-E-u:E),this.opts.keepInViewport){var T=p+i,S=f+o;if(C&&y>T?i=x?y-T+i:m-k:!C&&T+h>y+w&&(i=x?y+w-h-T+i:k-h),x||(_>u&&S+u>b+_?o+=b+_-u-S:(u>=_||b>S)&&(o+=b-S)),x&&(S+u>b+_+.49||b>S)||!x&&u>_+.49){var D=this;e.dataSM("scroll-arrows")||e.dataSM("scroll-arrows",t([t('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],t('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){e.dataSM("scroll").up=t(this).hasClass("scroll-up"),D.menuScroll(e)},mouseleave:function(t){D.menuScrollStop(e),D.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(e));var O=".smartmenus_scroll";e.dataSM("scroll",{y:this.cssTransforms3d?0:o-g,step:1,itemH:g,subH:u,arrowDownH:this.getHeight(e.dataSM("scroll-arrows").eq(1))}).bind(n([["mouseover",function(t){D.menuScrollOver(e,t)}],["mouseout",function(t){D.menuScrollOut(e,t)}],["mousewheel DOMMouseScroll",function(t){D.menuScrollMousewheel(e,t)}]],O)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:i+(parseInt(e.css("border-left-width"))||0),width:h-(parseInt(e.css("border-left-width"))||0)-(parseInt(e.css("border-right-width"))||0),zIndex:e.css("z-index")}).eq(x&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&e.css({"touch-action":"none","-ms-touch-action":"none"}).bind(n([[a?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(t){D.menuScrollTouch(e,t)}]],O))}}e.css({top:"auto",left:"0",marginLeft:i,marginTop:o-g}),this.menuIframeShim(e),e.dataSM("ie-shim")&&e.dataSM("ie-shim").css({zIndex:e.css("z-index"),width:h,height:u,marginLeft:i,marginTop:o-g})},menuScroll:function(t,e,i){var n,o=t.dataSM("scroll"),r=t.dataSM("scroll-arrows"),a=o.up?o.upEnd:o.downEnd;if(!e&&o.momentum){if(o.momentum*=.92,n=o.momentum,.5>n)return void this.menuScrollStop(t)}else n=i||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(o.step));var l=t.dataSM("level");if(this.activatedItems[l-1]&&this.activatedItems[l-1].dataSM("sub")&&this.activatedItems[l-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(l-1),o.y=o.up&&a<=o.y||!o.up&&a>=o.y?o.y:Math.abs(a-o.y)>n?o.y+(o.up?n:-n):a,t.add(t.dataSM("ie-shim")).css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+o.y+"px, 0)",transform:"translate3d(0, "+o.y+"px, 0)"}:{marginTop:o.y}),s&&(o.up&&o.y>o.downEnd||!o.up&&o.y<o.upEnd)&&r.eq(o.up?1:0).show(),o.y==a)s&&r.eq(o.up?0:1).hide(),this.menuScrollStop(t);else if(!e){this.opts.scrollAccelerate&&o.step<this.opts.scrollStep&&(o.step+=.2);var h=this;this.scrollTimeout=d(function(){h.menuScroll(t)})}},menuScrollMousewheel:function(t,e){if(this.getClosestMenu(e.target)==t[0]){e=e.originalEvent;var i=(e.wheelDelta||-e.detail)>0;t.dataSM("scroll-arrows").eq(i?0:1).is(":visible")&&(t.dataSM("scroll").up=i,this.menuScroll(t,!0))}e.preventDefault()},menuScrollOut:function(e,i){s&&(/^scroll-(up|down)/.test((i.relatedTarget||"").className)||(e[0]==i.relatedTarget||t.contains(e[0],i.relatedTarget))&&this.getClosestMenu(i.relatedTarget)==e[0]||e.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(e,i){if(s&&!/^scroll-(up|down)/.test(i.target.className)&&this.getClosestMenu(i.target)==e[0]){this.menuScrollRefreshData(e);var n=e.dataSM("scroll"),o=t(window).scrollTop()-e.dataSM("parent-a").offset().top-n.itemH;e.dataSM("scroll-arrows").eq(0).css("margin-top",o).end().eq(1).css("margin-top",o+this.getViewportHeight()-n.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(e){var i=e.dataSM("scroll"),n=t(window).scrollTop()-e.dataSM("parent-a").offset().top-i.itemH;this.cssTransforms3d&&(n=-(parseFloat(e.css("margin-top"))-n)),t.extend(i,{upEnd:n,downEnd:n+this.getViewportHeight()-i.subH})},menuScrollStop:function(t){return this.scrollTimeout?(h(this.scrollTimeout),this.scrollTimeout=0,t.dataSM("scroll").step=1,!0):void 0},menuScrollTouch:function(e,n){if(n=n.originalEvent,i(n)){var o=this.getTouchPoint(n);if(this.getClosestMenu(o.target)==e[0]){var r=e.dataSM("scroll");if(/(start|down)$/i.test(n.type))this.menuScrollStop(e)?(n.preventDefault(),this.$touchScrollingSub=e):this.$touchScrollingSub=null,this.menuScrollRefreshData(e),t.extend(r,{touchStartY:o.pageY,touchStartTime:n.timeStamp});else if(/move$/i.test(n.type)){var s=void 0!==r.touchY?r.touchY:r.touchStartY;if(void 0!==s&&s!=o.pageY){this.$touchScrollingSub=e;var a=s<o.pageY;void 0!==r.up&&r.up!=a&&t.extend(r,{touchStartY:o.pageY,touchStartTime:n.timeStamp}),t.extend(r,{up:a,touchY:o.pageY}),this.menuScroll(e,!0,Math.abs(o.pageY-s))}n.preventDefault()}else void 0!==r.touchY&&((r.momentum=15*Math.pow(Math.abs(o.pageY-r.touchStartY)/(n.timeStamp-r.touchStartTime),2))&&(this.menuScrollStop(e),this.menuScroll(e),n.preventDefault()),delete r.touchY)}}},menuShow:function(t){if((t.dataSM("beforefirstshowfired")||(t.dataSM("beforefirstshowfired",!0),this.$root.triggerHandler("beforefirstshow.smapi",t[0])!==!1))&&this.$root.triggerHandler("beforeshow.smapi",t[0])!==!1&&(t.dataSM("shown-before",!0).stop(!0,!0),!t.is(":visible"))){var e=t.dataSM("parent-a");if((this.opts.keepHighlighted||this.isCollapsible())&&e.addClass("highlighted"),this.isCollapsible())t.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var i=this.getWidth(t);t.css("max-width",this.opts.subMenusMaxWidth),i>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(t),t.dataSM("ie-shim")&&t.dataSM("ie-shim").insertBefore(t)}var n=function(){t.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,n):t.show(this.opts.collapsibleShowDuration,n):this.opts.showFunction?this.opts.showFunction.call(this,t,n):t.show(this.opts.showDuration,n),e.attr("aria-expanded","true"),t.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(t),this.$root.triggerHandler("show.smapi",t[0])}},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},t?1:this.opts.hideTimeout)},popupShow:function(t,e){if(!this.opts.isPopup)return void alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.');if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:t,top:e}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:t,top:e}).insertBefore(this.$root);var i=this,n=function(){i.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,n):this.$root.show(this.opts.showDuration,n),this.visibleSubMenus[0]=this.$root}},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(e){if(this.handleEvents())switch(e.keyCode){case 27:var i=this.activatedItems[0];if(i){this.menuHideAll(),i[0].focus();var n=i.dataSM("sub");n&&this.menuHide(n)}break;case 32:var o=t(e.target);if(o.is("a")&&this.handleItemEvents(o)){var n=o.dataSM("sub");n&&!n.is(":visible")&&(this.itemClick({currentTarget:e.target}),e.preventDefault())}}},rootOut:function(t){if(this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){if(this.handleEvents()){if(!("onorientationchange"in window)||"orientationchange"==t.type){var e=this.isCollapsible();this.wasCollapsible&&e||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=e}}else if(this.$disableOverlay){var i=this.$root.offset();this.$disableOverlay.css({top:i.top,left:i.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),t.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},t.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},t.fn.smartmenus=function(e){if("string"==typeof e){var i=arguments,n=e;return Array.prototype.shift.call(i),this.each(function(){var e=t(this).data("smartmenus");e&&e[n]&&e[n].apply(e,i)})}var o=t.extend({},t.fn.smartmenus.defaults,e);return this.each(function(){new t.SmartMenus(this,o)})},t.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0},t}),/*!
 * SmartMenus jQuery Plugin Bootstrap Addon - v0.3.0 - January 27, 2016
 * http://www.smartmenus.org/
 *
 * Copyright Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com
 *
 * Licensed MIT
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return t.extend(t.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var e=t("ul.navbar-nav:not([data-sm-skip])");e.each(function(){function e(){o.find("a.current").parent().addClass("active"),o.find("a.has-submenu").each(function(){var e=t(this);e.is('[data-toggle="dropdown"]')&&e.dataSM("bs-data-toggle-dropdown",!0).removeAttr("data-toggle"),e.is('[role="button"]')&&e.dataSM("bs-role-button",!0).removeAttr("role")})}function i(){o.find("a.current").parent().removeClass("active"),o.find("a.has-submenu").each(function(){var e=t(this);e.dataSM("bs-data-toggle-dropdown")&&e.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown"),e.dataSM("bs-role-button")&&e.attr("role","button").removeDataSM("bs-role-button")})}function n(t){var e=r.getViewportWidth();if(e!=s||t){var i=o.find(".caret");r.isCollapsible()?(o.addClass("sm-collapsible"),o.is("[data-sm-skip-collapsible-behavior]")||i.addClass("navbar-toggle sub-arrow")):(o.removeClass("sm-collapsible"),o.is("[data-sm-skip-collapsible-behavior]")||i.removeClass("navbar-toggle sub-arrow")),s=e}}var o=t(this),r=o.data("smartmenus");if(!r){o.smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicators:!1,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:o.hasClass("navbar-right"),bottomToTopSubMenus:o.closest(".navbar").hasClass("navbar-fixed-bottom")}).bind({"show.smapi":function(e,i){var n=t(i),o=n.dataSM("scroll-arrows");o&&o.css("background-color",t(document.body).css("background-color")),n.parent().addClass("open")},"hide.smapi":function(e,i){t(i).parent().removeClass("open")}}),e(),r=o.data("smartmenus"),r.isCollapsible=function(){return!/^(left|right)$/.test(this.$firstLink.parent().css("float"))},r.refresh=function(){t.SmartMenus.prototype.refresh.call(this),e(),n(!0)},r.destroy=function(e){i(),t.SmartMenus.prototype.destroy.call(this,e)},o.is("[data-sm-skip-collapsible-behavior]")&&o.bind({"click.smapi":function(e,i){if(r.isCollapsible()){var n=t(i),o=n.parent().dataSM("sub");if(o&&o.dataSM("shown-before")&&o.is(":visible"))return r.itemActivate(n),r.menuHide(o),!1}}});var s;n(),t(window).bind("resize.smartmenus"+r.rootId,n)}}),e.length&&!t.SmartMenus.Bootstrap.keydownFix&&(t(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),t.fn.dropdown&&t.fn.dropdown.Constructor&&t(document).on("keydown.bs.dropdown.data-api",'.dropdown-menu:not([id^="sm-"])',t.fn.dropdown.Constructor.prototype.keydown),t.SmartMenus.Bootstrap.keydownFix=!0)}}),t(t.SmartMenus.Bootstrap.init),t}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";e.util=i(1),e.DOMutil=i(7),e.DataSet=i(8),e.DataView=i(10),e.Queue=i(9),e.Graph3d=i(11),e.graph3d={Camera:i(15),Filter:i(16),Point2d:i(12),Point3d:i(14),Slider:i(17),StepNumber:i(18)},e.Timeline=i(19),e.Graph2d=i(49),e.timeline={DateUtil:i(29),DataStep:i(52),Range:i(27),stack:i(33),TimeStep:i(36),components:{items:{Item:i(35),BackgroundItem:i(40),BoxItem:i(38),PointItem:i(39),RangeItem:i(34)},Component:i(21),CurrentTime:i(20),CustomTime:i(44),DataAxis:i(51),GraphGroup:i(53),Group:i(32),BackgroundGroup:i(37),ItemSet:i(31),Legend:i(57),LineGraph:i(50),TimeAxis:i(41)}},e.Network=i(59),e.network={Images:i(112),dotparser:i(110),gephiParser:i(111),allOptions:i(108)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")},e.moment=i(2),e.hammer=i(23),e.Hammer=i(23)},function(t,e,i){"use strict";var n=i(2),o=i(6);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;t.hasChildNodes()===!0;)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,n){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i=r.exec(t);if(i)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return o.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!=typeof t[i]&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=void 0===arguments[2]?!1:arguments[2];for(var o in t)void 0!==i[o]&&("object"!=typeof i[o]?void 0!==i[o]&&null!==i[o]||void 0===t[o]||n!==!0?t[o]=i[o]:delete t[o]:"object"==typeof t[o]&&e.fillIfDefined(t[o],i[o],n))},e.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)t[o]=n[o]}return t},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],r=0;r<t.length;r++){var s=t[r];o.hasOwnProperty(s)&&(e[s]=o[s])}return e},e.selectiveDeepExtend=function(t,i,n){var o=void 0===arguments[3]?!1:arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=2;r<arguments.length;r++)for(var s=arguments[r],a=0;a<t.length;a++){var l=t[a];if(s.hasOwnProperty(l))if(n[l]&&n[l].constructor===Object)void 0===i[l]&&(i[l]={}),i[l].constructor===Object?e.deepExtend(i[l],n[l],!1,o):null===n[l]&&void 0!==i[l]&&o===!0?delete i[l]:i[l]=n[l];else{if(Array.isArray(n[l]))throw new TypeError("Arrays are not supported by deepExtend");i[l]=n[l]}}return i},e.selectiveNotDeepExtend=function(t,i,n){var o=void 0===arguments[3]?!1:arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r)&&-1==t.indexOf(r))if(n[r]&&n[r].constructor===Object)void 0===i[r]&&(i[r]={}),i[r].constructor===Object?e.deepExtend(i[r],n[r]):null===n[r]&&void 0!==i[r]&&o===!0?delete i[r]:i[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");i[r]=n[r]}return i},e.deepExtend=function(t,i,n,o){for(var r in i)if(i.hasOwnProperty(r)||n===!0)if(i[r]&&i[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?e.deepExtend(t[r],i[r],n):null===i[r]&&void 0!==t[r]&&o===!0?delete t[r]:t[r]=i[r];else if(Array.isArray(i[r])){t[r]=[];for(var s=0;s<i[r].length;s++)t[r].push(i[r][s])}else t[r]=i[r];return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;n>i;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var o;if(void 0===t)return void 0;if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(n.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return o=r.exec(t),o?new Date(Number(o[1])):n(t).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return n(t);if(t instanceof Date)return n(t.valueOf());if(n.isMoment(t))return n(t);if(e.isString(t))return o=r.exec(t),n(o?Number(o[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(n.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return o=r.exec(t),o?new Date(Number(o[1])).toISOString():new Date(t).toISOString();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){o=r.exec(t);var s;return s=o?new Date(Number(o[1])).valueOf():new Date(t).valueOf(),"/Date("+s+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}};var r=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=typeof t;return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},e.removeClassName=function(t,e){var i=t.className.split(" "),n=i.indexOf(e);-1!=n&&(i.splice(n,1),t.className=i.join(" "))},e.forEach=function(t,e){var i,n;if(Array.isArray(t))for(i=0,n=t.length;n>i;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i?(t[e]=i,!0):!1},e.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){if(-1!=t.indexOf("rgba"))return t;if(-1!=t.indexOf("rgb")){var n=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+i+")"}var n=e.hexToRGB(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(e.isString(t)===!0){if(e.isValidRGB(t)===!0){var n=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(n[0],n[1],n[2])}if(e.isValidHex(t)===!0){var o=e.hexToHSV(t),r={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},a=e.HSVToHex(s.h,s.s,s.v),l=e.HSVToHex(r.h,r.s,r.v);i={background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(n==o)return{h:0,s:0,v:n};var r=t==n?e-i:i==n?t-e:i-t,s=t==n?3:i==n?1:5,a=60*(s-r/(o-n))/360,l=(o-n)/o,d=o;return{h:a,s:l,v:d}};var s={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),n=i[0].trim(),o=i[1].trim();e[n]=o}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var n=s.split(t.style.cssText),o=s.split(i),r=e.extend(n,o);t.style.cssText=s.join(r)},e.removeCssText=function(t,e){var i=s.split(t.style.cssText),n=s.split(e);for(var o in n)n.hasOwnProperty(o)&&delete i[o];t.style.cssText=s.join(i)},e.HSVToRGB=function(t,e,i){var n,o,r,s=Math.floor(6*t),a=6*t-s,l=i*(1-e),d=i*(1-a*e),h=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=h,r=l;break;case 1:n=d,o=i,r=l;break;case 2:n=l,o=i,r=h;break;case 3:n=l,o=d,r=i;break;case 4:n=h,o=l,r=i;break;case 5:n=i,o=l,r=d}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},e.HSVToHex=function(t,i,n){var o=e.HSVToRGB(t,i,n);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e},e.isValidRGBA=function(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);return e},e.selectiveBridgeObject=function(t,i){if("object"==typeof i){for(var n=Object.create(i),o=0;o<t.length;o++)i.hasOwnProperty(t[o])&&"object"==typeof i[t[o]]&&(n[t[o]]=e.bridgeObject(i[t[o]]));return n}return null},e.bridgeObject=function(t){if("object"==typeof t){var i=Object.create(t);for(var n in t)t.hasOwnProperty(n)&&"object"==typeof t[n]&&(i[n]=e.bridgeObject(t[n]));return i}return null},e.mergeOptions=function(t,e,i){void 0===arguments[3]?!1:arguments[3];if(null===e[i])t[i]=void 0,delete t[i];else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{void 0===e[i].enabled&&(t[i].enabled=!0);for(var n in e[i])e[i].hasOwnProperty(n)&&(t[i][n]=e[i][n])}},e.binarySearchCustom=function(t,e,i,n){for(var o=1e4,r=0,s=0,a=t.length-1;a>=s&&o>r;){var l=Math.floor((s+a)/2),d=t[l],h=void 0===n?d[i]:d[i][n],u=e(h);if(0==u)return l;-1==u?s=l+1:a=l-1,r++}return-1},e.binarySearchValue=function(t,e,i,n){for(var o,r,s,a,l=1e4,d=0,h=0,u=t.length-1;u>=h&&l>d;){if(a=Math.floor(.5*(u+h)),o=t[Math.max(0,a-1)][i],r=t[a][i],s=t[Math.min(t.length-1,a+1)][i],r==e)return a;if(e>o&&r>e)return"before"==n?Math.max(0,a-1):a;if(e>r&&s>e)return"before"==n?a:Math.min(t.length-1,a+1);e>r?h=a+1:u=a-1,d++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){"use strict";t.exports="undefined"!=typeof window&&window.moment||i(3)},function(t,e,i){(function(t){//! moment.js
//! version : 2.10.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(e,i){t.exports=i()}(this,function(){"use strict";function e(){return Mi.apply(null,arguments)}function i(t){Mi=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,i,n){return Tt(t,e,i,n,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(t){return null==t._pf&&(t._pf=d()),t._pf}function u(t){if(null==t._isValid){var e=h(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=l(NaN);return null!=t?a(h(e),t):h(e).userInvalidated=!0,e}function p(t,e){var i,n,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=h(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ni.length>0)for(i in Ni)n=Ni[i],o=e[n],"undefined"!=typeof o&&(t[n]=o);return t}function f(t){p(this,t),this._d=new Date(+t._d),Ii===!1&&(Ii=!0,e.updateOffset(this),Ii=!1)}function m(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function g(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function v(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;o>n;n++)(i&&t[n]!==e[n]||!i&&g(t[n])!==g(e[n]))&&s++;return s+r}function y(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,i,n,o,r=0;r<t.length;){for(o=b(t[r]).split("-"),e=o.length,i=b(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=_(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&v(o,i,!0)>=e-1)break;e--}r++}return null}function _(e){var i=null;if(!Fi[e]&&"undefined"!=typeof t&&t&&t.exports)try{i=Ai._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),x(i)}catch(n){}return Fi[e]}function x(t,e){var i;return t&&(i="undefined"==typeof e?k(t):C(t,e),i&&(Ai=i)),Ai._abbr}function C(t,e){return null!==e?(e.abbr=t,Fi[t]||(Fi[t]=new y),Fi[t].set(e),x(t),Fi[t]):(delete Fi[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ai;if(!n(t)){if(e=_(t))return e;t=[t]}return w(t)}function E(t,e){var i=t.toLowerCase();Ri[i]=Ri[i+"s"]=Ri[e]=t}function T(t){return"string"==typeof t?Ri[t]||Ri[t.toLowerCase()]:void 0}function S(t){var e,i,n={};for(i in t)s(t,i)&&(e=T(i),e&&(n[e]=t[i]));return n}function D(t,i){return function(n){return null!=n?(M(this,t,n),e.updateOffset(this,i),this):O(this,t)}}function O(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function M(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function A(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function N(t,e,i){for(var n=""+Math.abs(t),o=t>=0;n.length<e;)n="0"+n;return(o?i?"+":"":"-")+n}function I(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(zi[t]=o),e&&(zi[e[0]]=function(){return N(o.apply(this,arguments),e[1],e[2])}),i&&(zi[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function R(t){var e,i,n=t.match(Li);for(e=0,i=n.length;i>e;e++)zi[n[e]]?n[e]=zi[n[e]]:n[e]=F(n[e]);return function(o){var r="";for(e=0;i>e;e++)r+=n[e]instanceof Function?n[e].call(o,t):n[e];return r}}function L(t,e){return t.isValid()?(e=P(e,t.localeData()),$i[e]||($i[e]=R(e)),$i[e](t)):t.localeData().invalidDate()}function P(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Pi.lastIndex=0;n>=0&&Pi.test(t);)t=t.replace(Pi,i),Pi.lastIndex=0,n-=1;return t}function $(t,e,i){tn[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function z(t,e){return s(tn,t)?tn[t](e._strict,e._locale):new RegExp(B(t))}function B(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=g(t)}),i=0;i<t.length;i++)en[t[i]]=n}function j(t,e){H(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function W(t,e,i){null!=e&&s(en,t)&&en[t](e,i._a,i,t)}function U(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t){return this._months[t.month()]}function q(t){return this._monthsShort[t.month()]}function V(t,e,i){var n,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=l([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function K(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),U(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function G(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):O(this,"Month")}function X(){return U(this.year(),this.month())}function Q(t){var e,i=t._a;return i&&-2===h(t).overflow&&(e=i[on]<0||i[on]>11?on:i[rn]<1||i[rn]>U(i[nn],i[on])?rn:i[sn]<0||i[sn]>24||24===i[sn]&&(0!==i[an]||0!==i[ln]||0!==i[dn])?sn:i[an]<0||i[an]>59?an:i[ln]<0||i[ln]>59?ln:i[dn]<0||i[dn]>999?dn:-1,h(t)._overflowDayOfYear&&(nn>e||e>rn)&&(e=rn),h(t).overflow=e),t}function Z(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function J(t,e){var i=!0,n=t+"\n"+(new Error).stack;return a(function(){return i&&(Z(n),i=!1),e.apply(this,arguments)},e)}function tt(t,e){cn[t]||(Z(e),cn[t]=!0)}function et(t){var e,i,n=t._i,o=pn.exec(n);if(o){for(h(t).iso=!0,e=0,i=fn.length;i>e;e++)if(fn[e][1].exec(n)){t._f=fn[e][0]+(o[6]||" ");break}for(e=0,i=mn.length;i>e;e++)if(mn[e][1].exec(n)){t._f+=mn[e][0];break}n.match(Qi)&&(t._f+="Z"),wt(t)}else t._isValid=!1}function it(t){var i=gn.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(et(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function nt(t,e,i,n,o,r,s){var a=new Date(t,e,i,n,o,r,s);return 1970>t&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t){return st(t)?366:365}function st(t){return t%4===0&&t%100!==0||t%400===0}function at(){return st(this.year())}function lt(t,e,i){var n,o=i-e,r=i-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),n=St(t).add(r,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function dt(t){return lt(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function ut(){return this._week.doy}function ct(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ft(t,e,i,n,o){var r,s,a=ot(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:o,r=o-a+(a>n?7:0)-(o>a?7:0),s=7*(e-1)+(i-o)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:rt(t-1)+s}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,i){return null!=t?t:null!=e?e:i}function vt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yt(t){var e,i,n,o,r=[];if(!t._d){for(n=vt(t),t._w&&null==t._a[rn]&&null==t._a[on]&&bt(t),t._dayOfYear&&(o=gt(t._a[nn],n[nn]),t._dayOfYear>rt(o)&&(h(t)._overflowDayOfYear=!0),i=ot(o,0,t._dayOfYear),t._a[on]=i.getUTCMonth(),t._a[rn]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[sn]&&0===t._a[an]&&0===t._a[ln]&&0===t._a[dn]&&(t._nextDay=!0,t._a[sn]=0),t._d=(t._useUTC?ot:nt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[sn]=24)}}function bt(t){var e,i,n,o,r,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,s=4,i=gt(e.GG,t._a[nn],lt(St(),1,4).year),n=gt(e.W,1),o=gt(e.E,1)):(r=t._locale._week.dow,s=t._locale._week.doy,i=gt(e.gg,t._a[nn],lt(St(),r,s).year),n=gt(e.w,1),null!=e.d?(o=e.d,r>o&&++n):o=null!=e.e?e.e+r:r),a=ft(i,n,o,s,r),t._a[nn]=a.year,t._dayOfYear=a.dayOfYear}function wt(t){if(t._f===e.ISO_8601)return void et(t);t._a=[],h(t).empty=!0;var i,n,o,r,s,a=""+t._i,l=a.length,d=0;for(o=P(t._f,t._locale).match(Li)||[],i=0;i<o.length;i++)r=o[i],n=(a.match(z(r,t))||[])[0],n&&(s=a.substr(0,a.indexOf(n)),s.length>0&&h(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),d+=n.length),zi[r]?(n?h(t).empty=!1:h(t).unusedTokens.push(r),W(r,n,t)):t._strict&&!n&&h(t).unusedTokens.push(r);h(t).charsLeftOver=l-d,a.length>0&&h(t).unusedInput.push(a),h(t).bigHour===!0&&t._a[sn]<=12&&t._a[sn]>0&&(h(t).bigHour=void 0),t._a[sn]=_t(t._locale,t._a[sn],t._meridiem),yt(t),Q(t)}function _t(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function xt(t){var e,i,n,o,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],wt(e),u(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==n||n>r)&&(n=r,i=e));a(t,i||e)}function Ct(t){if(!t._d){var e=S(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],yt(t)}}function kt(t){var e,i=t._i,r=t._f;return t._locale=t._locale||k(t._l),null===i||void 0===r&&""===i?c({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),m(i)?new f(Q(i)):(n(r)?xt(t):r?wt(t):o(i)?t._d=i:Et(t),e=new f(Q(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Et(t){var i=t._i;void 0===i?t._d=new Date:o(i)?t._d=new Date(+i):"string"==typeof i?it(t):n(i)?(t._a=r(i.slice(0),function(t){return parseInt(t,10)}),yt(t)):"object"==typeof i?Ct(t):"number"==typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function Tt(t,e,i,n,o){var r={};return"boolean"==typeof i&&(n=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=i,r._i=t,r._f=e,r._strict=n,kt(r)}function St(t,e,i,n){return Tt(t,e,i,n,!1)}function Dt(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return St();for(i=e[0],o=1;o<e.length;++o)e[o][t](i)&&(i=e[o]);return i}function Ot(){var t=[].slice.call(arguments,0);return Dt("isBefore",t)}function Mt(){var t=[].slice.call(arguments,0);return Dt("isAfter",t)}function At(t){var e=S(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,d=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*d+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=k(),this._bubble()}function Nt(t){return t instanceof At}function It(t,e){I(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)})}function Ft(t){var e=(t||"").match(Qi)||[],i=e[e.length-1]||[],n=(i+"").match(_n)||["-",0,0],o=+(60*n[1])+g(n[2]);return"+"===n[0]?o:-o}function Rt(t,i){var n,r;return i._isUTC?(n=i.clone(),r=(m(t)||o(t)?+t:+St(t))-+n,n._d.setTime(+n._d+r),e.updateOffset(n,!1),n):St(t).local()}function Lt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Pt(t,i){var n,o=this._offset||0;return null!=t?("string"==typeof t&&(t=Ft(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Lt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!i||this._changeInProgress?Jt(this,Kt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Lt(this)}function $t(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zt(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Lt(this),"m")),this}function Ht(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ft(this._i)),this}function jt(t){return t=t?St(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ut(){if(this._a){var t=this._isUTC?l(this._a):St(this._a);return this.isValid()&&v(this._a,t.toArray())>0}return!1}function Yt(){return!this._isUTC}function qt(){return this._isUTC}function Vt(){return this._isUTC&&0===this._offset}function Kt(t,e){var i,n,o,r=t,a=null;return Nt(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=xn.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:g(a[rn])*i,h:g(a[sn])*i,m:g(a[an])*i,s:g(a[ln])*i,ms:g(a[dn])*i}):(a=Cn.exec(t))?(i="-"===a[1]?-1:1,r={y:Gt(a[2],i),M:Gt(a[3],i),d:Gt(a[4],i),h:Gt(a[5],i),m:Gt(a[6],i),s:Gt(a[7],i),w:Gt(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Qt(St(r.from),St(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new At(r),Nt(t)&&s(t,"_locale")&&(n._locale=t._locale),n}function Gt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Xt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Qt(t,e){var i;return e=Rt(e,t),t.isBefore(e)?i=Xt(t,e):(i=Xt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Zt(t,e){return function(i,n){var o,r;return null===n||isNaN(+n)||(tt(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=Kt(i,n),Jt(this,o,t),this}}function Jt(t,i,n,o){var r=i._milliseconds,s=i._days,a=i._months;o=null==o?!0:o,r&&t._d.setTime(+t._d+r*n),s&&M(t,"Date",O(t,"Date")+s*n),a&&K(t,O(t,"Month")+a*n),o&&e.updateOffset(t,s||a)}function te(t){var e=t||St(),i=Rt(e,this).startOf("day"),n=this.diff(i,"days",!0),o=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,St(e)))}function ee(){return new f(this)}function ie(t,e){var i;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:St(t),+this>+t):(i=m(t)?+t:+St(t),i<+this.clone().startOf(e))}function ne(t,e){var i;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:St(t),+t>+this):(i=m(t)?+t:+St(t),+this.clone().endOf(e)<i)}function oe(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function re(t,e){var i;return e=T(e||"millisecond"),"millisecond"===e?(t=m(t)?t:St(t),+this===+t):(i=+St(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function se(t){return 0>t?Math.ceil(t):Math.floor(t)}function ae(t,e,i){var n,o,r=Rt(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(o=le(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(n=this-r,o="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-s)/864e5:"week"===e?(n-s)/6048e5:n),i?o:se(o)}function le(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(i=t.clone().add(o-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(o+1,"months"),n=(e-r)/(i-r)),-(o+n)}function de(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ue(t){var i=L(this,t||e.defaultFormat);return this.localeData().postformat(i)}function ce(t,e){return this.isValid()?Kt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(St(),t)}function fe(t,e){return this.isValid()?Kt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.to(St(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function ve(){return this._locale}function ye(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function be(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function _e(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function Ce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ke(){return u(this)}function Ee(){return a({},h(this))}function Te(){return h(this).overflow}function Se(t,e){I(0,[t,t.length],0,e)}function De(t,e,i){return lt(St([t,11,31+e-i]),e,i).week}function Oe(t){var e=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Me(t){var e=lt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ae(){return De(this.year(),1,4)}function Ne(){var t=this.localeData()._week;return De(this.year(),t.dow,t.doy)}function Ie(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Fe(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Re(t){return this._weekdays[t.day()]}function Le(t){return this._weekdaysShort[t.day()]}function Pe(t){return this._weekdaysMin[t.day()]}function $e(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=St([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function ze(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Fe(t,this.localeData()),this.add(t-e,"d")):e}function Be(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function He(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function je(t,e){I(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function We(t,e){return e._meridiemParse}function Ue(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ye(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function qe(t){I(0,[t,3],0,"millisecond")}function Ve(){return this._isUTC?"UTC":""}function Ke(){return this._isUTC?"Coordinated Universal Time":""}function Ge(t){return St(1e3*t)}function Xe(){return St.apply(null,arguments).parseZone()}function Qe(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.call(e,i):n}function Ze(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Je(){return this._invalidDate}function ti(t){return this._ordinal.replace("%d",t)}function ei(t){return t}function ii(t,e,i,n){var o=this._relativeTime[i];return"function"==typeof o?o(t,e,i,n):o.replace(/%d/i,t)}function ni(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function oi(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ri(t,e,i,n){var o=k(),r=l().set(n,e);return o[i](r,t)}function si(t,e,i,n,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ri(t,e,i,o);var r,s=[];for(r=0;n>r;r++)s[r]=ri(t,r,i,o);return s}function ai(t,e){return si(t,e,"months",12,"month")}function li(t,e){return si(t,e,"monthsShort",12,"month")}function di(t,e){return si(t,e,"weekdays",7,"day")}function hi(t,e){return si(t,e,"weekdaysShort",7,"day")}function ui(t,e){return si(t,e,"weekdaysMin",7,"day")}function ci(){var t=this._data;return this._milliseconds=Yn(this._milliseconds),this._days=Yn(this._days),this._months=Yn(this._months),t.milliseconds=Yn(t.milliseconds),t.seconds=Yn(t.seconds),t.minutes=Yn(t.minutes),t.hours=Yn(t.hours),t.months=Yn(t.months),t.years=Yn(t.years),this}function pi(t,e,i,n){var o=Kt(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function fi(t,e){return pi(this,t,e,1)}function mi(t,e){return pi(this,t,e,-1)}function gi(){var t,e,i,n=this._milliseconds,o=this._days,r=this._months,s=this._data,a=0;return s.milliseconds=n%1e3,t=se(n/1e3),s.seconds=t%60,e=se(t/60),s.minutes=e%60,i=se(e/60),s.hours=i%24,o+=se(i/24),a=se(vi(o)),o-=se(yi(a)),r+=se(o/30),o%=30,a+=se(r/12),r%=12,s.days=o,s.months=r,s.years=a,this}function vi(t){return 400*t/146097}function yi(t){return 146097*t/400}function bi(t){var e,i,n=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+12*vi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(yi(this._months/12)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function wi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function _i(t){return function(){return this.as(t)}}function xi(t){return t=T(t),this[t+"s"]()}function Ci(t){return function(){return this._data[t]}}function ki(){return se(this.days()/7)}function Ei(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function Ti(t,e,i){var n=Kt(t).abs(),o=ao(n.as("s")),r=ao(n.as("m")),s=ao(n.as("h")),a=ao(n.as("d")),l=ao(n.as("M")),d=ao(n.as("y")),h=o<lo.s&&["s",o]||1===r&&["m"]||r<lo.m&&["mm",r]||1===s&&["h"]||s<lo.h&&["hh",s]||1===a&&["d"]||a<lo.d&&["dd",a]||1===l&&["M"]||l<lo.M&&["MM",l]||1===d&&["y"]||["yy",d];return h[2]=e,h[3]=+t>0,h[4]=i,Ei.apply(null,h)}function Si(t,e){return void 0===lo[t]?!1:void 0===e?lo[t]:(lo[t]=e,!0)}function Di(t){var e=this.localeData(),i=Ti(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Oi(){var t=ho(this.years()),e=ho(this.months()),i=ho(this.days()),n=ho(this.hours()),o=ho(this.minutes()),r=ho(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||o||r?"T":"")+(n?n+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}var Mi,Ai,Ni=e.momentProperties=[],Ii=!1,Fi={},Ri={},Li=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Pi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$i={},zi={},Bi=/\d/,Hi=/\d\d/,ji=/\d{3}/,Wi=/\d{4}/,Ui=/[+-]?\d{6}/,Yi=/\d\d?/,qi=/\d{1,3}/,Vi=/\d{1,4}/,Ki=/[+-]?\d{1,6}/,Gi=/\d+/,Xi=/[+-]?\d+/,Qi=/Z|[+-]\d\d:?\d\d/gi,Zi=/[+-]?\d+(\.\d{1,3})?/,Ji=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tn={},en={},nn=0,on=1,rn=2,sn=3,an=4,ln=5,dn=6;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),I("MMMM",0,0,function(t){return this.localeData().months(this,t)}),E("month","M"),$("M",Yi),$("MM",Yi,Hi),$("MMM",Ji),$("MMMM",Ji),H(["M","MM"],function(t,e){e[on]=g(t)-1}),H(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[on]=o:h(i).invalidMonth=t});var hn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),un="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cn={};e.suppressDeprecationWarnings=!1;var pn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],mn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gn=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),E("year","y"),$("Y",Xi),$("YY",Yi,Hi),$("YYYY",Vi,Wi),$("YYYYY",Ki,Ui),$("YYYYYY",Ki,Ui),H(["YYYY","YYYYY","YYYYYY"],nn),H("YY",function(t,i){i[nn]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var vn=D("FullYear",!1);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),$("w",Yi),$("ww",Yi,Hi),$("W",Yi),$("WW",Yi,Hi),j(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=g(t)});var yn={dow:0,doy:6};I("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),$("DDD",qi),$("DDDD",ji),H(["DDD","DDDD"],function(t,e,i){i._dayOfYear=g(t)}),e.ISO_8601=function(){};var bn=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=St.apply(null,arguments);return this>t?this:t}),wn=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=St.apply(null,arguments);return t>this?this:t});It("Z",":"),It("ZZ",""),$("Z",Qi),$("ZZ",Qi),H(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ft(t)});var _n=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var xn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Cn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Kt.fn=At.prototype;var kn=Zt(1,"add"),En=Zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Tn=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Se("gggg","weekYear"),Se("ggggg","weekYear"),Se("GGGG","isoWeekYear"),Se("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),$("G",Xi),$("g",Xi),$("GG",Yi,Hi),$("gg",Yi,Hi),$("GGGG",Vi,Wi),$("gggg",Vi,Wi),$("GGGGG",Ki,Ui),$("ggggg",Ki,Ui),j(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=g(t)}),j(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),I("Q",0,0,"quarter"),E("quarter","Q"),$("Q",Bi),H("Q",function(t,e){e[on]=3*(g(t)-1)}),I("D",["DD",2],"Do","date"),E("date","D"),$("D",Yi),$("DD",Yi,Hi),$("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),H(["D","DD"],rn),H("Do",function(t,e){e[rn]=g(t.match(Yi)[0],10)});var Sn=D("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),I("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),I("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),$("d",Yi),$("e",Yi),$("E",Yi),$("dd",Ji),$("ddd",Ji),$("dddd",Ji),j(["dd","ddd","dddd"],function(t,e,i){var n=i._locale.weekdaysParse(t);null!=n?e.d=n:h(i).invalidWeekday=t}),j(["d","e","E"],function(t,e,i,n){e[n]=g(t)});var Dn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),On="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("H",["HH",2],0,"hour"),I("h",["hh",2],0,function(){return this.hours()%12||12}),je("a",!0),je("A",!1),E("hour","h"),$("a",We),$("A",We),$("H",Yi),$("h",Yi),$("HH",Yi,Hi),$("hh",Yi,Hi),H(["H","HH"],sn),H(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),H(["h","hh"],function(t,e,i){e[sn]=g(t),h(i).bigHour=!0});var An=/[ap]\.?m?\.?/i,Nn=D("Hours",!0);I("m",["mm",2],0,"minute"),E("minute","m"),$("m",Yi),$("mm",Yi,Hi),H(["m","mm"],an);var In=D("Minutes",!1);I("s",["ss",2],0,"second"),E("second","s"),$("s",Yi),$("ss",Yi,Hi),H(["s","ss"],ln);var Fn=D("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),qe("SSS"),qe("SSSS"),E("millisecond","ms"),$("S",qi,Bi),$("SS",qi,Hi),$("SSS",qi,ji),$("SSSS",Gi),H(["S","SS","SSS","SSSS"],function(t,e){e[dn]=g(1e3*("0."+t))});var Rn=D("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Ln=f.prototype;Ln.add=kn,Ln.calendar=te,Ln.clone=ee,Ln.diff=ae,Ln.endOf=be,Ln.format=ue,Ln.from=ce,Ln.fromNow=pe,Ln.to=fe,Ln.toNow=me,Ln.get=A,Ln.invalidAt=Te,Ln.isAfter=ie,Ln.isBefore=ne,Ln.isBetween=oe,Ln.isSame=re,Ln.isValid=ke,Ln.lang=Tn,Ln.locale=ge,Ln.localeData=ve,Ln.max=wn,Ln.min=bn,Ln.parsingFlags=Ee,Ln.set=A,Ln.startOf=ye,Ln.subtract=En,Ln.toArray=Ce,Ln.toDate=xe,Ln.toISOString=he,Ln.toJSON=he,Ln.toString=de,Ln.unix=_e,Ln.valueOf=we,Ln.year=vn,Ln.isLeapYear=at,Ln.weekYear=Oe,Ln.isoWeekYear=Me,Ln.quarter=Ln.quarters=Ie,Ln.month=G,Ln.daysInMonth=X,Ln.week=Ln.weeks=ct,Ln.isoWeek=Ln.isoWeeks=pt,Ln.weeksInYear=Ne,Ln.isoWeeksInYear=Ae,Ln.date=Sn,Ln.day=Ln.days=ze,Ln.weekday=Be,Ln.isoWeekday=He,Ln.dayOfYear=mt,Ln.hour=Ln.hours=Nn,Ln.minute=Ln.minutes=In,Ln.second=Ln.seconds=Fn,Ln.millisecond=Ln.milliseconds=Rn,Ln.utcOffset=Pt,Ln.utc=zt,Ln.local=Bt,Ln.parseZone=Ht,Ln.hasAlignedHourOffset=jt,Ln.isDST=Wt,Ln.isDSTShifted=Ut,Ln.isLocal=Yt,Ln.isUtcOffset=qt,Ln.isUtc=Vt,Ln.isUTC=Vt,Ln.zoneAbbr=Ve,Ln.zoneName=Ke,Ln.dates=J("dates accessor is deprecated. Use date instead.",Sn),Ln.months=J("months accessor is deprecated. Use month instead",G),Ln.years=J("years accessor is deprecated. Use year instead",vn),Ln.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",$t);var Pn=Ln,$n={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Bn="Invalid date",Hn="%d",jn=/\d{1,2}/,Wn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Un=y.prototype;Un._calendar=$n,Un.calendar=Qe,Un._longDateFormat=zn,Un.longDateFormat=Ze,Un._invalidDate=Bn,Un.invalidDate=Je,Un._ordinal=Hn,Un.ordinal=ti,Un._ordinalParse=jn,Un.preparse=ei,Un.postformat=ei,Un._relativeTime=Wn,Un.relativeTime=ii,Un.pastFuture=ni,Un.set=oi,Un.months=Y,Un._months=hn,Un.monthsShort=q,Un._monthsShort=un,Un.monthsParse=V,Un.week=dt,Un._week=yn,Un.firstDayOfYear=ut,Un.firstDayOfWeek=ht,Un.weekdays=Re,Un._weekdays=Dn,Un.weekdaysMin=Pe,Un._weekdaysMin=Mn,Un.weekdaysShort=Le,Un._weekdaysShort=On,Un.weekdaysParse=$e,Un.isPM=Ue,Un._meridiemParse=An,Un.meridiem=Ye,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),e.lang=J("moment.lang is deprecated. Use moment.locale instead.",x),
e.langData=J("moment.langData is deprecated. Use moment.localeData instead.",k);var Yn=Math.abs,qn=_i("ms"),Vn=_i("s"),Kn=_i("m"),Gn=_i("h"),Xn=_i("d"),Qn=_i("w"),Zn=_i("M"),Jn=_i("y"),to=Ci("milliseconds"),eo=Ci("seconds"),io=Ci("minutes"),no=Ci("hours"),oo=Ci("days"),ro=Ci("months"),so=Ci("years"),ao=Math.round,lo={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,uo=At.prototype;uo.abs=ci,uo.add=fi,uo.subtract=mi,uo.as=bi,uo.asMilliseconds=qn,uo.asSeconds=Vn,uo.asMinutes=Kn,uo.asHours=Gn,uo.asDays=Xn,uo.asWeeks=Qn,uo.asMonths=Zn,uo.asYears=Jn,uo.valueOf=wi,uo._bubble=gi,uo.get=xi,uo.milliseconds=to,uo.seconds=eo,uo.minutes=io,uo.hours=no,uo.days=oo,uo.weeks=ki,uo.months=ro,uo.years=so,uo.humanize=Di,uo.toISOString=Oi,uo.toString=Oi,uo.toJSON=Oi,uo.locale=ge,uo.localeData=ve,uo.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oi),uo.lang=Tn,I("X",0,0,"unix"),I("x",0,0,"valueOf"),$("x",Xi),$("X",Zi),H("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),H("x",function(t,e,i){i._d=new Date(g(t))}),e.version="2.10.3",i(St),e.fn=Pn,e.min=Ot,e.max=Mt,e.utc=l,e.unix=Ge,e.months=ai,e.isDate=o,e.locale=x,e.invalid=c,e.duration=Kt,e.isMoment=m,e.weekdays=di,e.parseZone=Xe,e.localeData=k,e.isDuration=Nt,e.monthsShort=li,e.weekdaysMin=ui,e.defineLocale=C,e.weekdaysShort=hi,e.normalizeUnits=T,e.relativeTimeThreshold=Si;var co=e;return co})}).call(e,i(4)(t))},function(t,e,i){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,i){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=5},function(t,e,i){(function(e){"use strict";function i(t,e,i){var n=e&&i||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>o&&(e[n+o++]=u[t])});16>o;)e[n+o++]=0;return e}function n(t,e){var i=e||0,n=h;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}function o(t,e,i){var o=e&&i||0,r=e||[];t=t||{};var s=void 0!==t.clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),l=void 0!==t.nsecs?t.nsecs:v+1,d=a-g+(l-v)/1e4;if(0>d&&void 0===t.clockseq&&(s=s+1&16383),(0>d||a>g)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=a,v=l,m=s,a+=122192928e5;var h=(1e4*(268435455&a)+l)%4294967296;r[o++]=h>>>24&255,r[o++]=h>>>16&255,r[o++]=h>>>8&255,r[o++]=255&h;var u=a/4294967296*1e4&268435455;r[o++]=u>>>8&255,r[o++]=255&u,r[o++]=u>>>24&15|16,r[o++]=u>>>16&255,r[o++]=s>>>8|128,r[o++]=255&s;for(var c=t.node||f,p=0;6>p;p++)r[o+p]=c[p];return e?e:n(r)}function r(t,e,i){var o=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var r=t.random||(t.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var a=0;16>a;a++)e[o+a]=r[a];return e||n(r)}var s,a="undefined"!=typeof window?window:"undefined"!=typeof e?e:null;if(a&&a.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);s=function(){return crypto.getRandomValues(l),l}}if(!s){var d=new Array(16);s=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),d[e]=t>>>((3&e)<<3)&255;return d}}for(var h=[],u={},c=0;256>c;c++)h[c]=(c+256).toString(16).substr(1),u[h[c]]=c;var p=s(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),g=0,v=0,y=r;y.v1=o,y.v4=r,y.parse=i,y.unparse=n,t.exports=y}).call(e,function(){return this}())},function(t,e,i){"use strict";e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,i,n,o,r,s){var a;if("circle"==n.options.drawPoints.style?(a=e.getSVGElement("circle",o,r),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.options.drawPoints.size)):(a=e.getSVGElement("rect",o,r),a.setAttributeNS(null,"x",t-.5*n.options.drawPoints.size),a.setAttributeNS(null,"y",i-.5*n.options.drawPoints.size),a.setAttributeNS(null,"width",n.options.drawPoints.size),a.setAttributeNS(null,"height",n.options.drawPoints.size)),void 0!==n.options.drawPoints.styles&&a.setAttributeNS(null,"style",n.group.options.drawPoints.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),s){var l=e.getSVGElement("text",o,r);s.xOffset&&(t+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(l.textContent=s.content),s.className&&l.setAttributeNS(null,"class",s.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,o,r,s,a,l){if(0!=o){0>o&&(o*=-1,i-=o);var d=e.getSVGElement("rect",s,a);d.setAttributeNS(null,"x",t-.5*n),d.setAttributeNS(null,"y",i),d.setAttributeNS(null,"width",n),d.setAttributeNS(null,"height",o),d.setAttributeNS(null,"class",r),l&&d.setAttributeNS(null,"style",l)}}},function(t,e,i){"use strict";function n(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i in this._options.type)if(this._options.type.hasOwnProperty(i)){var n=this._options.type[i];"Date"==n||"ISODate"==n||"ASPDate"==n?this._type[i]="Date":this._type[i]=n}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}var o=i(1),r=i(9);n.prototype.setOptions=function(t){t&&void 0!==t.queue&&(t.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=r.extend(this,{replace:["add","update","remove"]})),"object"==typeof t.queue&&this._queue.setOptions(t.queue)))},n.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},n.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},n.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},n.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},n.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0;o<n.length;o++){var r=n[o];r.callback&&r.callback(t,e,i||null)}},n.prototype.add=function(t,e){var i,n=[],o=this;if(Array.isArray(t))for(var r=0,s=t.length;s>r;r++)i=o._addItem(t[r]),n.push(i);else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=o._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n},n.prototype.update=function(t,e){var i=[],n=[],o=[],r=this,s=r._fieldId,a=function(t){var e=t[s];r._data[e]?(e=r._updateItem(t),n.push(e),o.push(t)):(e=r._addItem(t),i.push(e))};if(Array.isArray(t))for(var l=0,d=t.length;d>l;l++)a(t[l]);else{if(!(t instanceof Object))throw new Error("Unknown dataType");a(t)}return i.length&&this._trigger("add",{items:i},e),n.length&&this._trigger("update",{items:n,data:o},e),i.concat(n)},n.prototype.get=function(t){var e,i,n,r=this,s=o.getType(arguments[0]);"String"==s||"Number"==s?(e=arguments[0],n=arguments[1]):"Array"==s?(i=arguments[0],n=arguments[1]):n=arguments[0];var a;if(n&&n.returnType){var l=["Array","Object"];a=-1==l.indexOf(n.returnType)?"Array":n.returnType}else a="Array";var d,h,u,c,p=n&&n.type||this._options.type,f=n&&n.filter,m=[];if(void 0!=e)d=r._getItem(e,p),f&&!f(d)&&(d=null);else if(void 0!=i)for(u=0,c=i.length;c>u;u++)d=r._getItem(i[u],p),(!f||f(d))&&m.push(d);else for(h in this._data)this._data.hasOwnProperty(h)&&(d=r._getItem(h,p),(!f||f(d))&&m.push(d));if(n&&n.order&&void 0==e&&this._sort(m,n.order),n&&n.fields){var g=n.fields;if(void 0!=e)d=this._filterFields(d,g);else for(u=0,c=m.length;c>u;u++)m[u]=this._filterFields(m[u],g)}if("Object"==a){var v={};for(u=0;u<m.length;u++)v[m[u].id]=m[u];return v}return void 0!=e?d:m},n.prototype.getIds=function(t){var e,i,n,o,r,s=this._data,a=t&&t.filter,l=t&&t.order,d=t&&t.type||this._options.type,h=[];if(a)if(l){r=[];for(n in s)s.hasOwnProperty(n)&&(o=this._getItem(n,d),a(o)&&r.push(o));for(this._sort(r,l),e=0,i=r.length;i>e;e++)h[e]=r[e][this._fieldId]}else for(n in s)s.hasOwnProperty(n)&&(o=this._getItem(n,d),a(o)&&h.push(o[this._fieldId]));else if(l){r=[];for(n in s)s.hasOwnProperty(n)&&r.push(s[n]);for(this._sort(r,l),e=0,i=r.length;i>e;e++)h[e]=r[e][this._fieldId]}else for(n in s)s.hasOwnProperty(n)&&(o=s[n],h.push(o[this._fieldId]));return h},n.prototype.getDataSet=function(){return this},n.prototype.forEach=function(t,e){var i,n,o=e&&e.filter,r=e&&e.type||this._options.type,s=this._data;if(e&&e.order)for(var a=this.get(e),l=0,d=a.length;d>l;l++)i=a[l],n=i[this._fieldId],t(i,n);else for(n in s)s.hasOwnProperty(n)&&(i=this._getItem(n,r),(!o||o(i))&&t(i,n))},n.prototype.map=function(t,e){var i,n=e&&e.filter,o=e&&e.type||this._options.type,r=[],s=this._data;for(var a in s)s.hasOwnProperty(a)&&(i=this._getItem(a,o),(!n||n(i))&&r.push(t(i,a)));return e&&e.order&&this._sort(r,e.order),r},n.prototype._filterFields=function(t,e){if(!t)return t;var i={};if(Array.isArray(e))for(var n in t)t.hasOwnProperty(n)&&-1!=e.indexOf(n)&&(i[n]=t[n]);else for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(i[e[n]]=t[n]);return i},n.prototype._sort=function(t,e){if(o.isString(e)){var i=e;t.sort(function(t,e){var n=t[i],o=e[i];return n>o?1:o>n?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},n.prototype.remove=function(t,e){var i,n,o,r=[];if(Array.isArray(t))for(i=0,n=t.length;n>i;i++)o=this._remove(t[i]),null!=o&&r.push(o);else o=this._remove(t),null!=o&&r.push(o);return r.length&&this._trigger("remove",{items:r},e),r},n.prototype._remove=function(t){if(o.isNumber(t)||o.isString(t)){if(this._data[t])return delete this._data[t],this.length--,t}else if(t instanceof Object){var e=t[this._fieldId];if(e&&this._data[e])return delete this._data[e],this.length--,e}return null},n.prototype.clear=function(t){var e=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:e},t),e},n.prototype.max=function(t){var e=this._data,i=null,n=null;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o],s=r[t];null!=s&&(!i||s>n)&&(i=r,n=s)}return i},n.prototype.min=function(t){var e=this._data,i=null,n=null;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o],s=r[t];null!=s&&(!i||n>s)&&(i=r,n=s)}return i},n.prototype.distinct=function(t){var e,i=this._data,n=[],r=this._options.type&&this._options.type[t]||null,s=0;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a],d=l[t],h=!1;for(e=0;s>e;e++)if(n[e]==d){h=!0;break}h||void 0===d||(n[s]=d,s++)}if(r)for(e=0;e<n.length;e++)n[e]=o.convert(n[e],r);return n},n.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=o.randomUUID(),t[this._fieldId]=e;var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=this._type[n];i[n]=o.convert(t[n],r)}return this._data[e]=i,this.length++,e},n.prototype._getItem=function(t,e){var i,n,r=this._data[t];if(!r)return null;var s={};if(e)for(i in r)r.hasOwnProperty(i)&&(n=r[i],s[i]=o.convert(n,e[i]));else for(i in r)r.hasOwnProperty(i)&&(n=r[i],s[i]=n);return s},n.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n in t)if(t.hasOwnProperty(n)){var r=this._type[n];i[n]=o.convert(t[n],r)}return e},t.exports=n},function(t,e,i){"use strict";function n(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}n.prototype.setOptions=function(t){t&&"undefined"!=typeof t.delay&&(this.delay=t.delay),t&&"undefined"!=typeof t.max&&(this.max=t.max),this._flushIfNeeded()},n.extend=function(t,e){var i=new n(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var r=0;r<e.replace.length;r++){var s=e.replace[r];o.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:o},i},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}},n.prototype.replace=function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:n,context:this})}},n.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},n.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=n},function(t,e,i){"use strict";function n(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var o=i(1),r=i(8);n.prototype.setData=function(t){var e,i,n;if(this._data){this._data.off&&this._data.off("*",this.listener),e=[];for(var o in this._ids)this._ids.hasOwnProperty(o)&&e.push(o);this._ids={},this.length=0,this._trigger("remove",{items:e})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),i=0,n=e.length;n>i;i++)o=e[i],this._ids[o]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},n.prototype.refresh=function(){for(var t,e=this._data.getIds({filter:this._options&&this._options.filter}),i={},n=[],o=[],r=0;r<e.length;r++)t=e[r],i[t]=!0,this._ids[t]||(n.push(t),this._ids[t]=!0,this.length++);for(t in this._ids)this._ids.hasOwnProperty(t)&&(i[t]||(o.push(t),delete this._ids[t],this.length--));n.length&&this._trigger("add",{items:n}),o.length&&this._trigger("remove",{items:o})},n.prototype.get=function(t){var e,i,n,r=this,s=o.getType(arguments[0]);"String"==s||"Number"==s||"Array"==s?(e=arguments[0],i=arguments[1],n=arguments[2]):(i=arguments[0],n=arguments[1]);var a=o.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return r._options.filter(t)&&i.filter(t)});var l=[];return void 0!=e&&l.push(e),l.push(a),l.push(n),this._data&&this._data.get.apply(this._data,l)},n.prototype.getIds=function(t){var e;if(this._data){var i,n=this._options.filter;i=t&&t.filter?n?function(e){return n(e)&&t.filter(e)}:t.filter:n,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},n.prototype.getDataSet=function(){for(var t=this;t instanceof n;)t=t._data;return t||null},n.prototype._onEvent=function(t,e,i){var n,o,r,s,a=e&&e.items,l=this._data,d=[],h=[],u=[],c=[];if(a&&l){switch(t){case"add":for(n=0,o=a.length;o>n;n++)r=a[n],s=this.get(r),s&&(this._ids[r]=!0,h.push(r));break;case"update":for(n=0,o=a.length;o>n;n++)r=a[n],s=this.get(r),s?this._ids[r]?(u.push(r),d.push(e.data[n])):(this._ids[r]=!0,h.push(r)):this._ids[r]&&(delete this._ids[r],c.push(r));break;case"remove":for(n=0,o=a.length;o>n;n++)r=a[n],this._ids[r]&&(delete this._ids[r],c.push(r))}this.length+=h.length-c.length,h.length&&this._trigger("add",{items:h},i),u.length&&this._trigger("update",{items:u,data:d},i),c.length&&this._trigger("remove",{items:c},i)}},n.prototype.on=r.prototype.on,n.prototype.off=r.prototype.off,n.prototype._trigger=r.prototype._trigger,n.prototype.subscribe=n.prototype.on,n.prototype.unsubscribe=n.prototype.off,t.exports=n},function(t,e,i){"use strict";function n(t,e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var o=function(t){return t};this.xValueLabel=o,this.yValueLabel=o,this.zValueLabel=o,this.filterLabel="time",this.legendLabel="value",this.style=n.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new c,this.eye=new h(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.colorAxis="#4D4D4D",this.colorGrid="#D3D3D3",this.colorDot="#7DC1FF",this.colorDotBorder="#3267D2",this.create(),this.setOptions(i),e&&this.setData(e)}function o(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function r(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var s=i(13),a=i(8),l=i(10),d=i(1),h=i(14),u=i(12),c=i(15),p=i(16),f=i(17),m=i(18);s(n.prototype),n.prototype._setScale=function(){this.scale=new h(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var t=(this.xMax+this.xMin)/2*this.scale.x,e=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(t,e,i)},n.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},n.prototype._convertPointToTranslation=function(t){var e=t.x*this.scale.x,i=t.y*this.scale.y,n=t.z*this.scale.z,o=this.camera.getCameraLocation().x,r=this.camera.getCameraLocation().y,s=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),l=Math.cos(this.camera.getCameraRotation().x),d=Math.sin(this.camera.getCameraRotation().y),u=Math.cos(this.camera.getCameraRotation().y),c=Math.sin(this.camera.getCameraRotation().z),p=Math.cos(this.camera.getCameraRotation().z),f=u*(c*(i-r)+p*(e-o))-d*(n-s),m=a*(u*(n-s)+d*(c*(i-r)+p*(e-o)))+l*(p*(i-r)-c*(e-o)),g=l*(u*(n-s)+d*(c*(i-r)+p*(e-o)))-a*(p*(i-r)-c*(e-o));return new h(f,m,g)},n.prototype._convertTranslationToScreen=function(t){var e,i,n=this.eye.x,o=this.eye.y,r=this.eye.z,s=t.x,a=t.y,l=t.z;return this.showPerspective?(e=(s-n)*(r/l),i=(a-o)*(r/l)):(e=s*-(r/this.camera.getArmLength()),i=a*-(r/this.camera.getArmLength())),new u(this.xcenter+e*this.frame.canvas.clientWidth,this.ycenter-i*this.frame.canvas.clientWidth)},n.prototype._setBackgroundColor=function(t){var e="white",i="gray",n=1;if("string"==typeof t)e=t,i="none",n=0;else if("object"==typeof t)void 0!==t.fill&&(e=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(n=t.strokeWidth);else if(void 0!==t)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=e,this.frame.style.borderColor=i,this.frame.style.borderWidth=n+"px",this.frame.style.borderStyle="solid"},n.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},n.prototype._getStyleNumber=function(t){switch(t){case"dot":return n.STYLE.DOT;case"dot-line":return n.STYLE.DOTLINE;case"dot-color":return n.STYLE.DOTCOLOR;case"dot-size":return n.STYLE.DOTSIZE;case"line":return n.STYLE.LINE;case"grid":return n.STYLE.GRID;case"surface":return n.STYLE.SURFACE;case"bar":return n.STYLE.BAR;case"bar-color":return n.STYLE.BARCOLOR;case"bar-size":return n.STYLE.BARSIZE}return-1},n.prototype._determineColumnIndexes=function(t,e){if(this.style===n.STYLE.DOT||this.style===n.STYLE.DOTLINE||this.style===n.STYLE.LINE||this.style===n.STYLE.GRID||this.style===n.STYLE.SURFACE||this.style===n.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,t.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==n.STYLE.DOTCOLOR&&this.style!==n.STYLE.DOTSIZE&&this.style!==n.STYLE.BARCOLOR&&this.style!==n.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,t.getNumberOfColumns()>4&&(this.colFilter=4)}},n.prototype.getNumberOfRows=function(t){return t.length},n.prototype.getNumberOfColumns=function(t){var e=0;for(var i in t[0])t[0].hasOwnProperty(i)&&e++;return e},n.prototype.getDistinctValues=function(t,e){for(var i=[],n=0;n<t.length;n++)-1==i.indexOf(t[n][e])&&i.push(t[n][e]);return i},n.prototype.getColumnRange=function(t,e){for(var i={min:t[0][e],max:t[0][e]},n=0;n<t.length;n++)i.min>t[n][e]&&(i.min=t[n][e]),i.max<t[n][e]&&(i.max=t[n][e]);return i},n.prototype._dataInitialize=function(t,e){var i=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){Array.isArray(t)&&(t=new a(t));var o;if(!(t instanceof a||t instanceof l))throw new Error("Array, DataSet, or DataView expected");if(o=t.get(),0!=o.length){this.dataSet=t,this.dataTable=o,this._onChange=function(){i.setData(i.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",o[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new p(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}));var r=this.style==n.STYLE.BAR||this.style==n.STYLE.BARCOLOR||this.style==n.STYLE.BARSIZE;if(r){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var s=this.getDistinctValues(o,this.colX);this.xBarWidth=s[1]-s[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var d=this.getDistinctValues(o,this.colY);this.yBarWidth=d[1]-d[0]||1}}var h=this.getColumnRange(o,this.colX);r&&(h.min-=this.xBarWidth/2,h.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:h.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:h.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var u=this.getColumnRange(o,this.colY);r&&(u.min-=this.yBarWidth/2,u.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:u.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:u.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var c=this.getColumnRange(o,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:c.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:c.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var f=this.getColumnRange(o,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:f.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:f.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},n.prototype._getDataPoints=function(t){var e,i,o,r,s,a,l=[];if(this.style===n.STYLE.GRID||this.style===n.STYLE.SURFACE){var d=[],u=[];for(o=0;o<this.getNumberOfRows(t);o++)e=t[o][this.colX]||0,i=t[o][this.colY]||0,-1===d.indexOf(e)&&d.push(e),-1===u.indexOf(i)&&u.push(i);var c=function(t,e){return t-e};d.sort(c),u.sort(c);var p=[];for(o=0;o<t.length;o++){e=t[o][this.colX]||0,i=t[o][this.colY]||0,r=t[o][this.colZ]||0;var f=d.indexOf(e),m=u.indexOf(i);void 0===p[f]&&(p[f]=[]);var g=new h;g.x=e,g.y=i,g.z=r,s={},s.point=g,s.trans=void 0,s.screen=void 0,s.bottom=new h(e,i,this.zMin),p[f][m]=s,l.push(s)}for(e=0;e<p.length;e++)for(i=0;i<p[e].length;i++)p[e][i]&&(p[e][i].pointRight=e<p.length-1?p[e+1][i]:void 0,p[e][i].pointTop=i<p[e].length-1?p[e][i+1]:void 0,p[e][i].pointCross=e<p.length-1&&i<p[e].length-1?p[e+1][i+1]:void 0)}else for(o=0;o<t.length;o++)a=new h,a.x=t[o][this.colX]||0,a.y=t[o][this.colY]||0,a.z=t[o][this.colZ]||0,void 0!==this.colValue&&(a.value=t[o][this.colValue]||0),s={},s.point=a,s.bottom=new h(a.x,a.y,this.zMin),s.trans=void 0,s.screen=void 0,l.push(s);return l},n.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},n=function(t){e._onTouchStart(t)},o=function(t){e._onWheel(t)},r=function(t){e._onTooltip(t)};d.addEventListener(this.frame.canvas,"keydown",onkeydown),d.addEventListener(this.frame.canvas,"mousedown",i),d.addEventListener(this.frame.canvas,"touchstart",n),d.addEventListener(this.frame.canvas,"mousewheel",o),d.addEventListener(this.frame.canvas,"mousemove",r),this.containerElement.appendChild(this.frame)},n.prototype.setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},n.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},n.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},n.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},n.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},n.prototype.setCameraPosition=function(t){void 0!==t&&(void 0!==t.horizontal&&void 0!==t.vertical&&this.camera.setArmRotation(t.horizontal,t.vertical),void 0!==t.distance&&this.camera.setArmLength(t.distance),this.redraw())},n.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},n.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},n.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},n.prototype.setOptions=function(t){var e=void 0;if(this.animationStop(),void 0!==t){if(void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.xCenter&&(this.defaultXCenter=t.xCenter),void 0!==t.yCenter&&(this.defaultYCenter=t.yCenter),void 0!==t.filterLabel&&(this.filterLabel=t.filterLabel),void 0!==t.legendLabel&&(this.legendLabel=t.legendLabel),void 0!==t.xLabel&&(this.xLabel=t.xLabel),void 0!==t.yLabel&&(this.yLabel=t.yLabel),void 0!==t.zLabel&&(this.zLabel=t.zLabel),void 0!==t.xValueLabel&&(this.xValueLabel=t.xValueLabel),void 0!==t.yValueLabel&&(this.yValueLabel=t.yValueLabel),void 0!==t.zValueLabel&&(this.zValueLabel=t.zValueLabel),void 0!==t.style){var i=this._getStyleNumber(t.style);-1!==i&&(this.style=i)}void 0!==t.showGrid&&(this.showGrid=t.showGrid),void 0!==t.showPerspective&&(this.showPerspective=t.showPerspective),void 0!==t.showShadow&&(this.showShadow=t.showShadow),void 0!==t.tooltip&&(this.showTooltip=t.tooltip),void 0!==t.showAnimationControls&&(this.showAnimationControls=t.showAnimationControls),void 0!==t.keepAspectRatio&&(this.keepAspectRatio=t.keepAspectRatio),void 0!==t.verticalRatio&&(this.verticalRatio=t.verticalRatio),void 0!==t.animationInterval&&(this.animationInterval=t.animationInterval),void 0!==t.animationPreload&&(this.animationPreload=t.animationPreload),void 0!==t.animationAutoStart&&(this.animationAutoStart=t.animationAutoStart),void 0!==t.xBarWidth&&(this.defaultXBarWidth=t.xBarWidth),void 0!==t.yBarWidth&&(this.defaultYBarWidth=t.yBarWidth),void 0!==t.xMin&&(this.defaultXMin=t.xMin),void 0!==t.xStep&&(this.defaultXStep=t.xStep),void 0!==t.xMax&&(this.defaultXMax=t.xMax),void 0!==t.yMin&&(this.defaultYMin=t.yMin),void 0!==t.yStep&&(this.defaultYStep=t.yStep),void 0!==t.yMax&&(this.defaultYMax=t.yMax),void 0!==t.zMin&&(this.defaultZMin=t.zMin),void 0!==t.zStep&&(this.defaultZStep=t.zStep),void 0!==t.zMax&&(this.defaultZMax=t.zMax),void 0!==t.valueMin&&(this.defaultValueMin=t.valueMin),void 0!==t.valueMax&&(this.defaultValueMax=t.valueMax),void 0!==t.cameraPosition&&(e=t.cameraPosition),void 0!==e?(this.camera.setArmRotation(e.horizontal,e.vertical),this.camera.setArmLength(e.distance)):(this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(t&&t.backgroundColor),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},n.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===n.STYLE.GRID||this.style===n.STYLE.SURFACE?this._redrawDataGrid():this.style===n.STYLE.LINE?this._redrawDataLine():this.style===n.STYLE.BAR||this.style===n.STYLE.BARCOLOR||this.style===n.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},n.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)},n.prototype._redrawLegend=function(){var t;if(this.style===n.STYLE.DOTCOLOR||this.style===n.STYLE.DOTSIZE){var e,i,o=.02*this.frame.clientWidth;this.style===n.STYLE.DOTSIZE?(e=o/2,i=o/2+2*o):(e=20,i=20);var r=Math.max(.25*this.frame.clientHeight,100),s=this.margin,a=this.frame.clientWidth-this.margin,l=a-i,d=s+r}var h=this.frame.canvas,u=h.getContext("2d");if(u.lineWidth=1,u.font="14px arial",this.style===n.STYLE.DOTCOLOR){var c=0,p=r;for(t=c;p>t;t++){var f=(t-c)/(p-c),g=240*f,v=this._hsv2rgb(g,1,1);u.strokeStyle=v,u.beginPath(),u.moveTo(l,s+t),u.lineTo(a,s+t),u.stroke()}u.strokeStyle=this.colorAxis,u.strokeRect(l,s,i,r)}if(this.style===n.STYLE.DOTSIZE&&(u.strokeStyle=this.colorAxis,u.fillStyle=this.colorDot,u.beginPath(),u.moveTo(l,s),u.lineTo(a,s),u.lineTo(a-i+e,d),u.lineTo(l,d),u.closePath(),u.fill(),u.stroke()),this.style===n.STYLE.DOTCOLOR||this.style===n.STYLE.DOTSIZE){var y=5,b=new m(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(b.start(),b.getCurrent()<this.valueMin&&b.next();!b.end();)t=d-(b.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*r,u.beginPath(),u.moveTo(l-y,t),
u.lineTo(l,t),u.stroke(),u.textAlign="right",u.textBaseline="middle",u.fillStyle=this.colorAxis,u.fillText(b.getCurrent(),l-2*y,t),b.next();u.textAlign="right",u.textBaseline="top";var w=this.legendLabel;u.fillText(w,a,d+this.margin)}},n.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var t={visible:this.showAnimationControls},e=new f(this.frame.filter,t);this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval);var i=this,n=function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()};e.setOnChangeCallback(n)}else this.frame.filter.slider=void 0},n.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},n.prototype._redrawInfo=function(){if(this.dataFilter){var t=this.frame.canvas,e=t.getContext("2d");e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,n=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,n)}},n.prototype._redrawAxis=function(){var t,e,i,n,o,r,s,a,l,d,u,c,p,f=this.frame.canvas,g=f.getContext("2d");g.font=24/this.camera.getArmLength()+"px arial";var v=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),w=this.camera.getArmRotation().horizontal;for(g.lineWidth=1,n=void 0===this.defaultXStep,i=new m(this.xMin,this.xMax,this.xStep,n),i.start(),i.getCurrent()<this.xMin&&i.next();!i.end();){var _=i.getCurrent();this.showGrid?(t=this._convert3Dto2D(new h(_,this.yMin,this.zMin)),e=this._convert3Dto2D(new h(_,this.yMax,this.zMin)),g.strokeStyle=this.colorGrid,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()):(t=this._convert3Dto2D(new h(_,this.yMin,this.zMin)),e=this._convert3Dto2D(new h(_,this.yMin+v,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),t=this._convert3Dto2D(new h(_,this.yMax,this.zMin)),e=this._convert3Dto2D(new h(_,this.yMax-v,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()),s=Math.cos(w)>0?this.yMin:this.yMax,o=this._convert3Dto2D(new h(_,s,this.zMin)),Math.cos(2*w)>0?(g.textAlign="center",g.textBaseline="top",o.y+=b):Math.sin(2*w)<0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText("  "+this.xValueLabel(i.getCurrent())+"  ",o.x,o.y),i.next()}for(g.lineWidth=1,n=void 0===this.defaultYStep,i=new m(this.yMin,this.yMax,this.yStep,n),i.start(),i.getCurrent()<this.yMin&&i.next();!i.end();)this.showGrid?(t=this._convert3Dto2D(new h(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new h(this.xMax,i.getCurrent(),this.zMin)),g.strokeStyle=this.colorGrid,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()):(t=this._convert3Dto2D(new h(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new h(this.xMin+y,i.getCurrent(),this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),t=this._convert3Dto2D(new h(this.xMax,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new h(this.xMax-y,i.getCurrent(),this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()),r=Math.sin(w)>0?this.xMin:this.xMax,o=this._convert3Dto2D(new h(r,i.getCurrent(),this.zMin)),Math.cos(2*w)<0?(g.textAlign="center",g.textBaseline="top",o.y+=b):Math.sin(2*w)>0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText("  "+this.yValueLabel(i.getCurrent())+"  ",o.x,o.y),i.next();for(g.lineWidth=1,n=void 0===this.defaultZStep,i=new m(this.zMin,this.zMax,this.zStep,n),i.start(),i.getCurrent()<this.zMin&&i.next(),r=Math.cos(w)>0?this.xMin:this.xMax,s=Math.sin(w)<0?this.yMin:this.yMax;!i.end();)t=this._convert3Dto2D(new h(r,s,i.getCurrent())),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(t.x-b,t.y),g.stroke(),g.textAlign="right",g.textBaseline="middle",g.fillStyle=this.colorAxis,g.fillText(this.zValueLabel(i.getCurrent())+" ",t.x-5,t.y),i.next();g.lineWidth=1,t=this._convert3Dto2D(new h(r,s,this.zMin)),e=this._convert3Dto2D(new h(r,s,this.zMax)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),g.lineWidth=1,c=this._convert3Dto2D(new h(this.xMin,this.yMin,this.zMin)),p=this._convert3Dto2D(new h(this.xMax,this.yMin,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(c.x,c.y),g.lineTo(p.x,p.y),g.stroke(),c=this._convert3Dto2D(new h(this.xMin,this.yMax,this.zMin)),p=this._convert3Dto2D(new h(this.xMax,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(c.x,c.y),g.lineTo(p.x,p.y),g.stroke(),g.lineWidth=1,t=this._convert3Dto2D(new h(this.xMin,this.yMin,this.zMin)),e=this._convert3Dto2D(new h(this.xMin,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),t=this._convert3Dto2D(new h(this.xMax,this.yMin,this.zMin)),e=this._convert3Dto2D(new h(this.xMax,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke();var x=this.xLabel;x.length>0&&(u=.1/this.scale.y,r=(this.xMin+this.xMax)/2,s=Math.cos(w)>0?this.yMin-u:this.yMax+u,o=this._convert3Dto2D(new h(r,s,this.zMin)),Math.cos(2*w)>0?(g.textAlign="center",g.textBaseline="top"):Math.sin(2*w)<0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText(x,o.x,o.y));var C=this.yLabel;C.length>0&&(d=.1/this.scale.x,r=Math.sin(w)>0?this.xMin-d:this.xMax+d,s=(this.yMin+this.yMax)/2,o=this._convert3Dto2D(new h(r,s,this.zMin)),Math.cos(2*w)<0?(g.textAlign="center",g.textBaseline="top"):Math.sin(2*w)>0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText(C,o.x,o.y));var k=this.zLabel;k.length>0&&(l=30,r=Math.cos(w)>0?this.xMin:this.xMax,s=Math.sin(w)<0?this.yMin:this.yMax,a=(this.zMin+this.zMax)/2,o=this._convert3Dto2D(new h(r,s,a)),g.textAlign="right",g.textBaseline="middle",g.fillStyle=this.colorAxis,g.fillText(k,o.x-l,o.y))},n.prototype._hsv2rgb=function(t,e,i){var n,o,r,s,a,l;switch(s=i*e,a=Math.floor(t/60),l=s*(1-Math.abs(t/60%2-1)),a){case 0:n=s,o=l,r=0;break;case 1:n=l,o=s,r=0;break;case 2:n=0,o=s,r=l;break;case 3:n=0,o=l,r=s;break;case 4:n=l,o=0,r=s;break;case 5:n=s,o=0,r=l;break;default:n=0,o=0,r=0}return"RGB("+parseInt(255*n)+","+parseInt(255*o)+","+parseInt(255*r)+")"},n.prototype._redrawDataGrid=function(){var t,e,i,o,r,s,a,l,d,u,c,p,f,m=this.frame.canvas,g=m.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(r=0;r<this.dataPoints.length;r++){var v=this._convertPointToTranslation(this.dataPoints[r].point),y=this._convertTranslationToScreen(v);this.dataPoints[r].trans=v,this.dataPoints[r].screen=y;var b=this._convertPointToTranslation(this.dataPoints[r].bottom);this.dataPoints[r].dist=this.showPerspective?b.length():-b.z}var w=function(t,e){return e.dist-t.dist};if(this.dataPoints.sort(w),this.style===n.STYLE.SURFACE){for(r=0;r<this.dataPoints.length;r++)if(t=this.dataPoints[r],e=this.dataPoints[r].pointRight,i=this.dataPoints[r].pointTop,o=this.dataPoints[r].pointCross,void 0!==t&&void 0!==e&&void 0!==i&&void 0!==o){if(this.showGrayBottom||this.showShadow){var _=h.subtract(o.trans,t.trans),x=h.subtract(i.trans,e.trans),C=h.crossProduct(_,x),k=C.length();s=C.z>0}else s=!0;s?(f=(t.point.z+e.point.z+i.point.z+o.point.z)/4,u=240*(1-(f-this.zMin)*this.scale.z/this.verticalRatio),c=1,this.showShadow?(p=Math.min(1+C.x/k/2,1),a=this._hsv2rgb(u,c,p),l=a):(p=1,a=this._hsv2rgb(u,c,p),l=this.colorAxis)):(a="gray",l=this.colorAxis),d=.5,g.lineWidth=d,g.fillStyle=a,g.strokeStyle=l,g.beginPath(),g.moveTo(t.screen.x,t.screen.y),g.lineTo(e.screen.x,e.screen.y),g.lineTo(o.screen.x,o.screen.y),g.lineTo(i.screen.x,i.screen.y),g.closePath(),g.fill(),g.stroke()}}else for(r=0;r<this.dataPoints.length;r++)t=this.dataPoints[r],e=this.dataPoints[r].pointRight,i=this.dataPoints[r].pointTop,void 0!==t&&(d=this.showPerspective?2/-t.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==t&&void 0!==e&&(f=(t.point.z+e.point.z)/2,u=240*(1-(f-this.zMin)*this.scale.z/this.verticalRatio),g.lineWidth=d,g.strokeStyle=this._hsv2rgb(u,1,1),g.beginPath(),g.moveTo(t.screen.x,t.screen.y),g.lineTo(e.screen.x,e.screen.y),g.stroke()),void 0!==t&&void 0!==i&&(f=(t.point.z+i.point.z)/2,u=240*(1-(f-this.zMin)*this.scale.z/this.verticalRatio),g.lineWidth=d,g.strokeStyle=this._hsv2rgb(u,1,1),g.beginPath(),g.moveTo(t.screen.x,t.screen.y),g.lineTo(i.screen.x,i.screen.y),g.stroke())}},n.prototype._redrawDataDot=function(){var t,e=this.frame.canvas,i=e.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var o=this._convertPointToTranslation(this.dataPoints[t].point),r=this._convertTranslationToScreen(o);this.dataPoints[t].trans=o,this.dataPoints[t].screen=r;var s=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?s.length():-s.z}var a=function(t,e){return e.dist-t.dist};this.dataPoints.sort(a);var l=.02*this.frame.clientWidth;for(t=0;t<this.dataPoints.length;t++){var d=this.dataPoints[t];if(this.style===n.STYLE.DOTLINE){var h=this._convert3Dto2D(d.bottom);i.lineWidth=1,i.strokeStyle=this.colorGrid,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.screen.x,d.screen.y),i.stroke()}var u;u=this.style===n.STYLE.DOTSIZE?l/2+2*l*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):l;var c;c=this.showPerspective?u/-d.trans.z:u*-(this.eye.z/this.camera.getArmLength()),0>c&&(c=0);var p,f,m;this.style===n.STYLE.DOTCOLOR?(p=240*(1-(d.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)):this.style===n.STYLE.DOTSIZE?(f=this.colorDot,m=this.colorDotBorder):(p=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)),i.lineWidth=1,i.strokeStyle=m,i.fillStyle=f,i.beginPath(),i.arc(d.screen.x,d.screen.y,c,0,2*Math.PI,!0),i.fill(),i.stroke()}}},n.prototype._redrawDataBar=function(){var t,e,i,o,r=this.frame.canvas,s=r.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var a=this._convertPointToTranslation(this.dataPoints[t].point),l=this._convertTranslationToScreen(a);this.dataPoints[t].trans=a,this.dataPoints[t].screen=l;var d=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?d.length():-d.z}var u=function(t,e){return e.dist-t.dist};this.dataPoints.sort(u);var c=this.xBarWidth/2,p=this.yBarWidth/2;for(t=0;t<this.dataPoints.length;t++){var f,m,g,v=this.dataPoints[t];this.style===n.STYLE.BARCOLOR?(f=240*(1-(v.point.value-this.valueMin)*this.scale.value),m=this._hsv2rgb(f,1,1),g=this._hsv2rgb(f,1,.8)):this.style===n.STYLE.BARSIZE?(m=this.colorDot,g=this.colorDotBorder):(f=240*(1-(v.point.z-this.zMin)*this.scale.z/this.verticalRatio),m=this._hsv2rgb(f,1,1),g=this._hsv2rgb(f,1,.8)),this.style===n.STYLE.BARSIZE&&(c=this.xBarWidth/2*((v.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),p=this.yBarWidth/2*((v.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var y=this,b=v.point,w=[{point:new h(b.x-c,b.y-p,b.z)},{point:new h(b.x+c,b.y-p,b.z)},{point:new h(b.x+c,b.y+p,b.z)},{point:new h(b.x-c,b.y+p,b.z)}],_=[{point:new h(b.x-c,b.y-p,this.zMin)},{point:new h(b.x+c,b.y-p,this.zMin)},{point:new h(b.x+c,b.y+p,this.zMin)},{point:new h(b.x-c,b.y+p,this.zMin)}];w.forEach(function(t){t.screen=y._convert3Dto2D(t.point)}),_.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});var x=[{corners:w,center:h.avg(_[0].point,_[2].point)},{corners:[w[0],w[1],_[1],_[0]],center:h.avg(_[1].point,_[0].point)},{corners:[w[1],w[2],_[2],_[1]],center:h.avg(_[2].point,_[1].point)},{corners:[w[2],w[3],_[3],_[2]],center:h.avg(_[3].point,_[2].point)},{corners:[w[3],w[0],_[0],_[3]],center:h.avg(_[0].point,_[3].point)}];for(v.surfaces=x,e=0;e<x.length;e++){i=x[e];var C=this._convertPointToTranslation(i.center);i.dist=this.showPerspective?C.length():-C.z}for(x.sort(function(t,e){var i=e.dist-t.dist;return i?i:t.corners===w?1:e.corners===w?-1:0}),s.lineWidth=1,s.strokeStyle=g,s.fillStyle=m,e=2;e<x.length;e++)i=x[e],o=i.corners,s.beginPath(),s.moveTo(o[3].screen.x,o[3].screen.y),s.lineTo(o[0].screen.x,o[0].screen.y),s.lineTo(o[1].screen.x,o[1].screen.y),s.lineTo(o[2].screen.x,o[2].screen.y),s.lineTo(o[3].screen.x,o[3].screen.y),s.fill(),s.stroke()}}},n.prototype._redrawDataLine=function(){var t,e,i=this.frame.canvas,n=i.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var o=this._convertPointToTranslation(this.dataPoints[e].point),r=this._convertTranslationToScreen(o);this.dataPoints[e].trans=o,this.dataPoints[e].screen=r}for(this.dataPoints.length>0&&(t=this.dataPoints[0],n.lineWidth=1,n.strokeStyle="blue",n.beginPath(),n.moveTo(t.screen.x,t.screen.y)),e=1;e<this.dataPoints.length;e++)t=this.dataPoints[e],n.lineTo(t.screen.x,t.screen.y);this.dataPoints.length>0&&n.stroke()}},n.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this.startMouseX=o(t),this.startMouseY=r(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},d.addEventListener(document,"mousemove",e.onmousemove),d.addEventListener(document,"mouseup",e.onmouseup),d.preventDefault(t)}},n.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(o(t))-this.startMouseX,i=parseFloat(r(t))-this.startMouseY,n=this.startArmRotation.horizontal+e/200,s=this.startArmRotation.vertical+i/200,a=4,l=Math.sin(a/360*2*Math.PI);Math.abs(Math.sin(n))<l&&(n=Math.round(n/Math.PI)*Math.PI-.001),Math.abs(Math.cos(n))<l&&(n=(Math.round(n/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(s))<l&&(s=Math.round(s/Math.PI)*Math.PI),Math.abs(Math.cos(s))<l&&(s=(Math.round(s/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(n,s),this.redraw();var h=this.getCameraPosition();this.emit("cameraPositionChange",h),d.preventDefault(t)},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,d.removeEventListener(document,"mousemove",this.onmousemove),d.removeEventListener(document,"mouseup",this.onmouseup),d.preventDefault(t)},n.prototype._onTooltip=function(t){var e=300,i=this.frame.getBoundingClientRect(),n=o(t)-i.left,s=r(t)-i.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var a=this._dataPointFromXY(n,s);a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip())}else{var l=this;this.tooltipTimeout=setTimeout(function(){l.tooltipTimeout=null;var t=l._dataPointFromXY(n,s);t&&l._showTooltip(t)},e)}}},n.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},d.addEventListener(document,"touchmove",e.ontouchmove),d.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},n.prototype._onTouchMove=function(t){this._onMouseMove(t)},n.prototype._onTouchEnd=function(t){this.touchDown=!1,d.removeEventListener(document,"touchmove",this.ontouchmove),d.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},n.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),n=i*(1-e/10);this.camera.setArmLength(n),this.redraw(),this._hideTooltip()}var o=this.getCameraPosition();this.emit("cameraPositionChange",o),d.preventDefault(t)},n.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:0>t?-1:0}var n=e[0],o=e[1],r=e[2],s=i((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x)),a=i((r.x-o.x)*(t.y-o.y)-(r.y-o.y)*(t.x-o.x)),l=i((n.x-r.x)*(t.y-r.y)-(n.y-r.y)*(t.x-r.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=l&&a!=l||0!=s&&0!=l&&s!=l)},n.prototype._dataPointFromXY=function(t,e){var i,o=100,r=null,s=null,a=null,l=new u(t,e);if(this.style===n.STYLE.BAR||this.style===n.STYLE.BARCOLOR||this.style===n.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){r=this.dataPoints[i];var d=r.surfaces;if(d)for(var h=d.length-1;h>=0;h--){var c=d[h],p=c.corners,f=[p[0].screen,p[1].screen,p[2].screen],m=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(l,f)||this._insideTriangle(l,m))return r}}else for(i=0;i<this.dataPoints.length;i++){r=this.dataPoints[i];var g=r.screen;if(g){var v=Math.abs(t-g.x),y=Math.abs(e-g.y),b=Math.sqrt(v*v+y*y);(null===a||a>b)&&o>b&&(a=b,s=r)}}return s},n.prototype._showTooltip=function(t){var e,i,n;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(e=document.createElement("div"),e.style.position="absolute",e.style.padding="10px",e.style.border="1px solid #4d4d4d",e.style.color="#1a1a1a",e.style.background="rgba(255,255,255,0.7)",e.style.borderRadius="2px",e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",i=document.createElement("div"),i.style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",n=document.createElement("div"),n.style.position="absolute",n.style.height="0",n.style.width="0",n.style.border="5px solid #4d4d4d",n.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>x:</td><td>"+t.point.x+"</td></tr><tr><td>y:</td><td>"+t.point.y+"</td></tr><tr><td>z:</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(n);var o=e.offsetWidth,r=e.offsetHeight,s=i.offsetHeight,a=n.offsetWidth,l=n.offsetHeight,d=t.screen.x-o/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-o),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-s+"px",e.style.left=d+"px",e.style.top=t.screen.y-s-r+"px",n.style.left=t.screen.x-a/2+"px",n.style.top=t.screen.y-l/2+"px"},n.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=n},function(t,e,i){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,o=i.length;o>n;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){"use strict";function n(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}n.subtract=function(t,e){var i=new n;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},n.add=function(t,e){var i=new n;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},n.avg=function(t,e){return new n((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},n.crossProduct=function(t,e){var i=new n;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=n},function(t,e,i){"use strict";function n(){this.armLocation=new o,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new o,this.cameraRotation=new o(.5*Math.PI,0,0),this.calculateCameraOrientation()}var o=i(14);n.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},n.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==t||void 0!==e)&&this.calculateCameraOrientation()},n.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},n.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},n.prototype.getArmLength=function(){return this.armLength},n.prototype.getCameraLocation=function(){return this.cameraLocation},n.prototype.getCameraRotation=function(){return this.cameraRotation},n.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return t>e?1:e>t?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var o=i(10);n.prototype.isLoaded=function(){return this.loaded},n.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},n.prototype.getLabel=function(){return this.graph.filterLabel},n.prototype.getColumn=function(){return this.column},n.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]},n.prototype.getValues=function(){return this.values},n.prototype.getValue=function(t){if(t>=this.values.length)throw"Error: index out of range";return this.values[t]},n.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var n=new o(this.data,{filter:function(t){return t[i.column]==i.value}}).get();e=this.graph._getDataPoints(n),this.dataPoints[t]=e}return e},n.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},n.prototype.selectValue=function(t){if(t>=this.values.length)throw"Error: index out of range";this.index=t,this.value=this.values[t]},n.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){this._getDataPoints(t);void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=n},function(t,e,i){"use strict";function n(t,e){if(void 0===t)throw"Error: No container element defined";if(this.container=t,this.visible=e&&void 0!=e.visible?e.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var o=i(1);n.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},n.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},n.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,n=i-t,o=Math.max(this.playInterval-n,0),r=this;this.playTimeout=setTimeout(function(){r.playNext()},o)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},n.prototype.setPlayInterval=function(t){this.playInterval=t},n.prototype.getPlayInterval=function(t){return this.playInterval},n.prototype.setPlayLoop=function(t){this.playLoop=t},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},n.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(t){if(!(t<this.values.length))throw"Error: index out of range";this.index=t,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)},this.onmouseup=function(t){i._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t)}},n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,n=Math.round(i/e*(this.values.length-1));return 0>n&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t/(this.values.length-1)*e,n=i+3;return n},n.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,n=this.leftToIndex(i);this.setIndex(n),o.preventDefault()},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,n)}n.prototype.setRange=function(t,e,i,n){this._start=t?t:0,this._end=e?e:0,this.setStep(i,n)},n.prototype.setStep=function(t,e){void 0===t||0>=t||(void 0!==e&&(this.prettyStep=e),this.prettyStep===!0?this._step=n.calculatePrettyStep(t):this._step=t)},n.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),n=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),r=i;return Math.abs(n-t)<=Math.abs(r-t)&&(r=n),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),0>=r&&(r=1),r},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(){this._current=this._start-this._start%this._step},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,l){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=l;l=i,i=u}var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return f.timeAxis.step.scale},getStep:function(){return f.timeAxis.step.step},toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new h(this.body),this.components.push(this.currentTime),this.itemSet=new c(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){f.emit("click",f.getEventProperties(t))}),this.on("doubletap",function(t){f.emit("doubleClick",f.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){f.emit("contextmenu",f.getEventProperties(t))},this.configurator=new p(this,t,v),l&&this.setOptions(l),i&&this.setGroups(i),e?this.setItems(e):this._redraw()}var o=(i(13),i(23),i(1)),r=i(8),s=i(10),a=i(27),l=i(30),d=i(41),h=i(20),u=i(44),c=i(31),p=i(45),f=i(47)["default"],m=i(47).printStyle,g=i(48).allOptions,v=i(48).configureOptions;n.prototype=new l,n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},n.prototype.setOptions=function(t){var e=f.validate(t,g);if(e===!0&&console.log("%cErrors have been found in the supplied options object.",m),l.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var n=this.getSelection();
this.setItems(null),this.setItems(i),this.setSelection(n)}}},n.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==this.options.end)var n=this.getItemRange();var o=void 0!=this.options.start?this.options.start:n.min,a=void 0!=this.options.end?this.options.end:n.max;this.setWindow(o,a,{animation:!1})}else this.fit({animation:!1})},n.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t):null,this.groupsData=e,this.itemSet.setGroups(e)},n.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},n.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},n.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||o>e)&&(o=e),(null===r||i>r)&&(r=i)}),null!==o&&null!==r){var s=(o+r)/2,a=Math.max(this.range.end-this.range.start,1.1*(r-o)),l=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(s-a/2,s+a/2,l)}}},n.prototype.fit=function(t){var e=t&&void 0!==t.animation?t.animation:!0,i=this.getItemRange();this.range.setRange(i.min,i.max,e)},n.prototype.getItemRange=function(){var t=this,e=this.getDataRange(),i=e.min,n=e.max,r=null,s=null;if(null!=i&&null!=n){var a,l,d,h,u;!function(){var e=function(t){return o.convert(t.data.start,"Date").valueOf()},c=function(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return o.convert(e,"Date").valueOf()};a=n-i,0>=a&&(a=10),l=a/t.props.center.width,o.forEach(t.itemSet.items,function(t){t.show();var o=e(t),a=c(t),d=new Date(o-(t.getWidthLeft()+10)*l),h=new Date(a+(t.getWidthRight()+10)*l);i>d&&(i=d,r=t),h>n&&(n=h,s=t)}.bind(t)),r&&s&&(d=r.getWidthLeft()+10,h=s.getWidthRight()+10,u=t.props.center.width-d-h,u>0&&(i=e(r)-d*a/u,n=c(s)+h*a/u))}()}return{min:null!=i?new Date(i):null,max:null!=n?new Date(n):null}},n.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=o.convert(i.start,"Date").valueOf(),r=o.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||t>n)&&(t=n),(null===e||r>e)&&(e=n)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=e-o.getAbsoluteLeft(this.dom.centerContainer),r=i-o.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),l=u.customTimeFromTarget(t),d=this.itemSet.options.snap||null,h=this.body.util.getScale(),c=this.body.util.getStep(),p=this._toTime(n),f=d?d(p,h,c):p,m=o.getTarget(t),g=null;return null!=s?g="item":null!=l?g="custom-time":o.hasParent(m,this.timeAxis.dom.foreground)?g="axis":this.timeAxis2&&o.hasParent(m,this.timeAxis2.dom.foreground)?g="axis":o.hasParent(m,this.itemSet.dom.labelSet)?g="group-label":o.hasParent(m,this.currentTime.bar)?g="current-time":o.hasParent(m,this.dom.center)&&(g="background"),{event:t,item:s?s.id:null,group:a?a.groupId:null,what:g,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:r,time:p,snappedTime:f}},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.body=t,this.defaultOptions={showCurrentTime:!0,locales:a,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var o=i(1),r=i(21),s=i(2),a=i(22);n.prototype=new r,n.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},n.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},n.prototype.setOptions=function(t){t&&o.selectiveExtend(["showCurrentTime","locale","locales"],this.options,t)},n.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=new Date((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),n=this.options.locales.en);var o=n.current+" "+n.time+": "+s(e).format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},n.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,n=1/i/10;30>n&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.currentTimeTimer=setTimeout(t,n)}var e=this;t()},n.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},n.prototype.setCurrentTime=function(t){var e=o.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},n.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.options=null,this.props=null}n.prototype.setOptions=function(t){t&&util.extend(this.options,t)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=n},function(t,e,i){"use strict";e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl},function(t,e,i){"use strict";if("undefined"!=typeof window){var n=i(24),o=window.Hammer||i(25);t.exports=n(o,{preventDefault:"mouse"})}else t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var n,o,r;!function(i){o=[],n=i,r="function"==typeof n?n.apply(e,o):n,!(void 0!==r&&(t.exports=r))}(function(){var t=null;return function e(i,n){function o(t){return t.match(/[^ ]+/g)}function r(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0},e.firstTarget=t;for(var n=t;n&&!i;){var o=n.hammer&&n.hammer._handlers[e.type];if(o)for(var r=0;r<o.length&&!i;r++)o[r](e);n=n.parentNode}}var s=n||{preventDefault:!1};if(i.Manager){var a=i,l=function(t,i){var n=Object.create(s);return i&&a.extend(n,i),e(new a(t,n),n)};return a.extend(l,a),l.Manager=function(t,i){var n=Object.create(s);return i&&a.extend(n,i),e(new a.Manager(t,n),n)},l}var d=Object.create(i),h=i.element;return h.hammer=d,i.on("hammer.input",function(e){(s.preventDefault===!0||s.preventDefault===e.pointerType)&&e.preventDefault(),e.isFirst&&(t=e.target)}),d._handlers={},d.on=function(t,e){return o(t).forEach(function(t){var n=d._handlers[t];n||(d._handlers[t]=n=[],i.on(t,r)),n.push(e)}),d},d.off=function(t,e){return o(t).forEach(function(t){var n=d._handlers[t];n&&(n=e?n.filter(function(t){return t!==e}):[],n.length>0?d._handlers[t]=n:(i.off(t,r),delete d._handlers[t]))}),d},d.emit=function(e,n){t=n.target,i.emit(e,n)},d.destroy=function(){delete i.element.hammer,d._handlers={},i.destroy()},d}})},function(t,e,i){var n;/*! Hammer.JS - v2.0.4 - 2014-09-28
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2014 Jorik Tangelder;
   * Licensed under the MIT license */
!function(o,r,s,a){"use strict";function l(t,e,i){return setTimeout(f(t,i),e)}function d(t,e,i){return Array.isArray(t)?(h(t,i[e],i),!0):!1}function h(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function u(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===a)&&(t[n[o]]=e[n[o]]),o++;return t}function c(t,e){return u(t,e,!0)}function p(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&u(n,i)}function f(t,e){return function(){return t.apply(e,arguments)}}function m(t,e){return typeof t==ft?t.apply(e?e[0]||a:a,e):t}function g(t,e){return t===a?e:t}function v(t,e,i){h(_(e),function(e){t.addEventListener(e,i,!1)})}function y(t,e,i){h(_(e),function(e){t.removeEventListener(e,i,!1)})}function b(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function w(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function x(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var n=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];x(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function E(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<ct.length;){if(i=ct[r],n=i?i+o:e,n in t)return n;r++}return a}function T(){return yt++}function S(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function D(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){m(t.options.enable,[t])&&i.handler(e)},this.init()}function O(t){var e,i=t.options.inputClass;return new(e=i?i:_t?W:xt?q:wt?K:j)(t,M)}function M(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&Dt&&n-o===0,s=e&(Mt|At)&&n-o===0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,A(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function A(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=F(e)),o>1&&!i.firstMultiple?i.firstMultiple=F(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,l=e.center=R(n);e.timeStamp=vt(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=z(a,l),e.distance=$(a,l),N(i,e),e.offsetDirection=P(e.deltaX,e.deltaY),e.scale=s?H(s.pointers,n):1,e.rotation=s?B(s.pointers,n):0,I(i,e);var d=t.element;b(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}function N(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};(e.eventType===Dt||r.eventType===Mt)&&(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function I(t,e){var i,n,o,r,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=At&&(l>St||s.velocity===a)){var d=s.deltaX-e.deltaX,h=s.deltaY-e.deltaY,u=L(l,d,h);n=u.x,o=u.y,i=gt(u.x)>gt(u.y)?u.x:u.y,r=P(d,h),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}function F(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:vt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,n=0,o=0;e>o;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:mt(i/e),y:mt(n/e)}}function L(t,e,i){return{x:e/t||0,y:i/t||0}}function P(t,e){return t===e?Nt:gt(t)>=gt(e)?t>0?It:Ft:e>0?Rt:Lt}function $(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function z(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function B(t,e){return z(e[1],e[0],Ht)-z(t[1],t[0],Ht)}function H(t,e){return $(e[0],e[1],Ht)/$(t[0],t[1],Ht)}function j(){this.evEl=Wt,this.evWin=Ut,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function W(){this.evEl=Vt,this.evWin=Kt,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function U(){this.evTarget=Xt,this.evWin=Qt,this.started=!1,D.apply(this,arguments)}function Y(t,e){var i=C(t.touches),n=C(t.changedTouches);return e&(Mt|At)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=Jt,this.targetIds={},D.apply(this,arguments)}function V(t,e){var i=C(t.touches),n=this.targetIds;if(e&(Dt|Ot)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,s=C(t.changedTouches),a=[],l=this.target;if(r=i.filter(function(t){return b(t.target,l)}),e===Dt)for(o=0;o<r.length;)n[r[o].identifier]=!0,o++;for(o=0;o<s.length;)n[s[o].identifier]&&a.push(s[o]),e&(Mt|At)&&delete n[s[o].identifier],o++;return a.length?[k(r.concat(a),"identifier",!0),a]:void 0}function K(){D.apply(this,arguments);var t=f(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new j(this.manager,t)}function G(t,e){this.manager=t,this.set(e)}function X(t){if(w(t,re))return re;var e=w(t,se),i=w(t,ae);return e&&i?se+" "+ae:e||i?e?se:ae:w(t,oe)?oe:ne}function Q(t){this.id=T(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=g(this.options.enable,!0),this.state=le,this.simultaneous={},this.requireFail=[]}function Z(t){return t&pe?"cancel":t&ue?"end":t&he?"move":t&de?"start":""}function J(t){return t==Lt?"down":t==Rt?"up":t==It?"left":t==Ft?"right":""}function tt(t,e){var i=e.manager;return i?i.get(t):t}function et(){Q.apply(this,arguments)}function it(){et.apply(this,arguments),this.pX=null,this.pY=null}function nt(){et.apply(this,arguments)}function ot(){Q.apply(this,arguments),this._timer=null,this._input=null}function rt(){et.apply(this,arguments)}function st(){et.apply(this,arguments)}function at(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function lt(t,e){return e=e||{},e.recognizers=g(e.recognizers,lt.defaults.preset),new dt(t,e)}function dt(t,e){e=e||{},this.options=c(e,lt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=O(this),this.touchAction=new G(this,this.options.touchAction),ht(this,!0),h(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(t,e){var i=t.element;h(t.options.cssProps,function(t,n){i.style[E(i.style,n)]=e?t:""})}function ut(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ct=["","webkit","moz","MS","ms","o"],pt=r.createElement("div"),ft="function",mt=Math.round,gt=Math.abs,vt=Date.now,yt=1,bt=/mobile|tablet|ip(ad|hone|od)|android/i,wt="ontouchstart"in o,_t=E(o,"PointerEvent")!==a,xt=wt&&bt.test(navigator.userAgent),Ct="touch",kt="pen",Et="mouse",Tt="kinect",St=25,Dt=1,Ot=2,Mt=4,At=8,Nt=1,It=2,Ft=4,Rt=8,Lt=16,Pt=It|Ft,$t=Rt|Lt,zt=Pt|$t,Bt=["x","y"],Ht=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(S(this.element),this.evWin,this.domHandler)}};var jt={mousedown:Dt,mousemove:Ot,mouseup:Mt},Wt="mousedown",Ut="mousemove mouseup";p(j,D,{handler:function(t){var e=jt[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&Ot&&1!==t.which&&(e=Mt),this.pressed&&this.allow&&(e&Mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Et,srcEvent:t}))}});var Yt={pointerdown:Dt,pointermove:Ot,pointerup:Mt,pointercancel:At,pointerout:At},qt={2:Ct,3:kt,4:Et,5:Tt},Vt="pointerdown",Kt="pointermove pointerup pointercancel";o.MSPointerEvent&&(Vt="MSPointerDown",Kt="MSPointerMove MSPointerUp MSPointerCancel"),p(W,D,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Yt[n],r=qt[t.pointerType]||t.pointerType,s=r==Ct,a=x(e,t.pointerId,"pointerId");o&Dt&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):o&(Mt|At)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var Gt={touchstart:Dt,touchmove:Ot,touchend:Mt,touchcancel:At},Xt="touchstart",Qt="touchstart touchmove touchend touchcancel";p(U,D,{handler:function(t){var e=Gt[t.type];if(e===Dt&&(this.started=!0),this.started){var i=Y.call(this,t,e);e&(Mt|At)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ct,srcEvent:t})}}});var Zt={touchstart:Dt,touchmove:Ot,touchend:Mt,touchcancel:At},Jt="touchstart touchmove touchend touchcancel";p(q,D,{handler:function(t){var e=Zt[t.type],i=V.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ct,srcEvent:t})}}),p(K,D,{handler:function(t,e,i){var n=i.pointerType==Ct,o=i.pointerType==Et;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(Mt|At)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var te=E(pt.style,"touchAction"),ee=te!==a,ie="compute",ne="auto",oe="manipulation",re="none",se="pan-x",ae="pan-y";G.prototype={set:function(t){t==ie&&(t=this.compute()),ee&&(this.manager.element.style[te]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return h(this.manager.recognizers,function(e){m(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),X(t.join(" "))},preventDefaults:function(t){if(!ee){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=w(n,re),r=w(n,ae),s=w(n,se);return o||r&&i&Pt||s&&i&$t?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var le=1,de=2,he=4,ue=8,ce=ue,pe=16,fe=32;Q.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=tt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)?this:(t=tt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return t=tt(t,this),-1===x(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=tt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?Z(n):""),t)}var i=this,n=this.state;ue>n&&e(!0),e(),n>=ue&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=fe)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(fe|le)))return!1;t++}return!0},recognize:function(t){var e=u({},t);return m(this.options.enable,[this,e])?(this.state&(ce|pe|fe)&&(this.state=le),this.state=this.process(e),void(this.state&(de|he|ue|pe)&&this.tryEmit(e))):(this.reset(),void(this.state=fe))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(et,Q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(de|he),o=this.attrTest(t);return n&&(i&At||!o)?e|pe:n||o?i&Mt?e|ue:e&de?e|he:de:fe}}),p(it,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:zt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Pt&&e.push(ae),t&$t&&e.push(se),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Pt?(o=0===r?Nt:0>r?It:Ft,i=r!=this.pX,n=Math.abs(t.deltaX)):(o=0===s?Nt:0>s?Rt:Lt,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return et.prototype.attrTest.call(this,t)&&(this.state&de||!(this.state&de)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=J(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),p(nt,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&de)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),p(ot,Q,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Mt|At)&&!o)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=l(function(){this.state=ce,this.tryEmit()},e.time,this);else if(t.eventType&Mt)return ce;return fe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ce&&(t&&t.eventType&Mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=vt(),this.manager.emit(this.options.event,this._input)))}}),p(rt,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&de)}}),p(st,et,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Pt|$t,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Pt|$t)?e=t.velocity:i&Pt?e=t.velocityX:i&$t&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&gt(e)>this.options.velocity&&t.eventType&Mt},emit:function(t){var e=J(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(at,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=Mt)return this.failTimeout();var r=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=l(function(){this.state=ce,this.tryEmit()},e.interval,this),de):ce}return fe},failTimeout:function(){return this._timer=l(function(){this.state=fe},this.options.interval,this),fe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ce&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),lt.VERSION="2.0.4",lt.defaults={domEvents:!1,touchAction:ie,enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[nt,{enable:!1},["rotate"]],[st,{direction:Pt}],[it,{direction:Pt},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var me=1,ge=2;dt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ge:me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&ce)&&(o=e.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],e.stopped===ge||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(de|he|ue)&&(o=e.curRecognizer=i),r++}},get:function(t){if(t instanceof Q)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(x(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return h(_(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return h(_(t),function(t){e?i[t].splice(x(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&ut(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(lt,{INPUT_START:Dt,INPUT_MOVE:Ot,INPUT_END:Mt,INPUT_CANCEL:At,STATE_POSSIBLE:le,STATE_BEGAN:de,STATE_CHANGED:he,STATE_ENDED:ue,STATE_RECOGNIZED:ce,STATE_CANCELLED:pe,STATE_FAILED:fe,DIRECTION_NONE:Nt,DIRECTION_LEFT:It,DIRECTION_RIGHT:Ft,DIRECTION_UP:Rt,DIRECTION_DOWN:Lt,DIRECTION_HORIZONTAL:Pt,DIRECTION_VERTICAL:$t,DIRECTION_ALL:zt,Manager:dt,Input:D,TouchAction:G,TouchInput:q,MouseInput:j,PointerEventInput:W,TouchMouseInput:K,SingleTouchInput:U,Recognizer:Q,AttrRecognizer:et,Tap:at,Pan:it,Swipe:st,Pinch:nt,Rotate:rt,Press:ot,on:v,off:y,each:h,merge:c,extend:u,inherit:p,bindFn:f,prefixed:E}),"function"==ft&&i(26)?(n=function(){return lt}.call(e,i,e,t),!(n!==a&&(t.exports=n))):"undefined"!=typeof t&&t.exports?t.exports=lt:o[s]=lt}(window,document,"Hammer")},function(t,e,i){(function(e){t.exports=e}).call(e,{})},function(t,e,i){"use strict";function n(t,e){var i=a().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=s.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function o(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}function r(t,e){return{x:t.x-s.getAbsoluteLeft(e),y:t.y-s.getAbsoluteTop(e)}}var s=i(1),a=(i(28),i(2)),l=i(21),d=i(29);n.prototype=new l,n.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate","hiddenDates"];s.selectiveExtend(e,this.options,t),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},n.prototype.setRange=function(t,e,i,n){n!==!0&&(n=!1);var o=void 0!=t?s.convert(t,"Date").valueOf():null,r=void 0!=e?s.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var a=this,l=this.start,h=this.end,u="object"==typeof i&&"duration"in i?i.duration:500,c="object"==typeof i&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",p=s.easingFunctions[c];if(!p)throw new Error("Unknown easing function "+JSON.stringify(c)+". Choose from: "+Object.keys(s.easingFunctions).join(", "));var f=(new Date).valueOf(),m=!1,g=function b(){if(!a.props.touch.dragging){var t=(new Date).valueOf(),e=t-f,i=p(e/u),s=e>u,c=s||null===o?o:l+(o-l)*i,g=s||null===r?r:h+(r-h)*i;v=a._applyRange(c,g),d.updateHiddenDates(a.body,a.options.hiddenDates),m=m||v,v&&a.body.emitter.emit("rangechange",{start:new Date(a.start),end:new Date(a.end),byUser:n}),s?m&&a.body.emitter.emit("rangechanged",{start:new Date(a.start),end:new Date(a.end),byUser:n}):a.animationTimer=setTimeout(b,20)}};return g()}var v=this._applyRange(o,r);if(d.updateHiddenDates(this.body,this.options.hiddenDates),v){var y={start:new Date(this.start),end:new Date(this.end),byUser:n};this.body.emitter.emit("rangechange",y),this.body.emitter.emit("rangechanged",y)}},n.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},n.prototype._applyRange=function(t,e){var i,n=null!=t?s.convert(t,"Date").valueOf():this.start,o=null!=e?s.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?s.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?s.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(n>o&&(o=n),null!==a&&a>n&&(i=a-n,n+=i,o+=i,null!=r&&o>r&&(o=r)),null!==r&&o>r&&(i=o-r,n-=i,o-=i,null!=a&&a>n&&(n=a)),null!==this.options.zoomMin){var l=parseFloat(this.options.zoomMin);0>l&&(l=0),l>o-n&&(this.end-this.start===l&&n>this.start&&o<this.end?(n=this.start,o=this.end):(i=l-(o-n),n-=i/2,o+=i/2))}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);0>d&&(d=0),o-n>d&&(this.end-this.start===d&&n<this.start&&o>this.end?(n=this.start,o=this.end):(i=o-n-d,n+=i/2,o-=i/2))}var h=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,h},n.prototype.getRange=function(){return{start:this.start,end:this.end}},n.prototype.conversion=function(t,e){return n.conversion(this.start,this.end,t,e)},n.conversion=function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}},n.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},n.prototype._onDrag=function(t){if(this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;o(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start,r=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);n-=r;var s="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,a=-i/s*n,l=this.props.touch.start+a,h=this.props.touch.end+a,u=d.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,!0),c=d.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0);if(u!=l||c!=h)return this.deltaDifference+=i,this.props.touch.start=u,this.props.touch.end=c,void this._onDrag(t);this.previousDelta=i,this._applyRange(l,h),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:!0})}},n.prototype._onDragEnd=function(t){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},n.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i;i=0>e?1-e/5:1/(1+e/5);var n=r({x:t.clientX,y:t.clientY},this.body.dom.center),o=this._pointerToDate(n);this.zoom(i,o,e)}t.preventDefault()}},n.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},n.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=r(t.center,this.body.dom.center));var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=d.getHiddenDurationBefore(this.body.hiddenDates,this,i),s=n-o,a=i-o+(this.props.touch.start-(i-o))*e,l=i+s+(this.props.touch.end-(i+s))*e;this.startToFront=0>=1-e,this.endToFront=0>=e-1;var h=d.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),u=d.snapAwayFromHidden(this.body.hiddenDates,l,e-1,!0);(h!=a||u!=l)&&(this.props.touch.start=h,this.props.touch.end=u,this.scaleOffset=1-t.scale,a=h,l=u),this.setRange(a,l,!1,!0),this.startToFront=!1,this.endToFront=!0}},n.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(o(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var n=this.body.domProps.center.height;return e=this.conversion(n),t.y/e.scale+e.offset},n.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var n=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=d.getHiddenDurationBefore(this.body.hiddenDates,this,e),r=n-o,s=e-o+(this.start-(e-o))*t,a=e+r+(this.end-(e+r))*t;this.startToFront=i>0?!1:!0,this.endToFront=-i>0?!1:!0;var l=d.snapAwayFromHidden(this.body.hiddenDates,s,i,!0),h=d.snapAwayFromHidden(this.body.hiddenDates,a,-i,!0);(l!=s||h!=a)&&(s=l,a=h),this.setRange(s,a,!1,!0),this.startToFront=!1,this.endToFront=!0},n.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,n=this.end+e*t;this.start=i,this.end=n},n.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,n=this.start-i,o=this.end-i;this.setRange(n,o)},t.exports=n},function(t,e,i){"use strict";i(23);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&!n&&(e(t),n=!0,setTimeout(function(){n=!1},0))},t.on("hammer.input",e.inputHandler)};var n=!1;e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&!o&&(e(t),o=!0,setTimeout(function(){o=!1},0))},t.on("hammer.input",e.inputHandler)};var o=!1;e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch},function(t,e,i){"use strict";var n=i(2);e.convertHiddenOptions=function(t,e){if(t.hiddenDates=[],e&&1==Array.isArray(e)){for(var i=0;i<e.length;i++)if(void 0===e[i].repeat){var o={};o.start=n(e[i].start).toDate().valueOf(),o.end=n(e[i].end).toDate().valueOf(),t.hiddenDates.push(o)}t.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i){if(i&&void 0!==t.domProps.centerContainer.width){e.convertHiddenOptions(t,i);for(var o=n(t.range.start),r=n(t.range.end),s=t.range.end-t.range.start,a=s/t.domProps.centerContainer.width,l=0;l<i.length;l++)if(void 0!==i[l].repeat){var d=n(i[l].start),h=n(i[l].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+i[l].start);if("Invalid Date"==h._d)throw new Error("Supplied end date is not valid: "+i[l].end);var u=h-d;if(u>=4*a){var c=0,p=r.clone();switch(i[l].repeat){case"daily":d.day()!=h.day()&&(c=1),d.dayOfYear(o.dayOfYear()),d.year(o.year()),d.subtract(7,"days"),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7-c,"days"),p.add(1,"weeks");break;case"weekly":var f=h.diff(d,"days"),m=d.day();d.date(o.date()),d.month(o.month()),d.year(o.year()),h=d.clone(),d.day(m),h.day(m),h.add(f,"days"),d.subtract(1,"weeks"),h.subtract(1,"weeks"),p.add(1,"weeks");break;case"monthly":d.month()!=h.month()&&(c=1),d.month(o.month()),d.year(o.year()),d.subtract(1,"months"),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),h.add(c,"months"),p.add(1,"months");break;case"yearly":d.year()!=h.year()&&(c=1),d.year(o.year()),d.subtract(1,"years"),h.year(o.year()),h.subtract(1,"years"),h.add(c,"years"),p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[l].repeat)}for(;p>d;)switch(t.hiddenDates.push({start:d.valueOf(),end:h.valueOf()}),i[l].repeat){case"daily":d.add(1,"days"),h.add(1,"days");break;case"weekly":d.add(1,"weeks"),h.add(1,"weeks");break;case"monthly":d.add(1,"months"),h.add(1,"months");break;case"yearly":d.add(1,"y"),h.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[l].repeat)}t.hiddenDates.push({start:d.valueOf(),end:h.valueOf()})}}e.removeDuplicates(t);var g=e.isHidden(t.range.start,t.hiddenDates),v=e.isHidden(t.range.end,t.hiddenDates),y=t.range.start,b=t.range.end;1==g.hidden&&(y=1==t.range.startToFront?g.startDate-1:g.endDate+1),1==v.hidden&&(b=1==t.range.endToFront?v.startDate-1:v.endDate+1),(1==g.hidden||1==v.hidden)&&t.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(var n=0;n<e.length;n++)e[n].remove!==!0&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e){for(var i=!1,o=t.current.valueOf(),r=0;r<t.hiddenDates.length;r++){var s=t.hiddenDates[r].start,a=t.hiddenDates[r].end;if(o>=s&&a>o){i=!0;break}}if(1==i&&o<t._end.valueOf()&&o!=e){var l=n(e),d=n(a);l.year()!=d.year()?t.switchedYear=!0:l.month()!=d.month()?t.switchedMonth=!0:l.dayOfYear()!=d.dayOfYear()&&(t.switchedDay=!0),t.current=d.toDate()}},e.toScreen=function(t,i,n){if(0==t.body.hiddenDates.length){var o=t.range.conversion(n);return(i.valueOf()-o.offset)*o.scale}var r=e.isHidden(i,t.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);i=e.correctTimeForHidden(t.body.hiddenDates,t.range,i);var o=t.range.conversion(n,s);return(i.valueOf()-o.offset)*o.scale},e.toTime=function(t,i,n){if(0==t.body.hiddenDates.length){var o=t.range.conversion(n);return new Date(i/o.scale+o.offset)}var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),s=t.range.end-t.range.start-r,a=s*i/n,l=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a),d=new Date(l+a+t.range.start);return d},e.getHiddenDurationBetween=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&i>s&&(n+=s-r)}return n},e.correctTimeForHidden=function(t,i,o){return o=n(o).toDate().valueOf(),o-=e.getHiddenDurationBefore(t,i,o)},e.getHiddenDurationBefore=function(t,e,i){var o=0;i=n(i).toDate().valueOf();for(var r=0;r<t.length;r++){var s=t[r].start,a=t[r].end;s>=e.start&&a<e.end&&i>=a&&(o+=a-s)}return o},e.getAccumulatedHiddenDuration=function(t,e,i){for(var n=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,o>=i)break;n+=l-a}}return n},e.snapAwayFromHidden=function(t,i,n,o){var r=e.isHidden(i,t);return 1==r.hidden?0>n?1==o?r.startDate-(r.endDate-i)-1:r.startDate-1:1==o?r.endDate+(i-r.startDate)+1:r.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(t>=n&&o>t)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}},function(t,e,i){"use strict";function n(){}var o=i(13),r=i(23),s=i(28),a=i(1),l=(i(8),i(10),i(27),i(31),i(41)),d=i(42),h=i(29),u=i(44);o(n.prototype),n.prototype._create=function(t){function e(t){i.isActive()&&i.emit("mousewheel",t)}this.dom={},this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),
this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this.redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var i=this;this.on("change",function(t){t&&1==t.queue?i._redrawTimer||(i._redrawTimer=setTimeout(function(){i._redrawTimer=null,i._redraw()},0)):i._redraw()}),this.hammer=new r(this.dom.root),this.hammer.get("pinch").set({enable:!0}),this.listeners={};var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];if(n.forEach(function(t){var e=function(e){i.isActive()&&i.emit(t,e)};i.hammer.on(t,e),i.listeners[t]=e}),s.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),s.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.root.addEventListener("mousewheel",e),this.dom.root.addEventListener("DOMMouseScroll",e),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},n.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates"];if(a.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"==typeof t.orientation&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new l(this.body);i.setOptions=function(t){var e=t?a.extend({},t):{};e.orientation="top",l.prototype.setOptions.call(i,e)},this.components.push(i)}}else if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);-1!==n&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("hiddenDates"in this.options&&h.convertHiddenOptions(this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),this.configurator){this.configurator.setOptions(t.configure);var o=a.deepExtend({},this.options);this.components.forEach(function(t){a.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},n.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));i.length>0&&i[0].setCustomTime(t)},n.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));return e[0].getCustomTime()},n.prototype.addCustomTime=function(t,e){var i=void 0!==t?a.convert(t,"Date").valueOf():new Date,n=this.customTimes.some(function(t){return t.options.id===e});if(n)throw new Error("A custom time with id "+JSON.stringify(e)+" already exists");var o=new u(this.body,{time:i,id:e});return this.customTimes.push(o),this.components.push(o),this.redraw(),e},n.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},n.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},n.prototype.fit=function(t){var e=this.getDataRange();if(null!==e.start||null!==e.end){var i=e.max-e.min,n=new Date(e.min.valueOf()-.01*i),o=new Date(e.max.valueOf()+.01*i),r=t&&void 0!==t.animation?t.animation:!0;this.range.setRange(n,o,r)}},n.prototype.getDataRange=function(){var t=this.getItemRange(),e=t.min,i=t.max;if(null!=e&&null!=i){var n=i.valueOf()-e.valueOf();0>=n&&(n=864e5),e=new Date(e.valueOf()-.01*n),i=new Date(i.valueOf()+.01*n)}return{start:null,end:null}},n.prototype.setWindow=function(t,e,i){var n;if(1==arguments.length){var o=arguments[0];n=void 0!==o.animation?o.animation:!0,this.range.setRange(o.start,o.end,n)}else n=i&&void 0!==i.animation?i.animation:!0,this.range.setRange(t,e,n)},n.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,n=a.convert(t,"Date").valueOf(),o=n-i/2,r=n+i/2,s=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(o,r,s)},n.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},n.prototype.redraw=function(){this._redraw()},n.prototype._redraw=function(){var t=!1,e=this.options,i=this.props,n=this.dom;if(n){h.updateHiddenDates(this.body,this.options.hiddenDates),"top"==e.orientation?(a.addClassName(n.root,"vis-top"),a.removeClassName(n.root,"vis-bottom")):(a.removeClassName(n.root,"vis-top"),a.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=a.option.asSize(e.maxHeight,""),n.root.style.minHeight=a.option.asSize(e.minHeight,""),n.root.style.width=a.option.asSize(e.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var o=n.root.offsetHeight-n.root.clientHeight,r=n.root.offsetWidth-n.root.clientWidth;0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(r=o),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var s=Math.max(i.left.height,i.center.height,i.right.height),l=i.top.height+s+i.bottom.height+o+i.border.top+i.border.bottom;n.root.style.height=a.option.asSize(e.height,l+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-o;var d=i.root.height-i.top.height-i.bottom.height-o;i.centerContainer.height=d,i.leftContainer.height=d,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-r,i.left.width=n.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=n.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var u=i.root.width-i.left.width-i.right.width-r;i.center.width=u,i.centerContainer.width=u,i.top.width=u,i.bottom.width=u,n.background.style.height=i.background.height+"px",n.backgroundVertical.style.height=i.background.height+"px",n.backgroundHorizontal.style.height=i.centerContainer.height+"px",n.centerContainer.style.height=i.centerContainer.height+"px",n.leftContainer.style.height=i.leftContainer.height+"px",n.rightContainer.style.height=i.rightContainer.height+"px",n.background.style.width=i.background.width+"px",n.backgroundVertical.style.width=i.centerContainer.width+"px",n.backgroundHorizontal.style.width=i.background.width+"px",n.centerContainer.style.width=i.center.width+"px",n.top.style.width=i.top.width+"px",n.bottom.style.width=i.bottom.width+"px",n.background.style.left="0",n.background.style.top="0",n.backgroundVertical.style.left=i.left.width+i.border.left+"px",n.backgroundVertical.style.top="0",n.backgroundHorizontal.style.left="0",n.backgroundHorizontal.style.top=i.top.height+"px",n.centerContainer.style.left=i.left.width+"px",n.centerContainer.style.top=i.top.height+"px",n.leftContainer.style.left="0",n.leftContainer.style.top=i.top.height+"px",n.rightContainer.style.left=i.left.width+i.center.width+"px",n.rightContainer.style.top=i.top.height+"px",n.top.style.left=i.left.width+"px",n.top.style.top="0",n.bottom.style.left=i.left.width+"px",n.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var c=this.props.scrollTop;"top"!=e.orientation.item&&(c+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),n.center.style.left="0",n.center.style.top=c+"px",n.left.style.left="0",n.left.style.top=c+"px",n.right.style.left="0",n.right.style.top=c+"px";var p=0==this.props.scrollTop?"hidden":"",f=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";if(n.shadowTop.style.visibility=p,n.shadowBottom.style.visibility=f,n.shadowTopLeft.style.visibility=p,n.shadowBottomLeft.style.visibility=f,n.shadowTopRight.style.visibility=p,n.shadowBottomRight.style.visibility=f,this.components.forEach(function(e){t=e.redraw()||t}),t){var m=3;this.redrawCount<m?(this.redrawCount++,this._redraw()):console.log("WARNING: infinite loop in redraw?"),this.redrawCount=0}}},n.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},n.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},n.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},n.prototype._toTime=function(t){return h.toTime(this,t,this.props.center.width)},n.prototype._toGlobalTime=function(t){return h.toTime(this,t,this.props.root.width)},n.prototype._toScreen=function(t){return h.toScreen(this,t,this.props.center.width)},n.prototype._toGlobalScreen=function(t){return h.toScreen(this,t,this.props.root.width)},n.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},n.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){return 1!=t.options.autoResize?void t._stopAutoResize():void(t.dom.root&&(t.dom.root.offsetWidth!=t.props.lastWidth||t.dom.root.offsetHeight!=t.props.lastHeight)&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.emit("change")))},a.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},n.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),a.removeEventListener(window,"resize",this._onResize),this._onResize=null},n.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},n.prototype._onPinch=function(t){this.touch.allowDragging=!1},n.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);n!=i&&(this._redraw(),this.emit("verticalDrag"))}},n.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},n.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},n.prototype._getScrollTop=function(){return this.props.scrollTop},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrder:null,selectable:!0,multiselect:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},snap:l.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=r.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(e)}var o=i(23),r=i(1),s=i(8),a=i(10),l=i(36),d=i(21),h=i(32),u=i(37),c=i(38),p=i(39),f=i(34),m=i(40),g="__ungrouped__",v="__background__";n.prototype=new d,n.types={background:m,box:c,range:f,point:p},n.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var r=document.createElement("div");r.className="vis-labelset",this.dom.labelSet=r,this._updateUngrouped();var s=new u(v,null,this);s.show(),this.groups[v]=s,this.hammer=new o(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},n.prototype.setOptions=function(t){if(t){var e=["type","align","order","stack","selectable","multiselect","groupOrder","dataAttributes","template","hide","snap"];r.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"==typeof t.orientation&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"==typeof t.margin&&(r.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"==typeof t.margin.item&&r.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable):"object"==typeof t.editable&&r.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable));var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(i),this.markDirty()}},n.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&r.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},n.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},n.prototype.setSelection=function(t){var e,i,n,o;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;i>e;e++)n=this.selection[e],o=this.items[n],o&&o.unselect();for(this.selection=[],e=0,i=t.length;i>e;e++)n=t[e],o=this.items[n],o&&(this.selection.push(n),o.select())},n.prototype.getSelection=function(){return this.selection.concat([])},n.prototype.getVisibleItems=function(){var t=this.body.range.getRange(),e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end),n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.visibleItems,a=0;a<s.length;a++){var l=s[a];l.left<i&&l.left+l.width>e&&n.push(l.id)}return n},n.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;n>i;i++)if(e[i]==t){e.splice(i,1);break}},n.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=r.option.asSize,n=this.options,o=n.orientation.item,s=!1,a=this.dom.frame,l=n.editable.updateTime||n.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset"+(l?" vis-editable":""),s=this._orderGroups()||s;var d=e.end-e.start,h=d!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;h&&(this.stackDirty=!0),this.lastVisibleInterval=d,this.props.lastWidth=this.props.width;var u=this.stackDirty,c=this._firstGroup(),p={item:t.item,axis:t.axis},f={item:t.item,axis:t.item.vertical/2},m=0,g=t.axis+t.item.vertical;return this.groups[v].redraw(e,f,u),r.forEach(this.groups,function(t){var i=t==c?p:f,n=t.redraw(e,i,u);s=n||s,m+=t.height}),m=Math.max(m,g),this.stackDirty=!1,a.style.height=i(m),this.props.width=a.offsetWidth,this.props.height=m,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",s=this._isResized()||s},n.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[g];return i||null},n.prototype._updateUngrouped=function(){var t,e,i=this.groups[g];this.groups[v];if(this.groupsData){if(i){i.hide(),delete this.groups[g];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var n=this._getGroupId(t.data),o=this.groups[n];o&&o.add(t)||t.hide()}}}else if(!i){var r=null,s=null;i=new h(r,s,this),this.groups[g]=i;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},n.prototype.getLabelSet=function(){return this.dom.labelSet},n.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof s||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(r.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}},n.prototype.getItems=function(){return this.itemsData},n.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(r.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof s||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;r.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change",{queue:!0})},n.prototype.getGroups=function(){return this.groupsData},n.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},n.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},n.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?v:this.groupsData?t.group:g},n.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,o=e.itemsData.get(t,e.itemOptions),r=e.items[t],s=e._getType(o),a=n.types[s];if(r&&(a&&r instanceof a?e._updateItem(r,o):(i=r.selected,e._removeItem(r),r=null)),!r){if(!a)throw"rangeoverflow"==s?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+s+'"');r=new a(o,e.conversion,e.options),r.id=t,e._addItem(r),i&&(this.selection.push(t),r.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0})},n.prototype._onAdd=n.prototype._onUpdate,n.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var n=i.items[t];n&&(e++,i._removeItem(n))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))},n.prototype._order=function(){r.forEach(this.groups,function(t){t.order()})},n.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},n.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),n=e.groups[t];if(n)n.setData(i);else{if(t==g||t==v)throw new Error("Illegal group id. "+t+" is a reserved id.");var o=Object.create(e.options);r.extend(o,{height:null}),n=new h(t,i,e),e.groups[t]=n;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("change",{queue:!0})},n.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("change",{queue:!0})},n.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!r.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},n.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i&&i.add(t)},n.prototype._updateItem=function(t,e){var i=t.data.group,n=t.data.subgroup;if(t.setData(e),i!=t.data.group||n!=t.data.subgroup){var o=this.groups[i];o&&o.remove(t);var r=this._getGroupId(t.data),s=this.groups[r];s&&s.add(t)}},n.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},n.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof f&&e.push(t[i]);return e},n.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},n.prototype._onDragStart=function(t){if(this.options.editable.updateTime||this.options.editable.updateGroup){var e,i=this.touchParams.item||null,n=this;if(i&&i.selected){var o=this.touchParams.dragLeftItem,s=this.touchParams.dragRightItem;o?(e={item:o,initialX:t.center.x,dragLeft:!0,data:r.extend({},i.data)},this.touchParams.itemProps=[e]):s?(e={item:s,initialX:t.center.x,dragRight:!0,data:r.extend({},i.data)},this.touchParams.itemProps=[e]):this.touchParams.itemProps=this.getSelection().map(function(e){var i=n.items[e],o={item:i,initialX:t.center.x,data:r.extend({},i.data)};return o}),t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},n.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null,i=r.getAbsoluteLeft(this.dom.frame),n=t.center.x-i-10,o=this.body.util.toTime(n),s=this.body.util.getScale(),a=this.body.util.getStep(),l=e?e(o,s,a):l,d=l,h={type:"range",start:l,end:d,content:"new item"},u=r.randomUUID();h[this.itemsData._fieldId]=u;var c=this.groupFromTarget(t);c&&(h.group=c.groupId);var p=new f(h,this.conversion,this.options);p.id=u,p.data=h,this._addItem(p);var m={item:p,dragRight:!0,initialX:t.center.x,data:r.extend({},h)};this.touchParams.itemProps=[m],t.stopPropagation()},n.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.options.snap||null,n=this.body.dom.root.offsetLeft+this.body.domProps.left.width,o=this.body.util.getScale(),s=this.body.util.getStep();this.touchParams.itemProps.forEach(function(a){var l=e.body.util.toTime(t.center.x-n),d=e.body.util.toTime(a.initialX-n),h=l-d,u=r.extend({},a.item.data);if(e.options.editable.updateTime)if(a.dragLeft){if(void 0!=u.start){var c=r.convert(a.data.start,"Date"),p=new Date(c.valueOf()+h);u.start=i?i(p,o,s):p}}else if(a.dragRight){if(void 0!=u.end){var f=r.convert(a.data.end,"Date"),m=new Date(f.valueOf()+h);u.end=i?i(m,o,s):m}}else if(void 0!=u.start){var c=r.convert(a.data.start,"Date").valueOf(),p=new Date(c+h);if(void 0!=u.end){var f=r.convert(a.data.end,"Date"),g=f.valueOf()-c.valueOf();u.start=i?i(p,o,s):p,u.end=new Date(u.start.valueOf()+g)}else u.start=i?i(p,o,s):p}if(e.options.editable.updateGroup&&!a.dragLeft&&!a.dragRight&&void 0!=u.group){var v=e.groupFromTarget(t);v&&(u.group=v.groupId)}e.options.onMoving(u,function(t){t&&a.item.setData(t)})}),this.stackDirty=!0,this.body.emitter.emit("change")}},n.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),i.add(t),i.order(),t.data.group=i.groupId}},n.prototype._onDragEnd=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=[],i=this,n=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null,o.forEach(function(t){var o=t.item.id,s=null!=i.itemsData.get(o,i.itemOptions);if(s){var a=r.extend({},t.item.data);i.options.onMove(a,function(r){r?(r[n._fieldId]=o,e.push(r)):(t.item.setData(t.data),i.stackDirty=!0,i.body.emitter.emit("change"))})}else i.options.onAdd(t.item.data,function(e){i._removeItem(t.item),e&&i.itemsData.getDataSet().add(e),i.stackDirty=!0,i.body.emitter.emit("change")})}),e.length&&n.update(e)}},n.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);var n=this.getSelection(),o=this.itemFromTarget(t),r=o?[o.id]:[];this.setSelection(r);var s=this.getSelection();(s.length>0||n.length>0)&&this.body.emitter.emit("select",{items:s,event:t})}},n.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,i=this.options.snap||null,n=this.itemFromTarget(t);if(t.stopPropagation(),n){var o=e.itemsData.get(n.id);this.options.onUpdate(o,function(t){t&&e.itemsData.getDataSet().update(t)})}else{var s=r.getAbsoluteLeft(this.dom.frame),a=t.center.x-s,l=this.body.util.toTime(a),d=this.body.util.getScale(),h=this.body.util.getStep(),u={start:i?i(l,d,h):l,content:"new item"};if("range"===this.options.type){var c=this.body.util.toTime(a+this.props.width/5);u.end=i?i(c,d,h):c}u[this.itemsData._fieldId]=r.randomUUID();var p=this.groupFromTarget(t);p&&(u.group=p.groupId),this.options.onAdd(u,function(t){t&&e.itemsData.getDataSet().add(t)})}}},n.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[],o=t.srcEvent&&t.srcEvent.shiftKey||!1;if(o&&this.options.multiselect){i.push(e.id);var r=n._getItemRange(this.itemsData.get(i,this.itemOptions));i=[];for(var s in this.items)if(this.items.hasOwnProperty(s)){var a=this.items[s],l=a.data.start,d=void 0!==a.data.end?a.data.end:l;l>=r.min&&d<=r.max&&!(a instanceof m)&&i.push(a.id)}}else{var h=i.indexOf(e.id);-1==h?i.push(e.id):i.splice(h,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},n._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},n.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},n.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var n=this.groupIds[i],o=this.groups[n],s=o.dom.foreground,a=r.getAbsoluteTop(s);if(e>a&&e<a+s.offsetHeight)return o;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>a)return o}else if(0===i&&e<a+s.offset)return o}return null},n.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var n=this;this.itemSet.body.emitter.on("checkRangedItems",function(){n.checkRangedItems=!0}),this._create(),this.setData(e)}var o=i(1),r=i(33);i(34);n.prototype._create=function(){var t=document.createElement("div");t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",
this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},n.prototype.setData=function(t){var e=t&&t.content;e instanceof Element?this.dom.inner.appendChild(e):void 0!==e&&null!==e?this.dom.inner.innerHTML=e:this.dom.inner.innerHTML=this.groupId||"",this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?o.removeClassName(this.dom.inner,"vis-hidden"):o.addClassName(this.dom.inner,"vis-hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(o.removeClassName(this.dom.label,this.className),o.removeClassName(this.dom.foreground,this.className),o.removeClassName(this.dom.background,this.className),o.removeClassName(this.dom.axis,this.className)),o.addClassName(this.dom.label,i),o.addClassName(this.dom.foreground,i),o.addClassName(this.dom.background,i),o.addClassName(this.dom.axis,i),this.className=i),this.style&&(o.removeCssText(this.dom.label,"vis-"+this.style),this.style=null),t&&t.style&&(o.addCssText(this.dom.label,"vis-"+t.style),this.style=t.style)},n.prototype.getLabelWidth=function(){return this.props.label.width},n.prototype.redraw=function(t,e,i){var n=!1,s=this.dom.marker.clientHeight;if(s!=this.lastMarkerHeight&&(this.lastMarkerHeight=s,o.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),"function"==typeof this.itemSet.options.order){if(i){var a=this,l=!1;o.forEach(this.items,function(t){t.displayed||(t.redraw(),a.visibleItems.push(t)),t.repositionX(l)});var d=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});r.stack(d,e,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?r.stack(this.visibleItems,e,i):r.nostack(this.visibleItems,e,this.subgroups);var h=this._calculateHeight(e),u=this.dom.foreground;this.top=u.offsetTop,this.left=u.offsetLeft,this.width=u.offsetWidth,n=o.updateProperty(this,"height",h)||n,n=o.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||n,n=o.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||n,this.dom.background.style.height=h+"px",this.dom.foreground.style.height=h+"px",this.dom.label.style.height=h+"px";for(var c=0,p=this.visibleItems.length;p>c;c++){var f=this.visibleItems[c];f.repositionY(e)}return n},n.prototype._calculateHeight=function(t){var e,i=this.visibleItems;this.resetSubgroups();var n=this;if(i.length>0){var r=i[0].top,s=i[0].top+i[0].height;if(o.forEach(i,function(t){r=Math.min(r,t.top),s=Math.max(s,t.top+t.height),void 0!==t.data.subgroup&&(n.subgroups[t.data.subgroup].height=Math.max(n.subgroups[t.data.subgroup].height,t.height),n.subgroups[t.data.subgroup].visible=!0)}),r>t.axis){var a=r-t.axis;s-=a,o.forEach(i,function(t){t.top-=a})}e=s+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},n.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},n.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},n.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),void 0!==t.data.subgroup&&(void 0===this.subgroups[t.data.subgroup]&&(this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[t.data.subgroup].items.push(t)),this.orderSubgroups(),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},n.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},n.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},n.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1)},n.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},n.prototype.order=function(){for(var t=o.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},r.orderByStart(this.orderedItems.byStart),r.orderByEnd(this.orderedItems.byEnd)},n.prototype._updateVisibleItems=function(t,e,i){var n,r,s=[],a={},l=(i.end-i.start)/4,d=i.start-l,h=i.end+l,u=function(t){return d>t?-1:h>=t?0:1};if(e.length>0)for(r=0;r<e.length;r++)this._checkIfVisibleWithReference(e[r],s,a,i);var c=o.binarySearchCustom(t.byStart,u,"data","start");if(this._traceVisible(c,t.byStart,s,a,function(t){return t.data.start<d||t.data.start>h}),1==this.checkRangedItems)for(this.checkRangedItems=!1,r=0;r<t.byEnd.length;r++)this._checkIfVisibleWithReference(t.byEnd[r],s,a,i);else{var p=o.binarySearchCustom(t.byEnd,u,"data","end");this._traceVisible(p,t.byEnd,s,a,function(t){return t.data.end<d||t.data.end>h})}for(r=0;r<s.length;r++)n=s[r],n.displayed||n.show(),n.repositionX();return s},n.prototype._traceVisible=function(t,e,i,n,o){var r,s;if(-1!=t){for(s=t;s>=0&&(r=e[s],!o(r));s--)void 0===n[r.id]&&(n[r.id]=!0,i.push(r));for(s=t+1;s<e.length&&(r=e[s],!o(r));s++)void 0===n[r.id]&&(n[r.id]=!0,i.push(r))}},n.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},n.prototype._checkIfVisibleWithReference=function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},t.exports=n},function(t,e,i){"use strict";var n=.001;e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,n="end"in e.data?e.data.end:e.data.start;return i-n})},e.stack=function(t,i,n){var o,r;if(n)for(o=0,r=t.length;r>o;o++)t[o].top=null;for(o=0,r=t.length;r>o;o++){var s=t[o];if(s.stack&&null===s.top){s.top=i.axis;do{for(var a=null,l=0,d=t.length;d>l;l++){var h=t[l];if(null!==h.top&&h!==s&&h.stack&&e.collision(s,h,i.item)){a=h;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical)}while(a)}}},e.nostack=function(t,e,i){var n,o,r;for(n=0,o=t.length;o>n;n++)if(void 0!==t[n].data.subgroup){r=e.axis;for(var s in i)i.hasOwnProperty(s)&&1==i[s].visible&&i[s].index<i[t[n].data.subgroup].index&&(r+=i[s].height+e.item.vertical);t[n].top=r}else t[n].top=e.axis},e.collision=function(t,e,i){return t.left-i.horizontal+n<e.left+e.width&&t.left+t.width+i.horizontal-n>e.left&&t.top-i.vertical+n<e.top+e.height&&t.top+t.height+i.vertical-n>e.top}},function(t,e,i){"use strict";function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}var o=(i(23),i(35));n.prototype=new o(null,null,null),n.prototype.baseClassName="vis-item vis-range",n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(t.box),this._repaintDragLeft(),this._repaintDragRight()},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},n.prototype.repositionX=function(t){var e,i,n=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end);(void 0===t||t===!0)&&(-n>o&&(o=-n),r>2*n&&(r=2*n));var s=Math.max(r-o,1);switch(this.overflow?(this.left=o,this.width=s+this.props.content.width,i=this.props.content.width):(this.left=o,this.width=s,i=Math.min(r-o,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(s-i,0)+"px";break;case"center":this.dom.content.style.left=Math.max((s-i)/2,0)+"px";break;default:e=this.overflow?r>0?Math.max(-o,0):-i:0>o?-o:0,this.dom.content.style.left=e+"px"}},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"},n.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},n.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null}var o=i(23),r=i(1);n.prototype.stack=!0,n.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},n.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},n.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&this.parent.itemSet._moveToGroup(this,t.group),this.data=t,this.dirty=!0,this.displayed&&this.redraw()},n.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},n.prototype.isVisible=function(t){return!1},n.prototype.show=function(){return!1},n.prototype.hide=function(){return!1},n.prototype.redraw=function(){},n.prototype.repositionX=function(){},n.prototype.repositionY=function(){},n.prototype._repaintDeleteButton=function(t){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var e=this,i=document.createElement("div");i.className="vis-delete",i.title="Delete this item",new o(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},n.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;var n=this._contentToString(this.content)!==this._contentToString(e);if(n){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},n.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("vis-title")},n.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var n=e[i],o=this.data[n];null!=o?t.setAttribute("data-"+n,o):t.removeAttribute("data-"+n)}}},n.prototype._updateStyle=function(t){this.style&&(r.removeCssText(t,this.style),this.style=null),this.data.style&&(r.addCssText(t,this.data.style),this.style=this.data.style)},n.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},n.prototype.getWidthLeft=function(){return 0},n.prototype.getWidthRight=function(){return 0},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,o){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=o,void 0===o&&(this.hiddenDates=[]),this.format=n.FORMAT}var o=i(2),r=i(29),s=i(1);n.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},n.prototype.setFormat=function(t){var e=s.deepExtend({},n.FORMAT);this.format=s.deepExtend(e,t)},n.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?new Date(t.valueOf()):new Date,this._end=void 0!=e?new Date(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},n.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},n.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case"month":this.current.setDate(1);case"day":case"weekday":this.current.setHours(0);case"hour":this.current.setMinutes(0);case"minute":this.current.setSeconds(0);case"second":this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case"hour":this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case"month":this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}},n.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},n.prototype.next=function(){var t=this.current.valueOf();if(this.current.getMonth()<6)switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current=new Date(this.current.valueOf()+1e3*this.step);break;case"minute":this.current=new Date(this.current.valueOf()+1e3*this.step*60);break;case"hour":this.current=new Date(this.current.valueOf()+1e3*this.step*60*60);var e=this.current.getHours();this.current.setHours(e-e%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()+this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()+this.step);break;case"hour":this.current.setHours(this.current.getHours()+this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case"second":this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case"minute":this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case"hour":this.current.getHours()<this.step&&this.current.setHours(0);break;case"weekday":case"day":this.current.getDate()<this.step+1&&this.current.setDate(1);break;case"month":this.current.getMonth()<this.step&&this.current.setMonth(0);break;case"year":}this.current.valueOf()==t&&(this.current=new Date(this._end.valueOf())),r.stepOverHiddenDates(this,t)},n.prototype.getCurrent=function(){return this.current},n.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},n.prototype.setAutoScale=function(t){this.autoScale=t},n.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,i=2592e6,n=864e5,o=36e5,r=6e4,s=1e3,a=1;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),3*i>t&&(this.scale="month",this.step=3),i>t&&(this.scale="month",this.step=1),5*n>t&&(this.scale="day",this.step=5),2*n>t&&(this.scale="day",this.step=2),n>t&&(this.scale="day",this.step=1),n/2>t&&(this.scale="weekday",this.step=1),4*o>t&&(this.scale="hour",this.step=4),o>t&&(this.scale="hour",this.step=1),15*r>t&&(this.scale="minute",this.step=15),10*r>t&&(this.scale="minute",this.step=10),5*r>t&&(this.scale="minute",this.step=5),r>t&&(this.scale="minute",this.step=1),15*s>t&&(this.scale="second",this.step=15),10*s>t&&(this.scale="second",this.step=10),5*s>t&&(this.scale="second",this.step=5),s>t&&(this.scale="second",this.step=1),200*a>t&&(this.scale="millisecond",this.step=200),100*a>t&&(this.scale="millisecond",this.step=100),50*a>t&&(this.scale="millisecond",this.step=50),10*a>t&&(this.scale="millisecond",this.step=10),5*a>t&&(this.scale="millisecond",this.step=5),a>t&&(this.scale="millisecond",this.step=1)}},n.snap=function(t,e,i){var n=new Date(t.valueOf());if("year"==e){var o=n.getFullYear()+Math.round(n.getMonth()/12);n.setFullYear(Math.round(o/i)*i),n.setMonth(0),n.setDate(0),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)}else if("month"==e)n.getDate()>15?(n.setDate(1),n.setMonth(n.getMonth()+1)):n.setDate(1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.setHours(24*Math.round(n.getHours()/24));break;default:n.setHours(12*Math.round(n.getHours()/12))}n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.setHours(12*Math.round(n.getHours()/12));break;default:n.setHours(6*Math.round(n.getHours()/6))}n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)}else if("hour"==e){switch(i){case 4:n.setMinutes(60*Math.round(n.getMinutes()/60));break;default:n.setMinutes(30*Math.round(n.getMinutes()/30))}n.setSeconds(0),n.setMilliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:n.setMinutes(5*Math.round(n.getMinutes()/5)),n.setSeconds(0);break;case 5:n.setSeconds(60*Math.round(n.getSeconds()/60));break;default:n.setSeconds(30*Math.round(n.getSeconds()/30))}n.setMilliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.setSeconds(5*Math.round(n.getSeconds()/5)),n.setMilliseconds(0);break;case 5:n.setMilliseconds(1e3*Math.round(n.getMilliseconds()/1e3));break;default:n.setMilliseconds(500*Math.round(n.getMilliseconds()/500))}else if("millisecond"==e){var r=i>5?i/2:1;n.setMilliseconds(Math.round(n.getMilliseconds()/r)*r)}return n},n.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}switch(this.scale){case"millisecond":return 0==this.current.getMilliseconds();case"second":return 0==this.current.getSeconds();case"minute":return 0==this.current.getHours()&&0==this.current.getMinutes();case"hour":return 0==this.current.getHours();case"weekday":case"day":return 1==this.current.getDate();case"month":return 0==this.current.getMonth();case"year":return!1;default:return!1}},n.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);var e=this.format.minorLabels[this.scale];return e&&e.length>0?o(t).format(e):""},n.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);var e=this.format.majorLabels[this.scale];return e&&e.length>0?o(t).format(e):""},n.prototype.getClassName=function(){function t(t){return t/l%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(o().add(1,"day"),"day")?" vis-tomorrow":t.isSame(o().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function n(t){return t.isSame(new Date,"month")?" vis-current-month":""}function r(t){return t.isSame(new Date,"year")?" vis-current-year":""}var s=o(this.current),a=s.locale?s.locale("en"):s.lang("en"),l=this.step;switch(this.scale){case"millisecond":return t(a.milliseconds()).trim();case"second":return t(a.seconds()).trim();case"minute":return t(a.minutes()).trim();case"hour":var d=a.hours();return 4==this.step&&(d=d+"-h"+(d+4)),"vis-h"+d+e(a)+t(a.hours());case"weekday":return"vis-"+a.format("dddd").toLowerCase()+e(a)+i(a)+t(a.date());case"day":var h=a.date(),u=a.format("MMMM").toLowerCase();return"vis-day"+h+" vis-"+u+n(a)+t(h-1);case"month":return"vis-"+a.format("MMMM").toLowerCase()+n(a)+t(a.month());case"year":var c=a.year();return"vis-year"+c+r(a)+t(c);default:return""}},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){o.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var o=(i(1),i(32));n.prototype=Object.create(o.prototype),n.prototype.redraw=function(t,e,i){var n=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,r=this.visibleItems.length;r>o;o++){var s=this.visibleItems[o];s.repositionY(e)}return n},n.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}var o=i(35);i(1);n.prototype=new o(null,null,null),n.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var n=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className="vis-item vis-box"+o,t.line.className="vis-item vis-line"+o,t.dot.className="vis-item vis-dot"+o,this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.left=t-this.width:"left"==e?this.left=t:this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px"},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,r=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-r+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},n.prototype.getWidthLeft=function(){return this.width/2},n.prototype.getWidthRight=function(){return this.width/2},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}var o=i(35);n.prototype=new o(null,null,null),n.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),t.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.point.className="vis-item vis-point"+i,t.dot.className="vis-item vis-dot"+i,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,t.content.style.marginLeft=2*this.props.dot.width+"px",t.dot.style.top=(this.height-this.props.dot.height)/2+"px",t.dot.style.left=this.props.dot.width/2+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.point)},n.prototype.show=function(){this.displayed||this.redraw()},n.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px"},n.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"},n.prototype.getWidthLeft=function(){return this.props.dot.width},n.prototype.getWidthRight=function(){return this.width-this.props.dot.width},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}var o=(i(23),i(35)),r=i(37),s=i(34);n.prototype=new o(null,null,null),n.prototype.baseClassName="vis-item vis-background",n.prototype.stack=!1,n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},n.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},n.prototype.show=s.prototype.show,n.prototype.hide=s.prototype.hide,n.prototype.repositionX=s.prototype.repositionX,n.prototype.repositionY=function(t){var e="top"===this.options.orientation.item;this.dom.content.style.top=e?"":"0",this.dom.content.style.bottom=e?"0":"";var i;if(void 0!==this.data.subgroup){var n=this.data.subgroup,o=this.parent.subgroups,s=o[n].index;if(1==e){i=this.parent.subgroups[n].height+t.item.vertical,i+=0==s?t.axis-.5*t.item.vertical:0;var a=this.parent.top;for(var l in o)o.hasOwnProperty(l)&&1==o[l].visible&&o[l].index<s&&(a+=o[l].height+t.item.vertical);a+=0!=s?t.axis-.5*t.item.vertical:0,this.dom.box.style.top=a+"px",this.dom.box.style.bottom=""}else{var a=this.parent.top,d=0;for(var l in o)if(o.hasOwnProperty(l)&&1==o[l].visible){var h=o[l].height+t.item.vertical;d+=h,o[l].index>s&&(a+=h)}i=this.parent.subgroups[n].height+t.item.vertical,this.dom.box.style.top=this.parent.height-d+a+"px",this.dom.box.style.bottom=""}}else this.parent instanceof r?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),
this.dom.box.style.top=e?"0":"",this.dom.box.style.bottom=e?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,format:s.FORMAT,timeAxis:null},this.options=o.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var o=i(1),r=i(21),s=i(36),a=i(29),l=i(2);n.prototype=new r,n.prototype.setOptions=function(t){t&&(o.selectiveExtend(["showMinorLabels","showMajorLabels","hiddenDates","timeAxis"],this.options,t),o.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"==typeof t.orientation&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof l.locale?l.locale(t.locale):l.lang(t.locale)))},n.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},n.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},n.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n;this._calculateCharSize();var r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=s?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,l=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?n.insertBefore(e,a):n.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(i,l):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},n.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=o.convert(this.body.range.start,"Number"),i=o.convert(this.body.range.end,"Number"),n=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf(),r=n-a.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,n);r-=this.body.util.toTime(0).valueOf();var l=new s(new Date(e),new Date(i),r,this.body.hiddenDates);this.options.format&&l.setFormat(this.options.format),this.options.timeAxis&&l.setScale(this.options.timeAxis),this.step=l;var d=this.dom;d.redundant.lines=d.lines,d.redundant.majorTexts=d.majorTexts,d.redundant.minorTexts=d.minorTexts,d.lines=[],d.majorTexts=[],d.minorTexts=[];var h,u,c,p,f=0,m=0,g=0,v=void 0,y=0;for(l.first();l.hasNext()&&1e3>y;)y++,h=l.getCurrent(),u=l.isMajor(),p=l.getClassName(),m=f,f=this.body.util.toScreen(h),g=f-m,c&&(c.style.width=g+"px"),this.options.showMinorLabels&&this._repaintMinorText(f,l.getLabelMinor(),t,p),u&&this.options.showMajorLabels?(f>0&&(void 0==v&&(v=f),this._repaintMajorText(f,l.getLabelMajor(),t,p)),c=this._repaintMajorLine(f,t,p)):c=this._repaintMinorLine(f,t,p),l.next();if(this.options.showMajorLabels){var b=this.body.util.toTime(0),w=l.getLabelMajor(b),_=w.length*(this.props.majorCharWidth||10)+10;(void 0==v||v>_)&&this._repaintMajorText(0,w,t,p)}o.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},n.prototype._repaintMinorText=function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");o=document.createElement("div"),o.appendChild(r),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.childNodes[0].nodeValue=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",o.style.left=t+"px",o.className="vis-text vis-minor "+n},n.prototype._repaintMajorText=function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createTextNode(e);o=document.createElement("div"),o.appendChild(r),this.dom.foreground.appendChild(o)}this.dom.majorTexts.push(o),o.childNodes[0].nodeValue=e,o.className="vis-text vis-major "+n,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",o.style.left=t+"px"},n.prototype._repaintMinorLine=function(t,e,i){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var o=this.props;return"top"==e?n.style.top=o.majorLabelHeight+"px":n.style.top=this.body.domProps.top.height+"px",n.style.height=o.minorLineHeight+"px",n.style.left=t-o.minorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-minor "+i,n},n.prototype._repaintMajorLine=function(t,e,i){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var o=this.props;return"top"==e?n.style.top="0":n.style.top=this.body.domProps.top.height+"px",n.style.left=t-o.majorLineWidth/2+"px",n.style.height=o.majorLineHeight+"px",n.className="vis-grid vis-vertical vis-major "+i,n},n.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},t.exports=n},function(t,e,i){"use strict";function n(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){o(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=r(),this.escListener=this.deactivate.bind(this)}function o(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var r=i(43),s=i(13),a=i(23),l=i(1);s(n.prototype),n.current=null,n.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},n.prototype.activate=function(){n.current&&n.current.deactivate(),n.current=this,this.active=!0,this.dom.overlay.style.display="none",l.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},n.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",l.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},n.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=n},function(t,e,i){var n,o,r;!function(i,s){o=[],n=s,r="function"==typeof n?n.apply(e,o):n,!(void 0!==r&&(t.exports=r))}(this,function(){function t(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;122>=e;e++)s[String.fromCharCode(e)]={code:65+(e-97),shift:!1};for(e=65;90>=e;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;9>=e;e++)s[""+e]={code:48+e,shift:!1};for(e=1;12>=e;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;9>=e;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s["delete"]={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},l=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==r[e][t.keyCode]){for(var n=r[e][t.keyCode],o=0;o<n.length;o++)void 0===n[o].shift?n[o].fn(t):1==n[o].shift&&1==t.shiftKey?n[o].fn(t):0==n[o].shift&&0==t.shiftKey&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in s)s.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=r[i][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)(o[a].fn!=e||o[a].shift!=s[t].shift)&&n.push(r[i][s[t].code][a]);r[i][s[t].code]=n}else r[i][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),o}return t})},function(t,e,i){"use strict";function n(t,e){this.body=t,this.defaultOptions={locales:l,locale:"en",id:void 0},this.options=r.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var o=i(23),r=i(1),s=i(21),a=i(2),l=i(22);n.prototype=new s,n.prototype.setOptions=function(t){t&&r.selectiveExtend(["locale","locales","id"],this.options,t)},n.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=new o(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this))},n.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},n.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),i=this.options.locales.en);var n=i.time+": "+a(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");return n=n.charAt(0).toUpperCase()+n.substring(1),this.bar.style.left=e+"px",this.bar.title=n,!1},n.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},n.prototype.setCustomTime=function(t){this.customTime=r.convert(t,"Date"),this.redraw()},n.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},n.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},n.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation()}},n.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation())},n.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(46),a=n(s),l=i(1),d=function(){function t(e,i,n){var r=void 0===arguments[3]?1:arguments[3];o(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},l.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.colorPicker=new a["default"](r),this.wrapper=void 0}return r(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"==typeof t?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),this.options.filter===!1&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,n=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,n=!1,"function"==typeof e?(n=e(o,[]),n=n||this._handleObject(this.configureOptions[o],[o],!0)):(e===!0||-1!==e.indexOf(o))&&(n=!0),n!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);this.options.showButton===!0&&!function(){var e=document.createElement("div");e.className="vis-network-configuration button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-network-configuration button hover"},e.onmouseout=function(){e.className="vis-network-configuration button"},t.optionsContainer=document.createElement("div"),t.optionsContainer.className="vis-network-configuration vis-option-container",t.domElements.push(t.optionsContainer),t.domElements.push(e)}(),this._push(),this.colorPicker.insertTo(this.container)}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-network-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t])}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[]}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),o=1;i>o;o++)n[o-1]=arguments[o];this.allowCreation===!0&&!function(){var i=document.createElement("div");i.className="vis-network-configuration item s"+t.length,n.forEach(function(t){i.appendChild(t)}),e.domElements.push(i)}()}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-network-configuration header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=void 0===arguments[2]?!1:arguments[2],n=document.createElement("div");return n.className="vis-network-configuration label s"+e.length,i===!0?n.innerHTML="<i><b>"+t+":</b></i>":n.innerHTML=t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-network-configuration select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.type="range",a.className="vis-network-configuration range",a.min=o,a.max=r,a.step=s,void 0!==e?(0>e&&o>2*e?a.min=2*e:o>.1*e&&(a.min=e/10),2*e>r&&1!==r&&(a.max=2*e),a.value=e):a.value=n;var l=document.createElement("input");l.className="vis-network-configuration rangeinput",l.value=a.value;var d=this;a.onchange=function(){l.value=this.value,d._update(Number(this.value),i)},a.oninput=function(){l.value=this.value};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,a,l)}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-network-configuration checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var o=this;n.onchange=function(){o._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-network-configuration text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var o=this;n.onchange=function(){o._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,o=t[1],r=document.createElement("div");e=void 0===e?o:e,"none"!==e?(r.className="vis-network-configuration colorBlock",r.style.backgroundColor=e):r.className="vis-network-configuration colorBlock none",e=void 0===e?o:e,r.onclick=function(){n._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,e,i){var n=this,o=e.getBoundingClientRect(),r=document.body.getBoundingClientRect(),s=o.left+o.width+5,a=o.top-r.top+.5*o.height;this.colorPicker.show(s,a),this.colorPicker.setColor(t),this.colorPicker.setCallback(function(t){var o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,n._update(o,i)})}},{key:"_handleObject",value:function(t){var e=void 0===arguments[1]?[]:arguments[1],i=void 0===arguments[2]?!1:arguments[2],n=!1,o=this.options.filter,r=!1;for(var s in t)if(t.hasOwnProperty(s)){n=!0;var a=t[s],d=l.copyAndExtendArray(e,s);if("function"==typeof o&&(n=o(s,e),n===!1&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,d,!0),this.allowCreation=i===!1)),n!==!1){r=!0;var h=this._getValue(d);if(a instanceof Array)this._handleArray(a,h,d);else if("string"==typeof a)this._makeTextInput(a,h,d);else if("boolean"==typeof a)this._makeCheckbox(a,h,d);else if(a instanceof Object){var u=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(u=!1),u===!0)if(void 0!==a.enabled){var c=l.copyAndExtendArray(d,"enabled"),p=this._getValue(c);if(p===!0){var f=this._makeLabel(s,d,!0);this._makeItem(d,f),r=this._handleObject(a,d)||r}else this._makeCheckbox(a,p,d)}else{var f=this._makeLabel(s,d,!0);this._makeItem(d,f),r=this._handleObject(a,d)||r}}else console.error("dont know how to handle",a,s,d)}}return r}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=void 0===arguments[2]?{}:arguments[2],n=i;t="true"===t?!0:t,t="false"===t?!1:t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(23),s=i(28),a=i(1),l=function(){function t(){var e=void 0===arguments[0]?1:arguments[0];n(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this._create()}return o(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker callback is not a function.");this.updateCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};return"string"==typeof t?e[t]:void 0}},{key:"setColor",value:function(t){var e=void 0===arguments[1]?!0:arguments[1];if("none"!==t){var i=void 0,n=this._isColorString(t);if(void 0!==n&&(t=n),a.isString(t)===!0){if(a.isValidRGB(t)===!0){var o=t.substr(4).substr(0,t.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(a.isValidRGBA(t)===!0){var o=t.substr(5).substr(0,t.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(a.isValidHex(t)===!0){var r=a.hexToRGB(t);i={r:r.r,g:r.g,b:r.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var s=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:s}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}}},{key:"show",value:function(t,e){this.applied=!1,this.frame.style.display="block",this.frame.style.top=e+"px",this.frame.style.left=t+"px",this._generateHueCircle()}},{key:"_hide",value:function(){var t=void 0===arguments[0]?!0:arguments[0];t===!0&&(this.previousColor=a.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none"}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=void 0===arguments[1]?!0:arguments[1];e===!0&&(this.initialColor=a.extend({},t)),this.color=t;var i=a.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=a.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=a.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=void 0===arguments[0]?this.color:arguments[0],e=a.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input"),this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100",this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input"),this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100",this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",
this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new r(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),s.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var n=void 0,o=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var l=2*Math.PI/360,d=1/360,h=1/this.r,u=void 0;for(r=0;360>r;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(l*r),o=this.centerCoordinates.y+s*Math.cos(l*r),u=a.HSVToRGB(r*d,s*h,1),t.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,l=n-o,d=Math.atan2(s,l),h=.98*Math.min(Math.sqrt(s*s+l*l),r),u=Math.cos(d)*h+o,c=Math.sin(d)*h+r;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";var p=d/(2*Math.PI);p=0>p?p+1:p;var f=h/this.r,m=a.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=p,m.s=f;var g=a.HSVToRGB(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),s=!1,a=void 0,l="background: #FFeeee; color: #dd0000",d=function(){function t(){n(this,t)}return o(t,null,[{key:"validate",value:function(e,i,n){s=!1,a=i;var o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),s}},{key:"parse",value:function(e,i,n){for(var o in e)e.hasOwnProperty(o)&&t.check(o,e,i,n)}},{key:"check",value:function(e,i,n,o){void 0===n[e]&&void 0===n.__any__?t.getSuggestion(e,n,o):void 0===n[e]&&void 0!==n.__any__?"object"===t.getType(i[e])&&t.checkFields(e,i,n,"__any__",n.__any__.__type__,o):void 0!==n[e].__type__?t.checkFields(e,i,n,e,n[e].__type__,o):t.checkFields(e,i,n,e,n[e],o)}},{key:"checkFields",value:function(e,i,n,o,a,d){var h=t.getType(i[e]),u=a[h];void 0!==u?"array"===t.getType(u)&&-1===u.indexOf(i[e])?(console.log('%cInvalid option detected in "'+e+'". Allowed values are:'+t.print(u)+' not "'+i[e]+'". '+t.printLocation(d,e),l),s=!0):"object"===h&&(d=r.copyAndExtendArray(d,e),t.parse(i[e],n[o],d)):void 0===a.any&&(console.log('%cInvalid type received for "'+e+'". Expected: '+t.print(Object.keys(a))+". Received ["+h+'] "'+i[e]+'"'+t.printLocation(d,e),l),s=!0)}},{key:"getType",value:function(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":t._isAMomentObject===!0?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var o=t.findInOptions(e,i,n,!1),r=t.findInOptions(e,a,[],!0),d=8,h=4;void 0!==o.indexMatch?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n',l):r.distance<=h&&o.distance>r.distance?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""),l):o.distance<=d?console.log('%cUnknown option detected: "'+e+'". Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e),l):console.log('%cUnknown option detected: "'+e+'". Did you mean one of these: '+t.print(Object.keys(i))+t.printLocation(n,e),l),s=!0}},{key:"findInOptions",value:function(e,i,n){var o=void 0===arguments[3]?!1:arguments[3],s=1e9,a="",l=[],d=e.toLowerCase(),h=void 0;for(var u in i){var c=void 0;if(void 0!==i[u].__type__&&o===!0){var p=t.findInOptions(e,i[u],r.copyAndExtendArray(n,u));s>p.distance&&(a=p.closestMatch,l=p.path,s=p.distance,h=p.indexMatch)}else-1!==u.toLowerCase().indexOf(d)&&(h=u),c=t.levenshteinDistance(e,u),s>c&&(a=u,l=r.copyArray(n),s=c)}return{closestMatch:a,path:l,distance:s,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i=void 0===arguments[2]?"Problem value found at: \n":arguments[2],n="\n\n"+i+"options = {\n",o=0;o<t.length;o++){for(var r=0;o+1>r;r++)n+="  ";n+=t[o]+": {\n"}for(var r=0;r<t.length+1;r++)n+="  ";n+=e+"\n";for(var o=0;o<t.length+1;o++){for(var r=0;r<t.length-o;r++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",/*
       Copyright (c) 2011 Andrei Mackenzie
        Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
        The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       */
value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n=[];for(i=0;i<=e.length;i++)n[i]=[i];var o;for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}}]),t}();e["default"]=d,e.printStyle=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="array",a="date",l="object",d="dom",h="moment",u={configure:{enabled:{"boolean":o},filter:{"boolean":o,"function":"function"},container:{dom:d},__type__:{object:l,"boolean":o,"function":"function"}},align:{string:n},autoResize:{"boolean":o},clickToUse:{"boolean":o},dataAttributes:{string:n,array:s},editable:{add:{"boolean":o,undefined:"undefined"},remove:{"boolean":o,undefined:"undefined"},updateGroup:{"boolean":o,undefined:"undefined"},updateTime:{"boolean":o,undefined:"undefined"},__type__:{"boolean":o,object:l}},end:{number:r,date:a,string:n,moment:h},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l}},__type__:{object:l}},groupOrder:{string:n,"function":"function"},height:{string:n,number:r},hiddenDates:{object:l,array:s},locale:{string:n},locales:{__any__:{object:l},__type__:{object:l}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:l,number:r}},__type__:{object:l,number:r}},max:{date:a,number:r,string:n,moment:h},maxHeight:{number:r,string:n},min:{date:a,number:r,string:n,moment:h},minHeight:{number:r,string:n},moveable:{"boolean":o},multiselect:{"boolean":o},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:n,undefined:"undefined"},item:{string:n,undefined:"undefined"},__type__:{string:n,object:l}},selectable:{"boolean":o},showCurrentTime:{"boolean":o},showMajorLabels:{"boolean":o},showMinorLabels:{"boolean":o},stack:{"boolean":o},snap:{"function":"function","null":"null"},start:{date:a,number:r,string:n,moment:h},template:{"function":"function"},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:l}},type:{string:n},width:{string:n,number:r},zoomable:{"boolean":o},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:l}},c={global:{align:["center","left","right"],autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",min:"",minHeight:"",moveable:!1,multiselect:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=u,e.configureOptions=c},function(t,e,i){"use strict";function n(t,e,i,n){if(!(Array.isArray(i)||i instanceof r)&&i instanceof Object){var s=n;n=i,i=s}var l=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:l._toScreen.bind(l),toGlobalScreen:l._toGlobalScreen.bind(l),toTime:l._toTime.bind(l),toGlobalTime:l._toGlobalTime.bind(l)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.components.push(this.timeAxis),this.currentTime=new h(this.body),this.components.push(this.currentTime),this.linegraph=new c(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){l.emit("click",l.getEventProperties(t))}),this.on("doubletap",function(t){l.emit("doubleClick",l.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){l.emit("contextmenu",l.getEventProperties(t))},this.configurator=new p(this,t,v),n&&this.setOptions(n),i&&this.setGroups(i),e?this.setItems(e):this._redraw()}var o=(i(13),i(23),i(1)),r=i(8),s=i(10),a=i(27),l=i(30),d=i(41),h=i(20),u=i(44),c=i(50),p=i(45),f=i(47)["default"],m=i(47).printStyle,g=i(58).allOptions,v=i(58).configureOptions;n.prototype=new l,n.prototype.setOptions=function(t){var e=f.validate(t,g);e===!0&&console.log("%cErrors have been found in the supplied options object.",m),l.prototype.setOptions.call(this,t)},n.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var n=void 0!=this.options.start?this.options.start:null,o=void 0!=this.options.end?this.options.end:null;this.setWindow(n,o,{animation:!1})}else this.fit({animation:!1})},n.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t):null,this.groupsData=e,this.linegraph.setGroups(e)},n.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:"+t},n.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]):!1},n.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var r=this.linegraph.groups[i].itemsData[n],s=o.convert(r.x,"Date").valueOf();t=null==t?s:t>s?s:t,e=null==e?s:s>e?s:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=e-o.getAbsoluteLeft(this.dom.centerContainer),r=i-o.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(n),a=u.customTimeFromTarget(t),l=o.getTarget(t),d=null;o.hasParent(l,this.timeAxis.dom.foreground)?d="axis":this.timeAxis2&&o.hasParent(l,this.timeAxis2.dom.foreground)?d="axis":o.hasParent(l,this.linegraph.yAxisLeft.dom.frame)?d="data-axis":o.hasParent(l,this.linegraph.yAxisRight.dom.frame)?d="data-axis":o.hasParent(l,this.linegraph.legendLeft.dom.frame)?d="legend":o.hasParent(l,this.linegraph.legendRight.dom.frame)?d="legend":null!=a?d="custom-time":o.hasParent(l,this.currentTime.bar)?d="current-time":o.hasParent(l,this.dom.center)&&(d="background");var h=[],c=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return c.hidden||h.push(c.screenToValue(r)),p.hidden||h.push(p.screenToValue(r)),{event:t,what:d,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:r,time:s,value:h}},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.id=o.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}},this.options=o.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.COUNTER=0,this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=o.option.asSize(-i.props.width),i.redraw.call(i,!0)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.body.emitter.emit("change")}var o=i(1),r=i(7),s=i(8),a=i(10),l=i(21),d=i(51),h=i(53),u=i(57),c=i(56),p=(i(54),"__ungrouped__");n.prototype=new l,n.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new u(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new u(this.body,this.options.legend,"right",this.options.groups),this.show()},n.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height&&void 0!==this.body.domProps.centerContainer.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),o.selectiveDeepExtend(e,this.options,t),o.mergeOptions(this.options,t,"interpolation"),o.mergeOptions(this.options,t,"drawPoints"),o.mergeOptions(this.options,t,"shaded"),o.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==typeof t.interpolation&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(p)&&this.groups[p].setOptions(t)}this.dom.frame&&this.redraw(!0)},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof s||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(o.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;o.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,r)}),e=this.itemsData.getIds(),this._onAdd(e)}this._updateUngrouped(),this.redraw(!0)},n.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(o.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof s||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;o.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._onUpdate()},n.prototype._onUpdate=function(t){this._updateUngrouped(),this._updateAllGroupData(),this.redraw(!0)},n.prototype._onAdd=function(t){this._onUpdate(t)},n.prototype._onRemove=function(t){this._onUpdate(t)},n.prototype._onUpdateGroups=function(t){for(var e=0;e<t.length;e++){var i=this.groupsData.get(t[e]);this._updateGroup(i,t[e])}this.redraw(!0)},n.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},n.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this.groups.hasOwnProperty(t[e])&&("right"==this.groups[t[e]].options.yAxisOrientation?(this.yAxisRight.removeGroup(t[e]),this.legendRight.removeGroup(t[e]),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t[e]),this.legendLeft.removeGroup(t[e]),this.legendLeft.redraw()),delete this.groups[t[e]]);this._updateUngrouped(),this.redraw(!0)},n.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e])):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]))):(this.groups[e]=new h(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},n.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var t,e={};for(t in this.groups)this.groups.hasOwnProperty(t)&&(e[t]=[]);for(var i in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(i)){var n=this.itemsData._data[i];if(void 0===e[n.group])throw new Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.");n.x=o.convert(n.x,"Date"),e[n.group].push(n)}for(t in this.groups)this.groups.hasOwnProperty(t)&&this.groups[t].setItems(e[t])}},n.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var t=0;for(var e in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(e)){var i=this.itemsData._data[e];void 0!=i&&(i.hasOwnProperty("group")?void 0===i.group&&(i.group=p):i.group=p,t=i.group==p?t+1:t)}if(0==t)delete this.groups[p],this.legendLeft.removeGroup(p),this.legendRight.removeGroup(p),this.yAxisLeft.removeGroup(p),this.yAxisRight.removeGroup(p);else{var n={id:p,content:this.options.defaultGroup};this._updateGroup(n,p)}}else delete this.groups[p],this.legendLeft.removeGroup(p),this.legendRight.removeGroup(p),this.yAxisLeft.removeGroup(p),this.yAxisRight.removeGroup(p);this.legendLeft.redraw(),this.legendRight.redraw()},n.prototype.redraw=function(t){var e=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,void 0===this.lastWidth&&this.props.width&&(t=!0),e=this._isResized()||e;var i=this.body.range.end-this.body.range.start,n=i!=this.lastVisibleInterval;if(this.lastVisibleInterval=i,1==e&&(this.svg.style.width=o.option.asSize(3*this.props.width),this.svg.style.left=o.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==e||1==n||1==this.abortedGraphUpdate||1==t)e=this._updateGraph()||e;else if(0!=this.lastStart){var r=this.body.range.start-this.lastStart,s=this.body.range.end-this.body.range.start;if(0!=this.props.width){var a=this.props.width/s,l=r*a;this.svg.style.left=-this.props.width-l+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),e},n.prototype._updateGraph=function(){if(r.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n={},o={},s=!1,a=[];for(var l in this.groups)this.groups.hasOwnProperty(l)&&(t=this.groups[l],1!=t.visible||void 0!==this.options.groups.visibility[l]&&1!=this.options.groups.visibility[l]||a.push(l));if(a.length>0){var d=this.body.util.toGlobalTime(-this.body.domProps.root.width),h=this.body.util.toGlobalTime(2*this.body.domProps.root.width),u={};for(this._getRelevantData(a,u,d,h),this._applySampling(a,u),e=0;e<a.length;e++)i[a[e]]=this._convertXcoordinates(u[a[e]]);this._getYRanges(a,i,o),s=this._updateYAxis(a,o);var p=5;if(1==s&&this.COUNTER<p)return r.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0;for(this.COUNTER>p&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle."),this.COUNTER=0,this.abortedGraphUpdate=!1,e=0;e<a.length;e++)t=this.groups[a[e]],n[a[e]]=this._convertYcoordinates(u[a[e]],t);for(e=0;e<a.length;e++)t=this.groups[a[e]],"bar"!=t.options.style&&t.draw(n[a[e]],t,this.framework);c.draw(a,n,this.framework)}}return r.cleanupElements(this.svgElements),!1},n.prototype._getRelevantData=function(t,e,i,n){var r,s,a,l;if(t.length>0)for(s=0;s<t.length;s++){r=this.groups[t[s]],e[t[s]]=[];var d=e[t[s]];if(1==r.options.sort){var h=Math.max(0,o.binarySearchValue(r.itemsData,i,"x","before"));for(a=h;a<r.itemsData.length;a++)if(l=r.itemsData[a],void 0!==l){if(l.x>n){d.push(l);break}d.push(l)}}else for(a=0;a<r.itemsData.length;a++)l=r.itemsData[a],void 0!==l&&l.x>i&&l.x<n&&d.push(l)}},n.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var n=0;n<t.length;n++)if(i=this.groups[t[n]],1==i.options.sampling){var o=e[t[n]];if(o.length>0){var r=1,s=o.length,a=this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x),l=s/a;r=Math.min(Math.ceil(.2*s),Math.max(1,Math.round(l)));for(var d=[],h=0;s>h;h+=r)d.push(o[h]);e[t[n]]=d}}},n.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(t.length>0){for(r=0;r<t.length;r++)n=e[t[r]],s=this.groups[t[r]].options,n.length>0&&(o=this.groups[t[r]],s.stack===!0&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(o.getData(n)):l=l.concat(o.getData(n)):i[t[r]]=o.getYRange(n,t[r]));c.getStackedYRange(a,i,t,"__barStackLeft","left"),c.getStackedYRange(l,i,t,"__barStackRight","right")}},n.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,d=-1e9,h=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];c&&"right"!=c.options.yAxisOrientation?(r=!0,a=0,d=0):c&&c.options.yAxisOrientation&&(s=!0,l=0,h=0)}for(var u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&e[t[u]].ignore!==!0&&(i=e[t[u]].min,n=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(r=!0,a=a>i?i:a,d=n>d?n:d):(s=!0,l=l>i?i:l,h=n>h?n:h));1==r&&this.yAxisLeft.setRange(a,d),1==s&&this.yAxisRight.setRange(l,h)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,0==this.yAxisRight.master?(1==s?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,o=this.yAxisLeft.redraw()||o,this.yAxisRight.stepPixels=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing,this.yAxisRight.amountOfSteps=this.yAxisLeft.amountOfSteps,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;for(var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return o},n.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},n.prototype._convertXcoordinates=function(t){for(var e,i,n=[],o=this.body.util.toScreen,r=0;r<t.length;r++)e=o(t[r].x)+this.props.width,i=t[r].y,n.push({x:e,y:i});return n},n.prototype._convertYcoordinates=function(t,e){var i,n,o=[],r=this.body.util.toScreen,s=this.yAxisLeft,a=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(s=this.yAxisRight);for(var l=0;l<t.length;l++){var d=t[l].label?t[l].label:null;i=r(t[l].x)+this.props.width,n=Math.round(s.convertValue(t[l].y)),o.push({x:i,y:n,label:d})}return e.setZeroPosition(Math.min(a,s.convertValue(0))),o},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){this.id=o.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.range={start:0,end:0},this.options=o.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.offsetHeight,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create();var r=this;this.body.emitter.on("verticalDrag",function(){r.dom.lineContainer.style.top=r.body.domProps.scrollTop+"px"})}var o=i(1),r=i(7),s=i(21),a=i(52);n.prototype=new s,n.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},n.prototype.updateGroup=function(t,e){this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},n.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];o.selectiveExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),e===!0&&this.dom.frame&&(this.hide(),this.show())}},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},n.prototype._redrawGroupIcons=function(){r.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=15,n=4,o=n+.5*i;t="left"===this.options.orientation?n:this.width-e-n;var s=Object.keys(this.groups);s.sort(function(t,e){return e>t?-1:1});for(var a=0;a<s.length;a++){var l=s[a];this.groups[l].visible!==!0||void 0!==this.linegraphOptions.visibility[l]&&this.linegraphOptions.visibility[l]!==!0||(this.groups[l].drawIcon(t,o,this.svgElements,this.svg,e,i),o+=i+n)}r.cleanupElements(this.svgElements),this.iconsRemoved=!1},n.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(r.prepareElements(this.svgElements),r.cleanupElements(this.svgElements),this.iconsRemoved=!0)},n.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},n.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},n.prototype.setRange=function(t,e){this.master===!1&&this.options.alignZeros===!0&&-1!=this.zeroCrossing&&t>0&&(t=0),this.range.start=t,this.range.end=e},n.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var n=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMinorLabels,a=this.options.showMajorLabels;n.minorLabelHeight=s?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},n.prototype._redrawLabels=function(){var t=!1;r.prepareElements(this.DOMelements.lines),r.prepareElements(this.DOMelements.labels);var e,i=this.options.orientation;if(this.master===!1){var n,o,s,l;-1!==this.zeroCrossing&&this.options.alignZeros===!0?this.range.end>0?(n=this.range.end/this.zeroCrossing,o=this.range.end-this.amountOfSteps*n,s=this.range.end):(n=-1*this.range.start/(this.amountOfSteps-this.zeroCrossing),o=this.range.start,s=this.range.start+n*this.amountOfSteps):(o=this.range.start,s=this.range.end),l=this.stepPixels}else l=this.props.majorCharHeight,o=this.range.start,s=this.range.end;if(this.step=e=new a(o,s,l,this.dom.frame.offsetHeight,this.options[this.options.orientation].range,this.options[this.options.orientation].format,this.master===!1&&this.options.alignZeros),this.master===!0)this.stepPixels=this.dom.frame.offsetHeight/e.marginRange*e.step,this.amountOfSteps=Math.ceil(this.dom.frame.offsetHeight/this.stepPixels);else if(this.options.alignZeros===!0&&-1!==this.zeroCrossing){var d=(e.current-this.zeroCrossing*e.step)/e.step;this.step.shift(d)}this.valueAtBottom=e.marginEnd,this.maxLabelSize=0;for(var h=0,u=0,c=!1;u<this.amountOfSteps;)h=Math.round(u*this.stepPixels),c=e.isMajor(),u>0&&u!==this.amountOfSteps&&((this.options.showMinorLabels&&c===!1||this.master===!1&&this.options.showMinorLabels===!0)&&this._redrawLabel(h-2,e.getCurrent(),i,"vis-y-axis vis-minor",this.props.minorCharHeight),c&&this.options.showMajorLabels&&this.master===!0||this.options.showMinorLabels===!1&&this.master===!1&&c===!0?(h>=0&&this._redrawLabel(h-2,e.getCurrent(),i,"vis-y-axis vis-major",this.props.majorCharHeight),this._redrawLine(h,i,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(h,i,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth)),this.master===!0&&0===e.current&&(this.zeroCrossing=u),e.next(),u+=1;this.master===!0&&0===e.current&&(this.zeroCrossing=u),this.conversionFactor=this.stepPixels/e.step;var p=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(p=this.props.titleCharHeight);var f=this.options.icons===!0?Math.max(this.options.iconWidth,p)+this.options.labelOffsetX+15:p+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-f&&this.options.visible===!0?(this.width=this.maxLabelSize+f,this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-f&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+f),this.options.width=this.width+"px",r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):(r.cleanupElements(this.DOMelements.lines),r.cleanupElements(this.DOMelements.labels),t=!1),t},n.prototype.convertValue=function(t){var e=this.valueAtBottom-t,i=e*this.conversionFactor;return i},n.prototype.screenToValue=function(t){return this.valueAtBottom-t/this.conversionFactor},n.prototype._redrawLabel=function(t,e,i,n,o){var s=r.getDOMElement("div",this.DOMelements.labels,this.dom.frame);s.className=n,s.innerHTML=e,"left"===i?(s.style.left="-"+this.options.labelOffsetX+"px",s.style.textAlign="right"):(s.style.right="-"+this.options.labelOffsetX+"px",s.style.textAlign="left"),s.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},n.prototype._redrawLine=function(t,e,i,n,o){if(this.master===!0){var s=r.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);s.className=i,s.innerHTML="","left"===e?s.style.left=this.width-n+"px":s.style.right=this.width-n+"px",s.style.width=o+"px",s.style.top=t+"px"}},n.prototype._redrawTitle=function(t){if(r.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=r.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&o.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}r.cleanupElements(this.DOMelements.title)},n.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",
n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n,o,r,s){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.formattingFunction=r,this.marginStart,this.marginEnd,this.deadSpace=0,this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.alignZeros=s,this.setRange(t,e,i,n,o)}n.prototype.setRange=function(t,e,i,n,o){this._start=void 0===o.min?t:o.min,this._end=void 0===o.max?e:o.max,this._start===this._end&&(this._start=void 0===o.min?this._start-.75:this._start,this._end=void 0===o.max?this._end+1:this._end),this.autoScale===!0&&this.setMinimumStep(i,n),this.setFirst(o)},n.prototype.setMinimumStep=function(t,e){var i=this._end-this._start,n=1.2*i,o=t*(n/e),r=Math.round(Math.log(n)/Math.LN10),s=-1,a=Math.pow(10,r),l=0;0>r&&(l=r);for(var d=!1,h=l;Math.abs(h)<=Math.abs(r);h++){a=Math.pow(10,h);for(var u=0;u<this.minorSteps.length;u++){var c=a*this.minorSteps[u];if(c>=o){d=!0,s=u;break}}if(d===!0)break}this.stepIndex=s,this.scale=a,this.step=a*this.minorSteps[s]},n.prototype.setFirst=function(t){void 0===t&&(t={});var e=void 0===t.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:t.min,i=void 0===t.max?this._end+this.scale*this.minorSteps[this.stepIndex]:t.max;this.marginEnd=void 0===t.max?this.roundToMinor(i):t.max,this.marginStart=void 0===t.min?this.roundToMinor(e):t.min,this.alignZeros===!0&&(this.marginEnd-this.marginStart)%this.step!=0&&(this.marginEnd+=this.marginEnd%this.step),this.deadSpace=this.roundToMinor(i)-i+this.roundToMinor(e)-e,this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},n.prototype.roundToMinor=function(t){var e=t-t%(this.scale*this.minorSteps[this.stepIndex]);return t%(this.scale*this.minorSteps[this.stepIndex])>.5*(this.scale*this.minorSteps[this.stepIndex])?e+this.scale*this.minorSteps[this.stepIndex]:e},n.prototype.hasNext=function(){return this.current>=this.marginStart},n.prototype.next=function(){var t=this.current;this.current-=this.step,this.current===t&&(this.current=this._end)},n.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},n.prototype.getCurrent=function(){var t=Math.abs(this.current)<this.step/2?0:this.current,e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},n.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])===0},n.prototype.shift=function(t){if(0>t)for(var e=0;-t>e;e++)this.previous();else if(t>0)for(var e=0;t>e;e++)this.next()},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){this.id=e;var r=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation"];this.options=o.selectiveBridgeObject(r,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible?!0:t.visible}var o=i(1),r=i(7),s=i(54),a=i(56),l=i(55);n.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&this.itemsData.sort(function(t,e){return t.x-e.x})):this.itemsData=[]},n.prototype.setZeroPosition=function(t){this.zeroPosition=t},n.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart"];o.selectiveDeepExtend(e,this.options,t),o.mergeOptions(this.options,t,"interpolation"),o.mergeOptions(this.options,t,"drawPoints"),o.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==typeof t.interpolation&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}"line"==this.options.style?this.type=new s(this.id,this.options):"bar"==this.options.style?this.type=new a(this.id,this.options):"points"==this.options.style&&(this.type=new l(this.id,this.options))},n.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible?!0:t.visible,this.style=t.style,this.setOptions(t.options)},n.prototype.drawIcon=function(t,e,i,n,o,s){var a,l,d=.5*s,h=r.getSVGElement("rect",i,n);if(h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",e-d),h.setAttributeNS(null,"width",o),h.setAttributeNS(null,"height",2*d),h.setAttributeNS(null,"class","vis-outline"),"line"==this.options.style)a=r.getSVGElement("path",i,n),a.setAttributeNS(null,"class",this.className),void 0!==this.style&&a.setAttributeNS(null,"style",this.style),a.setAttributeNS(null,"d","M"+t+","+e+" L"+(t+o)+","+e),1==this.options.shaded.enabled&&(l=r.getSVGElement("path",i,n),"top"==this.options.shaded.orientation?l.setAttributeNS(null,"d","M"+t+", "+(e-d)+"L"+t+","+e+" L"+(t+o)+","+e+" L"+(t+o)+","+(e-d)):l.setAttributeNS(null,"d","M"+t+","+e+" L"+t+","+(e+d)+" L"+(t+o)+","+(e+d)+"L"+(t+o)+","+e),l.setAttributeNS(null,"class",this.className+" vis-icon-fill")),1==this.options.drawPoints.enabled&&r.drawPoint(t+.5*o,e,this,i,n);else{var u=Math.round(.3*o),c=Math.round(.4*s),p=Math.round(.75*s),f=Math.round((o-2*u)/3);r.drawBar(t+.5*u+f,e+d-c-1,u,c,this.className+" vis-bar",i,n,this.style),r.drawBar(t+1.5*u+f+2,e+d-p-1,u,p,this.className+" vis-bar",i,n,this.style)}},n.prototype.getLegend=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return this.drawIcon(0,.5*e,[],i,t,e),{icon:i,label:this.content,orientation:this.options.yAxisOrientation}},n.prototype.getYRange=function(t){return this.type.getYRange(t)},n.prototype.getData=function(t){return this.type.getData(t)},n.prototype.draw=function(t,e,i){this.type.draw(t,e,i)},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.groupId=t,this.options=e}var o=i(7),r=i(55);n.prototype.getData=function(t){for(var e=[],i=0;i<t.length;i++)e.push({x:t[i].x,y:t[i].y,groupId:this.groupId});return e},n.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},n.getStackedYRange=function(t,e,i,o,r){if(t.length>0){t.sort(function(t,e){return t.x===e.x?t.groupId<e.groupId?-1:1:t.x-e.x});var s={};n._getDataIntersections(s,t),e[o]=n._getStackedYRange(s,t),e[o].yAxisOrientation=r,i.push(o)}},n._getStackedYRange=function(t,e){for(var i,n=e[0].y,o=e[0].y,r=0;r<e.length;r++)i=e[r].x,void 0===t[i]?(n=n>e[r].y?e[r].y:n,o=o<e[r].y?e[r].y:o):e[r].y<0?t[i].accumulatedNegative+=e[r].y:t[i].accumulatedPositive+=e[r].y;for(var s in t)t.hasOwnProperty(s)&&(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n,n=n>t[s].accumulatedPositive?t[s].accumulatedPositive:n,o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o,o=o<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:n,max:o}},n._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].x-e[n].x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].x-e[n].x))),0===i&&(void 0===t[e[n].x]&&(t[e[n].x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].x].amount+=1)},n.prototype.draw=function(t,e,i){if(null!=t&&t.length>0){var s,a,l=Number(i.svg.style.height.replace("px",""));if(s=o.getSVGElement("path",i.svgElements,i.svg),s.setAttributeNS(null,"class",e.className),void 0!==e.style&&s.setAttributeNS(null,"style",e.style),a=1==e.options.interpolation.enabled?n._catmullRom(t,e):n._linear(t),1==e.options.shaded.enabled){var d,h=o.getSVGElement("path",i.svgElements,i.svg);d="top"==e.options.shaded.orientation?"M"+t[0].x+",0 "+a+"L"+t[t.length-1].x+",0":"M"+t[0].x+","+l+" "+a+"L"+t[t.length-1].x+","+l,h.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&h.setAttributeNS(null,"style",e.options.shaded.style),h.setAttributeNS(null,"d",d)}s.setAttributeNS(null,"d","M"+a),1==e.options.drawPoints.enabled&&r.draw(t,e,i)}},n._catmullRomUniform=function(t){for(var e,i,n,o,r,s,a=Math.round(t[0].x)+","+Math.round(t[0].y)+" ",l=1/6,d=t.length,h=0;d-1>h;h++)e=0==h?t[0]:t[h-1],i=t[h],n=t[h+1],o=d>h+2?t[h+2]:n,r={x:(-e.x+6*i.x+n.x)*l,y:(-e.y+6*i.y+n.y)*l},s={x:(i.x+6*n.x-o.x)*l,y:(i.y+6*n.y-o.y)*l},a+="C"+r.x+","+r.y+" "+s.x+","+s.y+" "+n.x+","+n.y+" ";return a},n._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);for(var n,o,r,s,a,l,d,h,u,c,p,f,m,g,v,y,b,w,_,x=Math.round(t[0].x)+","+Math.round(t[0].y)+" ",C=t.length,k=0;C-1>k;k++)n=0==k?t[0]:t[k-1],o=t[k],r=t[k+1],s=C>k+2?t[k+2]:r,d=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),h=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),u=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)),g=Math.pow(u,i),y=Math.pow(u,2*i),v=Math.pow(h,i),b=Math.pow(h,2*i),_=Math.pow(d,i),w=Math.pow(d,2*i),c=2*w+3*_*v+b,p=2*y+3*g*v+b,f=3*_*(_+v),f>0&&(f=1/f),m=3*g*(g+v),m>0&&(m=1/m),a={x:(-b*n.x+c*o.x+w*r.x)*f,y:(-b*n.y+c*o.y+w*r.y)*f},l={x:(y*o.x+p*r.x-b*s.x)*m,y:(y*o.y+p*r.y-b*s.y)*m},0==a.x&&0==a.y&&(a=o),0==l.x&&0==l.y&&(l=r),x+="C"+a.x+","+a.y+" "+l.x+","+l.y+" "+r.x+","+r.y+" ";return x},n._linear=function(t){for(var e="",i=0;i<t.length;i++)e+=0==i?t[i].x+","+t[i].y:" "+t[i].x+","+t[i].y;return e},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.groupId=t,this.options=e}var o=i(7);n.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},n.prototype.draw=function(t,e,i,o){n.draw(t,e,i,o)},n.draw=function(t,e,i,n){void 0===n&&(n=0);for(var r=0;r<t.length;r++)o.drawPoint(t[r].x+n,t[r].y,e,i.svgElements,i.svg,t[r].label)},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.groupId=t,this.options=e}var o=i(7),r=i(55);n.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},n.prototype.getData=function(t){for(var e=[],i=0;i<t.length;i++)e.push({x:t[i].x,y:t[i].y,groupId:this.groupId});return e},n.draw=function(t,e,i){var s,a,l,d,h,u,c=[],p={},f=0;for(h=0;h<t.length;h++)if(d=i.groups[t[h]],"bar"===d.options.style&&d.visible===!0&&(void 0===i.options.groups.visibility[t[h]]||i.options.groups.visibility[t[h]]===!0))for(u=0;u<e[t[h]].length;u++)c.push({x:e[t[h]][u].x,y:e[t[h]][u].y,groupId:t[h],label:e[t[h]][u].label}),f+=1;if(0!==f)for(c.sort(function(t,e){return t.x===e.x?t.groupId<e.groupId?-1:1:t.x-e.x}),n._getDataIntersections(p,c),h=0;h<c.length;h++){d=i.groups[c[h].groupId];var m=.1*d.options.barChart.width;a=c[h].x;var g=0;if(void 0===p[a])h+1<c.length&&(s=Math.abs(c[h+1].x-a)),h>0&&(s=Math.min(s,Math.abs(c[h-1].x-a))),l=n._getSafeDrawData(s,d,m);else{var v=h+(p[a].amount-p[a].resolved),y=h-(p[a].resolved+1);v<c.length&&(s=Math.abs(c[v].x-a)),y>0&&(s=Math.min(s,Math.abs(c[y].x-a))),l=n._getSafeDrawData(s,d,m),p[a].resolved+=1,d.options.stack===!0?c[h].y<d.zeroPosition?(g=p[a].accumulatedNegative,p[a].accumulatedNegative+=d.zeroPosition-c[h].y):(g=p[a].accumulatedPositive,p[a].accumulatedPositive+=d.zeroPosition-c[h].y):d.options.barChart.sideBySide===!0&&(l.width=l.width/p[a].amount,l.offset+=p[a].resolved*l.width-.5*l.width*(p[a].amount+1),"left"===d.options.barChart.align?l.offset-=.5*l.width:"right"===d.options.barChart.align&&(l.offset+=.5*l.width))}o.drawBar(c[h].x+l.offset,c[h].y-g,l.width,d.zeroPosition-c[h].y,d.className+" vis-bar",i.svgElements,i.svg,d.style),d.options.drawPoints.enabled===!0&&r.draw([c[h]],d,i,l.offset)}},n._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].x-e[n].x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].x-e[n].x))),0===i&&(void 0===t[e[n].x]&&(t[e[n].x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].x].amount+=1)},n._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&t>0?(n=i>t?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},n.getStackedYRange=function(t,e,i,o,r){if(t.length>0){t.sort(function(t,e){return t.x===e.x?t.groupId<e.groupId?-1:1:t.x-e.x});var s={};n._getDataIntersections(s,t),e[o]=n._getStackedYRange(s,t),e[o].yAxisOrientation=r,i.push(o)}},n._getStackedYRange=function(t,e){for(var i,n=e[0].y,o=e[0].y,r=0;r<e.length;r++)i=e[r].x,void 0===t[i]?(n=n>e[r].y?e[r].y:n,o=o<e[r].y?e[r].y:o):e[r].y<0?t[i].accumulatedNegative+=e[r].y:t[i].accumulatedPositive+=e[r].y;for(var s in t)t.hasOwnProperty(s)&&(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n,n=n>t[s].accumulatedPositive?t[s].accumulatedPositive:n,o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o,o=o<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:n,max:o}},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){this.body=t,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=i,this.options=o.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.setOptions(e)}var o=i(1),r=i(7),s=i(21);n.prototype=new s,n.prototype.clear=function(){this.groups={},this.amountOfGroups=0},n.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},n.prototype.updateGroup=function(t,e){this.groups[t]=e},n.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},n.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},n.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},n.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},n.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];o.selectiveDeepExtend(e,this.options,t)},n.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort(function(t,e){return e>t?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var r="",i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />")}this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},n.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups);t.sort(function(t,e){return e>t?-1:1}),r.prepareElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,o=this.options.iconSize,s=.75*this.options.iconSize,a=i+.5*s+3;this.svg.style.width=o+5+i+"px";for(var l=0;l<t.length;l++){var d=t[l];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].drawIcon(n,a,this.svgElements,this.svg,o,s),a+=s+this.options.iconSpacing)}r.cleanupElements(this.svgElements)}},t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="array",a="date",l="object",d="dom",h="moment",u="any",c={configure:{enabled:{"boolean":o},filter:{"boolean":o,"function":"function"},container:{dom:d},__type__:{object:l,"boolean":o,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{"boolean":o},sampling:{"boolean":o},stack:{"boolean":o},graphHeight:{string:n,number:r},shaded:{enabled:{"boolean":o},orientation:{string:["bottom","top"]},__type__:{"boolean":o,object:l}},style:{string:["line","bar","points"]},barChart:{width:{number:r},sideBySide:{"boolean":o},align:{string:["left","center","right"]},__type__:{object:l}},interpolation:{enabled:{"boolean":o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:l,"boolean":o}},drawPoints:{enabled:{"boolean":o},size:{number:r},style:{string:["square","circle"]},__type__:{object:l,"boolean":o}},dataAxis:{showMinorLabels:{"boolean":o},showMajorLabels:{"boolean":o},icons:{"boolean":o},width:{string:n,number:r},visible:{"boolean":o},alignZeros:{"boolean":o},left:{range:{min:{number:r},max:{number:r},__type__:{object:l}},format:{"function":"function"},title:{text:{string:n,number:r},style:{string:n},__type__:{object:l}},__type__:{object:l}},right:{range:{min:{number:r},max:{number:r},__type__:{object:l}},format:{"function":"function"},title:{text:{string:n,number:r},style:{string:n},__type__:{object:l}},__type__:{object:l}},__type__:{object:l}},legend:{enabled:{"boolean":o},icons:{"boolean":o},left:{visible:{"boolean":o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:l}},right:{visible:{"boolean":o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:l}},__type__:{object:l,"boolean":o}},groups:{visibility:{any:u},__type__:{object:l}},autoResize:{"boolean":o},clickToUse:{"boolean":o},end:{number:r,date:a,string:n,moment:h},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l}},__type__:{object:l}},height:{string:n,number:r},hiddenDates:{object:l,array:s},locale:{string:n},locales:{__any__:{object:l},__type__:{object:l}},max:{date:a,number:r,string:n,moment:h},maxHeight:{number:r,string:n},min:{date:a,number:r,string:n,moment:h},minHeight:{number:r,string:n},moveable:{"boolean":o},multiselect:{"boolean":o},orientation:{string:n},showCurrentTime:{"boolean":o},showMajorLabels:{"boolean":o},showMinorLabels:{"boolean":o},start:{date:a,number:r,string:n,moment:h},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:l}},width:{string:n,number:r},zoomable:{"boolean":o},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:l}},p={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["top","bottom"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=c,e.configureOptions=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i){var n=this;if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:B,clickToUse:!1},R.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new $(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new s["default"],this.canvas=new y["default"](this.body),this.selectionHandler=new k["default"](this.body,this.canvas),this.interactionHandler=new x["default"](this.body,this.canvas,this.selectionHandler),this.view=new w["default"](this.body,this.canvas),this.renderer=new g["default"](this.body,this.canvas),this.physics=new c["default"](this.body),this.layoutEngine=new T["default"](this.body),this.clustering=new f["default"](this.body),this.manipulation=new D["default"](this.body,this.canvas,this.selectionHandler),this.nodesHandler=new l["default"](this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new h["default"](this.body,this.images,this.groups),this.canvas._create(),this.configurator=new M["default"](this,this.body.container,I.configureOptions,this.canvas.pixelRatio),this.setOptions(i),this.setData(e)}var r=i(60),s=n(r),a=i(61),l=n(a),d=i(81),h=n(d),u=i(88),c=n(u),p=i(97),f=n(p),m=i(99),g=n(m),v=i(100),y=n(v),b=i(101),w=n(b),_=i(102),x=n(_),C=i(105),k=n(C),E=i(106),T=n(E),S=i(107),D=n(S),O=i(45),M=n(O),A=i(47),N=n(A),I=i(108);i(109);var F=i(13),R=(i(23),i(1)),L=(i(8),i(10),i(110)),P=i(111),$=i(112),z=i(42),B=i(113);F(o.prototype),o.prototype.setOptions=function(t){var e=this;if(void 0!==t){var i=N["default"].validate(t,I.allOptions);i===!0&&console.log("%cErrors have been found in the supplied options object.",A.printStyle);var n=["locale","locales","clickToUse"];if(R.selectiveDeepExtend(n,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),this.configurator.setOptions(t.configure),this.configurator.options.enabled===!0){var o={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};R.deepExtend(o.nodes,this.nodesHandler.options),R.deepExtend(o.edges,this.edgesHandler.options),R.deepExtend(o.layout,this.layoutEngine.options),R.deepExtend(o.interaction,this.selectionHandler.options),R.deepExtend(o.interaction,this.renderer.options),R.deepExtend(o.interaction,this.interactionHandler.options),R.deepExtend(o.manipulation,this.manipulation.options),R.deepExtend(o.physics,this.physics.options),R.deepExtend(o.global,this.canvas.options),R.deepExtend(o.global,this.options),this.configurator.setModuleOptions(o)}void 0!==t.clickToUse?t.clickToUse===!0?void 0===this.activator&&(this.activator=new z(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},o.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&t[i].options.hidden===!1&&this.body.nodeIndices.push(i);for(var n in e)e.hasOwnProperty(n)&&e[n].options.hidden===!1&&this.body.edgeIndices.push(n)},o.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.physics.updatePhysicsData(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation")})},o.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=L.DOTToGraph(t.dot);return void this.setData(e)}if(t&&t.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=P.parseGephi(t.gephi);return void this.setData(i)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("initPhysics")},o.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var t in this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];R.recursiveDOMDelete(this.body.container)},o.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,o)},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},o.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},o.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas(this.canvas,arguments)},o.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},o.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},o.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},o.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},o.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},o.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},o.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},o.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},o.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},o.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},o.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},o.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},o.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},o.prototype.editNodeMode=function(){return console.log("Depricated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},o.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},o.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},o.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},o.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},o.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},o.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},o.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},o.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},o.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments);
},o.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},o.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},o.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},o.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},o.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},o.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},o.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},o.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},o.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},o.prototype.unselectAll=function(){return this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments)},o.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},o.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},o.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},o.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},o.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},o.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},o.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},t.exports=o},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),s=function(){function t(){n(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},r.extend(this.options,this.defaultOptions)}return o(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var n=t[i];this.add(i,n)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=this.groups[t];if(void 0===e)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,e={},e.color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var i=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,e={},e.color=this.defaultGroups[i],this.groups[t]=e}return e}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(62),a=n(s),l=i(63),d=n(l),h=i(1),u=i(8),c=i(10),p=function(){function t(e,i,n,r){var s=this;o(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data)},remove:function(t,e){s.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"horizontal"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},shadow:{enabled:!1,size:10,x:5,y:5},shape:"ellipse",size:25,title:void 0,value:void 0,x:void 0,y:void 0},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(a["default"].parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font){d["default"].parseOptions(this.options.font,t);for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(this.body.nodes[e].updateLabelModule(),this.body.nodes[e]._reset())}if(void 0!==t.size)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e]._reset();(void 0!==t.hidden||void 0!==t.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=void 0===arguments[1]?!1:arguments[1],n=this.body.data.nodes;if(t instanceof u||t instanceof c)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new u,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new u}n&&h.forEach(this.nodesListeners,function(t,e){n.off(e,t)}),this.body.nodes={},this.body.data.nodes&&!function(){var t=e;h.forEach(e.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});var i=e.body.data.nodes.getIds();e.add(i,!0)}(),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=void 0===arguments[1]?!1:arguments[1],i=void 0,n=[],o=0;o<t.length;o++){i=t[o];var r=this.body.data.nodes.get(i),s=this.create(r);n.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(n),e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,n=!1,o=0;o<t.length;o++){var r=t[o],s=i[r],a=e[o];void 0!==s?n=s.setOptions(a):(n=!0,s=this.create(a),i[r]=s)}n===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){var n=t[i];delete e[n]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=void 0===arguments[1]?a["default"]:arguments[1];return new e(t,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var t=this.body.nodes;for(var e in t){var i=void 0;t.hasOwnProperty(e)&&(i=t[e]);var n=this.body.data.nodes._data[e];void 0!==i&&void 0!==n&&(i.setOptions({fixed:!1}),i.setOptions(n))}}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(Array.isArray(t)===!0){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var n=this.body.nodes[t];e[t]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var n=this.body.nodes[o];e[o]={x:Math.round(n.x),y:Math.round(n.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];(e._data[i].x!=Math.round(n.x)||e._data[i].y!=Math.round(n.y))&&t.push({id:i,x:Math.round(n.x),y:Math.round(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){return void 0!==this.body.nodes[t]?this.body.nodes[t].shape.boundingBox:void 0}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n={},o=0;o<i.edges.length;o++){var r=i.edges[o];r.toId==t?void 0===n[r.fromId]&&(e.push(r.fromId),n[r.fromId]=!0):r.fromId==t&&void 0===n[r.toId]&&(e.push(r.toId),n[r.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(63),a=n(s),l=i(64),d=n(l),h=i(66),u=n(h),c=i(68),p=n(c),f=i(69),m=n(f),g=i(70),v=n(g),y=i(72),b=n(y),w=i(73),_=n(w),x=i(74),C=n(x),k=i(75),E=n(k),T=i(76),S=n(T),D=i(77),O=n(D),M=i(78),A=n(M),N=i(79),I=n(N),F=i(80),R=n(F),L=i(47),P=(n(L),i(1)),$=function(){function t(e,i,n,r,s){o(this,t),this.options=P.bridgeObject(s),this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a["default"](this.body,this.options),this.setOptions(e)}return r(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"togglePhysics",value:function(t){this.options.physics=t}},{key:"setOptions",value:function(e){if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw"Node must have an id";if(void 0!==e.x&&(this.x=parseInt(e.x),this.predefinedPosition=!0),void 0!==e.y&&(this.y=parseInt(e.y),this.predefinedPosition=!0),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),"number"==typeof e.group||"string"==typeof e.group&&""!=e.group){var i=this.grouplist.get(e.group);P.deepExtend(this.options,i),this.options.color=P.parseColor(this.options.color)}if(t.parseOptions(this.options,e,!0),void 0!==this.options.image&&""!=this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateShape(),this.updateLabelModule(),this._reset(),void 0!==e.hidden||void 0!==e.physics?!0:!1}}},{key:"updateLabelModule",value:function(){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(){switch(this.options.shape){case"box":this.shape=new d["default"](this.options,this.body,this.labelModule);break;case"circle":this.shape=new u["default"](this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new m["default"](this.options,this.body,this.labelModule);break;case"diamond":this.shape=new v["default"](this.options,this.body,this.labelModule);break;case"dot":this.shape=new b["default"](this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new _["default"](this.options,this.body,this.labelModule);break;case"icon":this.shape=new C["default"](this.options,this.body,this.labelModule);break;case"image":this.shape=new E["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new S["default"](this.options,this.body,this.labelModule);break;case"star":this.shape=new O["default"](this.options,this.body,this.labelModule);break;case"text":this.shape=new A["default"](this.options,this.body,this.labelModule);break;case"triangle":this.shape=new I["default"](this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new R["default"](this.options,this.body,this.labelModule);break;default:this.shape=new _["default"](this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize}},{key:"draw",value:function(t){this.shape.draw(t,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(){this.shape.updateBoundingBox(this.x,this.y)}},{key:"resize",value:function(t){this.shape.resize(t)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e){var i=void 0===arguments[2]?!1:arguments[2],n=["color","font","fixed","shadow"];if(P.selectiveNotDeepExtend(n,t,e,i),P.mergeOptions(t,e,"shadow"),void 0!==e.color&&null!==e.color){var o=P.parseColor(e.color);P.fillIfDefined(t.color,o)}else i===!0&&null===e.color&&(t.color=void 0,delete t.color);void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&a["default"].parseOptions(t.font,e),void 0!==e.scaling&&P.mergeOptions(t.scaling,e.scaling,"label")}}]),t}();e["default"]=$,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(l){o=!0,r=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw r}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=function(){function t(e,i){o(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0}}return r(t,[{key:"setOptions",value:function(e){var i=void 0===arguments[1]?!1:arguments[1];this.options=e,void 0!==e.label&&(this.labelDirty=!0),void 0!==e.font&&(t.parseOptions(this.options.font,e,i),"string"==typeof e.font?this.baseSize=this.options.font.size:"object"==typeof e.font&&void 0!==e.font.size&&(this.baseSize=e.font.size))}},{key:"draw",value:function(t,e,i,n){var o=void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.options.label){var r=this.options.font.size*this.body.view.scale;this.options.label&&r<this.options.scaling.label.drawThreshold-1||(this.calculateLabelSize(t,n,e,i,o),this._drawBackground(t),this._drawText(t,n,e,i,o))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.options.font.background&&"none"!==this.options.font.background){t.fillStyle=this.options.font.background;var e=2;switch(this.options.font.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+e),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,e,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-.5*e,this.size.width,this.size.height)}}}},{key:"_drawText",value:function(t,e,i,o){var r=void 0===arguments[4]?"middle":arguments[4],s=this.options.font.size,a=s*this.body.view.scale;a>=this.options.scaling.label.maxVisible&&(s=Number(this.options.scaling.label.maxVisible)/this.body.view.scale);var l=this.size.yLine,d=this._getColor(a),h=n(d,2),u=h[0],c=h[1],p=this._setAlignment(t,i,l,r),f=n(p,2);i=f[0],l=f[1],t.font=(e?"bold ":"")+s+"px "+this.options.font.face,t.fillStyle=u,t.textAlign="center",this.options.font.strokeWidth>0&&(t.lineWidth=this.options.font.strokeWidth,t.strokeStyle=c,t.lineJoin="round");for(var m=0;m<this.lineCount;m++)this.options.font.strokeWidth>0&&t.strokeText(this.lines[m],i,l),t.fillText(this.lines[m],i,l),l+=s}},{key:"_setAlignment",value:function(t,e,i,n){if("horizontal"!==this.options.font.align&&this.pointToSelf===!1){e=0,i=0;var o=2;"top"===this.options.font.align?(t.textBaseline="alphabetic",i-=2*o):"bottom"===this.options.font.align?(t.textBaseline="hanging",i+=2*o):t.textBaseline="middle"}else t.textBaseline=n;return[e,i]}},{key:"_getColor",value:function(t){var e=this.options.font.color||"#000000",i=this.options.font.strokeColor||"#ffffff";if(t<=this.options.scaling.label.drawThreshold){var n=Math.max(0,Math.min(1,1-(this.options.scaling.label.drawThreshold-t)));e=s.overrideOpacity(e,n),i=s.overrideOpacity(i,n)}return[e,i]}},{key:"getTextSize",value:function(t){var e=void 0===arguments[1]?!1:arguments[1],i={width:this._processLabel(t,e),height:this.options.font.size*this.lineCount,lineCount:this.lineCount};return i}},{key:"calculateLabelSize",value:function(t,e){var i=void 0===arguments[2]?0:arguments[2],n=void 0===arguments[3]?0:arguments[3],o=void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(t,e)),this.size.height=this.options.font.size*this.lineCount,this.size.left=i-.5*this.size.width,this.size.top=n-.5*this.size.height,this.size.yLine=n+.5*(1-this.lineCount)*this.options.font.size,"hanging"===o&&(this.size.top+=.5*this.options.font.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(t,e){var i=0,n=[""],o=0;if(void 0!==this.options.label){n=String(this.options.label).split("\n"),o=n.length,t.font=(e?"bold ":"")+this.options.font.size+"px "+this.options.font.face,i=t.measureText(n[0]).width;for(var r=1;o>r;r++){var s=t.measureText(n[r]).width;i=s>i?s:i}}return this.lines=n,this.lineCount=o,i}}],[{key:"parseOptions",value:function(t,e){var i=void 0===arguments[2]?!1:arguments[2];if("string"==typeof e.font){var n=e.font.split(" ");t.size=n[0].replace("px",""),t.face=n[1],t.color=n[2]}else"object"==typeof e.font&&s.fillIfDefined(t,e.font,i);t.size=Number(t.size)}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(t,e);this.width=n.width+2*i,this.height=n.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o){this.resize(t,n),this.left=e-this.width/2,this.top=i-this.height/2;var r=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.lineWidth=n?s:r,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;var a=6;t.roundRect(this.left,this.top,this.width,this.height,a),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke(),this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,n)}},{key:"updateBoundingBox",value:function(t,e){this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,n=this.height/2,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=i,this.labelModule=o,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_distanceToBorder",value:function(t){var e=1;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+e}},{key:"enableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0.5)",t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(67),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(t,e),o=Math.max(n.width,n.height)+2*i;this.options.size=o/2,this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o){this.resize(t,n),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,n,o,this.options.size),this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,n=this.height/2,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n),this.labelOffset=0,this.imageLoaded=!1}return r(e,t),s(e,[{key:"_resizeImage",value:function(){var t=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,t=!0):this.imageLoaded=!1,!this.width||!this.height||t===!0){var e,i,n;this.imageObj.width&&this.imageObj.height&&(e=0,i=0),this.imageObj.width>this.imageObj.height?(n=this.imageObj.width/this.imageObj.height,e=2*this.options.size*n||this.imageObj.width,i=2*this.options.size||this.imageObj.height):(n=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,e=2*this.options.size||this.imageObj.width,i=2*this.options.size*n||this.imageObj.height),this.width=e,this.height=i,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(t,e,i,n,o,r){var s=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.lineWidth=n?a:s,t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.circle(e,i,r),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke()}},{key:"_drawImageAtPosition",value:function(t){0!=this.imageObj.width&&(t.globalAlpha=1,this.enableShadow(t),t.drawImage(this.imageObj,this.left,this.top,this.width,this.height),this.disableShadow(t))}},{key:"_drawImageLabel",value:function(t,e,i,n){var o,r=0;if(void 0!==this.height){r=.5*this.height;var s=this.labelModule.getTextSize(t);s.lineCount>=1&&(r+=s.height/2)}o=i+r,this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,o,n,"hanging")}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);
}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(67),d=n(l),h=function(t){function e(t,i,n,r){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n),this.imageObj=r,this._swapToImageResizeWhenImageLoaded=!0}return r(e,t),s(e,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var t=2*this.options.size;this.width=t,this.height=t,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o){this.resize(),this.left=e-this.width/2,this.top=i-this.height/2;var r=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(t,e,i,n,o,r),t.save(),t.circle(e,i,r),t.stroke(),t.clip(),this._drawImageAtPosition(t),t.restore(),this._drawImageLabel(t,e,i,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(t,e),o=n.width+2*i;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o){this.resize(t,n),this.left=e-this.width/2,this.top=i-this.height/2;var r=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.lineWidth=this.selected?s:r,t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.database(e-this.width/2,i-.5*this.height,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke(),this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,n)}},{key:"updateBoundingBox",value:function(t,e){this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,n=this.height/2,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(71),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,n,o){this._drawShape(t,"diamond",4,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"_resizeShape",value:function(){if(void 0===this.width){var t=2*this.options.size;this.width=t,this.height=t,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,o,r,s){this._resizeShape(),this.left=n-this.width/2,this.top=o-this.height/2;var a=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth;if(t.strokeStyle=r?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,t.lineWidth=r?l:a,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=r?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background,t[e](n,o,this.options.size),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke(),void 0!==this.options.label){var d=o+.5*this.height+3;this.labelModule.draw(t,n,d,r,"hanging")}this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(71),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,n,o){this._drawShape(t,"circle",2,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){return this.options.size+this.options.borderWidth}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e);this.width=1.5*i.width,this.height=2*i.height,this.width<this.height&&(this.width=this.height),this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o){this.resize(t,n),this.left=e-.5*this.width,this.top=i-.5*this.height;var r=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.lineWidth=n?s:r,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke(),this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,n)}},{key:"updateBoundingBox",value:function(t,e){this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t){if(void 0===this.width){var e=5,i={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=i.width+2*e,this.height=i.height+2*e,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o){if(this.resize(t),this.options.icon.size=this.options.icon.size||50,this.left=e-.5*this.width,this.top=i-.5*this.height,this._icon(t,e,i,n),void 0!==this.options.label){var r=5;this.labelModule.draw(t,e,i+.5*this.height+r,n)}this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label){var i=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+i)}}},{key:"_icon",value:function(t,e,i,n){var o=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(n?"bold ":"")+o+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t),t.fillText(this.options.icon.code,e,i),this.disableShadow(t)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){this.resize(t),this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(67),d=n(l),h=function(t){function e(t,i,n,r){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n),this.imageObj=r}return r(e,t),s(e,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o){this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawImageAtPosition(t),this._drawImageLabel(t,e,i,n||o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,n=this.height/2,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(71),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(t,e,i,n,o){this._drawShape(t,"square",2,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(71),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,n,o){this._drawShape(t,"star",4,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(65),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,n=this.labelModule.getTextSize(t,e);this.width=n.width+2*i,this.height=n.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o){this.resize(t,n||o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t),this.labelModule.draw(t,e,i,n||o),this.disableShadow(t),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(71),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,n,o){this._drawShape(t,"triangle",3,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(71),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,n,o){this._drawShape(t,"triangleDown",3,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(e)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(82),a=n(s),l=i(63),d=n(l),h=i(1),u=i(8),c=i(10),p=function(){function t(e,i,n){var r=this;o(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",roundness:.5},title:void 0,width:1,value:void 0},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){"dynamic"===e&&(e="continuous");var i=!1;for(var n in t.body.edges)if(t.body.edges.hasOwnProperty(n)){var o=t.body.edges[n],r=t.body.data.edges._data[n];if(void 0!==r){var s=r.smooth;void 0!==s&&s.enabled===!0&&"dynamic"===s.type&&(void 0===e?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:e}}),i=!0)}}i===!0&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges(),t.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){a["default"].parseOptions(this.options,t),void 0!==t.color&&this.markAllEdgesAsDirty();var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font){d["default"].parseOptions(this.options.font,t);for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule()}(void 0!==t.hidden||void 0!==t.physics||e===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=void 0===arguments[1]?!1:arguments[1],n=this.body.data.edges;if(t instanceof u||t instanceof c)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new u,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new u}if(n&&h.forEach(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){h.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var o=this.body.data.edges.getIds();this.add(o,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=void 0===arguments[1]?!1:arguments[1],i=this.body.edges,n=this.body.data.edges,o=0;o<t.length;o++){var r=t[o],s=i[r];s&&s.disconnect();var a=n.get(r,{showInternalIds:!0});i[r]=this.create(a)}e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<t.length;o++){var r=t[o],s=i.get(r),a=e[r];null===a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}n===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var n=t[i],o=e[n];void 0!==o&&(null!=o.via&&delete this.body.supportNodes[o.via.id],o.disconnect(),delete e[n])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t=this.body.edges;for(var e in t){var i=void 0;t.hasOwnProperty(e)&&(i=t[e]);var n=this.body.data.edges._data[e];void 0!==i&&void 0!==n&&i.setOptions(n)}}},{key:"create",value:function(t){return new a["default"](t,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var t in this.body.edges)this.body.edges[t].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];i.fromId&&e.push(i.fromId),i.toId&&e.push(i.toId)}return e}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(63),a=n(s),l=i(83),d=n(l),h=i(86),u=n(h),c=i(87),p=n(c),f=i(1),m=function(){function t(e,i,n){if(o(this,t),void 0===i)throw"No body provided";this.options=f.bridgeObject(n),this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new a["default"](this.body,this.options),this.setOptions(e)}return r(t,[{key:"setOptions",value:function(e){if(e){this.colorDirty=!0,t.parseOptions(this.options,e,!0),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.updateLabelModule();var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==e.hidden||void 0!==e.physics)&&(i=!0),i}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=!1,e=!0;return void 0!==this.edgeType&&(this.edgeType instanceof d["default"]&&this.options.smooth.enabled===!0&&"dynamic"===this.options.smooth.type&&(e=!1),this.edgeType instanceof u["default"]&&this.options.smooth.enabled===!0&&"dynamic"!==this.options.smooth.type&&(e=!1),
this.edgeType instanceof p["default"]&&this.options.smooth.enabled===!1&&(e=!1),e===!0&&(t=this.edgeType.cleanup())),e===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(t=!0,this.edgeType=new d["default"](this.options,this.body,this.labelModule)):this.edgeType=new u["default"](this.options,this.body,this.labelModule):this.edgeType=new p["default"](this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"togglePhysics",value:function(t){this.options.physics=t,this.edgeType.togglePhysics(t)}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.edgeType.drawLine(t,this.selected,this.hover);this.drawArrows(t,e),this.drawLabel(t,e)}},{key:"drawArrows",value:function(t,e){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(t,"from",e,this.selected,this.hover),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(t,"middle",e,this.selected,this.hover),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(t,"to",e,this.selected,this.hover)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to,o=this.from.selected||this.to.selected||this.selected;if(i.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,o,r.x,r.y),t.translate(r.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,r.x,r.y,o),t.restore()}else{this.labelModule.pointToSelf=!0;var s,a,l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-l):(s=i.x+l,a=i.y-.5*i.shape.height),r=this._pointOnCircle(s,a,l,.125),this.labelModule.draw(t,r.x,r.y,o)}}}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=10,i=this.from.x,n=this.from.y,o=this.to.x,r=this.to.y,s=t.left,a=t.top,l=this.edgeType.getDistanceToEdge(i,n,o,r,s,a);return e>l}return!1}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,n=Math.atan2(e,i);(-1>n&&0>i||n>0&&0>i)&&(n+=Math.PI),t.rotate(n)}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}}],[{key:"parseOptions",value:function(t,e){var i=void 0===arguments[2]?!1:arguments[2],n=["id","from","hidden","hoverWidth","label","length","line","opacity","physics","selectionWidth","selfReferenceSize","to","title","value","width"];if(f.selectiveDeepExtend(n,t,e,i),f.mergeOptions(t,e,"smooth"),f.mergeOptions(t,e,"shadow"),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:i===!0&&null===e.dashes&&(t.dashes=void 0,delete t.dashes),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),f.mergeOptions(t.scaling,e.scaling,"label")):i===!0&&null===e.scaling&&(t.scaling=void 0,delete t.scaling),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();-1!=o.indexOf("to")&&(t.arrows.to.enabled=!0),-1!=o.indexOf("middle")&&(t.arrows.middle.enabled=!0),-1!=o.indexOf("from")&&(t.arrows.from.enabled=!0)}else{if("object"!=typeof e.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));f.mergeOptions(t.arrows,e.arrows,"to"),f.mergeOptions(t.arrows,e.arrows,"middle"),f.mergeOptions(t.arrows,e.arrows,"from")}else i===!0&&null===e.arrows&&(t.arrows=void 0,delete t.arrows);if(void 0!==e.color&&null!==e.color)if(f.isString(e.color))t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1;else{var r=!1;void 0!==e.color.color&&(t.color.color=e.color.color,r=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,r=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,r=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&r===!0&&(t.color.inherit=!1)}else i===!0&&null===e.color&&(t.color=void 0,delete t.color);void 0!==e.font&&a["default"].parseOptions(t.font,e)}}]),t}();e["default"]=m,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(84),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"setOptions",value:function(t){this.options=t,this.id=this.options.id,this.setupSupportNode(),this.connect()}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return void 0!==this.via?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"togglePhysics",value:function(t){this.via.setOptions({physics:t}),this.positionBezierNode()}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t){return t.beginPath(),t.moveTo(this.from.x,this.from.y),t.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),this.enableShadow(t),t.stroke(),this.disableShadow(t),this.via}},{key:"getPoint",value:function(t){var e=t,i=Math.pow(1-e,2)*this.from.x+2*e*(1-e)*this.via.x+Math.pow(e,2)*this.to.x,n=Math.pow(1-e,2)*this.from.y+2*e*(1-e)*this.via.y+Math.pow(e,2)*this.to.y;return{x:i,y:n}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToBezierEdge(t,e,i,n,o,r,this.via)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(85),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,o,r,s,a=void 0===arguments[2]?this._getViaCoordinates():arguments[2],l=10,d=0,h=0,u=1,c=.2,p=this.to,f=!1;for(t.id===this.from.id&&(p=this.from,f=!0);u>=h&&l>d;){var m=.5*(h+u);if(i=this.getPoint(m,a),n=Math.atan2(p.y-i.y,p.x-i.x),o=p.distanceToBorder(e,n),r=Math.sqrt(Math.pow(i.x-p.x,2)+Math.pow(i.y-p.y,2)),s=o-r,Math.abs(s)<c)break;0>s?f===!1?h=m:u=m:f===!1?u=m:h=m,d++}return i.t=m,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s){var a=void 0,l=void 0;a=s.x,l=s.y;var d=1e9,h=void 0,u=void 0,c=void 0,p=void 0,f=void 0,m=t,g=e;for(u=1;10>u;u++)c=.1*u,p=Math.pow(1-c,2)*t+2*c*(1-c)*a+Math.pow(c,2)*i,f=Math.pow(1-c,2)*e+2*c*(1-c)*l+Math.pow(c,2)*n,u>0&&(h=this._getDistanceToLine(m,g,p,f,o,r),d=d>h?h:d),m=p,g=f;return d}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(l){o=!0,r=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw r}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),a=function(){function t(e,i,n){o(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5}return r(t,[{key:"connect",value:function(){}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"togglePhysics",value:function(t){}},{key:"drawLine",value:function(t,e,i){t.strokeStyle=this.getColor(t,e,i),t.lineWidth=this.getLineWidth(e,i);var n=void 0;return n=this.options.dashes!==!1?this._drawDashedLine(t):this._drawLine(t)}},{key:"_drawLine",value:function(t){var e=void 0;if(this.from!=this.to)e=this._line(t);else{var i=this._getCircleData(t),o=n(i,3),r=o[0],s=o[1],a=o[2];this._circle(t,r,s,a)}return e}},{key:"_drawDashedLine",value:function(t){var e=void 0;t.lineCap="round";var i=[5,5];if(Array.isArray(this.options.dashes)===!0&&(i=this.options.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(i),t.lineDashOffset=0,this.from!=this.to)e=this._line(t);else{var o=this._getCircleData(t),r=n(o,3),s=r[0],a=r[1],l=r[2];this._circle(t,s,a,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,i);else{var d=this._getCircleData(t),h=n(d,3),s=h[0],a=h[1],l=h[2];this._circle(t,s,a,l)}this.enableShadow(t),t.stroke(),this.disableShadow(t)}return e}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t),r=n(o,3),s=r[0],a=r[1];r[2];e=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,n=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-o):(e=n.x+o,i=n.y-.5*n.shape.height),[e,i,o]}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var n=i.x,o=i.y,r=i.low,s=i.high,a=i.direction,l=10,d=0,h=this.options.selfReferenceSize,u=void 0,c=void 0,p=void 0,f=void 0,m=void 0,g=.05,v=.5*(r+s);s>=r&&l>d&&(v=.5*(r+s),u=this._pointOnCircle(n,o,h,v),c=Math.atan2(t.y-u.y,t.x-u.x),p=t.distanceToBorder(e,c),f=Math.sqrt(Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2)),m=p-f,!(Math.abs(m)<g));)m>0?a>0?r=v:s=v:a>0?s=v:r=v,d++;return u.t=v,u}},{key:"getLineWidth",value:function(t,e){return t===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):e===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i){var n=this.options.color;if(n.inherit!==!1){if("both"===n.inherit&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,a=void 0;return r=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(r=s.overrideOpacity(this.from.options.color.border,this.options.color.opacity),a=s.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?a=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(r=this.from.options.color.border),o.addColorStop(0,r),o.addColorStop(1,a),o}this.colorDirty===!0&&("to"===n.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=s.overrideOpacity(this.to.options.color.border,n.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=s.overrideOpacity(this.from.options.color.border,n.opacity)))}else this.colorDirty===!0&&(this.color.highlight=n.highlight,this.color.hover=n.hover,this.color.color=s.overrideOpacity(n.color,n.opacity));return this.colorDirty=!1,e===!0?this.color.highlight:i===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(t,e,i,n){this.enableShadow(t),t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t)}},{key:"getDistanceToEdge",value:function(t,e,i,o,r,s,a){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(t,e,i,o,r,s,a);else{var d=this._getCircleData(),h=n(d,3),u=h[0],c=h[1],p=h[2],f=u-r,m=c-s;l=Math.abs(Math.sqrt(f*f+m*m)-p)}return this.labelModule.size.left<r&&this.labelModule.size.left+this.labelModule.size.width>r&&this.labelModule.size.top<s&&this.labelModule.size.top+this.labelModule.size.height>s?0:l}},{key:"_getDistanceToLine",value:function(t,e,i,n,o,r){var s=i-t,a=n-e,l=s*s+a*a,d=((o-t)*s+(r-e)*a)/l;d>1?d=1:0>d&&(d=0);var h=t+d*s,u=e+d*a,c=h-o,p=u-r;return Math.sqrt(c*c+p*p)}},{key:"drawArrowHead",value:function(t,e,i,o,r){t.strokeStyle=this.getColor(t,o,r),t.fillStyle=t.strokeStyle,t.lineWidth=this.getLineWidth(o,r);var s=void 0,a=void 0,l=void 0,d=void 0,h=void 0,u=void 0,c=void 0;if("from"===e?(d=this.from,h=this.to,u=.1,c=this.options.arrows.from.scaleFactor):"to"===e?(d=this.to,h=this.from,u=-.1,c=this.options.arrows.to.scaleFactor):(d=this.to,h=this.from,c=this.options.arrows.middle.scaleFactor),d!=h){if("middle"!==e)if(this.options.smooth.enabled===!0){l=this.findBorderPosition(d,t,{via:i});var p=this.getPoint(Math.max(0,Math.min(1,l.t+u)),i);s=Math.atan2(l.y-p.y,l.x-p.x)}else s=Math.atan2(d.y-h.y,d.x-h.x),l=this.findBorderPosition(d,t);else s=Math.atan2(d.y-h.y,d.x-h.x),l=this.getPoint(.6,i);a=(10+5*this.options.width)*c,t.arrow(l.x,l.y,s,a),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke()}else{var f=void 0,m=void 0,g=this._getCircleData(t),v=n(g,3),y=v[0],b=v[1],w=v[2];"from"===e?(m=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1}),f=-2*m.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(m=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1}),f=-2*m.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(m=this._pointOnCircle(y,b,w,.175),f=3.9269908169872414);var _=(10+5*this.options.width)*c;t.arrow(m.x,m.y,f,_),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke()}}},{key:"enableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0.5)",t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(84),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"_line",value:function(t){t.beginPath(),t.moveTo(this.from.x,this.from.y);var e=this._getViaCoordinates(),i=e;return void 0===e.x?(t.lineTo(this.to.x,this.to.y),i=void 0):t.quadraticCurveTo(e.x,e.y,this.to.x,this.to.y),this.enableShadow(t),t.stroke(),this.disableShadow(t),i}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n)Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*r,e=this.from.y-i*r):this.from.x>this.to.x&&(t=this.from.x-i*r,e=this.from.y-i*r):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*r,e=this.from.y+i*r):this.from.x>this.to.x&&(t=this.from.x-i*r,e=this.from.y+i*r)),"discrete"===n&&(t=i*r>o?this.from.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y-i*o):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y-i*o):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y+i*o):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y+i*o)),"discrete"===n&&(e=i*o>r?this.from.y:e));else if("straightCross"===n)Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*r:this.to.y+(1-i)*r):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(t=this.from.x<this.to.x?this.to.x-(1-i)*o:this.to.x+(1-i)*o,e=this.from.y);else if("horizontal"===n)t=this.from.x<this.to.x?this.to.x-(1-i)*o:this.to.x+(1-i)*o,e=this.from.y;else if("vertical"===n)t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*r:this.to.y+(1-i)*r;else if("curvedCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var s=Math.sqrt(o*o+r*r),a=Math.PI,l=Math.atan2(r,o),d=(l+(.5*i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*s*Math.sin(d),e=this.from.y+(.5*i+.5)*s*Math.cos(d)}else if("curvedCCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var s=Math.sqrt(o*o+r*r),a=Math.PI,l=Math.atan2(r,o),d=(l+(.5*-i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*s*Math.sin(d),e=this.from.y+(.5*i+.5)*s*Math.cos(d)}else Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*r,e=this.from.y-i*r,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*r,e=this.from.y-i*r,t=this.to.x>t?this.to.x:t):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*r,e=this.from.y+i*r,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*r,e=this.from.y+i*r,t=this.to.x>t?this.to.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y-i*o,e=this.to.y>e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y-i*o,e=this.to.y>e?this.to.y:e):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y+i*o,e=this.to.y<e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y+i*o,e=this.to.y<e?this.to.y:e)));return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){var s=void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(t,e,i,n,o,r,s)}},{key:"getPoint",value:function(t){var e=void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=t,n=Math.pow(1-i,2)*this.from.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.to.x,o=Math.pow(1-i,2)*this.from.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.to.y;return{x:n,y:o}}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(85),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"_line",value:function(t){return t.beginPath(),t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y),this.enableShadow(t),t.stroke(),void this.disableShadow(t)}},{key:"getPoint",value:function(t){return{x:(1-t)*this.from.x+t*this.to.x,y:(1-t)*this.from.y+t*this.to.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),l=t.distanceToBorder(e,o),d=(a-l)/a,h={};return h.x=(1-d)*n.x+d*i.x,h.y=(1-d)*n.y+d*i.y,h}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToLine(t,e,i,n,o,r)}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(89),a=n(s),l=i(90),d=n(l),h=i(91),u=n(h),c=i(92),p=n(c),f=i(93),m=n(f),g=i(94),v=n(g),y=i(95),b=n(y),w=i(96),_=n(w),x=i(1),C=function(){function t(e){o(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.freezeCache={},this.renderTimer=void 0,this.initialStabilizationEmitted=!1,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.1,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5},x.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),t.ready===!0&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){t.ready===!0&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&(t===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,x.selectiveNotDeepExtend(["stabilization"],this.options,t),x.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()))),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new b["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new _["default"](this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new d["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new v["default"](this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new u["default"](this.body,this.physicsBody,t),this.edgesSolver=new m["default"](this.body,this.physicsBody,t),this.gravitySolver=new v["default"](this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new a["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new v["default"](this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},!0),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=void 0===arguments[0]?!0:arguments[0];this.stabilized=!0,t===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,t===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick();var e=Date.now()-t;(e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&(this.stabilizationIterations>1&&(this.startedStabilization=!1),this.stopSimulation())}},{key:"_emitStabilized",value:function(){var t=this;(this.stabilizationIterations>1||this.initialStabilizationEmitted===!1)&&(this.initialStabilizationEmitted=!0,setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:t.stabilizationIterations}),t.stabilizationIterations=0},0))}},{key:"physicsTick",value:function(){this.stabilized===!1&&(this.calculateForces(),this.stabilized=this.moveNodes(),this.stabilized===!0?this.revert():this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&t[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(i);for(var n in e)e.hasOwnProperty(n)&&e[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(n);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var i=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[i]={x:0,y:0},void 0===this.physicsBody.velocities[i]&&(this.physicsBody.velocities[i]={x:0,y:0})}for(var i in this.physicsBody.velocities)void 0===t[i]&&delete this.physicsBody.velocities[i]}},{key:"revert",value:function(){for(var t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities,n=0;n<t.length;n++){var o=t[n];void 0!==e[o]?e[o].options.physics===!0&&(i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"moveNodes",value:function(){for(var t=!1,e=this.physicsBody.physicsNodeIndices,i=this.options.maxVelocity?this.options.maxVelocity:1e9,n=!0,o=this.options.minVelocity/Math.max(this.body.view.scale,.05),r=0;r<e.length;r++){var s=e[r],a=this._performStep(s,i);
n=o>a&&n===!0,t=!0}return t===!0?o>.5*this.options.maxVelocity?!1:n:!0}},{key:"_performStep",value:function(t,e){var i=this.body.nodes[t],n=this.options.timestep,o=this.physicsBody.forces,r=this.physicsBody.velocities;if(this.previousStates[t]={x:i.x,y:i.y,vx:r[t].x,vy:r[t].y},i.options.fixed.x===!1){var s=this.modelOptions.damping*r[t].x,a=(o[t].x-s)/i.options.mass;r[t].x+=a*n,r[t].x=Math.abs(r[t].x)>e?r[t].x>0?e:-e:r[t].x,i.x+=r[t].x*n}else o[t].x=0,r[t].x=0;if(i.options.fixed.y===!1){var l=this.modelOptions.damping*r[t].y,d=(o[t].y-l)/i.options.mass;r[t].y+=d*n,r[t].y=Math.abs(r[t].y)>e?r[t].y>0?e:-e:r[t].y,i.y+=r[t].y*n}else o[t].y=0,r[t].y=0;var h=Math.sqrt(Math.pow(r[t].x,2)+Math.pow(r[t].y,2));return h}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&t[e].x&&t[e].y&&(this.freezeCache[e]={x:t[e].options.fixed.x,y:t[e].options.fixed.y},t[e].options.fixed.x=!0,t[e].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];"number"!=typeof e&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),e=this.options.stabilization.iterations),this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedrawRequests"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)}},{key:"_stabilizationBatch",value:function(){for(var t=0;this.stabilized===!1&&t<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),this.stabilizationIterations++,t++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedrawRequests"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}}]),t}();e["default"]=C,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(o),this.randomSeed=5}return o(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(var r=0;n>r;r++)t=e[i[r]],t.options.mass>0&&(this._getForceContribution(o.root.children.NW,t),this._getForceContribution(o.root.children.NE,t),this._getForceContribution(o.root.children.SW,t),this._getForceContribution(o.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=void 0,n=void 0,o=void 0;i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+n*n),o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t)}}},{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,n=e.length,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;n>l;l++){var d=t[e[l]].x,h=t[e[l]].y;t[e[l]].options.mass>0&&(o>d&&(o=d),d>s&&(s=d),r>h&&(r=h),h>a&&(a=h))}var u=Math.abs(s-o)-Math.abs(a-r);u>0?(r-=.5*u,a+=.5*u):(o+=.5*u,s-=.5*u);var c=1e-5,p=Math.max(c,Math.abs(s-o)),f=.5*p,m=.5*(o+s),g=.5*(r+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:g-f,maxY:g+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var l=0;n>l;l++)i=t[e[l]],i.options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,n=1/i;t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=n,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=n,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){(1!=i||void 0===i)&&this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,u=this.options.nodeDistance,c=-2/3/u,p=4/3,f=0;f<d.length-1;f++){s=l[d[f]];for(var m=f+1;m<d.length;m++)a=l[d[m]],t=a.x-s.x,e=a.y-s.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*Math.random(),t=i),2*u>i&&(r=.5*u>i?1:c*i+p,r/=i,n=t*r,o=e*r,h[s.id].x-=n,h[s.id].y-=o,h[a.id].x+=n,h[a.id].y+=o)}}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,o,r,s,a,l,d,h=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<u.length-1;l++)for(s=h[u[l]],d=l+1;d<u.length;d++)if(a=h[u[d]],s.level===a.level){t=a.x-s.x,e=a.y-s.y,i=Math.sqrt(t*t+e*e);var f=.05;r=p>i?-Math.pow(f*i,2)+Math.pow(f*p,2):0,0===i?i=.01:r/=i,n=t*r,o=e*r,c[s.id].x-=n,c[s.id].y-=o,c[a.id].x+=n,c[a.id].y+=o}}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,o=void 0,r=void 0,s=void 0,a=0;a<i.length;a++)e=n[i[a]],e.connected===!0&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,r=e.edgeType.via,s=e.from,this._calculateSpringForce(o,r,.5*t),this._calculateSpringForce(r,s,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,l=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=0;p<u.length;p++){var f=u[p];c[f].springFx=0,c[f].springFy=0}for(var p=0;p<h.length;p++)e=l[h[p]],e.connected===!0&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),a=0===a?.01:a,s=this.options.springConstant*(t-a)/a,o=i*s,r=n*s,e.to.level!=e.from.level?(void 0!==c[e.toId]&&(c[e.toId].springFx-=o,c[e.toId].springFy-=r),void 0!==c[e.fromId]&&(c[e.fromId].springFx+=o,c[e.fromId].springFy+=r)):(void 0!==c[e.toId]&&(c[e.toId].x-=d*o,c[e.toId].y-=d*r),void 0!==c[e.fromId]&&(c[e.fromId].x+=d*o,c[e.fromId].y+=d*r)));for(var m,g,s=1,p=0;p<u.length;p++){var f=u[p];m=Math.min(s,Math.max(-s,c[f].springFx)),g=Math.min(s,Math.max(-s,c[f].springFy)),c[f].x+=m,c[f].y+=g}for(var v=0,y=0,p=0;p<u.length;p++){var f=u[p];v+=c[f].x,y+=c[f].y}for(var b=v/u.length,w=y/u.length,p=0;p<u.length;p++){var f=u[p];c[f].x-=b,c[f].y-=w}}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i,o){n(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,n=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++){var l=r[a];n=o[l],t=-n.x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}}},{key:"_calculateForces",value:function(t,e,i,n,o){var r=0===t?0:this.options.centralGravity/t;n[o.id].x=e*r,n[o.id].y=i*r}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(89),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=n.edges.length+1,s=this.options.gravitationalConstant*o.mass*n.options.mass*r/Math.pow(t,2),a=e*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},l=i(94),d=n(l),h=function(t){function e(t,i,n){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n)}return r(e,t),s(e,[{key:"_calculateForces",value:function(t,e,i,n,o){if(t>0){var r=o.edges.length+1,s=this.options.centralGravity*r*o.options.mass;n[o.id].x=e*s,n[o.id].y=i*s}}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(98),a=n(s),l=i(1),d=function(){function t(e){var i=this;o(this,t),this.body=e,this.clusteredNodes={},this.options={},this.defaultOptions={},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={}})}return r(t,[{key:"setOptions",value:function(t){}},{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"==typeof t&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=t&&i.push(o.id)}for(var n=0;n<i.length;n++)this.clusterByConnection(i[n],e,!1);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=void 0===arguments[0]?{}:arguments[0],e=void 0===arguments[1]?!0:arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);for(var i={},n={},o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodeIndices[o],s=this.body.nodes[r],a=this._cloneOptions(s);if(t.joinCondition(a)===!0){i[r]=this.body.nodes[r];for(var l=0;l<s.edges.length;l++){var d=s.edges[l];n[d.id]=d}}}this._cluster(i,n,t,e)}},{key:"clusterOutliers",value:function(t){var e=void 0===arguments[1]?!0:arguments[1];t=this._checkOptions(t);for(var i=[],n=0;n<this.body.nodeIndices.length;n++){for(var o={},r={},s=this.body.nodeIndices[n],a=0,l=void 0,d=0;d<this.body.nodes[s].edges.length;d++)this.body.nodes[s].edges[d].options.hidden===!1&&(a++,l=this.body.nodes[s].edges[d]);if(1===a){var h=this._getConnectedId(l,s);if(h!==s){if(void 0===t.joinCondition)this._checkIfUsed(i,s,l.id)===!1&&this._checkIfUsed(i,h,l.id)===!1&&(r[l.id]=l,o[s]=this.body.nodes[s],o[h]=this.body.nodes[h]);else{var u=this._cloneOptions(this.body.nodes[s]);t.joinCondition(u)===!0&&this._checkIfUsed(i,s,l.id)===!1&&(r[l.id]=l,o[s]=this.body.nodes[s]),u=this._cloneOptions(this.body.nodes[h]),t.joinCondition(u)===!0&&this._checkIfUsed(i,s,l.id)===!1&&(r[l.id]=l,o[h]=this.body.nodes[h])}Object.keys(o).length>0&&Object.keys(r).length>0&&i.push({nodes:o,edges:r})}}}for(var n=0;n<i.length;n++)this._cluster(i[n].nodes,i[n].edges,t,!1);e===!0&&this.body.emitter.emit("_dataChanged")}},{key:"_checkIfUsed",value:function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];if(void 0!==o.nodes[e]||void 0!==o.edges[i])return!0}return!1}},{key:"clusterByConnection",value:function(t,e){var i=void 0===arguments[2]?!0:arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];e=this._checkOptions(e,n),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var o={},r={},s=n.id,a=this._cloneOptions(n);o[s]=n;for(var l=0;l<n.edges.length;l++){var d=n.edges[l],h=this._getConnectedId(d,s);if(h!==s)if(void 0===e.joinCondition)r[d.id]=d,o[h]=this.body.nodes[h];else{var u=this._cloneOptions(this.body.nodes[h]);e.joinCondition(a,u)===!0&&(r[d.id]=d,o[h]=this.body.nodes[h])}else r[d.id]=d}this._cluster(o,r,e,i)}},{key:"_cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(l.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):l.deepExtend(i,t.options,!0),i}},{key:"_createClusterEdges",value:function(t,e,i,n,o){for(var r=void 0,s=void 0,a=void 0,d=void 0,h=void 0,u=void 0,c=Object.keys(t),p=0;p<c.length;p++){s=c[p],a=t[s];for(var f=0;f<a.edges.length;f++)if(r=a.edges[f],e[r.id]=r,r.toId==s?(d=n.id,h=r.fromId,u=h):(d=r.toId,h=n.id,u=d),void 0===t[u]){var m=this._cloneOptions(r,"edge");l.deepExtend(m,o),m.from=h,m.to=d,m.id="clusterEdge:"+l.randomUUID(),i.push(this.body.functions.createEdge(m))}}}},{key:"_checkOptions",value:function(){var t=void 0===arguments[0]?{}:arguments[0];return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=void 0===arguments[3]?!0:arguments[3];if(0!==Object.keys(t).length){var o=l.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var r=[];for(var s in t){var d=this._cloneOptions(t[s]);r.push(d)}var h=[];for(var u in e){var d=this._cloneOptions(e[u],"edge");h.push(d)}if(o=i.processProperties(o,r,h),!o)throw new Error("The processProperties function does not return properties!")}void 0===o.id&&(o.id="cluster:"+l.randomUUID());var c=o.id;void 0===o.label&&(o.label="cluster");var p=void 0;void 0===o.x&&(p=this._getClusterPosition(t),o.x=p.x),void 0===o.y&&(void 0===p&&(p=this._getClusterPosition(t)),o.y=p.y),o.id=c;var f=this.body.functions.createNode(o,a["default"]);f.isCluster=!0,f.containedNodes=t,f.containedEdges=e,f.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[o.id]=f;var m=[];this._createClusterEdges(t,e,m,o,i.clusterEdgeProperties);for(var u in e)if(e.hasOwnProperty(u)&&void 0!==this.body.edges[u]){var g=this.body.edges[u];g.togglePhysics(!1),g.options.hidden=!0}for(var s in t)t.hasOwnProperty(s)&&(this.clusteredNodes[s]={clusterId:o.id,node:this.body.nodes[s]},this.body.nodes[s].togglePhysics(!1),this.body.nodes[s].options.hidden=!0);for(var v=0;v<m.length;v++)this.body.edges[m[v].id]=m[v],this.body.edges[m[v].id].connect();o.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?this.body.nodes[t].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=Object.keys(t),i=t[e[0]].x,n=t[e[0]].x,o=t[e[0]].y,r=t[e[0]].y,s=void 0,a=1;a<e.length;a++)s=t[e[a]],i=s.x<i?s.x:i,n=s.x>n?s.x:n,o=s.y<o?s.y:o,r=s.y>r?s.y:r;return{x:.5*(i+n),y:.5*(o+r)}}},{key:"openCluster",value:function(t,e){var i=void 0===arguments[2]?!0:arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[t].containedNodes)return void console.log("The node:"+t+" is not a cluster.");var n=this.body.nodes[t],o=n.containedNodes,r=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var s={},a={x:n.x,y:n.y};for(var d in o)if(o.hasOwnProperty(d)){var h=this.body.nodes[d];s[d]={x:h.x,y:h.y}}var u=e.releaseFunction(a,s);for(var d in o)if(o.hasOwnProperty(d)){var h=this.body.nodes[d];void 0!==u[d]&&(h.x=u[d].x||n.x,h.y=u[d].y||n.y)}}else for(var d in o)if(o.hasOwnProperty(d)){var h=this.body.nodes[d];h=o[d],h.x=n.x,h.y=n.y}for(var d in o)if(o.hasOwnProperty(d)){var h=this.body.nodes[d];h.vx=n.vx,h.vy=n.vy,h.options.hidden=!1,h.togglePhysics(!0),delete this.clusteredNodes[d]}for(var c in r)if(r.hasOwnProperty(c)){var p=r[c];if(void 0===this.body.nodes[p.fromId]||void 0===this.body.nodes[p.toId])p.edgeType.cleanup(),p.disconnect(),delete this.body.edges[c];else if(void 0!==this.clusteredNodes[p.fromId]||void 0!==this.clusteredNodes[p.toId]){var f=void 0,m=void 0,g=this.clusteredNodes[p.fromId]||this.clusteredNodes[p.toId],v=g.clusterId,y=this.body.nodes[v];if(y.containedEdges[c]=p,void 0!==this.clusteredNodes[p.fromId]?(f=v,m=p.toId):(f=p.fromId,m=v),this.body.nodes[f].options.hidden!==!0&&this.body.nodes[m].options.hidden!==!0){var b=this._cloneOptions(p,"edge"),w="clusterEdge:"+l.randomUUID();l.deepExtend(b,y.clusterEdgeProperties),l.deepExtend(b,{from:f,to:m,hidden:!1,physics:!0,id:w});var _=this.body.functions.createEdge(b);this.body.edges[w]=_,this.body.edges[w].connect()}}else p.options.hidden=!1,p.togglePhysics(!0)}for(var x=0;x<n.edges.length;x++){var c=n.edges[x].id;this.body.edges[c].edgeType.cleanup(),this.body.edges[c].disconnect(),delete this.body.edges[c]}delete this.body.nodes[t],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(this.isCluster(t)===!0){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(n)}return e}},{key:"findNode",value:function(t){for(var e=[],i=100,n=0;void 0!==this.clusteredNodes[t]&&i>n;)e.push(this.clusteredNodes[t].node),t=this.clusteredNodes[t].clusterId,n++;return e.push(this.body.nodes[t]),e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId!=e?t.fromId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>n&&(n=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i,e/=i;var s=e-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>n&&(l=n),l}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){for(var n=!0;n;){var o=t,r=e,s=i;a=d=l=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;t=d,e=r,i=s,n=!0}},a=i(62),l=n(a),d=function(t){function e(t,i,n,r,a){o(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,n,r,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}return r(e,t),e}(l["default"]);e["default"]=d,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var r=i(1),s=function(){function t(e,i){n(this,t),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedrawRequests=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},r.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return o(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){return t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedrawRequests",function(){t.allowRedrawRequests=!1}),this.body.emitter.on("_allowRedrawRequests",function(){t.allowRedrawRequests=!0}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];r.selectiveDeepExtend(e,this.options,t)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedrawRequests===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(){var t=void 0===arguments[0]?!1:arguments[0];this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e=this.canvas.frame.canvas.getContext("2d");(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;e.clearRect(0,0,i,n),e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(e),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(e,t),this.controlNodesActive===!0&&this._drawControlNodes(e),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),t===!0&&e.clearRect(0,0,i,n)}},{key:"_resizeNodes",
value:function(){var t=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var n in e)e.hasOwnProperty(n)&&(i=e[n],i.resize(t),i.updateBoundingBox(t));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=void 0===arguments[1]?!1:arguments[1],i=this.body.nodes,n=this.body.nodeIndices,o=void 0,r=[],s=20,a=this.canvas.DOMtoCanvas({x:-s,y:-s}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),d={top:a.y,left:a.x,bottom:l.y,right:l.x},h=0;h<n.length;h++)o=i[n[h]],o.isSelected()?r.push(n[h]):e===!0?o.draw(t):o.isBoundingBoxOverlappingWith(d)===!0?o.draw(t):o.updateBoundingBox(t);for(var h=0;h<r.length;h++)o=i[r[h]],o.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)n=e[i[o]],n.connected===!0&&n.draw(t)}},{key:"_drawControlNodes",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)n=e[i[o]],n._drawControlNodes(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(23),s=i(28),a=i(1),l=function(){function t(e){n(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return o(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var i=["width","height","autoResize"];a.selectiveDeepExtend(i,this.options,t)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var t=e.setSize();t===!0&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),a.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),a.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplie for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var t=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new r(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),s.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new r(this.frame),s.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=void 0===arguments[0]?this.options.width:arguments[0],e=void 0===arguments[1]?this.options.height:arguments[1];t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,o=this.frame.canvas.height;return t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e?(this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,i=!0):(this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),i===!0&&this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),i}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),s=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return o(t,[{key:"setOptions",value:function(){var t=void 0===arguments[0]?{}:arguments[0];this.options=t}},{key:"_getRange",value:function(){var t,e=void 0===arguments[0]?[]:arguments[0],i=1e9,n=-1e9,o=1e9,r=-1e9;if(e.length>0)for(var s=0;s<e.length;s++)t=this.body.nodes[e[s]],o>t.shape.boundingBox.left&&(o=t.shape.boundingBox.left),r<t.shape.boundingBox.right&&(r=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),n<t.shape.boundingBox.bottom&&(n=t.shape.boundingBox.bottom);else for(var a in this.body.nodes)this.body.nodes.hasOwnProperty(a)&&(t=this.body.nodes[a],o>t.shape.boundingBox.left&&(o=t.shape.boundingBox.left),r<t.shape.boundingBox.right&&(r=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),n<t.shape.boundingBox.bottom&&(n=t.shape.boundingBox.bottom));return 1e9===o&&-1e9===r&&1e9===i&&-1e9===n&&(i=0,n=0,o=0,r=0),{minX:o,maxX:r,minY:i,maxY:n}}},{key:"_findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"fit",value:function(){var t,e,i=void 0===arguments[0]?{nodes:[]}:arguments[0],n=void 0===arguments[1]?!1:arguments[1];if(n===!0){var o=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){var s=this.body.nodes[r];s.predefinedPosition===!0&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(i,!1);t=this._getRange(i.nodes);var a=this.body.nodeIndices.length;e=12.662/(a+7.4147)+.0964822;var l=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);e*=l}else{this.body.emitter.emit("_resizeNodes"),t=this._getRange(i.nodes);var d=1.1*Math.abs(t.maxX-t.minX),h=1.1*Math.abs(t.maxY-t.minY),u=this.canvas.frame.canvas.clientWidth/d,c=this.canvas.frame.canvas.clientHeight/h;e=c>=u?u:c}e>1?e=1:0===e&&(e=1);var p=this._findCenter(t),f={position:p,scale:e,animation:i.animation};this.moveTo(f)}},{key:"focus",value:function(t){var e=void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){return void 0===t?void(t={}):(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),t.animation===!1&&(t.animation={duration:0}),t.animation===!0&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),void this.animateView(t))}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),t.locked===!0&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=void 0===arguments[0]?!1:arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=t===!0?1:this.easingTime;var e=r.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(103),a=n(s),l=i(104),d=n(l),h=i(1),u=function(){function t(e,i,n){o(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new a["default"](e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];h.selectiveNotDeepExtend(e,this.options,t),h.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(h.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=h.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-h.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-h.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=void 0===arguments[2]?!1:arguments[2],n=this.selectionHandler._getSelectedEdgeCount(),o=this.selectionHandler._getSelectedNodeCount(),r=this.selectionHandler.getSelection(),s=void 0;s=i===!0?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var a=this.selectionHandler._getSelectedEdgeCount(),l=this.selectionHandler._getSelectedNodeCount(),d=this.selectionHandler.getSelection(),h=this._determineIfDifferent(r,d),u=h.nodesChanges,c=h.edgesChanges;l-o>0?(this.selectionHandler._generateClickEvent("selectNode",e,t),s=!0):0>l-o?(this.selectionHandler._generateClickEvent("deselectNode",e,t,r),s=!0):l===o&&u===!0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,r),this.selectionHandler._generateClickEvent("selectNode",e,t),s=!0),a-n>0?(this.selectionHandler._generateClickEvent("selectEdge",e,t),s=!0):0>a-n?(this.selectionHandler._generateClickEvent("deselectEdge",e,t,r),s=!0):a===n&&c===!0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,r),this.selectionHandler._generateClickEvent("selectEdge",e,t),s=!0),s===!0&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineIfDifferent",value:function(t,e){for(var i=!1,n=!1,o=0;o<t.nodes.length;o++)-1===e.nodes.indexOf(t.nodes[o])&&(i=!0);for(var o=0;o<e.nodes.length;o++)-1===t.nodes.indexOf(t.nodes[o])&&(i=!0);for(var o=0;o<t.edges.length;o++)-1===e.edges.indexOf(t.edges[o])&&(n=!0);for(var o=0;o<e.edges.length;o++)-1===t.edges.indexOf(t.edges[o])&&(n=!0);return{nodesChanges:i,edgesChanges:n}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=h.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&this.options.dragNodes===!0){this.drag.nodeId=e.id,e.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer)}},{key:"onDrag",value:function(t){var e=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center);this.selectionHandler._generateClickEvent("dragging",t,i);var n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0)!function(){var t=i.x-e.drag.pointer.x,o=i.y-e.drag.pointer.y;n.forEach(function(i){var n=i.node;i.xFixed===!1&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(i.x)+t)),i.yFixed===!1&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(i.y)+o))}),e.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(void 0===this.drag.pointer)return void this._handleDragStart(t);var o=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+o,y:this.drag.translation.y+r},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.body.emitter.emit("startSimulation")):this.body.emitter.emit("_requestRedraw"),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(this.options.zoomView===!0){var i=this.body.view.scale;1e-5>t&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=t/i,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},void 0!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),t>i?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,n=e/10;0>e&&(n/=1-n),i*=1+n;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,o)}t.preventDefault()}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0){var o=this.selectionHandler.getNodeAt(i);void 0===o&&(o=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(o)}}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,h=void 0,u=[],c=0;c<a.length;c++)h=l[a[c]],h.isOverlappingWith(n)===!0&&void 0!==h.getTitle()&&u.push(a[c]);u.length>0&&(this.popupObj=l[u[u.length-1]],r=!0)}if(void 0===this.popupObj&&r===!1){for(var p=this.body.edgeIndices,f=this.body.edges,m=void 0,g=[],c=0;c<p.length;c++)m=f[p[c]],m.isOverlappingWith(n)===!0&&m.connected===!0&&void 0!==m.getTitle()&&g.push(p[c]);g.length>0&&(this.popupObj=f[g[g.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new d["default"](this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),i===!0)){var n=this.selectionHandler.getNodeAt(t);i=n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(i(1),i(23)),s=i(28),a=i(43),l=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("release",function(){o._stopMovement()}),this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==o.keycharm&&o.keycharm.destroy()}),this.options={}}return o(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="vis-button vis-"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var n=new r(this.navigationDOM[t[i]]);"_fit"===e[i]?s.onTouch(n,this._fit.bind(this)):s.onTouch(n,this.bindToRedraw.bind(this,e[i])),this.navigationHammers.push(n)}this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=a({container:window,preventDefault:!0}):this.keycharm=a({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){n(this,t),this.container=e,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return o(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e);
}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),t===!0){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=this.y-e;r+e+this.padding>n&&(r=n-e-this.padding),r<this.padding&&(r=this.padding);var s=this.x;s+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding),this.frame.style.left=s+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(62),s=i(82),a=i(1),l=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},a.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return o(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];a.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(this.options.selectable===!0){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(this.options.selectable===!0){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_generateClickEvent",value:function(t,e,i,n){var o=this.getSelection();o.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},o.event=e,void 0!==n&&(o.previousSelection=n),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e=void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==t?(t instanceof r&&e===!0&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0):!1}},{key:"deselectObject",value:function(t){t.isSelected()===!0&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=void 0===arguments[1]?!0:arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?e===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){var e=void 0===arguments[1]?!0:arguments[1],i=this._pointerToPositionObject(t),n=this._getAllEdgesOverlappingWith(i);return n.length>0?e===!0?this.body.edges[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_addToSelection",value:function(t){t instanceof r?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof r?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof r?delete this.selectionObj.nodes[t.id]:delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t];return void 0}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t];return void 0}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){t.hover===!0&&(t.hover=!1,this.body.emitter.emit("blurNode",{node:t.id}))}},{key:"hoverObject",value:function(t){var e=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===t?(this.blurObject(this.hoverObj.nodes[i]),e=!0):(t instanceof r&&t.id!=i||t instanceof s||void 0===t)&&(this.blurObject(this.hoverObj.nodes[i]),e=!0,delete this.hoverObj.nodes[i]));for(var n in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(n)&&(this.hoverObj.edges[n].hover=!1,delete this.hoverObj.edges[n]);void 0!==t&&(t.hover===!1&&(t.hover=!0,this._addToHover(t),e=!0,t instanceof r&&this.body.emitter.emit("hoverNode",{node:t.id})),t instanceof r&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(t)),e===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}}},{key:"getSelectedNodes",value:function(){var t=[];if(this.options.selectable===!0)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(e);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(this.options.selectable===!0)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(e);return t}},{key:"selectNodes",value:function(t){var e=void 0===arguments[1]?!0:arguments[1],i=void 0,n=void 0;if(!t||void 0===t.length)throw"Selection must be an array with ids";for(this.unselectAll(),i=0;i<t.length;i++){n=t[i];var o=this.body.nodes[n];if(!o)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(o,e)}this.body.emitter.emit("_requestRedraw")}},{key:"selectEdges",value:function(t){var e=void 0,i=void 0;if(!t||void 0===t.length)throw"Selection must be an array with ids";for(this.unselectAll(),e=0;e<t.length;e++){i=t[e];var n=this.body.edges[i];if(!n)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw")}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),s=function(){function t(e){n(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.options={},this.optionsBackup={},this.defaultOptions={randomSeed:void 0,hierarchical:{enabled:!1,levelSeparation:150,direction:"UD",sortMethod:"hubsize"}},r.extend(this.options,this.defaultOptions),this.hierarchicalLevels={},this.bindEventListeners()}return o(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical.enabled;if(r.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),this.options.hierarchical.enabled===!0)return"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptions(e);if(i===!0)return this.body.emitter.emit("refresh"),r.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptions",value:function(t){if(this.options.hierarchical.enabled===!0){void 0===t.physics||t.physics===!0?(t.physics={solver:"hierarchicalRepulsion"},this.optionsBackup.physics={solver:"barnesHut"}):"object"==typeof t.physics?(this.optionsBackup.physics={solver:"barnesHut"},void 0!==t.physics.solver&&(this.optionsBackup.physics={solver:t.physics.solver}),t.physics.solver="hierarchicalRepulsion"):t.physics!==!1&&(this.optionsBackup.physics={solver:"barnesHut"},t.physics.solver="hierarchicalRepulsion");var e="horizontal";("RL"===this.options.hierarchical.direction||"LR"===this.options.hierarchical.direction)&&(e="vertical"),void 0===t.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1}):void 0===t.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1):"boolean"==typeof t.edges.smooth?(this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:e}):(void 0!==t.edges.smooth.type&&"dynamic"!==t.edges.smooth.type&&(e=t.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===t.edges.smooth.enabled?!0:t.edges.smooth.enabled,type:void 0===t.edges.smooth.type?"dynamic":t.edges.smooth.type,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness},t.edges.smooth={enabled:void 0===t.edges.smooth.enabled?!0:t.edges.smooth.enabled,type:e,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness}),this.body.emitter.emit("_forceDisableDynamicCurves",e)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var e=0;e<t.length;e++){var i=t[e];if(!i.isFixed()&&(void 0===i.x||void 0===i.y)){var n=1*t.length+10,o=2*Math.PI*this.seededRandom();i.options.fixed.x===!1&&(i.x=n*Math.cos(o)),i.options.fixed.x===!1&&(i.y=n*Math.sin(o))}}}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,n=!1;this.hierarchicalLevels={},this.nodeSpacing=100;for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchicalLevels[e]=t.options.level):n=!0);if(n===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");n===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():("directed"===this.options.hierarchical.sortMethod,this._determineLevelsDirected()));var o=this._getDistribution();this._placeNodesByHierarchy(o)}}},{key:"_placeNodesByHierarchy",value:function(t){var e=void 0,i=void 0;this.positionedNodes={};for(var n in t)if(t.hasOwnProperty(n))for(e in t[n].nodes)t[n].nodes.hasOwnProperty(e)&&(i=t[n].nodes[e],"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(void 0===i.x&&(i.x=t[n].distance),t[n].distance=i.x+this.nodeSpacing):(void 0===i.y&&(i.y=t[n].distance),t[n].distance=i.y+this.nodeSpacing),this.positionedNodes[e]=!0,this._placeBranchNodes(i.edges,i.id,t,n))}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var n=void 0===this.hierarchicalLevels[e]?0:this.hierarchicalLevels[e];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(i.y=this.options.hierarchical.levelSeparation*n,i.options.fixed.y=!0):(i.x=this.options.hierarchical.levelSeparation*n,i.options.fixed.x=!0),void 0===t[n]&&(t[n]={amount:0,nodes:{},distance:0}),t[n].amount+=1,t[n].nodes[e]=i}return t}},{key:"_getHubSize",value:function(){var t=0;for(var e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var i=this.body.nodes[e];void 0===this.hierarchicalLevels[e]&&(t=i.edges.length<t?t:i.edges.length)}return t}},{key:"_determineLevelsByHubsize",value:function(){for(var t=void 0,e=void 0,i=1;i>0&&(i=this._getHubSize(),0!==i);)for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(e=this.body.nodes[t],e.edges.length===i&&this._setLevelByHubsize(0,e))}},{key:"_setLevelByHubsize",value:function(t,e){if(void 0===this.hierarchicalLevels[e.id]){var i=void 0;this.hierarchicalLevels[e.id]=t;for(var n=0;n<e.edges.length;n++)i=e.edges[n].toId===e.id?e.edges[n].from:e.edges[n].to,this._setLevelByHubsize(t+1,i)}}},{key:"_determineLevelsDirected",value:function(){var t=void 0,e=void 0,i=1e4;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(e=this.body.nodes[t],this._setLevelDirected(i,e));for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(i=this.hierarchicalLevels[t]<i?this.hierarchicalLevels[t]:i);for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(this.hierarchicalLevels[t]-=i)}},{key:"_setLevelDirected",value:function(t,e){if(void 0===this.hierarchicalLevels[e.id]){var i=void 0;this.hierarchicalLevels[e.id]=t;for(var n=0;n<e.edges.length;n++)e.edges[n].toId===e.id?(i=e.edges[n].from,this._setLevelDirected(t-1,i)):(i=e.edges[n].to,this._setLevelDirected(t+1,i))}}},{key:"_placeBranchNodes",value:function(t,e,i,n){for(var o=0;o<t.length;o++){var r=void 0,s=void 0;t[o].toId===e?(r=t[o].from,s=t[o].to):(r=t[o].to,s=t[o].from);var a=this.hierarchicalLevels[r.id];void 0===this.positionedNodes[r.id]&&a>n&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(void 0===r.x&&(r.x=Math.max(i[a].distance,s.x)),i[a].distance=r.x+this.nodeSpacing,this.positionedNodes[r.id]=!0):(void 0===r.y&&(r.y=Math.max(i[a].distance,s.y)),i[a].distance=r.y+this.nodeSpacing),this.positionedNodes[r.id]=!0,r.edges.length>1&&this._placeBranchNodes(r.edges,r.id,i,a))}}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),s=i(23),a=i(28),l=function(){function t(e,i,o){var s=this;n(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},r.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){s._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return o(t,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,r.deepExtend(this.options,t)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,n=this.options.locales[this.options.locale],o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(n),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(n)),1===t&&"function"==typeof this.options.editNode?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(n)):1===e&&0===t&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(n)),0!==i&&(1===t&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(n)):0===t&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(e.isCluster!==!0){var i=r.deepExtend({},e.options,!0);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var t=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var e=t.body.edges[t.edgeBeingEditedId],i=t._getNewTargetNode(e.from.x,e.from.y),n=t._getNewTargetNode(e.to.x,e.to.y);t.temporaryIds.nodes.push(i.id),t.temporaryIds.nodes.push(n.id),t.body.nodes[i.id]=i,t.body.nodeIndices.push(i.id),t.body.nodes[n.id]=n,t.body.nodeIndices.push(n.id),t._temporaryBindUI("onTouch",t._controlNodeTouch.bind(t)),t._temporaryBindUI("onTap",function(){}),t._temporaryBindUI("onHold",function(){}),t._temporaryBindUI("onDragStart",t._controlNodeDragStart.bind(t)),t._temporaryBindUI("onDrag",t._controlNodeDrag.bind(t)),t._temporaryBindUI("onDragEnd",t._controlNodeDragEnd.bind(t)),t._temporaryBindUI("onMouseMove",function(){}),t._temporaryBindEvent("beforeDrawing",function(t){var o=e.edgeType.findBorderPositions(t);i.selected===!1&&(i.x=o.from.x,i.y=o.from.y),n.selected===!1&&(n.x=o.to.x,n.y=o.to.y)}),t.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var o=0;o<e.length;o++)if(this.body.nodes[e[o]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var r={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,function(e){null!==e&&void 0!==e&&"delete"===t.inMode&&(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=r.deepExtend({},this.options.controlNodeStyle);return i.id="targetNode"+r.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e,this.body.functions.createNode(i)}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},r.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(r.recursiveDOMDelete(this.editModeDiv),r.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),r.recursiveDOMDelete(this.manipulationDiv),r.recursiveDOMDelete(this.editModeDiv),r.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete","vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var n=void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new s(t,{});a.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var t=0;t<this.temporaryIds.nodes.length;t++){delete this.body.nodes[this.temporaryIds.nodes[t]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[t]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=r.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=n.isOverlappingWith(i),a=o.isOverlappingWith(i);s===!0?(this.selectedControlNode=n,r.edgeType.from=n):a===!0&&(this.selectedControlNode=o,r.edgeType.to=o),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){for(var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId],o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{
var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=r.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+r.randomUUID(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(o[s])){r=this.body.nodes[o[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(r.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,i={id:r.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(n,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="array",a="object",l="dom",d={configure:{enabled:{"boolean":o},filter:{"boolean":o,string:n,array:s,"function":"function"},container:{dom:l},showButton:{"boolean":o},__type__:{object:a,"boolean":o,string:n,array:s,"function":"function"}},edges:{arrows:{to:{enabled:{"boolean":o},scaleFactor:{number:r},__type__:{object:a,"boolean":o}},middle:{enabled:{"boolean":o},scaleFactor:{number:r},__type__:{object:a,"boolean":o}},from:{enabled:{"boolean":o},scaleFactor:{number:r},__type__:{object:a,"boolean":o}},__type__:{string:["from","to","middle"],object:a}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],"boolean":o},opacity:{number:r},__type__:{object:a,string:n}},dashes:{"boolean":o,array:s},font:{color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:a,string:n}},hidden:{"boolean":o},hoverWidth:{"function":"function",number:r},label:{string:n,undefined:"undefined"},length:{number:r,undefined:"undefined"},physics:{"boolean":o},scaling:{min:{number:r},max:{number:r},label:{enabled:{"boolean":o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,"boolean":o}},customScalingFunction:{"function":"function"},__type__:{object:a}},selectionWidth:{"function":"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{"boolean":o},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,"boolean":o}},smooth:{enabled:{"boolean":o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW"]},roundness:{number:r},__type__:{object:a,"boolean":o}},title:{string:n,undefined:"undefined"},width:{number:r},value:{number:r,undefined:"undefined"},__type__:{object:a}},groups:{useDefaultGroups:{"boolean":o},__any__:"get from nodes, will be overwritten below",__type__:{object:a}},interaction:{dragNodes:{"boolean":o},dragView:{"boolean":o},hideEdgesOnDrag:{"boolean":o},hideNodesOnDrag:{"boolean":o},hover:{"boolean":o},keyboard:{enabled:{"boolean":o},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:a}},bindToWindow:{"boolean":o},__type__:{object:a,"boolean":o}},multiselect:{"boolean":o},navigationButtons:{"boolean":o},selectable:{"boolean":o},selectConnectedEdges:{"boolean":o},hoverConnectedEdges:{"boolean":o},tooltipDelay:{number:r},zoomView:{"boolean":o},__type__:{object:a}},layout:{randomSeed:{undefined:"undefined",number:r},hierarchical:{enabled:{"boolean":o},levelSeparation:{number:r},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:a,"boolean":o}},__type__:{object:a}},manipulation:{enabled:{"boolean":o},initiallyActive:{"boolean":o},addNode:{"boolean":o,"function":"function"},addEdge:{"boolean":o,"function":"function"},editNode:{"function":"function"},editEdge:{"boolean":o,"function":"function"},deleteNode:{"boolean":o,"function":"function"},deleteEdge:{"boolean":o,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:a,"boolean":o}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:n,undefined:"undefined"},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:a,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:a,string:n}},__type__:{object:a,string:n}},fixed:{x:{"boolean":o},y:{"boolean":o},__type__:{object:a,"boolean":o}},font:{color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},__type__:{object:a,string:n}},group:{string:n,number:r,undefined:"undefined"},hidden:{"boolean":o},icon:{face:{string:n},code:{string:n},size:{number:r},color:{string:n},__type__:{object:a}},id:{string:n,number:r},image:{string:n,undefined:"undefined"},label:{string:n,undefined:"undefined"},level:{number:r,undefined:"undefined"},mass:{number:r},physics:{"boolean":o},scaling:{min:{number:r},max:{number:r},label:{enabled:{"boolean":o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,"boolean":o}},customScalingFunction:{"function":"function"},__type__:{object:a}},shadow:{enabled:{"boolean":o},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,"boolean":o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},size:{number:r},title:{string:n,undefined:"undefined"},value:{number:r,undefined:"undefined"},x:{number:r},y:{number:r},__type__:{object:a}},physics:{enabled:{"boolean":o},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":o},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{"boolean":o},fit:{"boolean":o},__type__:{object:a,"boolean":o}},timestep:{number:r},__type__:{object:a,"boolean":o}},autoResize:{"boolean":o},clickToUse:{"boolean":o},locale:{string:n},locales:{__any__:{object:a},__type__:{object:a}},height:{string:n},width:{string:n},__type__:{object:a}};d.groups.__any__=d.nodes,d.manipulation.controlNodeStyle=d.nodes;var h={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};e.allOptions=d,e.configureOptions=h},function(t,e,i){"use strict";"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),i*=1.15,e+=.275*i;var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e-(s-r)),this.lineTo(t+o,e+r),this.lineTo(t-o,e+r),this.lineTo(t,e-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),i*=1.15,e-=.275*i;var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e+(s-r)),this.lineTo(t+o,e-r),this.lineTo(t-o,e-r),this.lineTo(t,e+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),i*=.82,e+=.1*i;for(var n=0;10>n;n++){var o=n%2===0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*n*Math.PI/10),e-o*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,o){var r=Math.PI/180;0>i-2*o&&(o=i/2),0>n-2*o&&(o=n/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*r,360*r,!1),this.lineTo(t+i,e+n-o),this.arc(t+i-o,e+n-o,o,0,90*r,!1),this.lineTo(t+o,e+n),this.arc(t+o,e+n-o,o,90*r,180*r,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,n){var o=.5522848,r=i/2*o,s=n/2*o,a=t+i,l=e+n,d=t+i/2,h=e+n/2;this.beginPath(),this.moveTo(t,h),this.bezierCurveTo(t,h-s,d-r,e,d,e),this.bezierCurveTo(d+r,e,a,h-s,a,h),this.bezierCurveTo(a,h+s,d+r,l,d,l),this.bezierCurveTo(d-r,l,t,h+s,t,h),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var o=1/3,r=i,s=n*o,a=.5522848,l=r/2*a,d=s/2*a,h=t+r,u=e+s,c=t+r/2,p=e+s/2,f=e+(n-s/2),m=e+n;this.beginPath(),this.moveTo(h,p),this.bezierCurveTo(h,p+d,c+l,u,c,u),this.bezierCurveTo(c-l,u,t,p+d,t,p),this.bezierCurveTo(t,p-d,c-l,e,c,e),this.bezierCurveTo(c+l,e,h,p-d,h,p),this.lineTo(h,f),this.bezierCurveTo(h,f+d,c+l,m,c,m),this.bezierCurveTo(c-l,m,t,f+d,t,f),this.lineTo(t,p)},CanvasRenderingContext2D.prototype.arrow=function(t,e,i,n){var o=t-n*Math.cos(i),r=e-n*Math.sin(i),s=t-.9*n*Math.cos(i),a=e-.9*n*Math.sin(i),l=o+n/3*Math.cos(i+.5*Math.PI),d=r+n/3*Math.sin(i+.5*Math.PI),h=o+n/3*Math.cos(i-.5*Math.PI),u=r+n/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(l,d),this.lineTo(s,a),this.lineTo(h,u),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,o){this.beginPath(),this.moveTo(t,e);for(var r=o.length,s=i-t,a=n-e,l=a/s,d=Math.sqrt(s*s+a*a),h=0,u=!0,c=0,p=o[0];d>=.1;)p=o[h++%r],p>d&&(p=d),c=Math.sqrt(p*p/(1+l*l)),c=0>s?-c:c,t+=c,e+=l*c,u===!0?this.lineTo(t,e):this.moveTo(t,e),d-=p,u=!u})},function(t,e,i){"use strict";function n(t){return N=t,f()}function o(){I=0,F=N.charAt(0)}function r(){I++,F=N.charAt(I)}function s(){return N.charAt(I+1)}function a(t){return P.test(t)}function l(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function d(t,e,i){for(var n=e.split("."),o=t;n.length;){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function h(t,e){for(var i,n,o=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;n>i;i++)if(e.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=l(o.attr,t.node))),i=r.length-1;i>=0;i--){var a=r[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=l(o.attr,e.attr))}function u(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=l({},t.edge);e.attr=l(i,e.attr)}}function c(t,e,i,n,o){var r={from:e,to:i,type:n};return t.edge&&(r.attr=l({},t.edge)),r.attr=l(r.attr||{},o),r}function p(){for(L=M.NULL,R="";" "===F||"	"===F||"\n"===F||"\r"===F;)r();do{var t=!1;if("#"===F){for(var e=I-1;" "===N.charAt(e)||"	"===N.charAt(e);)e--;if("\n"===N.charAt(e)||""===N.charAt(e)){for(;""!=F&&"\n"!=F;)r();t=!0}}if("/"===F&&"/"===s()){for(;""!=F&&"\n"!=F;)r();t=!0}if("/"===F&&"*"===s()){for(;""!=F;){if("*"===F&&"/"===s()){r(),r();break}r()}t=!0}for(;" "===F||"	"===F||"\n"===F||"\r"===F;)r()}while(t);if(""===F)return void(L=M.DELIMITER);var i=F+s();if(A[i])return L=M.DELIMITER,R=i,r(),void r();if(A[F])return L=M.DELIMITER,R=F,void r();if(a(F)||"-"===F){for(R+=F,r();a(F);)R+=F,r();return"false"===R?R=!1:"true"===R?R=!0:isNaN(Number(R))||(R=Number(R)),void(L=M.IDENTIFIER)}if('"'===F){for(r();""!=F&&('"'!=F||'"'===F&&'"'===s());)R+=F,'"'===F&&r(),r();if('"'!=F)throw x('End of string " expected');return r(),void(L=M.IDENTIFIER)}for(L=M.UNKNOWN;""!=F;)R+=F,r();throw new SyntaxError('Syntax error in part "'+C(R,30)+'"')}function f(){var t={};if(o(),p(),"strict"===R&&(t.strict=!0,p()),("graph"===R||"digraph"===R)&&(t.type=R,p()),L===M.IDENTIFIER&&(t.id=R,p()),"{"!=R)throw x("Angle bracket { expected");if(p(),m(t),"}"!=R)throw x("Angle bracket } expected");if(p(),""!==R)throw x("End of file expected");return p(),delete t.node,delete t.edge,delete t.graph,t}function m(t){for(;""!==R&&"}"!=R;)g(t),";"===R&&p()}function g(t){var e=v(t);if(e)return void w(t,e);var i=y(t);if(!i){if(L!=M.IDENTIFIER)throw x("Identifier expected");var n=R;if(p(),"="===R){if(p(),L!=M.IDENTIFIER)throw x("Identifier expected");t[n]=R,p()}else b(t,n)}}function v(t){var e=null;if("subgraph"===R&&(e={},e.type="subgraph",p(),L===M.IDENTIFIER&&(e.id=R,p())),"{"===R){if(p(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,m(e),"}"!=R)throw x("Angle bracket } expected");p(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function y(t){return"node"===R?(p(),t.node=_(),"node"):"edge"===R?(p(),t.edge=_(),"edge"):"graph"===R?(p(),t.graph=_(),"graph"):null}function b(t,e){var i={id:e},n=_();n&&(i.attr=n),h(t,i),w(t,e)}function w(t,e){for(;"->"===R||"--"===R;){var i,n=R;p();var o=v(t);if(o)i=o;else{if(L!=M.IDENTIFIER)throw x("Identifier or subgraph expected");i=R,h(t,{id:i}),p()}var r=_(),s=c(t,e,i,n,r);u(t,s),e=i}}function _(){for(var t=null;"["===R;){for(p(),t={};""!==R&&"]"!=R;){if(L!=M.IDENTIFIER)throw x("Attribute name expected");var e=R;if(p(),"="!=R)throw x("Equal sign = expected");if(p(),L!=M.IDENTIFIER)throw x("Attribute value expected");var i=R;d(t,e,i),p(),","==R&&p()}if("]"!=R)throw x("Bracket ] expected");p()}return t}function x(t){return new SyntaxError(t+', got "'+C(R,30)+'" (char '+I+")")}function C(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function k(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function E(t,e,i){for(var n=e.split("."),o=n.pop(),r=t,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,t}function T(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];Array.isArray(o)?o.forEach(function(e){E(i,e,t[n])}):"string"==typeof o?E(i,o,t[n]):E(i,n,t[n])}return i}function S(t){var e=n(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};l(e,T(t.attr,D)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var o=function(t){var e={from:t.from,to:t.to};return l(e,T(t.attr,O)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,n;e=t.from instanceof Object?t.from.nodes:{id:t.from},n=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=o(t);i.edges.push(e)}),k(e,n,function(e,n){var r=c(i,e.id,n.id,t.type,t.attr),s=o(r);i.edges.push(s)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=o(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}var D={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},O=Object.create(D);O.color="color.color";var M={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},A={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},N="",I=0,F="",R="",L=M.NULL,P=/[a-zA-Z_0-9.:#]/;e.parseDOT=n,e.DOTToGraph=S},function(t,e,i){"use strict";function n(t,e){var i=[],n=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var r=t.edges,s=t.nodes,a=0;a<r.length;a++){var l={},d=r[a];l.id=d.id,l.from=d.source,l.to=d.target,l.attributes=d.attributes,d.color&&o.inheritColor===!1&&(l.color=d.color),i.push(l)}for(var a=0;a<s.length;a++){var h={},u=s[a];h.id=u.id,h.attributes=u.attributes,h.title=u.title,h.x=u.x,h.y=u.y,h.label=u.label,o.nodes.parseColor===!0?h.color=u.color:h.color=void 0!==u.color?{background:u.color,border:u.color,highlight:{background:u.color,border:u.color},hover:{background:u.color,border:u.color}}:void 0,h.size=u.size,h.fixed=o.nodes.fixed&&void 0!==u.x&&void 0!==u.y,n.push(h)}return{nodes:n,edges:i}}e.parseGephi=n},function(t,e,i){"use strict";function n(t){this.images={},this.imageBroken={},this.callback=t}n.prototype.load=function(t,e,i){var n=this.images[t];if(void 0===n){var o=this;n=new Image,n.onload=function(){0===this.width&&(document.body.appendChild(this),this.width=this.offsetWidth,this.height=this.offsetHeight,document.body.removeChild(this)),o.callback&&(o.images[t]=n,o.callback(this))},n.onerror=function(){void 0===e?(console.error("Could not load image:",t),delete this.src,o.callback&&o.callback(this)):o.imageBroken[i]&&o.imageBroken[i][t]===!0?(console.error("Could not load brokenImage:",e),delete this.src,o.callback&&o.callback(this)):(console.error("Could not load image:",t),this.src=e,void 0===o.imageBroken[i]&&(o.imageBroken[i]={}),o.imageBroken[i][t]=!0)},n.src=t}return n},t.exports=n},function(t,e,i){"use strict";e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl}])}),function(){jQuery(function(){return $("#checkout-form").on("ajax:success",function(t,e,i,n){return e.paid?($("#payment-widget").collapse("hide"),$("#confirm-button").collapse("hide"),$("#message-success").collapse("show"),$("#checkout-form").collapse("show")):($("#checkout-form").find("fieldset").attr("disabled",!0),$("#continue-button").collapse("hide"),$("#checkout-form").collapse("hide"),$("#payment-widget").collapse("show"))})})}.call(this),function(){$.fn.datepicker.defaults.weekStart=1,$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.calendarWeeks=!0,$.fn.datepicker.defaults.todayHighlight=!0}.call(this),function(){var t;t=function(t,e,i){var n,o;return o=!1,n=function(){var n,r,s;return s=this,n=arguments,r=function(){return i||t.apply(s,n),o=null},o?clearTimeout(o):i&&t.apply(s,n),o=setTimeout(r,e||100)}},$.fn.extend({smartkeyup:function(e){return e?this.bind("keyup",t(e,250)):this.trigger("keyup")}})}.call(this),function(){$.fn.extend({initialize:function(){return $("#static-wrap a.snip").each(function(){return $.ajax({url:$(this).attr("href"),success:function(t){return function(e,i,n){return $(t).replaceWith(e)}}(this)})}),$(".gallery",this).each(function(){return $(this).magnificPopup({delegate:".image-link",type:"image",gallery:{enabled:!0}})}),$('[data-toggle="tooltip"]',this).tooltip(),$('[data-toggle="popover"]',this).popover({html:!0,trigger:"hover"}),$(".selectize",this).selectize({plugins:["remove_button"],dropdownParent:"body",allowEmptyOption:!0}),$(".infinite-table",this).infinitePages({loading:function(){return $(this).html('<i class="fa fa-spin fa-circle-o-notch"></i>')}}),$(".credit-card-number").payment("formatCardNumber"),$(".credit-card-expiry").payment("formatCardExpiry"),$(".credit-card-cvc").payment("formatCardCVC")},deactivate:function(){return $(this).removeClass("active")},activate:function(){return $(this).addClass("active"),$(this).parents("li").addClass("active")},make_room:function(t){return $(this).css("padding-bottom",t.height())},rebuild_masonry:function(){var t;return t=$(".brickwork"),t.hasClass("masonry")&&t.masonry("destroy"),t.imagesLoaded(function(){return t.masonry({itemSelector:"li.product",percentPosition:!1})})}}),jQuery(function(){return window.wiselinks=new Wiselinks,$("body").css("margin-bottom",30+$(".footer").height()),$(document).initialize(),$(document).rebuild_masonry(),$(document).on("change","form.immediate",function(t){return $(t.currentTarget).trigger("submit.rails")}),$(document).on("click","[data-toggle=sidebar]",function(t){return $(".sidebar").toggleClass("active")}),$(document).on("click",'a[href="#back"]',function(t){return t.preventDefault(),history.back()}),$(document).on("click",'a[href="#print"]',function(t){return t.preventDefault(),$.print()}),$(document).on("show.bs.modal",".modal",function(t){return $(".modal-body",this).css("height",$(window).height()-120)}),$(document).on("page:loading",function(){return NProgress.start()}),$(document).on("page:always",function(){return NProgress.done()}),$(document).on("page:done",function(t,e,i,n,o){return $.SmartMenus.Bootstrap.init(),$(document).rebuild_masonry(),"undefined"!=typeof ga&&null!==ga?ga("send","pageview",window.location.pathname):void 0})})}.call(this),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.sortable=e(t.jQuery)}(this,function(t){"use strict";var e,i,n=t(),o=[],r=function(t){t.off("dragstart.h5s"),t.off("dragend.h5s"),t.off("selectstart.h5s"),t.off("dragover.h5s"),t.off("dragenter.h5s"),t.off("drop.h5s")},s=function(t){t.off("dragover.h5s"),t.off("dragenter.h5s"),t.off("drop.h5s")},a=function(t,e){t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",""),t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(e.item,e.x,e.y)},l=function(t,e){return e.x||(e.x=parseInt(t.pageX-e.draggedItem.offset().left)),e.y||(e.y=parseInt(t.pageY-e.draggedItem.offset().top)),e},d=function(t){return{item:t[0],draggedItem:t}},h=function(t,e){var i=d(e);i=l(t,i),a(t,i)},u=function(t,e){return"undefined"==typeof t?e:t},c=function(t){t.removeData("opts"),t.removeData("connectWith"),t.removeData("items"),t.removeAttr("aria-dropeffect")},p=function(t){t.removeAttr("aria-grabbed"),t.removeAttr("draggable"),t.removeAttr("role")},f=function(t,e){return t[0]===e[0]?!0:void 0!==t.data("connectWith")?t.data("connectWith")===e.data("connectWith"):!1},m=function(t){var e=t.data("opts")||{},i=t.children(e.items),n=e.handle?i.find(e.handle):i;s(t),c(t),n.off("mousedown.h5s"),r(i),p(i)},g=function(e){var i=e.data("opts"),n=e.children(i.items),o=i.handle?n.find(i.handle):n;e.attr("aria-dropeffect","move"),o.attr("draggable","true");var r=(document||window.document).createElement("span");"function"!=typeof r.dragDrop||i.disableIEFix||o.on("mousedown.h5s",function(){-1!==n.index(this)?this.dragDrop():t(this).parents(i.items)[0].dragDrop()})},v=function(t){var e=t.data("opts"),i=t.children(e.items),n=e.handle?i.find(e.handle):i;t.attr("aria-dropeffect","none"),n.attr("draggable",!1),n.off("mousedown.h5s")},y=function(t){var e=t.data("opts"),i=t.children(e.items),n=e.handle?i.find(e.handle):i;r(i),n.off("mousedown.h5s"),s(t)},b=function(r,s){var l=t(r),d=String(s);return s=t.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1},s),l.each(function(){var r=t(this);if(/enable|disable|destroy/.test(d))return void b[d](r);s=u(r.data("opts"),s),r.data("opts",s),y(r);var l,c,p,m=r.children(s.items),v=null===s.placeholder?t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+s.placeholderClass+'"/>'):t(s.placeholder).addClass(s.placeholderClass);if(!r.attr("data-sortable-id")){var w=o.length;o[w]=r,r.attr("data-sortable-id",w),m.attr("data-item-sortable-id",w)}if(r.data("items",s.items),n=n.add(v),s.connectWith&&r.data("connectWith",s.connectWith),g(r),m.attr("role","option"),m.attr("aria-grabbed","false"),s.hoverClass){var _="sortable-over";"string"==typeof s.hoverClass&&(_=s.hoverClass),m.hover(function(){t(this).addClass(_)},function(){t(this).removeClass(_)})}m.on("dragstart.h5s",function(n){n.stopImmediatePropagation(),s.dragImage?(a(n.originalEvent,{item:s.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):h(n.originalEvent,t(this),s.dragImage),e=t(this),e.addClass(s.draggingClass),e.attr("aria-grabbed","true"),l=e.index(),i=e.height(),c=t(this).parent(),e.parent().triggerHandler("sortstart",{item:e,placeholder:v,startparent:c})}),m.on("dragend.h5s",function(){e&&(e.removeClass(s.draggingClass),e.attr("aria-grabbed","false"),e.show(),n.detach(),p=t(this).parent(),e.parent().triggerHandler("sortstop",{item:e,startparent:c}),(l!==e.index()||c.get(0)!==p.get(0))&&e.parent().triggerHandler("sortupdate",{item:e,index:p.children(p.data("items")).index(e),oldindex:m.index(e),elementIndex:e.index(),oldElementIndex:l,startparent:c,endparent:p}),e=null,i=null)}),t(this).add([v]).on("drop.h5s",function(i){return f(r,t(e).parent())?(i.stopPropagation(),n.filter(":visible").after(e),e.trigger("dragend.h5s"),!1):void 0}),m.add([this]).on("dragover.h5s dragenter.h5s",function(o){if(f(r,t(e).parent())){if(o.preventDefault(),o.originalEvent.dataTransfer.dropEffect="move",m.is(this)){var a=t(this).height();if(s.forcePlaceholderSize&&v.height(i),a>i){var l=a-i,d=t(this).offset().top;if(v.index()<t(this).index()&&o.originalEvent.pageY<d+l)return!1;if(v.index()>t(this).index()&&o.originalEvent.pageY>d+a-l)return!1}e.hide(),v.index()<t(this).index()?t(this).after(v):t(this).before(v),n.not(v).detach()}else n.is(this)||t(this).children(s.items).length||(n.detach(),t(this).append(v));return!1}})})};return b.destroy=function(t){m(t)},b.enable=function(t){g(t)},b.disable=function(t){v(t)},t.fn.sortable=function(t){return b(this,t)},b}),/*!
 * imagesLoaded PACKAGED v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),/*!
 * imagesLoaded v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(a=e,a.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(a(this))})},o.makeJQueryPlugin(),o}),function(){var t,e,i,n,o,r,s,a,l,d,h,u,c,p,f,m,g,v,y,b,w,_,x,C,k,E=[].slice,T=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};t=window.jQuery||window.Zepto||window.$,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,i;return i=arguments[0],e=2<=arguments.length?E.call(arguments,1):[],t.payment.fn[i].apply(this,e)},o=/(\d{1,4})/g,t.payment.cards=n=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:o,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:o,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[0-5]|2[2-7])/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:o,length:[16],cvcLength:[3],luhn:!0}],e=function(t){var e,i,o;for(t=(t+"").replace(/\D/g,""),i=0,o=n.length;o>i;i++)if(e=n[i],e.pattern.test(t))return e},i=function(t){var e,i,o;for(i=0,o=n.length;o>i;i++)if(e=n[i],e.type===t)return e},f=function(t){var e,i,n,o,r,s;for(n=!0,o=0,i=(t+"").split("").reverse(),r=0,s=i.length;s>r;r++)e=i[r],e=parseInt(e,10),(n=!n)&&(e*=2),e>9&&(e-=9),o+=e;return o%10===0},p=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)?e.createRange:void 0)&&document.selection.createRange().text?!0:!1},C=function(t,e){var i,n,o;try{i=e.prop("selectionStart")}catch(r){n=r,i=null}return o=e.val(),e.val(t),null!==i&&e.is(":focus")?(i===o.length&&(i=t.length),e.prop("selectionStart",i),e.prop("selectionEnd",i)):void 0},y=function(e){return setTimeout(function(){var i,n;return i=t(e.currentTarget),n=i.val(),n=n.replace(/\D/g,""),C(n,i)})},g=function(e){return setTimeout(function(){var i,n;return i=t(e.currentTarget),n=i.val(),n=t.payment.formatCardNumber(n),C(n,i)})},a=function(i){var n,o,r,s,a,l,d;return r=String.fromCharCode(i.which),!/^\d+$/.test(r)||(n=t(i.currentTarget),d=n.val(),o=e(d+r),s=(d.replace(/\D/g,"")+r).length,l=16,o&&(l=o.length[o.length.length-1]),s>=l||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==d.length)?void 0:(a=o&&"amex"===o.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(d)?(i.preventDefault(),setTimeout(function(){return n.val(d+" "+r)})):a.test(d+r)?(i.preventDefault(),setTimeout(function(){return n.val(d+r+" ")})):void 0)},r=function(e){var i,n;return i=t(e.currentTarget),n=i.val(),8!==e.which||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==n.length?void 0:/\d\s$/.test(n)?(e.preventDefault(),setTimeout(function(){return i.val(n.replace(/\d\s$/,""))})):/\s\d?$/.test(n)?(e.preventDefault(),setTimeout(function(){return i.val(n.replace(/\d$/,""))})):void 0},v=function(e){return setTimeout(function(){var i,n;return i=t(e.currentTarget),n=i.val(),n=t.payment.formatExpiry(n),C(n,i)})},l=function(e){var i,n,o;return n=String.fromCharCode(e.which),/^\d+$/.test(n)?(i=t(e.currentTarget),o=i.val()+n,/^\d$/.test(o)&&"0"!==o&&"1"!==o?(e.preventDefault(),setTimeout(function(){return i.val("0"+o+" / ")})):/^\d\d$/.test(o)?(e.preventDefault(),setTimeout(function(){return i.val(""+o+" / ")})):void 0):void 0},d=function(e){var i,n,o;return n=String.fromCharCode(e.which),/^\d+$/.test(n)?(i=t(e.currentTarget),o=i.val(),/^\d\d$/.test(o)?i.val(""+o+" / "):void 0):void 0},h=function(e){var i,n,o;return o=String.fromCharCode(e.which),"/"===o||" "===o?(i=t(e.currentTarget),n=i.val(),/^\d$/.test(n)&&"0"!==n?i.val("0"+n+" / "):void 0):void 0},s=function(e){var i,n;return i=t(e.currentTarget),n=i.val(),8!==e.which||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==n.length?void 0:/\d\s\/\s$/.test(n)?(e.preventDefault(),setTimeout(function(){return i.val(n.replace(/\d\s\/\s$/,""))})):void 0},m=function(e){return setTimeout(function(){var i,n;return i=t(e.currentTarget),n=i.val(),n=n.replace(/\D/g,"").slice(0,4),C(n,i)})},u=function(e){return 229===e.which?t(e.currentTarget).data("ime",!0):void 0},c=function(e){var i,n;return i=t(e.currentTarget),n=String.fromCharCode(e.which),i.data("ime")===!0?(i.data("ime",!1),i.val(i.val()+n),i.trigger("input")):void 0},x=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},w=function(i){var n,o,r,s;return n=t(i.currentTarget),r=String.fromCharCode(i.which),/^\d+$/.test(r)&&!p(n)?(s=(n.val()+r).replace(/\D/g,""),o=e(s),o?s.length<=o.length[o.length.length-1]:s.length<=16):void 0},_=function(e){var i,n,o;return i=t(e.currentTarget),n=String.fromCharCode(e.which),/^\d+$/.test(n)&&!p(i)?(o=i.val()+n,o=o.replace(/\D/g,""),o.length>6?!1:void 0):void 0},b=function(e){var i,n,o;return i=t(e.currentTarget),n=String.fromCharCode(e.which),/^\d+$/.test(n)&&!p(i)?(o=i.val()+n,o.length<=4):void 0},k=function(e){var i,o,r,s,a;return i=t(e.currentTarget),a=i.val(),s=t.payment.cardType(a)||"unknown",i.hasClass(s)?void 0:(o=function(){var t,e,i;for(i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(r.type);return i}(),i.removeClass("unknown"),i.removeClass(o.join(" ")),i.addClass(s),i.toggleClass("identified","unknown"!==s),i.trigger("payment.cardType",s))},t.payment.fn.formatCardCVC=function(){return this.on("keydown",u),this.on("keyup",c),this.on("keypress",x),this.on("keypress",b),this.on("paste",m),this.on("change",m),this.on("input",m),this},t.payment.fn.formatCardExpiry=function(){return this.on("keydown",u),this.on("keyup",c),this.on("keypress",x),this.on("keypress",_),this.on("keypress",l),this.on("keypress",h),this.on("keypress",d),this.on("keydown",s),this.on("change",v),this.on("input",v),this},t.payment.fn.formatCardNumber=function(){return this.on("keydown",u),this.on("keyup",c),this.on("keypress",x),this.on("keypress",w),this.on("keypress",a),this.on("keydown",r),this.on("keyup",k),this.on("paste",g),this.on("change",g),this.on("input",g),this.on("input",k),this},t.payment.fn.restrictNumeric=function(){return this.on("keydown",u),this.on("keyup",c),this.on("keypress",x),this.on("paste",y),this.on("change",y),this.on("input",y),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,i,n,o;return o=t.split(/[\s\/]+/,2),e=o[0],n=o[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(i=(new Date).getFullYear(),i=i.toString().slice(0,2),n=i+n),e=parseInt(e,10),n=parseInt(n,10),{month:e,year:n}},t.payment.validateCardNumber=function(t){var i,n;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(i=e(t),i?(n=t.length,T.call(i.length,n)>=0&&(i.luhn===!1||f(t))):!1):!1},t.payment.validateCardExpiry=function(e,i){var n,o,r;return"object"==typeof e&&"month"in e&&(r=e,e=r.month,i=r.year),e&&i?(e=t.trim(e),i=t.trim(i),/^\d+$/.test(e)&&/^\d+$/.test(i)&&e>=1&&12>=e?(2===i.length&&(i=70>i?"20"+i:"19"+i),4!==i.length?!1:(o=new Date(i,e),n=new Date,o.setMonth(o.getMonth()-1),o.setMonth(o.getMonth()+1,1),o>n)):!1):!1},t.payment.validateCardCVC=function(e,n){var o,r;return e=t.trim(e),/^\d+$/.test(e)?(o=i(n),null!=o?(r=e.length,T.call(o.cvcLength,r)>=0):e.length>=3&&e.length<=4):!1},t.payment.cardType=function(t){var i;return t?(null!=(i=e(t))?i.type:void 0)||null:null},t.payment.formatCardNumber=function(i){var n,o,r,s;return i=i.replace(/\D/g,""),(n=e(i))?(r=n.length[n.length.length-1],i=i.slice(0,r),n.format.global?null!=(s=i.match(n.format))?s.join(" "):void 0:(o=n.format.exec(i),null!=o?(o.shift(),o=t.grep(o,function(t){return t}),o.join(" ")):void 0)):i},t.payment.formatExpiry=function(t){var e,i,n,o;return(i=t.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(e=i[1]||"",n=i[2]||"",o=i[3]||"",o.length>0?n=" / ":" /"===n?(e=e.substring(0,1),n=""):2===e.length||n.length>0?n=" / ":1===e.length&&"0"!==e&&"1"!==e&&(e="0"+e,n=" / "),e+n+o):""}}.call(this),function(){$.print=function(){var t;return"undefined"!=typeof jsPrintSetup&&null!==jsPrintSetup?(t=jsPrintSetup,t.setPaperSizeData(9),t.setOption("orientation",t.kPortraitOrientation),t.setOption("scaling",100),t.setOption("shrinkToFit",0),t.setOption("marginTop",0),t.setOption("marginBottom",0),t.setOption("marginLeft",0),t.setOption("marginRight",0),t.setOption("headerStrLeft",""),t.setOption("headerStrCenter",""),t.setOption("headerStrRight",""),t.setOption("footerStrLeft",""),t.setOption("footerStrCenter",""),t.setOption("footerStrRight",""),t.setOption("printBGColors",1),t.setOption("printBGImages",1),t.print()):window.print()}}.call(this),/*!
 * Masonry PACKAGED v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,a){function l(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,l){var d=a.data(l,i);if(!d)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var h=d[e];if(!h||"_"==e.charAt(0))return void s(r+" is not a valid method");var u=h.apply(d,n);o=void 0===o?u:o}),void 0!==o?o:t}function d(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return l(this,t,e)}return d(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */
function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;d>e;e++){var i=l[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!h){h=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);r.isBoxSizeOuter=s=200==t(o.width),i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var h=a.isBorderBox="border-box"==r.boxSizing,u=0;d>u;u++){var c=l[u],p=r[c],f=parseFloat(p);a[c]=isNaN(f)?0:f}var m=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,b=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,_=h&&s,x=t(r.width);x!==!1&&(a.width=x+(_?0:m+b));var C=t(r.height);return C!==!1&&(a.height=C+(_?0:g+w)),a.innerWidth=a.width-(m+b),a.innerHeight=a.height-(g+w),a.outerWidth=a.width+v,a.outerHeight=a.height+y,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],d=l.length,h=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),d=i.makeArray(a).concat(i.makeArray(l)),h=s+"-options",u=t.jQuery;d.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(h);try{i=r&&JSON.parse(r)}catch(a){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+a))}var l=new e(t,i);u&&u.data(t,o,l)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EvEmitter,t.getSize))}(window,function(t,e,i){"use strict";function n(t){for(var e in t)return!1;return e=null,!0}function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,a="string"==typeof s.transition?"transition":"WebkitTransition",l="string"==typeof s.transform?"transform":"WebkitTransform",d={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],h=[l,a,a+"Duration",a+"Property"],u=o.prototype=Object.create(e.prototype);u.constructor=o,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=i(this.element)},u.css=function(t){var e=this.element.style;for(var i in t){var n=h[i]||i;e[n]=t[i]}},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,s=-1!=n.indexOf("%")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},u.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var l=n?"paddingTop":"paddingBottom",d=n?"top":"bottom",h=n?"bottom":"top",u=this.position.y+t[l];e[d]=this.getYValue(u),e[h]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-n,d={};d.transform=this.getTranslate(a,l),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},u._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var c="opacity,"+r(h.transform||"transform");u.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:c,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},u.transition=o.prototype[a?"_transition":"_nonTransition"],u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var p={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=p[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var f={transitionProperty:"",transitionDuration:""};return u.removeTransitionStyles=function(){this.css(f)},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),/*!
 * Outlayer v2.0.0
 * the brains and guts of a layout library
 * MIT license
 */
function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,l&&(this.$element=l(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,u[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var a=t.console,l=t.jQuery,d=function(){},h=0,u={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=r.prototype;return n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){t.forEach(function(t){this._positionItem(t.item,t.x,t.y,t.isInstant)},this)},c._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var s=0;e.forEach(function(e){e.once(t,n)})},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l)if(this.$element=this.$element||l(this.element),e){var o=l.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){this._emitCompleteOnItems("reveal",t),t&&t.length&&t.forEach(function(t){t.reveal()})},c.hide=function(t){this._emitCompleteOnItems("hide",t),t&&t.length&&t.forEach(function(t){t.hide()})},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&u[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),l&&l.bridget&&l.bridget(t,i),i},r.Item=o,r}),/*!
 * Masonry v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),s=o.indexOf(r),a={x:this.columnWidth*s,y:r},l=r+t.size.outerHeight,d=this.cols+1-o.length,h=0;d>h;h++)this.colYs[s+h]=l;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var l=Math.floor(s/this.columnWidth);l-=s%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var d=this._getOption("originTop"),h=(d?n.top:n.bottom)+i.outerHeight,u=a;l>=u;u++)this.colYs[u]=Math.max(h,this.colYs[u])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(){NProgress.configure({showSpinner:!1,easing:"ease",speed:500,minimum:.2,trickleRate:.1,trickleSpeed:500})}.call(this),function(){$.fn.selectize.renderers={item:function(t,e){return"<div><strong>"+e(t.title)+"</strong> "+(t.subtitle?e(t.subtitle):"")+"</div>"},option:function(t,e){return'<div class="list-group-item"><div class="media-left"><div class="box-thumbnail">'+t.image_html+'</div></div><div class="media-body"><div><strong>'+e(t.title)+" </strong>"+(t.subtitle?e(t.subtitle):"")+'</div><div class="small text-right">'+e(t.code)+"</div></div></div>"}}}.call(this),function(){$.fn.extend({isSmall:function(){return this.width()<768}})}.call(this),function(){}.call(this),function(){$.tablesorter.themes.bootstrap={table:"table",caption:"caption",header:"",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"fa fa-sort",iconSortAsc:"fa fa-sort-asc",iconSortDesc:"fa fa-sort-desc",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""}}.call(this),function(){UnobtrusiveFlash.flashOptions.timeout=5e3}.call(this);