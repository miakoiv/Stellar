/*
 * Theme specific styles
 */

$brand-primary: #00427a;

$navbar-inverse-bg: #333;
$navbar-inverse-color: #aaa;
$navbar-inverse-link-color: #f0f0f0;
$navbar-inverse-link-hover-color: #ccc;
$navbar-inverse-link-hover-bg: transparent;
$navbar-inverse-link-active-color: navbar-inverse-link-hover-color;
$navbar-inverse-link-active-bg: transparent;
$navbar-inverse-link-disabled-color: #444;
$navbar-inverse-link-disabled-bg: transparent;
$navbar-inverse-toggle-hover-bg: #fff;
$navbar-inverse-toggle-border-color: #aaa;
$body-bg: #fbfbfb;

@import "bootstrap-font-awesome.scss";
@import "bootstrap-generators.scss";
@import "bootstrap-tweaks.scss";
@import "fonts.scss";
@import "print.scss";

body.carbon {
  overflow-y: scroll;
  padding-top: 110px;
}

h1, h2 {
  font-family: 'Playfair Display';
  font-weight: 400;
  letter-spacing: -0.025em;
}

ul, ol { padding-left: 1em; }
ul { list-style-type: square; }

.jumbotron.parallax-window {
  min-height: 800px;
  background-color: transparent;

  > .container {
    position: relative;
    z-index: 2;
  }
}

.drop-cap {
  float: left;
  margin-right: 15px;
  margin-bottom: -5px;
  font-size: 3em;
  font-weight: 500;
  line-height: 1;
  letter-spacing: -0.2em;
}

.carousel {
  margin-bottom: 40px;

  .carousel-inner {
    .item {
      min-height: 250px;
      max-height: 400px;

      img {
        display: block;
        width: 100%;
      }
      .carousel-caption {
        padding: 10px 10px 40px;
        border-radius: 10px;
        background-color: rgba(0,0,0,0.5);
      }
    }
  }
}

#main-nav {
  @extend .navbar-inverse;
  @include box-shadow(0 0 6px 0 rgba(0,0,0,0.8));
  background-image: url(asset_path('carbon.png'));
  font-size: $font-size-small;
  font-weight: 500;

  > .content {
    @extend .container;
    padding-top: 30px;    // padding the container only,
    padding-bottom: 30px; // not the contained elements

    .navbar-brand {
      padding-top: 0;
      padding-bottom: 0;

      img {
        max-height: 50px;
        margin: -3px 0 0 0;
      }
    }

    .navbar-nav {
      > li {
        margin-top: -30px;  // matches container padding
        padding-top: 30px;

        &.active {
          @include gradient-vertical(rgba(255,255,255,0.333), rgba(255,255,255,0));
        }
      }
    }
    #navbar-search .form-control {
      @extend .input-sm;
      max-width: 120px;
    }
  }

  .navbar-toggle {
    color: $navbar-inverse-link-color;
  }
}

/*
  as the navbar collapses on extra small screens, the navbar is thinned,
  logo shrunk, and the navbar items revert to default styles
*/
@media (max-width: $screen-sm-min) {
  body.carbon { padding-top: 75px; }

  #main-nav {
    > .content {
      padding-top: 10px;
      padding-bottom: 10px;

      .navbar-brand img {
        max-height: 30px;
        margin-top: 10px;
      }

      .navbar-nav {
        > li {
          margin-top: 0;
          padding-top: 0;

          &.active { background: $brand-primary; }
        }
      }
    }
  }
}

#main-wrap {
  > .content {
    @extend .container;
  }

  #static-wrap {
    > .wysiwyg-content {
      @extend .container;
      margin-top: 40px;
    }
  }

  #search-panel-wrap {
    > .content {
      @extend .container;
    }
  }

  #categories-wrap {
    background-color: #ccc;

    .categories {
      > ul {
        list-style: none;
        padding-left: 0;
        display: flex;
        flex-flow: row wrap;

        > li.category {
          @extend .col-xs-6, .col-sm-3;
          position: static;
          flex: 0 1 auto;
          padding: 0;

          &.active a::after {
            content: '';
            display: block;
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            @include gradient-vertical(rgba(255,255,255,0.75), rgba(255,255,255,0), 0%, 50%);
          }

          > a:hover img {
            transform: translate(-50%, -50%) scale(1.2);
          }

          > a {
            position: relative;
            display: block;
            height: 0;
            padding-bottom: 50%;
            overflow: hidden;

            img {
              position: absolute;
              display: block;
              height: 100%;
              left: 50%;
              top: 50%;
              transform: translate(-50%, -50%);
              transition: all 0.8s ease-in-out 0s;
            }
            p {
              position: absolute;
              left: 0;
              bottom: 0;
              width: 100%;
              margin: 0;
              padding: 5px;
              font-size: $font-size-small;
              font-weight: 500;
              background-color: rgba(0,0,0,0.666);
              color: #fff;
            }
          }
          .subcategories-wrap { display: none; }
        }
      }
    }
  }

  #products-wrap {
    position: relative;

    #products-view-toggle {
      position: absolute;
      right: $grid-gutter-width/2;
      top: -30px;

      button {
        @extend .btn, .btn-default, .btn-xs;
      }
    }
    .products {
      @extend .container;
      position: relative;
      margin-top: 40px;

      .product-grid {
        @extend .row;

        ul {
          list-style: none;
          padding-left: 0;

          li.product {
            @extend .col-xs-4, .col-sm-3, .col-md-2;
          }
        }
      }
    }
  }

  #product-detail-wrap {
  }
}
.footer {
  background-image: url(asset_path('carbon.png'));
  font-size: 0.8em;
  font-weight: 500;

  > .content {
    @extend .container;
    color: #fff;
  }
}
