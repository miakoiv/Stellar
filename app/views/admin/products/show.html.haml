.page-header
  = link_to admin_products_path, class: 'btn btn-default' do
    = icon('chevron-circle-left', t('actions.back'))
  - if current_user.can_update?(@product, at: current_store)
    = link_to edit_admin_product_path(@product), class: 'btn btn-primary' do
      = icon('pencil-square', t('actions.edit'))
  - if @product.page.present?
    = link_to icon('file-o', t('.edit_page')), edit_admin_page_path(@product.page), class: 'btn btn-default'
  - if @product.live?
    = link_to show_product_path(@product), class: 'btn btn-default' do
      = icon('eye', t('actions.view'))
  %h1
    = icon('cube', @product.title)
    %span.small= @product.subtitle

.row
  .col-lg-6
    = render partial: 'form', locals: {locked: true}

  .col-lg-6
    %ul.nav.nav-tabs.nav-justified.nav-sm{role: 'tablist'}
      = nav_tab 'images', col(Product, :images), class: 'active'
      = nav_tab 'inventory', col(Product, :inventory), class: (@product.has_variants? || @product.bundle?) && 'disabled'
      = nav_tab 'alternate-prices', col(Product, :alternate_prices), class: (@product.has_variants? || @product.bundle?) && 'disabled'
      = nav_tab 'properties', col(Product, :product_properties), class: (@product.has_variants? || @product.bundle?) && 'disabled'
      = nav_tab 'iframes', col(Product, :iframes), class: @product.has_variants? && 'disabled'
      = nav_tab 'requisite-entries', col(Product, :requisite_entries), class: @product.has_variants? && 'disabled'
      = nav_tab 'component-entries', col(Product, :component_entries), class: @product.has_variants? && 'disabled'

    .tab-content
      = tab_pane 'images', class: 'in active' do
        = render partial: 'admin/images/collection', object: @product, as: :imageable
      = tab_pane 'inventory' do
        = render partial: 'admin/inventory_items/table_for_product', object: @product, as: :product
      = tab_pane 'alternate-prices' do
        = render partial: 'admin/alternate_prices/table', object: @product, as: :product
      = tab_pane 'properties' do
        = render partial: 'admin/product_properties/table', object: @product, as: :product
      = tab_pane 'iframes' do
        = render partial: 'admin/iframes/table', object: @product, as: :product
      = tab_pane 'requisite-entries' do
        = render partial: 'admin/requisite_entries/table', object: @product, as: :product
      = tab_pane 'component-entries' do
        = render partial: 'admin/component_entries/table', object: @product, as: :product
